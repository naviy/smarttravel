@inherits EntityViewPage
@{
    Layout = "~/App/Layouts/EditFormLayout.cshtml";
    Name = "personEdit";

    var v = new ViewDomain().Person;
    ui.ViewEntity = v;
}

@using (var f = ui.Form.BeginHForm(v))
{
    <div class="panel panel-default">
        
        @using (ui.Form.Section(v.Main))
        {
            @ui.Form.TextBox(f, v.Name)
            @ui.Form.TextArea(f, v.LegalName)

            @ui.Form.TextBox(f, v.Organization)
            @ui.Form.TextBox(f, v.ReportsTo)

            @ui.Form.CheckBox(f, v.IsCustomer)
            @ui.Form.CheckBox(f, v.IsSupplier)
        }

        @using (ui.Form.Section(v.Contacts))
        {
            @ui.Form.Row(f, v.Phones, items: g => g(
                bs.Col(6, html: ui.Form.TextBox(v.Phone1)),
                bs.Col(6, html: ui.Form.TextBox(v.Phone2))
                ))
            @ui.Form.Row(f, v.Emails, items: g => g(
                bs.Col(6, html: ui.Form.TextBox(v.Email1)),
                bs.Col(6, html: ui.Form.TextBox(v.Email2))
                ))
            @ui.Form.TextBox(f, v.Fax)
            @ui.Form.TextBox(f, v.WebAddress)
        }

        @using (ui.Form.Section(v.Addresses))
        {
            @ui.Form.TextArea(f, v.ActualAddress, t => t.Rows(3))
            @ui.Form.TextArea(f, v.LegalAddress, t => t.Rows(3))
        }

        @using (ui.Form.Section(v.Additionals))
        {

            @ui.Form.TextArea(f, v.Note, t => t.Rows(20))
        }

        @using (ui.Form.Section(v.MilesCards))
        {
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
            <h3>Мильные карточки</h3>
        }

        @using (ui.Form.Section(v.Passports))
        {
            <h3>@v.Passports.title</h3>
            <view-pane view-page="viewPage.parts.@(v.Passports).last" />
        }


    </div>
}

<br />
<br />
<blockquote>
    <small>{{r}}</small>
</blockquote>

