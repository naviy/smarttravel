// LxnTravel.js

Ext.BLANK_IMAGE_URL = Ext.isIE6 || Ext.isIE7 || Ext.isAir ?
						'ext/resources/images/default/s.gif' :
						'data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',

ss.CultureInfo.InvariantCulture = new ss.CultureInfo('ru-RU',
	{
		naNSymbol: 'NaN',
		negativeSign: '-',
		positiveSign: '+',
		negativeInfinityText: '-Infinity',
		positiveInfinityText: 'Infinity',
		
		percentSymbol: '%',
		percentGroupSizes: [3],
		percentDecimalDigits: 2,
		percentDecimalSeparator: ',',
		percentGroupSeparator: ' ',
		percentPositivePattern: '{0} %',
		percentNegativePattern: '-{0} %',

		currencySymbol:'',
		currencyGroupSizes: [3],
		currencyDecimalDigits: 2,
		currencyDecimalSeparator: ',',
		currencyGroupSeparator: ' ',
		currencyNegativePattern: '-{0}',
		currencyPositivePattern: '{0}',

		numberGroupSizes: [3],
		numberDecimalDigits: 2,
		numberDecimalSeparator: ',',
		numberGroupSeparator: ' '
	}, null);

LxnBase.UI.pathToImages = 'static/style/travel/img/';


Type.registerNamespace('LxnBase.UI');

////////////////////////////////////////////////////////////////////////////////
// LxnBase.UI.BasicViewForm

LxnBase.UI.BasicViewForm = function LxnBase_UI_BasicViewForm(tabId, id, type, tabCls) {
    LxnBase.UI.BasicViewForm.initializeBase(this, [ new Ext.PanelConfig().title(LxnBase.BaseRes.loading).autoScroll(true).closable(true).cls(tabCls).toDictionary(), tabId ]);
    this._id = id;
    this._type = type;
    this.loadInstance();
}
LxnBase.UI.BasicViewForm.link = function LxnBase_UI_BasicViewForm$link(obj, text) {
    if (ss.isNullOrUndefined(obj) && ss.isNullOrUndefined(text)) {
        return '';
    }
    if (ss.isNullOrUndefined(obj) && !ss.isNullOrUndefined(text)) {
        return text;
    }
    var info = new LxnBase.Data.Reference();
    info.Id = obj.Id;
    info.Name = text || obj.Name;
    info.Type = obj.Type;
    return LxnBase.UI.Controls.ObjectLink.renderInfo(info);
}
LxnBase.UI.BasicViewForm.notEmpty = function LxnBase_UI_BasicViewForm$notEmpty(value) {
    if (String.isNullOrEmpty(value)) {
        return '';
    }
    return value;
}
LxnBase.UI.BasicViewForm.hasValue = function LxnBase_UI_BasicViewForm$hasValue(obj, fn, falseText) {
    var falseStr = (ss.isNullOrUndefined(falseText)) ? '' : falseText;
    if (ss.isNullOrUndefined(obj) || !obj || !obj.toString()) {
        return falseStr;
    }
    if (Type.canCast(obj, Array)) {
        var objects = obj;
        for (var i = 0; i < objects.length; i++) {
            if (objects[i] != null) {
                return fn();
            }
        }
        return falseStr;
    }
    return fn();
}
LxnBase.UI.BasicViewForm.addValue = function LxnBase_UI_BasicViewForm$addValue(dictionary, obj, name) {
    var value = obj[name];
    if (ss.isValue(value)) {
        dictionary[name] = value;
    }
}
LxnBase.UI.BasicViewForm.prototype = {
    
    onActivate: function LxnBase_UI_BasicViewForm$onActivate(isFirst) {
        if (!isFirst) {
            this.loadInstance();
        }
    },
    
    _editEntity: function LxnBase_UI_BasicViewForm$_editEntity() {
        LxnBase.UI.FormsRegistry.editObject(this._type, this._id, null, ss.Delegate.create(this, function(result) {
            if (ss.isValue(result)) {
                this.load((result).Item);
            }
            else {
                this.loadInstance();
            }
        }), null);
    },
    
    removeEntity: function LxnBase_UI_BasicViewForm$removeEntity() {
        LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation, LxnBase.BaseRes.delete_Confirmation, ss.Delegate.create(this, function(button, text) {
            if (button !== 'yes') {
                return;
            }
            LxnBase.Services.GenericService.Delete(this._type, [ this._id ], null, ss.Delegate.create(this, function(result) {
                var response = result;
                if (response.Success) {
                    LxnBase.UI.Tabs.close(this);
                    LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List, LxnBase.BaseRes.deleted + ' ' + this.getTitle());
                }
                else {
                    this.onDeleteFailed();
                }
            }), ss.Delegate.create(this, function() {
                this.onDeleteFailed();
            }));
        }));
    },
    
    copyEntity: function LxnBase_UI_BasicViewForm$copyEntity() {
        LxnBase.UI.FormsRegistry.editObject(this._type, this._id, null, ss.Delegate.create(this, function(result) {
            var response = result;
            var obj = response.Item;
            var reference = obj[LxnBase.Data.ObjectPropertyNames.reference];
            if (Type.canCast(reference, Date)) {
                reference = (reference).format('d.m.Y');
            }
            var message = LxnBase.BaseRes.created + ' ' + reference;
            LxnBase.MessageRegister.info(this.title, message);
        }), null, null, LxnBase.UI.LoadMode.remote, true);
    },
    
    onDeleteFailed: function LxnBase_UI_BasicViewForm$onDeleteFailed() {
        LxnBase.UI.ReplaceForm.exec(this._type, this._id, this);
    },
    
    initComponent: function LxnBase_UI_BasicViewForm$initComponent() {
        this.tbar = this.createToolbarItems();
        LxnBase.UI.BasicViewForm.callBaseMethod(this, 'initComponent');
        this._contentPanel = this.add(new Ext.Panel(new Ext.PanelConfig().border(false).cls('content').toDictionary()));
        this.add(this.createTitlePanel());
        this.add(this._contentPanel);
    },
    
    createTitlePanel: function LxnBase_UI_BasicViewForm$createTitlePanel() {
        this._titleLabel = new Ext.form.Label(new Ext.form.LabelConfig().toDictionary());
        var panel = new Ext.Panel(new Ext.PanelConfig().border(false).listeners({ render: ss.Delegate.create(this, function(arg) {
            var p = arg;
            this._titleLabel.render(p.body);
        }) }).cls('title').toDictionary());
        return panel;
    },
    
    menuAction: function LxnBase_UI_BasicViewForm$menuAction(title_, items_, disabled_) {
        var config = new Ext.ActionConfig().text(title_).custom('menu', new Ext.menu.Menu(new Ext.menu.MenuConfig().items(items_).toDictionary()));
        if (!ss.isNullOrUndefined(disabled_)) {
            config = config.disabled(disabled_);
        }
        return new Ext.Action(config.toDictionary());
    },
    
    menuItem: function LxnBase_UI_BasicViewForm$menuItem(title_, handler) {
        return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(handler).toDictionary());
    },
    
    action: function LxnBase_UI_BasicViewForm$action(title_, onclick, disabled_) {
        return new Ext.Action(new Ext.ActionConfig().text(title_).disabled(!ss.isNullOrUndefined(disabled_) && disabled_).handler(onclick).toDictionary());
    },
    
    _id: null,
    _type: null,
    _contentPanel: null,
    _titleLabel: null
}


Type.registerNamespace('Luxena.Travel');

////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IGridControl

Luxena.Travel.IGridControl = function() { };
Luxena.Travel.IGridControl.prototype = {
    loadData : null,
    getData : null,
    isModified : null,
    get_widget : null
}
Luxena.Travel.IGridControl.registerInterface('Luxena.Travel.IGridControl');


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IEditForm

Luxena.Travel.IEditForm = function() { };
Luxena.Travel.IEditForm.prototype = {
    get_args : null,
    get_members : null,
    get_fieldMaxWidth : null,
    get_updating : null,
    set_updating : null,
    get_data : null,
    getValue : null,
    getCurrentValue : null,
    setValue : null
}
Luxena.Travel.IEditForm.registerInterface('Luxena.Travel.IEditForm');


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IGridForm

Luxena.Travel.IGridForm = function() { };
Luxena.Travel.IGridForm.prototype = {
    columnCfg_ : null,
    getColumnConfigByName : null
}
Luxena.Travel.IGridForm.registerInterface('Luxena.Travel.IGridForm');


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DomainRes

Luxena.Travel.DomainRes = { 
    common_Amount: '\u0421\u0443\u043c\u043c\u0430',
    common_Code: '\u041a\u043e\u0434',
    common_Commission: '\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f',
    common_Commission_Short: '\u041a\u043e\u043c.',
    common_Date: '\u0414\u0430\u0442\u0430',
    common_Discount: '\u0421\u043a\u0438\u0434\u043a\u0430',
    common_Name: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
    common_Note: '\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435',
    common_Number: '\u041d\u043e\u043c\u0435\u0440',
    common_Remarks: '\u0417\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f',
    common_Seller: '\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446',
    common_Status: '\u0421\u0442\u0430\u0442\u0443\u0441',
    common_Type: '\u0422\u0438\u043f',
    copyOf: '\u041a\u043e\u043f\u0438\u044f {0}',
    currency: '\u0412\u0430\u043b\u044e\u0442\u0430',
    currency_Caption_List: '\u0412\u0430\u043b\u044e\u0442\u044b',
    currency_Short: '\u0412\u0430\u043b.',
    department: '\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435',
    department_Caption_List: '\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f',
    party_ReportsTo: '\u041f\u043e\u0434\u0447\u0438\u043d\u044f\u0435\u0442\u0441\u044f',
    organization: '\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f',
    organization_Caption_List: '\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438',
    party: '\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442',
    paymentType: '\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b',
    person: '\u041f\u0435\u0440\u0441\u043e\u043d\u0430',
    person_Caption_List: '\u041f\u0435\u0440\u0441\u043e\u043d\u044b',
    party_Caption_List: '\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u044b',
    department_Format_ToString: '{0} \u0432 {1}',
    person_Format_ToString: '{0} ({1})',
    airport_Format_ToString: '{0} - {1}',
    airline: '\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
    airport: '\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442',
    airline_Caption_List: '\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
    airport_Caption_List: '\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u044b',
    common_Country: '\u0421\u0442\u0440\u0430\u043d\u0430',
    domainTest_BoolTest: 'BoolTest',
    domainTest_IntTest: 'IntTest',
    domainTest_EnumTest: 'EnumTest',
    common_IssueDate: '\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430',
    common_Fare: '\u0422\u0430\u0440\u0438\u0444',
    common_FeesTotal: '\u0422\u0430\u043a\u0441\u044b',
    common_ServiceFee: '\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
    common_Vat: '\u0412 \u0442.\u0447. \u041d\u0414\u0421',
    common_PassengerName: '\u0418\u043c\u044f \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430',
    common_Passenger: '\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440',
    aviaDocument_PnrCode: '\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430',
    aviaDocument_Booker: '\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a',
    aviaDocument_Ticketer: '\u0422\u0438\u043a\u0435\u0442\u0435\u0440',
    aviaDocument_TourCode: '\u0422\u0443\u0440\u043a\u043e\u0434',
    flightSegment_Carrier: '\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a',
    flightSegment_DepartureTime: '\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
    flightSegment_FareBasis: '\u0411\u0430\u0437\u0430 \u0442\u0430\u0440\u0438\u0444\u0430',
    flightSegment_FlightNumber: '\u0420\u0435\u0439\u0441',
    flightSegment_FromAirportName: '\u0418\u0437 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430',
    flightSegment_ToAirportName: '\u0412 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442',
    product_Total: '\u0418\u0442\u043e\u0433\u043e \u043f\u043e \u0410\u041a',
    product_GrandTotal: '\u041a \u043e\u043f\u043b\u0430\u0442\u0435',
    common_Intermediary: '\u041f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a',
    aviaDocument_ConjunctionNumbers: '\u0414\u043e\u043f. \u043d\u043e\u043c\u0435\u0440\u0430',
    flightClass_Business: '\u0411\u0438\u0437\u043d\u0435\u0441',
    flightClass_Economy: '\u042d\u043a\u043e\u043d\u043e\u043c',
    flightClass_First: '\u041f\u0435\u0440\u0432\u044b\u0439',
    flightClass_PremiumEconomy: '\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c',
    party_IsCustomer: '\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a',
    party_IsSupplier: '\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a',
    person_LegalName: '\u0424\u0418\u041e',
    party_LegalName: '\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
    airport_LocalCode: '\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043a\u043e\u0434',
    airport_Settlement: '\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 (\u0430\u043d\u0433\u043b.)',
    aviaDocument_Caption_List: '\u0410\u0432\u0438\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    aviaDocument_CommissionPercent: '% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438',
    aviaDocument_Origin: '\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a',
    aviaDocument_Originator: '\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f',
    aviaDocument_AirlinePnrCode: '\u041a\u043e\u0434 Pnr',
    aviaDocument_OriginalDocument: '\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    organization_AirlineIataCode: 'IATA \u043a\u043e\u0434',
    organization_AirlinePrefixCode: 'Prefix \u043a\u043e\u0434',
    user_Caption_List: '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438',
    user: '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c',
    user_Active: '\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439',
    user_IsAdministrator: '\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440',
    user_IsAnalyst: '\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a',
    user_IsCashier: '\u041a\u0430\u0441\u0441\u0438\u0440',
    user_IsManager: '\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f',
    user_IsSubAgent: '\u0421\u0443\u0431\u0430\u0433\u0435\u043d\u0442',
    user_IsSupervisor: '\u0421\u0443\u043f\u0435\u0440\u0432\u0438\u0437\u043e\u0440',
    user_IsAgent: '\u0410\u0433\u0435\u043d\u0442',
    user_Name: '\u041b\u043e\u0433\u0438\u043d',
    user_Roles: '\u0420\u043e\u043b\u0438',
    gdsFile_Caption_List: 'Gds-\u0444\u0430\u0439\u043b\u044b',
    gdsFile_Content: '\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435',
    gdsFile_ImportOutput: '\u0416\u0443\u0440\u043d\u0430\u043b',
    gdsFile_ImportResult: '\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0430',
    gdsFile_TimeStamp: '\u0414\u0430\u0442\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430',
    gdsFile: 'Gds-\u0444\u0430\u0439\u043b',
    airFile: 'Air-\u0444\u0430\u0439\u043b',
    importResult_Error: '\u041e\u0448\u0438\u0431\u043a\u0430',
    importResult_None: '\u041d\u0435\u0442',
    importResult_Success: '\u0418\u043c\u043f\u043e\u0440\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e',
    importResult_Warn: '\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435',
    gdsFile_FileType: '\u0422\u0438\u043f',
    gdsAgent_Caption_List: 'Gds-\u0430\u0433\u0435\u043d\u0442\u044b',
    gdsAgent: 'Gds-\u0430\u0433\u0435\u043d\u0442',
    gdsAgent_Agent: '\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430',
    gdsAgent_OfficeCode: '\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430',
    gdsAgent_Origin: '\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    aviaDocument_AirlinePrefixCode: '\u041a\u043e\u0434 \u0410\u041a',
    aviaMco: 'MCO',
    aviaRefund: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u0430',
    aviaTicket: '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442',
    aviaDocument_BookerCode: '\u041a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430',
    aviaDocument_BookerOffice: '\u041e\u0444\u0438\u0441 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430',
    aviaDocument_TicketerCode: '\u041a\u043e\u0434 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430',
    aviaDocument_TicketerOffice: '\u041e\u0444\u0438\u0441 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430',
    common_Total: '\u0418\u0442\u043e\u0433\u043e',
    aviaTicket_FlightSegment: '\u0421\u0435\u0433\u043c\u0435\u043d\u0442\u044b',
    flightSegment_ArrivalTerminal: '\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b',
    flightSegment_ArrivalTime: '\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
    flightSegment_CheckInTerminal: '\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b',
    flightSegment_CheckInTime: '\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f',
    flightSegment_Duration: '\u041f\u0435\u0440\u0435\u043b\u0435\u0442',
    flightSegment_Luggage: '\u0411\u0430\u0433\u0430\u0436',
    flightSegment_Meal: '\u041f\u0438\u0442\u0430\u043d\u0438\u0435',
    flightSegment_NumberOfStops: '\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438',
    flightSegment_Seat: '\u041c\u0435\u0441\u0442\u043e',
    flightSegment_ServiceClass: '\u041a\u043b\u0430\u0441\u0441',
    mealType_AlcoholicBeveragesForPurchase: '\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438',
    mealType_AlcoholicComplimentaryBeverages: '\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438',
    mealType_Breakfast: '\u0417\u0430\u0432\u0442\u0440\u0430\u043a',
    mealType_ColdMeal: '\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0435\u0434\u0430',
    mealType_ContinentalBreakfast: '\u041a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0432\u0442\u0440\u0430\u043a',
    mealType_Dinner: '\u041e\u0431\u0435\u0434',
    mealType_DutyFree: 'DutyFree',
    mealType_FoodForPurchase: '\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0435\u0434\u0430',
    mealType_HotMeal: '\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0435\u0434\u0430',
    mealType_Lunch: '\u041b\u0430\u043d\u0447',
    mealType_Meal: '\u0415\u0434\u0430',
    mealType_Refreshment: '\u041d\u0430\u043f\u0438\u0442\u043a\u0438',
    mealType_Snack: '\u0417\u0430\u043a\u0443\u0441\u043a\u0430',
    serviceClass_Business: '\u0411\u0438\u0437\u043d\u0435\u0441',
    serviceClass_Economy: '\u042d\u043a\u043e\u043d\u043e\u043c',
    serviceClass_First: '\u041f\u0435\u0440\u0432\u044b\u0439',
    serviceClass_PremiumEconomy: '\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c',
    common_EqualFare: '\u042d\u043a\u0432. \u0442\u0430\u0440\u0438\u0444',
    common_CancelFee: '\u0428\u0442\u0440\u0430\u0444 \u0437\u0430 \u043e\u0442\u043c\u0435\u043d\u0443',
    aviaRefund_RefundedDocument: '\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    common_RefundServiceFee: 'C\u0431\u043e\u0440 \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
    common_ServiceFeePenalty: '\u0428\u0442\u0440\u0430\u0444 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
    common_IsProcessed: '\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d',
    common_IsVoid: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
    common_RequiresProcessing: '\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435',
    product_TotalToBeTransfered: '\u0421\u0443\u043c\u043c\u0430 \u043a \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044e \u0432 \u0410\u041a',
    aviaDocument_Itinerary: '\u041c\u0430\u0440\u0448\u0440\u0443\u0442',
    aviaTicket_SegmentClasses: '\u041a\u043b\u0430\u0441\u0441\u044b \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u043e\u0432',
    common_Percent: '\u041f\u0440\u043e\u0446\u0435\u043d\u0442',
    common_Subject: '\u0422\u0435\u043c\u0430',
    task: '\u0417\u0430\u0434\u0430\u0447\u0430',
    taskComment: '\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439',
    task_Caption_List: '\u0417\u0430\u0434\u0430\u0447\u0438',
    task_DueDate: '\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e',
    task_RelatedTo: '\u041e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e',
    common_Description: '\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435',
    party_ActualAddress: '\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441',
    common_Email: 'E-mail',
    common_Emails: 'E-mails',
    common_Email1: 'E-mail 1',
    common_Email2: 'E-mail 2',
    party_Fax: '\u0424\u0430\u043a\u0441',
    party_LegalAddress: '\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441',
    common_Addresses: '\u0410\u0434\u0440\u0435\u0441\u0430',
    common_Phone: '\u0422\u0435\u043b\u0435\u0444\u043e\u043d',
    common_Phones: '\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b',
    common_Phone1: '\u0422\u0435\u043b\u0435\u0444\u043e\u043d 1',
    common_Phone2: '\u0422\u0435\u043b\u0435\u0444\u043e\u043d 2',
    simCard_Phone: '',
    milesCard: '\u041c\u0438\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430',
    milesCard_Organization: '\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f',
    passport: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442',
    passport_Citizenship: '\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e',
    passport_ExpiredOn: '\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e',
    passport_FirstName: '\u0418\u043c\u044f',
    passport_Gender: '\u041f\u043e\u043b',
    passport_IssuedBy: '\u0412\u044b\u0434\u0430\u0432\u0448\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0430',
    passport_LastName: '\u0424\u0430\u043c\u0438\u043b\u0438\u044f',
    passport_MiddleName: '\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e',
    milesCard_Caption_List: '\u041c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438',
    passport_Caption_List: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
    gender_Female: '\u0416\u0435\u043d\u0441\u043a\u0438\u0439',
    gender_Male: '\u041c\u0443\u0436\u0441\u043a\u043e\u0439',
    passport_AmadeusString: '\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Amadeus',
    passport_GalileoString: '\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Galileo',
    country: '\u0421\u0442\u0440\u0430\u043d\u0430',
    country_Caption_List: '\u0421\u0442\u0440\u0430\u043d\u044b',
    country_ThreeCharCode: '\u041a\u043e\u0434 (3-\u0445 \u0441\u0438\u043c.)',
    country_TwoCharCode: '\u041a\u043e\u0434 (2-\u0445 \u0441\u0438\u043c.)',
    passport_Birthday: '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f',
    person_Birthday: '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f',
    taskStatus_Closed: '\u0417\u0430\u043a\u0440\u044b\u0442\u0430',
    taskStatus_InProgress: '\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f',
    taskStatus_Open: '\u041e\u0442\u043a\u0440\u044b\u0442\u0430',
    taskStatus_WaitForResponse: '\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438 \u043e\u0442\u0432\u0435\u0442\u0430',
    aviaDocument_PaymentForm: '\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b',
    common_ReissueFor: '\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a \u0434\u043b\u044f',
    common_ReissuedBy: '\u0411\u044b\u043b \u043f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a',
    airlineServiceClass_Caption_List: '\u0421\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441\u044b',
    serviceClass: '\u0421\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441',
    mirFile: 'Mir-\u0444\u0430\u0439\u043b',
    tktFile: 'Tkt-\u0444\u0430\u0439\u043b',
    airlineServiceClass: '\u0421\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441',
    aviaDocumentOrigin_AmadeusAir: 'Amadeus AIR',
    aviaDocumentOrigin_AmadeusPrint: 'Amadeus Print',
    aviaDocumentOrigin_BspLink: 'Bsp Link',
    aviaDocumentOrigin_GalileoMir: 'Galileo MIR',
    aviaDocumentOrigin_GalileoTkt: 'Galileo Ticket',
    aviaDocumentOrigin_Manual: '\u0420\u0443\u0447\u043d\u043e\u0439 \u0432\u0432\u043e\u0434',
    productType_AviaMco: 'MCO',
    productType_AviaRefund: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u0430',
    productType_AviaTicket: '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442',
    aviaMco_Caption_List: 'MCO',
    aviaRefund_Caption_List: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432',
    aviaTicket_Caption_List: '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b',
    aviaRefund_CancelCommission: '\u041a\u043e\u043c\u0438\u0441\u0438\u044f \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
    aviaDocument_ExtraCharge: '\u041d\u0430\u0446\u0435\u043d\u043a\u0430',
    aviaDocument_Profit: '\u041f\u0440\u0438\u0431\u044b\u043b\u044c',
    flightSegment_FromAirportCode: '\u041a\u043e\u0434',
    flightSegment_CarrierPrefixCode: '\u041a\u043e\u0434',
    flightSegment_MealTypes: '\u041f\u0438\u0442\u0430\u043d\u0438\u0435',
    flightSegment_ServiceClassCode: '\u041a\u043e\u0434 \u043a\u043b\u0430\u0441\u0441\u0430',
    flightSegment_Stopover: '\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442',
    flightSegment: '\u0421\u0435\u0433\u043c\u0435\u043d\u0442',
    systemConfiguration: '\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
    order_Caption_List: '\u0417\u0430\u043a\u0430\u0437\u044b',
    common_Customer: '\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a',
    order_Agreement: '\u0414\u043e\u0433\u043e\u0432\u043e\u0440',
    order_DaysTillExpiration: '\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435',
    order_IssueDate: '\u0414\u0430\u0442\u0430',
    common_BillTo: '\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a',
    common_AssignedTo: '\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439',
    order: '\u0417\u0430\u043a\u0430\u0437',
    order_IsAviaCompanyAndAgencyDataSplitted: '\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439',
    order_Vat: '\u0412 \u0442.\u0447. \u041d\u0414\u0421',
    order_Invoices: '\u0421\u0447\u0435\u0442\u0430 / \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
    orderItem_Price: '\u0426\u0435\u043d\u0430',
    orderItem_Quantity: '\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e',
    orderItem_Text: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
    orderItem: '\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430',
    amadeusRizUsingMode_All: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e',
    amadeusRizUsingMode_None: '\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c',
    amadeusRizUsingMode_ServiceFeeOnly: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
    orderItem_Text_Itinerary: '\u043c\u0430\u0440\u0448\u0440\u0443\u0442',
    orderItem_Discount: '\u0421\u0443\u043c\u043c\u0430 \u0441\u043a\u0438\u0434\u043a\u0438',
    orderItem_Vat: '\u0421\u0443\u043c\u043c\u0430 \u041d\u0414\u0421',
    party_Name: '\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435',
    airport_LocalizedSettlement: '\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442',
    orderItem_GrandTotal: '\u0418\u0442\u043e\u0433\u043e',
    orderItem_HasVat: '\u041e\u0431\u043b\u0430\u0433\u0430\u0442\u044c \u041d\u0414\u0421',
    person_MilesCardsString: '\u041c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438',
    gdsAgent_Office: '\u041e\u0444\u0438\u0441',
    tktFile_OfficeCode: '\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430',
    documentOwner: '\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    documentOwner_Caption_List: '\u0412\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    airlineCommissionPercents: '\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
    airlineCommissionPercents_Caption_List: '\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439',
    airlineCommissionPercents_Domestic: '\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b, %',
    airlineCommissionPercents_InterlineDomestic: '\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b (interline), %',
    airlineCommissionPercents_InterlineInternational: '\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442 (interline), %',
    airlineCommissionPercents_International: '\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442, %',
    common_Reservation: '\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430',
    printFile: 'Print-\u0444\u0430\u0439\u043b',
    printFile_FilePath: '\u0424\u0430\u0439\u043b',
    printFile_Office: '\u041e\u0444\u0438\u0441',
    printFile_UserName: '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c',
    paymentType_WithoutPayment: '\u0411\u0435\u0437 \u043e\u043f\u043b\u0430\u0442\u044b',
    documentAccess: '\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c',
    documentAccess_Caption_List: '\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c',
    common_Owner: '\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446',
    documentAccess_FullDocumentControl: '\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f',
    common_TicketingIataOffice: 'IATA \u043e\u0444\u0438\u0441',
    penalizeOperationStatus_Chargeable: '\u0428\u0442\u0440\u0430\u0444',
    penalizeOperationStatus_NotAllowed: '\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e',
    penalizeOperationStatus_NotChargeable: '\u0411\u0435\u0437 \u0448\u0442\u0440\u0430\u0444\u0430',
    aviaTicket_PenalizeOperations: '\u0428\u0442\u0440\u0430\u0444\u043d\u044b\u0435 \u0441\u0430\u043d\u043a\u0446\u0438\u0438',
    payment_Amount: '\u0421\u0443\u043c\u043c\u0430',
    payment_Caption_List: '\u041f\u043b\u0430\u0442\u0435\u0436\u0438',
    payment_Payer: '\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a',
    payment_PaymentForm: '\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b',
    payment_ReceivedFrom: '\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043e\u0442',
    payment_RegisteredBy: '\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',
    payment: '\u041f\u043b\u0430\u0442\u0435\u0436',
    paymentForm_CashOrder: '',
    paymentForm_Check: '\u041a\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0447\u0435\u043a',
    paymentForm_WireTransfer: '\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
    orderType_Cash: '\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0439',
    invoice_Type: '\u0422\u0438\u043f',
    payment_IsPosted: '\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d',
    organization_Code: '\u041a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f',
    common_Handling: '\u0414\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a',
    payment_PostedOn: '\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438',
    order_DeliveryBalance: '\u0411\u0430\u043b\u0430\u043d\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432',
    common_IsPaid: '\u041e\u043f\u043b\u0430\u0447\u0435\u043d',
    payment_Vat: '\u0412 \u0442.\u0447. \u041d\u0414\u0421',
    party_Files: '\u0424\u0430\u0439\u043b\u044b',
    closedPeriod_Caption_List: '\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b',
    closedPeriod: '\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434',
    closedPeriod_DateFrom: '\u0414\u0430\u0442\u0430 \u0441',
    closedPeriod_DateTo: '\u0414\u0430\u0442\u0430 \u043f\u043e',
    closedPeriod_PeriodState: '\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435',
    aviaDocument_Closed: '\u0417\u0430\u043a\u0440\u044b\u0442',
    payment_Closed: '\u0417\u0430\u043a\u0440\u044b\u0442',
    aviaTicket_PassportInformation: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b',
    organization_AirlinePassportRequirement: '\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445',
    airlinePassportRequirement_NotRequired: '\u041d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f',
    airlinePassportRequirement_Required: '\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f',
    airlinePassportRequirement_SystemDefault: '\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e',
    aviaDocument_GdsPassport: '\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0432 GDS',
    aviaDocument_GdsPassportStatus: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 GDS',
    aviaDocument_Passenger: '\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440',
    gdsPassportStatus_Exist: '\u0415\u0441\u0442\u044c',
    gdsPassportStatus_Incorrect: '\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d',
    gdsPassportStatus_NotExist: '\u041d\u0435\u0442',
    gdsPassportStatus_Unknown: '\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e',
    common_CommissionDiscount: '\u0421\u043a\u0438\u0434\u043a\u0430 \u043e\u0442 \u043a\u043e\u043c. \u0410\u041a',
    consignment_Caption_List: '\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435',
    orderItem_Consignment: '\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f',
    consignment_Acquirer: '\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e',
    consignment_GrandTotal: '\u0421\u0443\u043c\u043c\u0430 \u0441 \u041f\u0414\u0412',
    consignment_IssueDate: '\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f',
    consignment_Supplier: '\u041e\u0442\u043f\u0443\u0449\u0435\u043d\u043e',
    consignment_Total: '\u0421\u0443\u043c\u043c\u0430 \u0431\u0435\u0437 \u041f\u0414\u0412',
    consignment_TotalSupplied: '\u0412\u0441\u0435\u0433\u043e \u043e\u0442\u043f\u0443\u0449\u0435\u043d\u043e',
    consignment_Vat: '\u041f\u0414\u0412',
    common_ShipTo: '\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c',
    order_Paid: '\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e',
    order_TotalDue: '\u041a \u043e\u043f\u043b\u0430\u0442\u0435',
    payment_DocumentNumber: '\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
    cashInOrderPayment: '\u041f\u041a\u041e',
    checkPayment: '\u041a\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0447\u0435\u043a',
    wireTransfer: '\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
    consignment_IssuedConsignments: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435',
    consignment_Number: '\u041d\u043e\u043c\u0435\u0440',
    consignment: '\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f',
    consignment_Discount: '\u0421\u043a\u0438\u0434\u043a\u0430',
    invoice_IssueDate: '\u0414\u0430\u0442\u0430',
    invoice_IssuedBy: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d',
    invoice_TimeStamp: '\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f',
    invoice_Caption_List: '\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
    payment_Invoice: '\u0421\u0447\u0435\u0442/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
    currency_NumericCode: '\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043a\u043e\u0434',
    documentOwner_IsActive: '\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439',
    invoiceType_Invoice: '\u0421\u0447\u0435\u0442',
    invoiceType_Receipt: '\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
    invoice_IsOrderVoid: '\u0417\u0430\u043a\u0430\u0437 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
    person_Title: '\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c',
    paymentForm_Electronic: '\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
    currency_CyrillicCode: '\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043a\u043e\u0434',
    electronicPayment: '\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
    paymentSystem: '\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430',
    paymentSystem_Caption_List: '\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
    electronicPayment_AuthorizationCode: '\u041a\u043e\u0434 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438',
    electronicPayment_PaymentSystem: '\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430',
    party_WebAddress: '\u0412\u0435\u0431 \u0430\u0434\u0440\u0435\u0441',
    organization_Employees: '\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438',
    order_IsPublic: '\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f',
    order_UseServiceFeeOnlyInVat: '\u041d\u0414\u0421 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
    openingBalance: '\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a',
    openingBalance_Balance: '\u041e\u0441\u0442\u0430\u0442\u043e\u043a',
    openingBalance_Caption_List: '\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0441\u0442\u0430\u0442\u043a\u0438',
    order_IsSubjectOfPaymentsControl: '\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435 \u043e\u043f\u043b\u0430\u0442',
    internalTransfer: '\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434',
    internalTransfer_Caption_List: '\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b',
    internalTransfer_FromOrder: '\u0418\u0437 \u0437\u0430\u043a\u0430\u0437\u0430',
    internalTransfer_FromParty: '\u041e\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430',
    internalTransfer_ToOrder: '\u0412 \u0437\u0430\u043a\u0430\u0437',
    internalTransfer_ToParty: '\u041a \u043a\u043e\u043d\u0442\u0440\u0430\u0430\u0433\u0435\u043d\u0442\u0443',
    payment_InvoiceDate: '\u0414\u0430\u0442\u0430 \u0441\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
    aviaDocument_PaymentDetails: '\u0414\u0435\u0442\u0430\u043b\u0438 \u043e\u043f\u043b\u0430\u0442\u044b',
    aviaMco_InConnectionWith: '\u0421\u0432\u044f\u0437\u0430\u043d \u0441',
    product_Refund: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442',
    allProduct_Caption_List: '\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    common_Operator: '\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440',
    common_IsSale: '\u041f\u0440\u043e\u0434\u0430\u0436\u0430',
    pasteboard: '\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442',
    pasteboard_Caption_List: '\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442\u044b',
    pasteboardRefund: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u0430',
    pasteboardRefund_Caption_List: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
    pasteboard_FirstStation: '',
    pasteboard_LastStation: '',
    pasteboard_StartDate: '',
    simCard: 'SIM-\u043a\u0430\u0440\u0442\u0430',
    simCard_Caption_List: 'SIM-\u043a\u0430\u0440\u0442\u044b',
    isic: '\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0439 \u0431\u0438\u043b\u0435\u0442 Isic',
    isic_Caption_List: '\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b Isic',
    common_TourName: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0443\u0440\u0430',
    common_StartDate: '\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430',
    common_FinishDate: '\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f',
    excursion: '\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f',
    excursion_Caption_List: '\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438',
    tour: '\u0422\u0443\u0440 (\u0433\u043e\u0442\u043e\u0432\u044b\u0439)',
    tour_Caption_List: '\u0422\u0443\u0440\u044b (\u0433\u043e\u0442\u043e\u0432\u044b\u0435)',
    common_Hotel: '\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430',
    common_HotelOffice: '\u041e\u0444\u0438\u0441',
    common_HotelCode: '\u041a\u043e\u0434',
    common_HotelRoom: '\u041d\u043e\u043c\u0435\u0440',
    common_Placement: '\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435',
    common_PlacementOffice: '\u041e\u0444\u0438\u0441',
    common_PlacementCode: '\u041a\u043e\u0434',
    common_Diet: '\u041f\u0438\u0442\u0430\u043d\u0438\u0435',
    common_AviaDescription: '\u0410\u0432\u0438\u0430 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)',
    common_TransferDescription: '\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)',
    common_Office: '\u041e\u0444\u0438\u0441',
    accommodation: '\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435',
    accommodation_Caption_List: '\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f',
    accommodationType: '\u0422\u0438\u043f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f',
    accommodationType_Caption_List: '\u0422\u0438\u043f\u044b \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f',
    common_AccommodationType: '\u0422\u0438\u043f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f',
    cateringType: '\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f',
    cateringType_Caption_List: '\u0422\u0438\u043f\u044b \u043f\u0438\u0442\u0430\u043d\u0438\u044f',
    common_CateringType: '\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f',
    transfer: '\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440',
    transfer_Caption_List: '\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u044b',
    insurance: '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430',
    insurance_Caption_List: '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438',
    carRental: '\u0410\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f',
    carRental_Caption_List: '\u0410\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439',
    carRental_CarBrand: '\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e',
    pasteboardServiceClass_FirstClass: '1-\u0439 \u043a\u043b\u0430\u0441\u0441',
    pasteboardServiceClass_SecondClass: '2-\u0439 \u043a\u043b\u0430\u0441\u0441',
    pasteboardServiceClass_LuxuryCoupe: '\u043b\u044e\u043a\u0441',
    pasteboardServiceClass_ReservedSeat: '\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442',
    pasteboardServiceClass_Compartment: '\u043a\u0443\u043f\u0435',
    pasteboard_ServiceClass: '\u041a\u043b\u0430\u0441\u0441 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f',
    pasteboard_TrainNumber: '\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0435\u0437\u0434\u0430',
    pasteboard_CarNumber: '\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430',
    productProvider: '\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    productProvider_Caption_List: '\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    common_IsAccommodationProvider: '\u0414\u043b\u044f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f',
    common_IsCarRentalProvider: '\u0414\u043b\u044f \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e',
    common_IsInsuranceProvider: '\u0414\u043b\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u043a',
    common_IsPasteboardProvider: '\u0414\u043b\u044f \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
    common_IsTransferProvider: '\u0414\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u043e\u0432',
    common_Provider: '\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440',
    genericProductType: '\u0412\u0438\u0434 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u043b\u0443\u0433\u0438',
    genericProductType_Caption_List: '\u0412\u0438\u0434\u044b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433',
    genericProduct: '\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430',
    genericProduct_Caption_List: '\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438',
    genericProduct_GenericType: '\u0412\u0438\u0434 \u0443\u0441\u043b\u0443\u0433\u0438',
    product_Caption_List: '\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    busTicket: '\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442',
    busTicket_Caption_List: '\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b',
    common_Place: '\u041c\u0435\u0441\u0442\u043e',
    common_DeparturePlace: '\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f',
    common_ArrivalPlace: '\u041c\u0435\u0441\u0442\u043e \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f',
    common_DepartureDate: '\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f',
    common_ArrivalDate: '\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f',
    common_Time: '\u0412\u0440\u0435\u043c\u044f',
    common_DepartureTime: '\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f',
    common_ArrivalTime: '\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f',
    common_SeatNumber: '\u041d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u0442\u0430',
    common_IsBusTicketProvider: '\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
    common_Departure: '\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
    common_Arrival: '\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
    common_BonusDiscount: '\u0411\u043e\u043d\u0443\u0441\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430',
    common_BonusAccumulation: '\u0411\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u0435',
    common_BonusCardNumber: '\u2116 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u044b',
    common_IsTourProvider: '\u0414\u043b\u044f \u0442\u0443\u0440\u043e\u0432 (\u0433\u043e\u0442\u043e\u0432\u044b\u0445)',
    common_InsuranceCompany: '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
    common_Misc: '\u0420\u0430\u0437\u043d\u043e\u0435',
    simCard_Producer: '\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440',
    organization_IsAirline: '\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
    organization_IsProvider: '\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440',
    organization_IsInsuranceCompany: '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
    organization_IsAirline_long: '\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439',
    organization_IsProvider_long: '\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0443\u0441\u043b\u0443\u0433',
    organization_IsInsuranceCompany_long: '\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439',
    organization_IsRoamingOperator_long: '\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0420\u043e\u0443\u043c\u0438\u043d\u0433-\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c',
    common_UAH_EUR: 'UAH/EUR',
    common_UAH_RUB: 'UAH/RUB',
    common_UAH_USD: 'UAH/USD',
    common_RUB_EUR: 'RUB/EUR',
    common_RUB_USD: 'RUB/USD',
    common_EUR_USD: 'EUR/USD',
    currencyDailyRate: '\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442',
    currencyDailyRate_Caption_List: '\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442',
    insuranceRefund: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438',
    busTicketRefund: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430',
    common_IsGenericProductProvider: '\u0414\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433'
};


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ClassNames

Luxena.Travel.ClassNames = { 
    product: 'Product',
    allProduct: 'AllProduct',
    aviaDocument: 'AviaDocument',
    aviaTicket: 'AviaTicket',
    aviaRefund: 'AviaRefund',
    aviaMco: 'AviaMco',
    productPassenger: 'ProductPassenger',
    pasteboard: 'Pasteboard',
    pasteboardRefund: 'PasteboardRefund',
    simCard: 'SimCard',
    isic: 'Isic',
    excursion: 'Excursion',
    tour: 'Tour',
    accommodation: 'Accommodation',
    accommodationType: 'AccommodationType',
    cateringType: 'CateringType',
    transfer: 'Transfer',
    insurance: 'Insurance',
    insuranceRefund: 'InsuranceRefund',
    carRental: 'CarRental',
    busTicket: 'BusTicket',
    busTicketRefund: 'BusTicketRefund',
    genericProductType: 'GenericProductType',
    genericProduct: 'GenericProduct',
    productProvider: 'ProductProvider',
    flightSegment: 'FlightSegment',
    order: 'Order',
    orderItem: 'OrderItem',
    invoice: 'Invoice',
    payment: 'Payment',
    cashInOrderPayment: 'CashInOrderPayment',
    cashOutOrderPayment: 'CashOutOrderPayment',
    wireTransfer: 'WireTransfer',
    checkPayment: 'CheckPayment',
    electronicPayment: 'ElectronicPayment',
    closedPeriod: 'ClosedPeriod',
    openingBalance: 'OpeningBalance',
    internalTransfer: 'InternalTransfer',
    currencyDailyRate: 'CurrencyDailyRate',
    task: 'Task',
    party: 'Party',
    person: 'Person',
    organization: 'Organization',
    department: 'Department',
    airline: 'Airline',
    airlineServiceClass: 'AirlineServiceClass',
    airport: 'Airport',
    country: 'Country',
    currency: 'Currency',
    paymentSystem: 'PaymentSystem',
    systemConfiguration: 'SystemConfiguration',
    user: 'User',
    userVisit: 'UserVisit',
    airlineCommissionPercents: 'AirlineCommissionPercents',
    documentOwner: 'DocumentOwner',
    documentAccess: 'DocumentAccess',
    gdsAgent: 'GdsAgent',
    gdsFile: 'GdsFile',
    airFile: 'AirFile',
    sirenaFile: 'SirenaFile',
    mirFile: 'MirFile',
    tktFile: 'TktFile',
    printFile: 'PrintFile',
    galileoXmlFile: 'GalileoXmlFile',
    galileoRailXmlFile: 'GalileoRailXmlFile',
    galileoBusXmlFile: 'GalileoBusXmlFile',
    amadeusXmlFile: 'AmadeusXmlFile',
    sabreFilFile: 'SabreFilFile',
    luxenaXmlFile: 'LuxenaXmlFile',
    travelPointXmlFile: 'TravelPointXmlFile',
    crazyllamaPnrFile: 'CrazyllamaPnrFile',
    drctXmlFile: 'DrctXmlFile',
    money: 'Money',
    passport: 'Passport',
    bankAccount: 'BankAccount',
    consignment: 'Consignment'
};


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PeriodState

Luxena.Travel.PeriodState = function() { };
Luxena.Travel.PeriodState.prototype = {
    open: 0, 
    restricted: 1, 
    closed: 2
}
Luxena.Travel.PeriodState.registerEnum('Luxena.Travel.PeriodState', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderItemLinkType

Luxena.Travel.OrderItemLinkType = function() { };
Luxena.Travel.OrderItemLinkType.prototype = {
    airlineData: 0, 
    serviceFee: 1, 
    fullDocument: 2
}
Luxena.Travel.OrderItemLinkType.registerEnum('Luxena.Travel.OrderItemLinkType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InvoiceType

Luxena.Travel.InvoiceType = function() { };
Luxena.Travel.InvoiceType.prototype = {
    invoice: 0, 
    receipt: 1, 
    completionCertificate: 2
}
Luxena.Travel.InvoiceType.registerEnum('Luxena.Travel.InvoiceType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentForm

Luxena.Travel.PaymentForm = function() { };
Luxena.Travel.PaymentForm.prototype = {
    cashInOrder: 0, 
    wireTransfer: 1, 
    check: 2, 
    electronic: 3, 
    cashOutOrder: 4
}
Luxena.Travel.PaymentForm.registerEnum('Luxena.Travel.PaymentForm', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsPassportStatus

Luxena.Travel.GdsPassportStatus = function() { };
Luxena.Travel.GdsPassportStatus.prototype = {
    unknown: 0, 
    exist: 1, 
    notExist: 2, 
    incorrect: 3
}
Luxena.Travel.GdsPassportStatus.registerEnum('Luxena.Travel.GdsPassportStatus', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlinePassportRequirement

Luxena.Travel.AirlinePassportRequirement = function() { };
Luxena.Travel.AirlinePassportRequirement.prototype = {
    systemDefault: 0, 
    required: 1, 
    notRequired: 2
}
Luxena.Travel.AirlinePassportRequirement.registerEnum('Luxena.Travel.AirlinePassportRequirement', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PenalizeOperationStatus

Luxena.Travel.PenalizeOperationStatus = function() { };
Luxena.Travel.PenalizeOperationStatus.prototype = {
    notAllowed: 0, 
    notChargeable: 1, 
    chargeable: 2
}
Luxena.Travel.PenalizeOperationStatus.registerEnum('Luxena.Travel.PenalizeOperationStatus', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PenalizeOperationType

Luxena.Travel.PenalizeOperationType = function() { };
Luxena.Travel.PenalizeOperationType.prototype = {
    changesBeforeDeparture: 0, 
    changesAfterDeparture: 1, 
    refundBeforeDeparture: 2, 
    refundAfterDeparture: 3, 
    noShowBeforeDeparture: 4, 
    noShowAfterDeparture: 5
}
Luxena.Travel.PenalizeOperationType.registerEnum('Luxena.Travel.PenalizeOperationType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentOrigin

Luxena.Travel.AviaDocumentOrigin = function() { };
Luxena.Travel.AviaDocumentOrigin.prototype = {
    amadeusAir: 0, 
    amadeusPrint: 1, 
    galileoMir: 2, 
    galileoTkt: 3, 
    bspLink: 4, 
    manual: 5, 
    sirenaXml: 6
}
Luxena.Travel.AviaDocumentOrigin.registerEnum('Luxena.Travel.AviaDocumentOrigin', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductType

Luxena.Travel.ProductType = function() { };
Luxena.Travel.ProductType.prototype = {
    aviaTicket: 0, 
    aviaRefund: 1, 
    aviaMco: 2
}
Luxena.Travel.ProductType.registerEnum('Luxena.Travel.ProductType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FlightSegmentType

Luxena.Travel.FlightSegmentType = function() { };
Luxena.Travel.FlightSegmentType.prototype = {
    ticketed: 0, 
    unticketed: 1, 
    voided: 2
}
Luxena.Travel.FlightSegmentType.registerEnum('Luxena.Travel.FlightSegmentType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentType

Luxena.Travel.PaymentType = function() { };
Luxena.Travel.PaymentType.prototype = {
    unknown: 0, 
    cash: 1, 
    invoice: 2, 
    check: 3, 
    creditCard: 4, 
    exchange: 5, 
    withoutPayment: 6
}
Luxena.Travel.PaymentType.registerEnum('Luxena.Travel.PaymentType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ServiceClass

Luxena.Travel.ServiceClass = function() { };
Luxena.Travel.ServiceClass.prototype = {
    unknown: 0, 
    economy: 1, 
    premiumEconomy: 2, 
    business: 3, 
    first: 4
}
Luxena.Travel.ServiceClass.registerEnum('Luxena.Travel.ServiceClass', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsOriginator

Luxena.Travel.GdsOriginator = function() { };
Luxena.Travel.GdsOriginator.prototype = {
    unknown: 0, 
    amadeus: 1, 
    galileo: 2, 
    sirena: 3, 
    airline: 4
}
Luxena.Travel.GdsOriginator.registerEnum('Luxena.Travel.GdsOriginator', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MealType

Luxena.Travel.MealType = function() { };
Luxena.Travel.MealType.prototype = {
    noData: 0, 
    breakfast: 1, 
    continentalBreakfast: 2, 
    lunch: 4, 
    dinner: 8, 
    snack: 16, 
    coldMeal: 32, 
    hotMeal: 64, 
    meal: 128, 
    refreshment: 256, 
    alcoholicComplimentaryBeverages: 512, 
    food: 1024, 
    alcoholicBeveragesForPurchase: 2048, 
    dutyFree: 4096
}
Luxena.Travel.MealType.registerEnum('Luxena.Travel.MealType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportValidationResult

Luxena.Travel.PassportValidationResult = function() { };
Luxena.Travel.PassportValidationResult.prototype = {
    noPassport: 0, 
    notValid: 1, 
    expirationDateNotValid: 2, 
    valid: 3
}
Luxena.Travel.PassportValidationResult.registerEnum('Luxena.Travel.PassportValidationResult', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentState

Luxena.Travel.AviaDocumentState = function() { };
Luxena.Travel.AviaDocumentState.prototype = {
    imported: 0, 
    voided: 1, 
    restored: 2
}
Luxena.Travel.AviaDocumentState.registerEnum('Luxena.Travel.AviaDocumentState', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Gender

Luxena.Travel.Gender = function() { };
Luxena.Travel.Gender.prototype = {
    male: 0, 
    female: 1
}
Luxena.Travel.Gender.registerEnum('Luxena.Travel.Gender', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TaskStatus

Luxena.Travel.TaskStatus = function() { };
Luxena.Travel.TaskStatus.prototype = {
    open: 0, 
    inProgress: 1, 
    waitForResponse: 2, 
    closed: 3
}
Luxena.Travel.TaskStatus.registerEnum('Luxena.Travel.TaskStatus', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Res

Luxena.Travel.Res = { 
    aviaDocuments: '\u0410\u0432\u0438\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    menu_Dictionaries: '\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438',
    home: '\u0413\u043b\u0430\u0432\u043d\u0430\u044f',
    parties: '\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u044b',
    partyType: '\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430',
    partyType_Text_List: '\u0422\u0438\u043f\u044b \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u043e\u0432',
    ticket: '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442',
    workItems_Title: '\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    user_Text_List: '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438',
    ticketDeleted: "\u0411\u0438\u043b\u0435\u0442 '{0}' \u0443\u0434\u0430\u043b\u0435\u043d",
    ticketEditForm_DiscountComPercent: '% \u043e\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0441\u0438\u0438',
    ticketEditForm_DiscountSFPercent: '% \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
    menu_Documents: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    addPerson_Action_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0443',
    add_Action_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c',
    user_Active_Text: '\u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430',
    confirmation: '\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435',
    password: '\u041f\u0430\u0440\u043e\u043b\u044c',
    password_Error_Msg: '\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d',
    gdsFile_Reimport_Text: '\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
    imported: '\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e',
    user_AmadeusAirAgentId: '\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Air',
    user_AmadeusAirOfficeId: '\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Air',
    user_AmadeusPrintAgentId: '\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Print',
    user_AmadeusPrintOfficeId: '\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Print',
    user_GalileoMirAgentId: '\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Mir',
    user_GalileoMirOfficeId: '\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Mir',
    user_GalileoTktAgentId: '\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Tkt',
    user_GalileoTktOfficeId: '\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Tkt',
    currentUser_Caption: '\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c',
    signOut_Text: '\u0432\u044b\u0439\u0442\u0438',
    documentMetric_Date: '\u0414\u0430\u0442\u0430',
    documentMetric_Title_User: '\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    documentMetric_Issued: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u043e',
    documentMetric_Unprocessed: '\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435',
    fromDate_Text: '\u0441',
    toDate_Text: '\u043f\u043e',
    documentMetric_TotalUnprocessedCount: '\u0412\u0441\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432:',
    documentMetricFilter_UnprocessedOnly: '\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043d\u0438',
    apply_Text: '\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c',
    filter_Text: '\u0444\u0438\u043b\u044c\u0442\u0440',
    documentMetricTable_MaxRowCount_Msg: '\u0412 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u0437\u0430 {0}.<br/> \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043e \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 {1}',
    documentMetrics_DaysCount1: '{0} \u0434\u0435\u043d\u044c',
    documentMetrics_DaysCount2: '{0} \u0434\u043d\u044f',
    documentMetrics_DaysCount3: '{0} \u0434\u043d\u0435\u0439',
    documentMetrics_TotalDaysCount: '\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 {0}',
    documentMetrics_FromToDays_Text: '\u0441 {0} \u043f\u043e {1}',
    type: '\u0422\u0438\u043f',
    aviaDocument_Processed: '\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d',
    aviaDocument_Unprocessed: '\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d',
    aviaDocument_Voided: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
    aviaDocument_Voidings: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f',
    aviaDocument_AirlineFinanceData_Caption: '\u041f\u043e \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
    common_ServiceFeeData_Caption: '\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
    common_Vat_Text: '\u0412 \u0442.\u0447. \u041d\u0414\u0421',
    aviaTicket_ReissueFor: '\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a \u0434\u043b\u044f',
    aviaDocument_Handle_Action: '\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c',
    aviaTicket_Handle_Title: '\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0431\u0438\u043b\u0435\u0442\u0430 {0}',
    flightSegment_Arrival: '\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
    flightSegment_Departure: '\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
    flightSegment_Duration: '\u041f\u0435\u0440\u0435\u043b\u0435\u0442',
    flightSegment_Registration: '\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f',
    flightSegment_Stops: '\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a',
    terminal_Text: '\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b',
    money_AmountFilter_Text: '\u0424\u0438\u043b\u044c\u0442\u0440 \u0441\u0443\u043c\u043c\u044b',
    money_CurrencyFilter_Text: '\u0424\u0438\u043b\u044c\u0442\u0440 \u0432\u0430\u043b\u044e\u0442\u044b',
    unloadApplication_Confirm_Msg: '\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043a\u0440\u044b\u0442\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    menu_Administration: '\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
    calculateDiscount_Text: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443',
    calculateServiceFee_Text: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
    addDepartment_Action_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435',
    addOrganization_Action_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e',
    saveAndContinue: '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c',
    documentMetrics_NoData: '\u0412 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    calculateRefundServiceFee_Text: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
    calculateServiceFeePenalty_Text: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0448\u0442\u0440\u0430\u0444 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
    aviaMco_Handle_Title: '\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u041c\u0421\u041e {0}',
    aviaRefund_Handle_Title: '\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 {0}',
    documentMetrics_Report: '\u043e\u0442\u0447\u0435\u0442',
    reservationTicketCount_Text: '\u0414\u0440\u0443\u0433\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435: {0}',
    processForm_ApplyToDocuments_Text: '\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c',
    menu_GetByNumber: '\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443...',
    enterDocumentNumber_Text: '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430:<br/><br/>(\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 123-1234567890 \u0438\u043b\u0438 1234567890)',
    menu_FromList: '\u0418\u0437 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430...',
    menu_MyUnprocessed: '\u041c\u043e\u0438 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435...',
    noDocumentFound_Text: "\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c '{0}' \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.",
    reservationMcoCount_Text: '\u0414\u0440\u0443\u0433\u0438\u0445 \u041c\u0421\u041e \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435: {0}',
    reservationRefundCount_Text: '\u0414\u0440\u0443\u0433\u0438\u0445 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432 \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435: {0}',
    addDocument_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    selectedDocuments_Title: '\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    addedAviaDocumentFinanceData_Format: '\u0438\u0442\u043e\u0433\u043e \u043f\u043e \u0410\u041a: {0} \u0441\u0435\u0440\u0432. \u0441\u0431\u043e\u0440: {1} \u0441\u043a\u0438\u0434\u043a\u0430: {2}',
    addedAviaRefundFinanceData_Format: '\u0438\u0442\u043e\u0433\u043e \u043f\u043e \u0410\u041a: {0} \u0441\u0435\u0440\u0432. \u0441\u0431\u043e\u0440: {1} \u0441\u043a\u0438\u0434\u043a\u0430: {2}<br/>\u0441\u0431\u043e\u0440 \u0432\u043e\u0437\u0432\u0440.: {3} \u0448\u0442\u0440\u0430\u0444: {4}',
    reservationUnprocessedDocCount_Text: '(\u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445: {0})',
    void_Action: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
    restore_Action: '\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c',
    document_Restore_Confirmation1: '{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_Void_Confirmation1: '{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_Restore_Confirmation2: '{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_Restore_Confirmation3: '{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_Void_Confirmation2: '{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_Void_Confirmation3: '{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_RestoreDocuments_Msg: '\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0}',
    document_RestoreDocument_Msg: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 {0} \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d',
    document_VoidDocuments_Msg: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0}',
    document_VoidDocument_Msg: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 {0} \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
    common_CreateReport: '\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
    customerReportForm_DocumentCount_Text: '\u0412\u0441\u0435\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0}',
    customerReportForm_IncludeDepartments1: '\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0434\u0435\u043b\u043e\u0432 ({0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442)',
    customerReportForm_IncludeDepartments2: '\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0434\u0435\u043b\u043e\u0432 ({0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430)',
    customerReportForm_IncludeDepartments3: '\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0434\u0435\u043b\u043e\u0432 ({0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432)',
    document_Restore_Confirmation: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    document_Void_Confirmation: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    taskMetric_Title_User: '\u041c\u043e\u0438 \u0437\u0430\u0434\u0430\u0447\u0438',
    taskMetric_NoData: '\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447',
    viewDetails: '>>>',
    task_StatusChange_Msg: '\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0442\u0430\u0442\u0443\u0441 {0} \u0434\u043b\u044f {1}',
    task_StatusChange_Msg1: '{0} \u0437\u0430\u0434\u0430\u0447\u0438',
    task_StatusChange_Msg2: '{0} \u0437\u0430\u0434\u0430\u0447',
    taskMetric_Total: '\u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435',
    taskIsClosed_Msg: "\u0417\u0430\u0434\u0430\u0447\u0430 '{0}' \u0437\u0430\u043a\u0440\u044b\u0442\u0430",
    taskMetric_Total_Title: '\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447',
    aviaDocument_AddRefund_Action: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
    moreActions: '\u0414\u0440\u0443\u0433\u043e\u0435',
    cancel: '\u041e\u0442\u043c\u0435\u043d\u0430',
    OK: 'OK',
    printReservation_Msg: '\u0412\u0441\u0435\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435 {0}.<br/><br/>\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438?',
    printReservation_Msg_Title: '\u041f\u0435\u0447\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
    aviaDocument_Print_Action: '\u041f\u0435\u0447\u0430\u0442\u044c',
    personEditForm_Emails: 'E-mail \u0430\u0434\u0440\u0435\u0441\u0430',
    personEditForm_Phones: '\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b',
    personEditForm_Female: '\u0416',
    personEditForm_Male: '\u041c',
    applyAirline_SelectDates_Text: '\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432:',
    applyAirline_Title: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    airlineApplied_Msg1: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435',
    airlineApplied_Msg2: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    airlineApplied_Msg3: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    airlineApplied_NotFound_Msg: '\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
    applyAirline_Msg_Title: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
    applyToDocuments_Text: '\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u0442\u0430\u043c',
    applyServiceClass_Title: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441\u0430 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    serviceClassApplied_Msg1: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435',
    serviceClassApplied_Msg2: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    serviceClassApplied_Msg3: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    applyServiceClass_Msg_Title: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441\u0430',
    applyGdsAgent_Msg_Title: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u0430',
    applyGdsAgent_Title: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u0430 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    gdsAgentApplied_Msg1: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435',
    gdsAgentApplied_Msg2: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    gdsAgentApplied_Msg3: '\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
    gdsFile_Imported1: '\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    gdsFile_Imported2: '\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
    gdsFile_Imported3: '\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    appliedDataToDocuments_Text1: '\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    appliedDataToDocuments_Text2: '\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
    appliedDataToDocuments_Text3: '\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
    profile_Item: '\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c',
    profile_Change_Password: '\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c',
    password_Edit: '\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c',
    gdsAgents_NotAssigned: '\u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 Gds \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442',
    password_ConfirmPassword: '\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044f',
    password_NewPassword: '\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c',
    password_OldPassword: '\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c',
    password_Updated_Successfully: '\u041f\u0430\u0440\u043e\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0451\u043d',
    registryReportForm_Title: '\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u0441 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c',
    registryReport_Text: '\u041e\u0442\u0447\u0435\u0442 \u0441 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c',
    customerReport_Text: '\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443',
    customerReportForm_Title: '\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443',
    importAviaDocument_Msg: '\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043d\u043e\u0432\u044b\u0439 {0} {1}',
    restoreAviaDocument_Msg: '{0} {1} \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d',
    voidAviaDocument_Msg: '{0} {1} \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
    newTask_Msg: '\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430 {0}',
    userActiveStateChanged_Msg: '\u0412\u0430\u0448\u0430 \u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0431\u044b\u043b\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430',
    userRolesChanged_Msg: '\u0412\u0430\u0448\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u044b\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b. \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u0445 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c.',
    aviaDocument_Handle_NotFull: '\u0412 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438. \u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f?',
    documentMetric_Title_Office: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e \u043e\u0444\u0438\u0441\u0443',
    taskMetric_Title_User_Office: '\u0417\u0430\u0434\u0430\u0447\u0438 \u043f\u043e \u043e\u0444\u0438\u0441\u0443',
    reportType_Text: '\u0424\u043e\u0440\u043c\u0430\u0442',
    flightSegment_Caption: '\u0421\u0435\u0433\u043c\u0435\u043d\u0442 ({0})',
    clear: '\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c',
    aviaDocument_NoNumber: '[reserv]',
    aviaDocument_NotIssued: '\u043d\u0435\u0432\u044b\u043f\u0443\u0449\u0435\u043d',
    common_ListNumber: '\u2116',
    common_Measure_Items: '\u0415\u0434.',
    common_Quantity: '\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e',
    common_Price: '\u0426\u0435\u043d\u0430',
    orderItem_Text: '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
    order_IssueInvoice_Action: '\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0447\u0435\u0442',
    order_IssueCompletionCertificate_Action: '\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0430\u043a\u0442',
    aviaDocument_AddToOrder: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0437\u0430\u043a\u0430\u0437',
    aviaDocument_AddToOrderExist: '\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439',
    aviaDocument_AddToOrderNew: '\u041d\u043e\u0432\u044b\u0439',
    aviaDocument_Was_Added: '{0} \u0431\u044b\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b \u0432 \u0437\u0430\u043a\u0430\u0437: {1}',
    issued: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d',
    order_FinanceDataRecalculated: '\u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b',
    order_RecalculateFinanceData: '\u041f\u0435\u0440\u0435\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
    order_GrandTotalWithoutVat: '\u0418\u0442\u043e\u0433\u043e \u0431\u0435\u0437 \u041d\u0414\u0421 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0441\u043a\u0438\u0434\u043a\u0438',
    common_QuantityShort: '\u041a\u043e\u043b.',
    menu_AddNew: '\u041d\u043e\u0432\u044b\u0439...',
    orderViewForm_Reservation: '\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430',
    aviaDocumentProcessForm_Fare_Text: '(\u0442\u0430\u0440\u0438\u0444 {0})',
    order_Issue_NotValidData: '\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437. \u0412 \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.',
    order_PaidAction: '\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c',
    order_PaidOrders_Msg: '\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432: {0}',
    order_PaidOrder_Msg: '\u0417\u0430\u043a\u0430\u0437 {0} \u043e\u043f\u043b\u0430\u0447\u0435\u043d',
    order_UnPaidAction: '\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443',
    order_UnpaidOrders_Msg: '\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c: {0}',
    order_UnpaidOrder_Msg: '\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 {0}',
    order_NotPaid: '\u043d\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d',
    order_Paid: '\u043e\u043f\u043b\u0430\u0447\u0435\u043d',
    order_SeparateServiceFee: '\u0412\u044b\u0434\u0435\u043b\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
    menu_MyDocuments: '\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b...',
    orderItem_WithoutVat: '\u0431\u0435\u0437 \u041d\u0414\u0421',
    orderItem_WithVat: 'c \u041d\u0414\u0421',
    aviaDocument_AddToOrder_Title: '\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0439 \u0432 \u0437\u0430\u043a\u0430\u0437\u0430',
    aviaDocument_CannotAddDocumentsToOrder_Msg: '\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b:',
    aviaDocument_ContinueAddToOrder_Msg: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b?',
    order_DocumentAlreadyAddedToOrder_Msg: '{0} \u0432\u043a\u043b\u044e\u0447\u0435\u043d \u0432 \u0437\u0430\u043a\u0430\u0437 \u2116 {1}',
    order_Restore_Msg_Title: '\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430',
    order_Recalculation_Msg_Title: '\u041f\u0435\u0440\u0435\u0441\u0447\u0435\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445',
    order_SaveError_Msg: '\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437:',
    order_SaveError_Msg_Title: '\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430',
    customerReportForm_IncludeUnpayedDocumentOnly: '\u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
    menu_WithSameAcquirer: '\u0421 \u0442\u0430\u043a\u0438\u043c \u0436\u0435 \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u043e\u043c...',
    menu_AllMyDocuments: '\u0412\u0441\u0435 \u043c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b...',
    aviaTicket_AfterDeparture: '\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043b\u0435\u0442\u0430',
    aviaTicket_BeforeDeparture: '\u0414\u043e \u0432\u044b\u043b\u0435\u0442\u0430',
    common_No: '(\u043d\u0435\u0442)',
    aviaTicket_ChangesPenalty: '\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f',
    aviaTicket_NoShowPenalty: '\u041d\u0435\u044f\u0432\u043a\u0430 \u043d\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e',
    aviaTicket_RefundPenalty: '\u0412\u043e\u0437\u0432\u0440\u0430\u0442',
    aviaTicket_NoShowPenalty_Short: '\u041d\u0435\u044f\u0432\u043a\u0430',
    penalizeOperationEditForm_Caption: '\u0428\u0442\u0440\u0430\u0444\u043d\u044b\u0435 \u0441\u0430\u043d\u043a\u0446\u0438\u0438',
    aviaDocumentProcessForm_EditPenalizeOperations: '\u0448\u0442\u0440\u0430\u0444\u043d\u044b\u0435 \u0441\u0430\u043d\u043a\u0446\u0438\u0438',
    orders: '\u0417\u0430\u043a\u0430\u0437\u044b',
    addObligation_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e',
    enterObligationNumber_Text: '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430:<br/>',
    menu_IssuedByMe: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u043c\u043d\u043e\u0439...',
    payment_AddValidDocuments_Msg: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b?',
    paymentEditForm_AllObligationsCurrenciesError_Msg: '\u0412 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u0432\u0430\u043b\u044e\u0442\u044b.',
    payment_AddObligation_Title: '\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432',
    payment_ObligationCurrenciesError_Msg: '\u0412\u0430\u043b\u044e\u0442\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0442\u0441\u044f \u043e\u0442 \u0432\u0430\u043b\u044e\u0442\u044b \u043f\u043b\u0430\u0442\u0435\u0436\u0430:',
    paymentEditForm_PaymentCurrenciesError_Msg: '\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0432\u0430\u043b\u044e\u0442\u043e\u0439 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432.',
    paid_Action_Text: '\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043e',
    unpaid_Action_Text: '\u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043e',
    paymentCurrencyNotValid_Msg: '\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0432\u0430\u043b\u044e\u0442\u0430\u043c\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432',
    paymentEditForm_Total: '\u0412\u0441\u0435\u0433\u043e',
    payment_Restore_Confirmation: '\u041f\u043b\u0430\u0442\u0435\u0436 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    payment_Void_Confirmation: '\u041f\u043b\u0430\u0442\u0435\u0436 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    payment_Voided: '\u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
    order_AddToExistingPayment: '\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439',
    order_AddToNewPayment: '\u043d\u043e\u0432\u044b\u0439',
    order_CreatePaymentAction: '\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
    order_NumberFormat1: '{0} \u0437\u0430\u043a\u0430\u0437',
    order_NumberFormat2: '{0} \u0437\u0430\u043a\u0430\u0437\u0430',
    order_NumberFormat3: '{0} \u0437\u0430\u043a\u0430\u0437\u043e\u0432',
    payment_AddedToPayment_Msg1: '\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
    payment_AddedToPayment_Msg11: '\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
    payment_AddedToPayment_Msg2: '\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
    payment_AddedToPayment_Msg3: '\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
    aviaDocumentList_CreateCashPayment: '\u043e\u043f\u043b\u0430\u0442\u0438\u0442\u044c',
    cashPaymentRegisterForm_Title: '\u041d\u0430\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430',
    aviaDocumentList_CreatePayment_NotValidData: '\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436, \u0442\u0430\u043a \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b.',
    aviaDocumentList_AddToPayment: '\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436 \u043f\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c?',
    aviaDocumentList_CannotCreatePayment: '\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436:',
    aviaDocumentList_CreateCashPayment_Title: '\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430',
    common_Document: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    posted_Action: '\u041f\u0440\u043e\u0432\u0435\u0441\u0442\u0438',
    paymentList_PostedDocuments: '\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0} ',
    payment_NonPosted: '\u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d',
    paymentView_Posted: '\u041f\u043b\u0430\u0442\u0435\u0436 {0} \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d',
    congradulationText: '\u0421 \u0412\u0441\u0435\u043c\u0438\u0440\u043d\u044b\u043c \u0434\u043d\u0435\u043c \u0442\u0443\u0440\u0438\u0437\u043c\u0430!',
    calculateHandling_Text: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0434\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a',
    order_NoPayments: '\u0414\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 {0} \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u0434\u043b\u044f \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f',
    order_AlreadyPaid: '\u0417\u0430\u043a\u0430\u0437 {0} \u0443\u0436\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d',
    paymentVoidForm_Title: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 {0}',
    paymentVoidForm_VoidButton: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
    aviaDocument_CalculateFare: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444',
    aviaDocument_CalculateFeesTotal: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u044b',
    aviaDocument_CalculateCancelFee: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0448\u0442\u0440\u0430\u0444 \u0437\u0430 \u043e\u0442\u043c\u0435\u043d\u0443',
    order_PayMenu: '\u041e\u043f\u043b\u0430\u0442\u0430',
    documentMetric_ToIssue: '\u041a \u0432\u044b\u043f\u0443\u0441\u043a\u0443',
    addAction: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c',
    order_AddIssue_Action: '\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e \u043e\u0441\u0442\u0430\u0442\u043a\u0443',
    file_UploadAction: '\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c',
    file_WaitUpload: '\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430',
    close_Action: '\u0417\u0430\u043a\u0440\u044b\u0442\u044c',
    order_PostedPaymentInOrder_Msg: '\u041f\u043b\u0430\u0442\u0435\u0436 {0} \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 {1}',
    order_Void_Msg_Title: '\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430',
    file_Upload_Failed: '\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b: {0}',
    file_Upload_Success: '{0} \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d',
    file_Deleted: '{0} \u0443\u0434\u0430\u043b\u0435\u043d',
    add: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c',
    closedPeriod_Overlap: '\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0442\u044c\u0441\u044f',
    order_DoSweep_Msg: '\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0437\u0430\u043a\u0430\u0437\u0430?',
    order_Sweep_Action: '\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c',
    order_Sweep_Done: '\u0417\u0430\u043a\u0430\u0437 {0} \u043e\u0442\u0447\u0438\u0449\u0435\u043d',
    aviaTicket_PassengerInfoError_Msg: '\u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445',
    addPassenger_Action_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c {0}',
    addPassport_Action_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442',
    use_Gds_Passport_Action_Title: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 GDS',
    use_System_Passport_Action_Title: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
    passenger_NoPassport_Warning: '\u041d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
    passenger_PassportDataDoesntMatch_Warning: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 {0}, \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e',
    changePassport_Action_Title: '\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442',
    passenger_NoGdsPassport_Warning: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 {0}, \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',
    passenger_PassportExpired_Warning: '\u041d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430, \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u043b\u0435\u0442\u0430',
    aviaTicket_PassengerPassportRequired: '\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435',
    documentMetric_IncorrectPassport: '\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445',
    documentMetric_NoPassport: '\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f',
    documentMetric_PassportProblem: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
    aviaDocumentProcessForm_CopyPassportGdsString: '\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0434\u043b\u044f GDS',
    documentMetric_Urgent: '\u0441\u0440\u043e\u0447\u043d\u044b\u0445',
    setPassengerAsCustomer_Action_Title: '\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430',
    passport_List_Title: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 {0}',
    passport_PrivateData: '\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435',
    gender_Female: 'F',
    gender_Male: 'M',
    passport_IssuedBy: '\u0412\u044b\u0434\u0430\u043d',
    setPassenger_Action_Title: '\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c {0}',
    mar8Congratulations: '\u0421 8 \u043c\u0430\u0440\u0442\u0430!',
    passportCompare_Caption: '\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043e\u0432',
    passportCompare_GdsPassport: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 GDS',
    passportCompare_PersonPassport: '\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435',
    passportCompare_UseGdsPassport: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 GDS',
    passportCompare_UsePersonPassport: '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
    comparePassports: '\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
    calculateCommissionDiscount_Text: '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u043e\u0442 \u043a\u043e\u043c. \u0410\u041a',
    cashPaymentRegisterForm_DoCreateConsignment: '\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e',
    menu_Reports: '\u041e\u0442\u0447\u0435\u0442\u044b',
    addConsignmentItems_Title: '\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0432 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e',
    enterInvoiceNumber_Text: '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430',
    issueConsignmentAction: '\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e',
    issued_Consignment: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u0430 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f {0}',
    menu_GetByOrderNumber: '\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0437\u0430\u043a\u0430\u0437\u0430...',
    noInvoiceFound_Text: '\u0421\u0447\u0435\u0442 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c {0} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d',
    invoiceItemsInConsignments_Warn: '\u0412\u0441\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0441\u0447\u0435\u0442\u0430/\u0441\u0447\u0435\u0442\u043e\u0432 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u043a \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u043c',
    issueInvoice_Title: '\u0412\u044b\u043f\u0443\u0441\u043a \u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430',
    issueCompletionCertificate_Title: '\u0412\u044b\u043f\u0443\u0441\u043a \u0430\u043a\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442',
    invoice_IssueDate: '\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430',
    auto: '\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438',
    issue: '\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c',
    invoiceIssued_Msg: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d \u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u0447\u0435\u0442 \u2116{0}',
    printedInvoice_Text: '{0} \u043e\u0442 {1} \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 <b>{2}</b>',
    invoice_Reissue: '\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c ',
    order_IssueReceipt_Action: '\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044e',
    cashInOrderPayment_DocumentName: '\u2116 \u041f\u041a\u041e',
    cashOutOrderPayment_DocumentName: '\u2116 \u0420\u041a\u041e',
    checkPayment_DocumentName: '\u2116 \u0447\u0435\u043a\u0430',
    wireTransfer_DocumentName: '\u2116 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0443\u0447\u0435\u043d\u0438\u044f',
    payment_CreateCashInOrder_Action: '\u041f\u041a\u041e',
    payment_CreateCashOutOrder_Action: '\u0420\u041a\u041e',
    payment_CreateCheckPayment_Action: '\u043f\u043e \u0447\u0435\u043a\u0443',
    payment_CreateNonCashPayment_Action: '\u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439',
    payment_CreatePayment_Action: '\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436',
    cashInOrderPayment_SavePosted: '\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c',
    orderView_IssuedInvoice_Html: ' \u043e\u0442 <b>{0}</b> \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 <b>{1}</b>',
    orderItems: '\u041f\u043e\u0437\u0438\u0446\u0438\u0438',
    payments: '\u041f\u043b\u0430\u0442\u0435\u0436\u0438',
    cashInOrderPayment_DocumentName_Format: '\u041f\u041a\u041e \u2116{0}',
    cashOutOrderPayment_DocumentName_Format: '\u0420\u041a\u041e \u2116{0}',
    checkPayment_DocumentName_Format: '\u0427\u0435\u043a \u2116{0}',
    wireTransfer_DocumentName_Format: '\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0435 \u043f\u043e\u0440\u0443\u0447\u0435\u043d\u0438\u0435 \u2116{0}',
    receiptIssued_Msg: '\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u0430 \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f \u2116{0}',
    newOrder_Action: '\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437',
    quickReceipt_Action: '\u0411\u044b\u0441\u0442\u0440\u0430\u044f \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
    newTask_Action: '\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430',
    quickReceipt_AviaTickets: '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b',
    quickReceipt_Title: '\u0411\u044b\u0441\u0442\u0440\u0430\u044f \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
    create: '\u0421\u043e\u0437\u0434\u0430\u0442\u044c',
    quickReceipt_Created_Msg: '\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043do {0}',
    quickCashPayment_Consiment_Msg: ' , \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f {2}',
    quickCashPayment_Msg: '\u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043f\u043b\u0430\u0442\u0435\u0436 {0}, \u0437\u0430\u043a\u0430\u0437 {1}',
    paymentView_Document: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
    orderStatusChange_Action: '\u0441\u0442\u0430\u0442\u0443\u0441',
    orderStatusChange_Msg: "\u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 {1} \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0442\u0443\u0442\u0430\u0441 '{0}'",
    orderStatusChange_Title: '\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430',
    invoice_List: '\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
    quickReceipt_ServiceFee: '\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
    payment_Invoice: '\u0421\u0447\u0435\u0442 / \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
    orderStatusChange_Msg_Short: "\u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0442\u0443\u0442\u0430\u0441 '{0}'",
    order_CannotRestoreOrder_Msg: '\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437:',
    overpay: '\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430:',
    payment_CreateElecronicPayment_Action: '\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439',
    personView_Personal_Info: '\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435',
    electronicPayment_DocumentName: '\u2116 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438',
    electronicPayment_DocumentName_Format: '{0}\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u2116{1}',
    payment_DocumentNumber: '\u0414\u0435\u0442\u0430\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
    aviaDocumentProcessForm_CustomerChanged: '\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0417\u0430\u043a\u0430\u0437\u0435. \u041f\u043e\u043b\u0435 \u0417\u0430\u043a\u0430\u0437 \u0431\u0443\u0434\u0435\u0442 \u043e\u0447\u0438\u0449\u0435\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
    partyView_Confirm_File_Delete: '\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b {0}?',
    invoice_Deleted_Message: '\u0421\u0447\u0451\u0442 {0} \u0443\u0434\u0430\u043b\u0451\u043d',
    invoice_Delete_Confirmation: '\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0447\u0451\u0442 {0}',
    receipt_Deleted_Message: '\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f {0} \u0443\u0434\u0430\u043b\u0435\u043d\u0430',
    receipt_Delete_Confirmation: '\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044e {0}',
    organizationView_Info: '\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438',
    fileUpload_Title: '\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430',
    departmentView_Info: '\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438',
    orderView_IsNotPublic: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u0438\u0434\u0435\u043d \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443',
    orderView_IsPublic: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u0438\u0434\u0435\u043d \u0432\u0441\u0435\u043c',
    applicationVersionChanged: '\u041e\u0431\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u0435\u0440\u0441\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u0414\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435',
    attention: '\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415',
    aviaDocument_Blank_Action: '\u0431\u043b\u0430\u043d\u043a \u0423\u0412\u0426',
    unbalancedReportForm_IncludeOrders: '\u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c',
    unbalancedReport: '\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u0430\u043c',
    task_Add: '\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443',
    taskStatusChanged_Msg: "\u0417\u0430\u0434\u0430\u0447\u0430 '{0}' {1}",
    apply: '\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c',
    homeSettingsForm_Reports: '\u041f\u0435\u0440\u0438\u043e\u0434 \u0434\u043d\u0435\u0432\u043d\u044b\u0445 \u043e\u0442\u0447\u0435\u0442\u043e\u0432',
    homeSettingsForm_IntervalTooBig: '\u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 10 \u0434\u043d\u0435\u0439',
    homeSettingsForm_IntervalTooSmall: '\u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f',
    homeSettingsForm_Title: '\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430',
    invoiceIssueForm_ShowPaid: '\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u0443\u043c\u043c\u0443 \u043e\u043f\u043b\u0430\u0442',
    payment_CreateInternalTransfer_Action: '\u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434',
    updateAnalytics_Action: '\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0443',
    updateAnalytics_Info: '\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435',
    updateAnalytics_Success: '\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430',
    updateAnalytics_Error: '\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430:<br/><br/>',
    aviaConsoleParser_Action: '\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u0437 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430',
    aviaConsoleParserForm_Title: '\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043e\u043a \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043f\u0438\u0438 \u044d\u043a\u0440\u0430\u043d\u0430 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430',
    aviaConsoleParserForm_Parse: '\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b'
};


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ClosedPeriodListTab

Luxena.Travel.ClosedPeriodListTab = function Luxena_Travel_ClosedPeriodListTab(tabId, args) {
    Luxena.Travel.ClosedPeriodListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.ClosedPeriodListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_ClosedPeriodListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.DateFrom, this._se$10.DateTo, this._se$10.PeriodState, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    preInitialize: function Luxena_Travel_ClosedPeriodListTab$preInitialize() {
        Luxena.Travel.ClosedPeriodListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.ClosedPeriod;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ClosedPeriodEditForm

Luxena.Travel.ClosedPeriodEditForm = function Luxena_Travel_ClosedPeriodEditForm() {
    Luxena.Travel.ClosedPeriodEditForm.initializeBase(this);
}
Luxena.Travel.ClosedPeriodEditForm.prototype = {
    
    initialize: function Luxena_Travel_ClosedPeriodEditForm$initialize() {
        Luxena.Travel.Services.ClosedPeriodService.GetLastClosedPeriod(ss.Delegate.create(this, function(result) {
            if (!ss.isValue(result)) {
                return;
            }
            var lastDateTo = (result).DateTo;
            lastDateTo.setDate(lastDateTo.getDate() + 1);
            this.setCurrentValue('DateFrom', lastDateTo);
        }), null);
    },
    
    createControls: function Luxena_Travel_ClosedPeriodEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$3.DateFrom, this._se$3.DateTo, this._se$3.PeriodState ]));
    },
    
    preInitialize: function Luxena_Travel_ClosedPeriodEditForm$preInitialize() {
        Luxena.Travel.ClosedPeriodEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.ClosedPeriod;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel._contractEditForm

Luxena.Travel._contractEditForm = function Luxena_Travel__contractEditForm() {
    Luxena.Travel._contractEditForm.initializeBase(this);
}
Luxena.Travel._contractEditForm.prototype = {
    
    createControls: function Luxena_Travel__contractEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$3.Number, this._se$3.IssueDate, this._se$3.Customer, this._se$3.DiscountPc, this._se$3.Note ]));
    },
    
    preInitialize: function Luxena_Travel__contractEditForm$preInitialize() {
        Luxena.Travel._contractEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.Contract;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel._contractListTab

Luxena.Travel._contractListTab = function Luxena_Travel__contractListTab(tabId, args) {
    Luxena.Travel._contractListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel._contractListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel__contractListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Number.toColumn(false, 120), this._se$10.IssueDate, this._se$10.Customer, this._se$10.DiscountPc, this._se$10.Note.toColumn(true) ]);
    },
    
    preInitialize: function Luxena_Travel__contractListTab$preInitialize() {
        Luxena.Travel._contractListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.Contract;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CurrencyDailyRateEditForm

Luxena.Travel.CurrencyDailyRateEditForm = function Luxena_Travel_CurrencyDailyRateEditForm() {
    Luxena.Travel.CurrencyDailyRateEditForm.initializeBase(this);
}
Luxena.Travel.CurrencyDailyRateEditForm.prototype = {
    
    getInitData: function Luxena_Travel_CurrencyDailyRateEditForm$getInitData() {
        return { Date: Date.get_today() };
    },
    
    createControls: function Luxena_Travel_CurrencyDailyRateEditForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$3.Date, this._se$3.UAH_EUR.toField(-2), this._se$3.UAH_RUB.toField(-2), this._se$3.UAH_USD.toField(-2), this._se$3.RUB_EUR.toField(-2), this._se$3.RUB_USD.toField(-2), this._se$3.EUR_USD.toField(-2) ]));
    },
    
    preInitialize: function Luxena_Travel_CurrencyDailyRateEditForm$preInitialize() {
        Luxena.Travel.CurrencyDailyRateEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.CurrencyDailyRate;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CurrencyDailyRateListTab

Luxena.Travel.CurrencyDailyRateListTab = function Luxena_Travel_CurrencyDailyRateListTab(tabId, args) {
    Luxena.Travel.CurrencyDailyRateListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.CurrencyDailyRateListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_CurrencyDailyRateListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Date, this._se$10.UAH_EUR, this._se$10.UAH_RUB, this._se$10.UAH_USD, this._se$10.RUB_EUR, this._se$10.RUB_USD, this._se$10.EUR_USD, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    preInitialize: function Luxena_Travel_CurrencyDailyRateListTab$preInitialize() {
        Luxena.Travel.CurrencyDailyRateListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.CurrencyDailyRate;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BankAccountListTab

Luxena.Travel.BankAccountListTab = function Luxena_Travel_BankAccountListTab(tabId, args) {
    Luxena.Travel.BankAccountListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.BankAccountListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_BankAccountListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name, this._se$11.Description, this._se$11.IsDefault.toColumn(false, 90), this._se$11.Note.toColumn(true), this._se$11.CreatedOn.toColumn(true), this._se$11.CreatedBy.toColumn(true), this._se$11.ModifiedOn.toColumn(true), this._se$11.ModifiedBy.toColumn(true) ]);
    },
    
    preInitialize: function Luxena_Travel_BankAccountListTab$preInitialize() {
        Luxena.Travel.BankAccountListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.BankAccount;
    },
    
    _se$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InternalTransferListTab

Luxena.Travel.InternalTransferListTab = function Luxena_Travel_InternalTransferListTab(tabId, args) {
    Luxena.Travel.InternalTransferListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.InternalTransferListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_InternalTransferListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Number, this._se$10.Date, this._se$10.FromOrder, this._se$10.FromParty, this._se$10.ToOrder, this._se$10.ToParty, this._se$10.Amount, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    preInitialize: function Luxena_Travel_InternalTransferListTab$preInitialize() {
        Luxena.Travel.InternalTransferListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.InternalTransfer;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InternalTransferEditForm

Luxena.Travel.InternalTransferEditForm = function Luxena_Travel_InternalTransferEditForm() {
    Luxena.Travel.InternalTransferEditForm.initializeBase(this);
}
Luxena.Travel.InternalTransferEditForm.prototype = {
    
    createControls: function Luxena_Travel_InternalTransferEditForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$3.Date, this.emptyRow(), this._se$3.FromOrder, this._se$3.FromParty.toField(-3), this._se$3.ToOrder, this._se$3.ToParty.toField(-3), this.emptyRow(), this._se$3.Amount ]));
    },
    
    preInitialize: function Luxena_Travel_InternalTransferEditForm$preInitialize() {
        Luxena.Travel.InternalTransferEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.InternalTransfer;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel._invoiceEditForm

Luxena.Travel._invoiceEditForm = function Luxena_Travel__invoiceEditForm() {
    Luxena.Travel._invoiceEditForm.initializeBase(this);
}
Luxena.Travel._invoiceEditForm.prototype = {
    
    createControls: function Luxena_Travel__invoiceEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$3.Number, this._se$3.IssueDate, this._se$3.Type, this._se$3.IssuedBy, this._se$3.Total, this._se$3.Vat ]));
    },
    
    preInitialize: function Luxena_Travel__invoiceEditForm$preInitialize() {
        Luxena.Travel._invoiceEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.Invoice;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OpeningBalanceListTab

Luxena.Travel.OpeningBalanceListTab = function Luxena_Travel_OpeningBalanceListTab(tabId, args) {
    Luxena.Travel.OpeningBalanceListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.OpeningBalanceListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_OpeningBalanceListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Number, this._se$10.Date, this._se$10.Party, this._se$10.Balance, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    preInitialize: function Luxena_Travel_OpeningBalanceListTab$preInitialize() {
        Luxena.Travel.OpeningBalanceListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.OpeningBalance;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OpeningBalanceEditForm

Luxena.Travel.OpeningBalanceEditForm = function Luxena_Travel_OpeningBalanceEditForm() {
    Luxena.Travel.OpeningBalanceEditForm.initializeBase(this);
}
Luxena.Travel.OpeningBalanceEditForm.prototype = {
    
    createControls: function Luxena_Travel_OpeningBalanceEditForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$3.Number, this._se$3.Date, this._se$3.Party.toField(-3), this._se$3.Balance ]));
    },
    
    preInitialize: function Luxena_Travel_OpeningBalanceEditForm$preInitialize() {
        Luxena.Travel.OpeningBalanceEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.OpeningBalance;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel._orderListTab

Luxena.Travel._orderListTab = function Luxena_Travel__orderListTab(tabId, args) {
    Luxena.Travel._orderListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel._orderListTab.prototype = {
    
    onInitGrid: function Luxena_Travel__orderListTab$onInitGrid(args, config) {
        Luxena.Travel._orderListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'IsVoid', 'TotalDue', 'DeliveryBalance', 'BillToName', 'ConsignmentRefs' ];
        args.setDefaultSort('IssueDate', 'DESC');
        config.view(new Luxena.Travel.OrderGridView());
    },
    
    createColumnConfigs: function Luxena_Travel__orderListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.IssueDate, this._se$10.Number, this._se$10.Customer.toColumn(false, 150), this._se$10.BillTo.toColumn(true, 150, function(value, metadata, record, rowIndex, colIndex, store) {
            return (value == null) ? record.get('BillToName') : LxnBase.UI.Controls.ObjectLink.renderValue(value);
        }), this._se$10.ConsignmentNumbers.toColumn(false, 100, LxnBase.UI.Controls.ObjectLink.referencesRenderer('ConsignmentRefs'), function(cfg) {
            cfg.sortable(false);
        }), this._se$10.ShipTo.toColumn(true, 150), this._se$10.Intermediary.toColumn(true, 150), this._se$10.Note.toColumn(true, 150), this._se$10.Discount.toColumn(true, 90), this._se$10.Total, this._se$10.Vat, this._se$10.CheckPaid, this._se$10.WirePaid, this._se$10.CreditPaid, this._se$10.RestPaid, this._se$10.Paid, this._se$10.TotalDue, this._se$10.ServiceFee.toColumn(true), this._se$10.DeliveryBalance, this._se$10.AssignedTo.toColumn(false, 150), this._se$10.Owner.toColumn(true), this._se$10.IsPublic.toColumn(true), this._se$10.IsSubjectOfPaymentsControl.toColumn(true), this._se$10.IsVoid.toColumn(true), this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    onAddToolbarButtons: function Luxena_Travel__orderListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._printButton$10 = this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(), ss.Delegate.create(this, this._printOrders$10), true);
        toolbarItems.insertRange(0, this.toolbarActions);
    },
    
    onSelectionChange: function Luxena_Travel__orderListTab$onSelectionChange(selectionModel) {
        var selections = (selectionModel).getSelections();
        this._printButton$10.setDisabled(!selections.length);
    },
    
    _printOrders$10: function Luxena_Travel__orderListTab$_printOrders$10() {
        var records = this.get_autoGrid().get_selectionModel().getSelections();
        var ids = [];
        var $enum1 = ss.IEnumerator.getEnumerator(records);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            ids.add(r.id);
        }
        var value = JSON.stringify(ids);
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/order/Order_{0}.pdf', Date.get_now().format('Y-m-d_H-i-s')), { orders: value });
    },
    
    _printButton$10: null,
    
    preInitialize: function Luxena_Travel__orderListTab$preInitialize() {
        Luxena.Travel._orderListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.Order;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ModificationListTab

Luxena.Travel.ModificationListTab = function Luxena_Travel_ModificationListTab(tabId, args) {
    Luxena.Travel.ModificationListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.ModificationListTab.prototype = {
    
    onInitGrid: function Luxena_Travel_ModificationListTab$onInitGrid(args, config) {
        Luxena.Travel.ModificationListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'InstanceType', 'InstanceId' ];
        args.setDefaultSort('TimeStamp', 'DESC');
    },
    
    createColumnConfigs: function Luxena_Travel_ModificationListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.TimeStamp.toColumn(false, 80), this._se$10.Author.toColumn(false, 100), this._se$10.Type.toColumn(false, 50), this._se$10.InstanceType.toColumn(true, 100), this._se$10.InstanceId.toColumn(true, 100), this._se$10.InstanceString.toColumn(false, 100, function(value, metadata, record, index, colIndex, store) {
            var type = Type.safeCast(record.get('InstanceType'), String);
            return LxnBase.UI.Controls.ObjectLink.render(record.get('InstanceId'), value || type, type);
        }), this._se$10.ItemsJson.toColumn(false, 500, function(value, metadata, record, index, colIndex, store) {
            if (!ss.isValue(value)) {
                return '';
            }
            var s = [];
            var props = eval(value);
            var $enum1 = ss.IEnumerator.getEnumerator(props);
            while ($enum1.moveNext()) {
                var prop = $enum1.current;
                s.add(prop[0] + ': ' + prop[1]);
            }
            return s.join(', ');
        }) ]);
    },
    
    preInitialize: function Luxena_Travel_ModificationListTab$preInitialize() {
        Luxena.Travel.ModificationListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.Modification;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ModificationEditForm

Luxena.Travel.ModificationEditForm = function Luxena_Travel_ModificationEditForm() {
    Luxena.Travel.ModificationEditForm.initializeBase(this);
}
Luxena.Travel.ModificationEditForm.prototype = {
    
    createControls: function Luxena_Travel_ModificationEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([]));
    },
    
    preInitialize: function Luxena_Travel_ModificationEditForm$preInitialize() {
        Luxena.Travel.ModificationEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.Modification;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IdentityListTab

Luxena.Travel.IdentityListTab = function Luxena_Travel_IdentityListTab(tabId, args) {
    Luxena.Travel.IdentityListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.IdentityListTab.prototype = {
    
    preInitialize: function Luxena_Travel_IdentityListTab$preInitialize() {
        Luxena.Travel.IdentityListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Identity;
    },
    
    _se$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IdentityEditForm

Luxena.Travel.IdentityEditForm = function Luxena_Travel_IdentityEditForm() {
    Luxena.Travel.IdentityEditForm.initializeBase(this);
}
Luxena.Travel.IdentityEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_IdentityEditForm$preInitialize() {
        Luxena.Travel.IdentityEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Identity;
    },
    
    _se$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UserVisitListTab

Luxena.Travel.UserVisitListTab = function Luxena_Travel_UserVisitListTab(tabId, args) {
    Luxena.Travel.UserVisitListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.UserVisitListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_UserVisitListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.StartDate.toColumn(false), this._se$10.User, this._se$10.IP, this._se$10.SessionId, this._se$10.Request ]);
    },
    
    preInitialize: function Luxena_Travel_UserVisitListTab$preInitialize() {
        Luxena.Travel.UserVisitListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.UserVisit;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UserVisitEditForm

Luxena.Travel.UserVisitEditForm = function Luxena_Travel_UserVisitEditForm() {
    Luxena.Travel.UserVisitEditForm.initializeBase(this);
}
Luxena.Travel.UserVisitEditForm.prototype = {
    
    createControls: function Luxena_Travel_UserVisitEditForm$createControls() {
        this.get_window().width = -4;
        this.get_form().add(this.mainDataPanel([ this._se$3.StartDate, this._se$3.User, this._se$3.IP, this._se$3.SessionId, this._se$3.Request ]));
    },
    
    preInitialize: function Luxena_Travel_UserVisitEditForm$preInitialize() {
        Luxena.Travel.UserVisitEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.UserVisit;
    },
    
    _se$3: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UserListTab

Luxena.Travel.UserListTab = function Luxena_Travel_UserListTab(tabId, args) {
    Luxena.Travel.UserListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.UserListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_UserListTab$createColumnConfigs() {
        this.addColumns([ this._se$12.Person, this._se$12.Active, this._se$12.Roles, this._se$12.Name, this._se$12.Description, this._se$12.IsAdministrator, this._se$12.IsSupervisor, this._se$12.IsAgent, this._se$12.IsCashier, this._se$12.IsAnalyst, this._se$12.IsSubAgent, this._se$12.AllowCustomerReport.toColumn(true), this._se$12.AllowRegistryReport.toColumn(true), this._se$12.AllowUnbalancedReport.toColumn(true), this._se$12.CreatedOn, this._se$12.CreatedBy, this._se$12.ModifiedOn, this._se$12.ModifiedBy ]);
    },
    
    preInitialize: function Luxena_Travel_UserListTab$preInitialize() {
        Luxena.Travel.UserListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$12 = this.dsm.User;
    },
    
    _se$12: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UserEditForm

Luxena.Travel.UserEditForm = function Luxena_Travel_UserEditForm() {
    Luxena.Travel.UserEditForm.initializeBase(this);
}
Luxena.Travel.UserEditForm.prototype = {
    
    createControls: function Luxena_Travel_UserEditForm$createControls() {
        this.get_window().width = -4;
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$5.Person, this.emptyRow(), this._se$5.Name, this._se$5.Password, this._se$5.ConfirmPassword, this._se$5.Description ]), this.mainDataPanel([ this._se$5.Active, this.emptyRow(), this._se$5.IsAdministrator, this._se$5.IsSupervisor, this._se$5.IsAgent, this._se$5.IsCashier, this._se$5.IsAnalyst, this._se$5.IsSubAgent, this.emptyRow(), this._se$5.AllowCustomerReport, this._se$5.AllowRegistryReport, this._se$5.AllowUnbalancedReport ]) ]));
    },
    
    preInitialize: function Luxena_Travel_UserEditForm$preInitialize() {
        Luxena.Travel.UserEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$5 = this.dsm.User;
    },
    
    _se$5: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CellRenderers

Luxena.Travel.CellRenderers = function Luxena_Travel_CellRenderers() {
}
Luxena.Travel.CellRenderers.right = function Luxena_Travel_CellRenderers$right(value, metadata, record, index, colIndex, store) {
    if (ss.isValue(value)) {
        return String.format("<div style='text-align: right'>{0}</div>", value);
    }
    return null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ReferenceSelectorConfig

Luxena.Travel.ReferenceSelectorConfig = function Luxena_Travel_ReferenceSelectorConfig(data) {
    Luxena.Travel.ReferenceSelectorConfig.initializeBase(this);
    var storeConfig = new Ext.data.JsonStoreConfig().fields([ 'Id', 'Name' ]);
    if (ss.isValue(data)) {
        storeConfig.data(data);
    }
    this.store(new Ext.data.JsonStore(storeConfig.toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BaseEditForm2

Luxena.Travel.BaseEditForm2 = function Luxena_Travel_BaseEditForm2() {
    Luxena.Travel.BaseEditForm2.initializeBase(this);
}
Luxena.Travel.BaseEditForm2.registerEdit = function Luxena_Travel_BaseEditForm2$registerEdit(className, formType) {
    LxnBase.UI.FormsRegistry.registerEdit(className, function(args) {
        LxnBase.Data.ConfigManager.getEditConfig(args.type, function(config) {
            var form = new formType();
            form.init(args, config);
            form.open();
        });
    });
}
Luxena.Travel.BaseEditForm2.prototype = {
    
    init: function Luxena_Travel_BaseEditForm2$init(args, config) {
        this._members$1 = new Luxena.Travel.FormMembers();
        this._args = args;
        this._itemConfig = config;
        if (this._args.onSave != null) {
            this.add_saved(this._args.onSave);
        }
        if (this._args.onCancel != null) {
            this.add_canceled(this._args.onCancel);
        }
        this.get_window().setTitle(String.format('{0} ({1})', this._itemConfig.Caption, (this._args.get_isNew()) ? LxnBase.BaseRes.creation : LxnBase.BaseRes.editing));
        this._saveButton = this.get_form().addButton(LxnBase.BaseRes.save, ss.Delegate.create(this, this.save));
        this._cancelButton = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
        this.set_fieldMaxWidth(160);
        this.get_form().labelWidth = 100;
        this.preInitialize();
        this.initialize();
        this.postInitialize();
    },
    
    preInitialize: function Luxena_Travel_BaseEditForm2$preInitialize() {
    },
    
    initialize: function Luxena_Travel_BaseEditForm2$initialize() {
    },
    
    postInitialize: function Luxena_Travel_BaseEditForm2$postInitialize() {
        this.createControls();
        var ldelta = this.get_form().labelWidth;
        if (this.get_window().width === -1) {
            this.get_window().width = 260 + ldelta;
        }
        else if (this.get_window().width === -2) {
            this.get_window().width = 410 + 2 * ldelta;
        }
        else if (this.get_window().width === -3) {
            this.get_window().width = 420 + ldelta;
        }
        else if (this.get_window().width === -4) {
            this.get_window().width = 540 + 2 * ldelta;
        }
        else if (this.get_window().width === -6) {
            this.get_window().width = 770 + 2 * ldelta;
        }
        var fields = [];
        this.get_members().addToFieldList(fields);
        this.set_fields(fields);
        var list = [];
        list.addRange(fields);
        list.add(this._saveButton);
        list.add(this._cancelButton);
        this.set_componentSequence(list);
    },
    
    getNameBy: function Luxena_Travel_BaseEditForm2$getNameBy(data) {
        return (data == null) ? '<empty>' : (data)['Name'];
    },
    
    onLoad: function Luxena_Travel_BaseEditForm2$onLoad(result) {
        this.set_updating(true);
        if (this._args.isCopy) {
            this._data$1 = this._args.fieldValues = result;
            (result)['Id'] = null;
            var $enum1 = ss.IEnumerator.getEnumerator(Object.keys(this._data$1));
            while ($enum1.moveNext()) {
                var name = $enum1.current;
                var value = this._data$1[name];
                if (!ss.isValue(value)) {
                    continue;
                }
                if (ss.isValue(value.length) && (typeof(value.push) === 'function')) {
                    var items = value;
                    var $enum2 = ss.IEnumerator.getEnumerator(items);
                    while ($enum2.moveNext()) {
                        var item = $enum2.current;
                        item.Id = null;
                        item.Version = 0;
                    }
                }
            }
        }
        else {
            if (ss.isValue(this._args.idToLoad)) {
                this.initData = result;
            }
            if (!ss.isValue(this.initData)) {
                this.initData = this.getInitData();
            }
            this._data$1 = this.initData;
        }
        this.get_members().loadValues();
        this.get_window().show();
        this.set_updating(false);
    },
    
    getInitData: function Luxena_Travel_BaseEditForm2$getInitData() {
        return null;
    },
    
    getData: function Luxena_Travel_BaseEditForm2$getData() {
        this._data$1 = {};
        if (this.initData != null) {
            this._data$1['Id'] = this.initData['Id'];
            this._data$1['Version'] = this.initData['Version'];
        }
        this.get_members().saveValues();
        return this._data$1;
    },
    
    isModified: function Luxena_Travel_BaseEditForm2$isModified() {
        return this.get_members().isModified();
    },
    
    save: function Luxena_Travel_BaseEditForm2$save() {
        if (!this.validate()) {
            return;
        }
        this._saveButton.setDisabled(true);
        if (this.initData == null || this.isModified()) {
            this.onSave();
        }
        else {
            this.cancel();
        }
    },
    
    onSaved: function Luxena_Travel_BaseEditForm2$onSaved(result) {
        if (ss.isUndefined(this._args.rangeRequest)) {
            if (ss.isValue(result)) {
                var dto = (result).Item;
                this.showSaveMessage(dto);
            }
        }
        Luxena.Travel.BaseEditForm2.callBaseMethod(this, 'onSaved', [ result ]);
    },
    
    showSaveMessage: function Luxena_Travel_BaseEditForm2$showSaveMessage(r) {
        LxnBase.MessageRegister.info(this._itemConfig.ListCaption, String.format('{0} {1}', (this._args.get_isNew()) ? LxnBase.BaseRes.created : LxnBase.BaseRes.updated, this.getNameBy(r)));
    },
    
    get_fieldMaxWidth: function Luxena_Travel_BaseEditForm2$get_fieldMaxWidth() {
        return this._fieldMaxWidth$1;
    },
    set_fieldMaxWidth: function Luxena_Travel_BaseEditForm2$set_fieldMaxWidth(value) {
        this._fieldMaxWidth$1 = value;
        return value;
    },
    
    _fieldMaxWidth$1: 0,
    
    get_updating: function Luxena_Travel_BaseEditForm2$get_updating() {
        return this._updating$1;
    },
    set_updating: function Luxena_Travel_BaseEditForm2$set_updating(value) {
        this._updating$1 = value;
        return value;
    },
    
    _updating$1: false,
    
    getValue: function Luxena_Travel_BaseEditForm2$getValue(name) {
        if (this._args.fieldValues != null && !ss.isNullOrUndefined(this._args.fieldValues[name])) {
            return this._args.fieldValues[name];
        }
        if (ss.isNullOrUndefined(this._data$1)) {
            return null;
        }
        var value = this._data$1[name];
        return (ss.isValue(value)) ? value : null;
    },
    
    setValue: function Luxena_Travel_BaseEditForm2$setValue(name, value) {
        this.get_data()[name] = value;
    },
    
    getCurrentValue: function Luxena_Travel_BaseEditForm2$getCurrentValue(name) {
        var $enum1 = ss.IEnumerator.getEnumerator(this.get_members().items);
        while ($enum1.moveNext()) {
            var member = $enum1.current;
            if (member.semantic._name !== name) {
                continue;
            }
            return member.getFields()[0].getValue();
        }
        return null;
    },
    
    setCurrentValue: function Luxena_Travel_BaseEditForm2$setCurrentValue(name, value) {
        var $enum1 = ss.IEnumerator.getEnumerator(this.get_members().items);
        while ($enum1.moveNext()) {
            var member = $enum1.current;
            if (member.semantic._name !== name) {
                continue;
            }
            member.getFields()[0].setValue(value);
            return;
        }
    },
    
    completeSave: function Luxena_Travel_BaseEditForm2$completeSave(result) {
        this._saveButton.setDisabled(false);
        Luxena.Travel.BaseEditForm2.callBaseMethod(this, 'completeSave', [ result ]);
    },
    
    failSave: function Luxena_Travel_BaseEditForm2$failSave(result) {
        this._saveButton.setDisabled(false);
        Luxena.Travel.BaseEditForm2.callBaseMethod(this, 'failSave', [ result ]);
    },
    
    addEditors: function Luxena_Travel_BaseEditForm2$addEditors(fieldList, editors) {
        if (fieldList == null) {
            fieldList = [];
        }
        var $enum1 = ss.IEnumerator.getEnumerator(editors);
        while ($enum1.moveNext()) {
            var editor = $enum1.current;
            if (!ss.isValue(editor)) {
                continue;
            }
            var member = Type.safeCast(editor, Luxena.Travel.SemanticMember);
            fieldList.add((member != null) ? member.toEditor() : editor);
        }
        return fieldList;
    },
    
    tabPane: function Luxena_Travel_BaseEditForm2$tabPane(title, items) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, items)).layout('form').title(title).toDictionary());
    },
    
    tabMainPane: function Luxena_Travel_BaseEditForm2$tabMainPane(title, items) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, items)).layout('form').cls('main-data').title(title).toDictionary());
    },
    
    tabColumnPane: function Luxena_Travel_BaseEditForm2$tabColumnPane(title, items) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, items)).layout('column').title(title).toDictionary());
    },
    
    tabFitPane: function Luxena_Travel_BaseEditForm2$tabFitPane(title, item) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, [ item ])).layout('fit').title(title).toDictionary());
    },
    
    mainDataPanel: function Luxena_Travel_BaseEditForm2$mainDataPanel(items) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, items)).layout('form').cls('main-data').toDictionary());
    },
    
    columnPanel: function Luxena_Travel_BaseEditForm2$columnPanel(items) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, items)).layout('column').toDictionary());
    },
    
    formPanel: function Luxena_Travel_BaseEditForm2$formPanel(items) {
        return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null, items)).layout('form').toDictionary());
    },
    
    _data$1: null,
    
    get_data: function Luxena_Travel_BaseEditForm2$get_data() {
        return this._data$1;
    },
    
    initData: null,
    _args: null,
    
    get_args: function Luxena_Travel_BaseEditForm2$get_args() {
        return this._args;
    },
    
    _itemConfig: null,
    _saveButton: null,
    _cancelButton: null,
    
    get_members: function Luxena_Travel_BaseEditForm2$get_members() {
        return this._members$1;
    },
    
    _members$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.EntityEditForm

Luxena.Travel.EntityEditForm = function Luxena_Travel_EntityEditForm() {
    Luxena.Travel.EntityEditForm.initializeBase(this);
}
Luxena.Travel.EntityEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_EntityEditForm$preInitialize() {
        Luxena.Travel.EntityEditForm.callBaseMethod(this, 'preInitialize');
        this.dsm = new Luxena.Travel.SemanticDomain(this);
        this.get_window().cls += ' editform';
        this.get_window().width = -3;
        this.get_window().addListener('beforeclose', ss.Delegate.create(this, this._onWindowBeforeClose$2));
    },
    
    dsm: null,
    entity: null,
    
    get_className: function Luxena_Travel_EntityEditForm$get_className() {
        return this.entity._className;
    },
    
    getNameBy: function Luxena_Travel_EntityEditForm$getNameBy(data) {
        return this.entity.getName(data);
    },
    
    postInitialize: function Luxena_Travel_EntityEditForm$postInitialize() {
        if (!ss.isValue(this.entity)) {
            throw new Error(Type.getInstanceType(this).get_name() + ': not assigned ViewEntity Entity');
        }
        Luxena.Travel.EntityEditForm.callBaseMethod(this, 'postInitialize');
    },
    
    open: function Luxena_Travel_EntityEditForm$open() {
        if (this._args.mode === LxnBase.UI.LoadMode.local) {
            this.onLoad(this._args.fieldValues);
        }
        else {
            Luxena.Travel.Services.DomainService.get(this.get_className(), this._args.idToLoad, ss.Delegate.create(this, this.onLoad), null);
        }
    },
    
    onSave: function Luxena_Travel_EntityEditForm$onSave() {
        if (this._args.mode === LxnBase.UI.LoadMode.local) {
            this.completeSave(LxnBase.Data.ItemResponse.create(this.getData()));
        }
        else {
            Luxena.Travel.Services.DomainService.update(this.get_className(), this.getData(), this._args.rangeRequest, ss.Delegate.create(this, this.completeSave), ss.Delegate.create(this, this.failSave));
        }
    },
    
    completeSave: function Luxena_Travel_EntityEditForm$completeSave(result) {
        if (ss.isValue(result)) {
            var r = (result).Item;
            r[LxnBase.Data.ObjectPropertyNames.reference] = this.getNameBy(r);
            r[LxnBase.Data.ObjectPropertyNames.objectClass] = this.get_className();
        }
        Luxena.Travel.EntityEditForm.callBaseMethod(this, 'completeSave', [ result ]);
    },
    
    showSaveMessage: function Luxena_Travel_EntityEditForm$showSaveMessage(r) {
        LxnBase.MessageRegister.info(this._itemConfig.ListCaption, String.format('{0} {1}', (this._args.get_isNew()) ? LxnBase.BaseRes.created : LxnBase.BaseRes.updated, LxnBase.UI.Controls.ObjectLink.render(r['Id'], this.getNameBy(r), this.get_className())));
    },
    
    _onWindowBeforeClose$2: function Luxena_Travel_EntityEditForm$_onWindowBeforeClose$2(panel) {
        if (this.get_isSaved() || this.get_isCanceled()) {
            return true;
        }
        if (this.isModified()) {
            LxnBase.UI.MessageBoxWrap.show({ buttons: Ext.MessageBox.YESNOCANCEL, title: LxnBase.BaseRes.confirmation, icon: Ext.MessageBox.QUESTION, msg: LxnBase.BaseRes.saveChenges_Msg, fn: ss.Delegate.create(this, function(btn) {
                var button = btn;
                if (button === 'yes') {
                    this.save();
                }
                else if (button === 'no') {
                    this.cancel();
                }
            }) });
            return false;
        }
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity3EditForm

Luxena.Travel.Entity3EditForm = function Luxena_Travel_Entity3EditForm() {
    Luxena.Travel.Entity3EditForm.initializeBase(this);
}
Luxena.Travel.Entity3EditForm.prototype = {
    
    createControls: function Luxena_Travel_Entity3EditForm$createControls() {
        var se = this.entity;
        this.get_form().add(this.mainDataPanel([ se.Name.toField(-3) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity3DEditForm

Luxena.Travel.Entity3DEditForm = function Luxena_Travel_Entity3DEditForm() {
    Luxena.Travel.Entity3DEditForm.initializeBase(this);
}
Luxena.Travel.Entity3DEditForm.prototype = {
    
    createControls: function Luxena_Travel_Entity3DEditForm$createControls() {
        var se = this.entity;
        this.get_form().add(this.mainDataPanel([ se.Name.toField(-3), se.Description.toField(-3) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.EntityListTab

Luxena.Travel.EntityListTab = function Luxena_Travel_EntityListTab(tabId, args) {
    Luxena.Travel.EntityListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.EntityListTab.prototype = {
    
    preInitialize: function Luxena_Travel_EntityListTab$preInitialize() {
        Luxena.Travel.EntityListTab.callBaseMethod(this, 'preInitialize');
        this.dsm = new Luxena.Travel.SemanticDomain(this);
    },
    
    dsm: null,
    entity: null,
    
    get_className: function Luxena_Travel_EntityListTab$get_className() {
        return this.entity._className;
    },
    
    handleInsertPress: function Luxena_Travel_EntityListTab$handleInsertPress() {
        this.create(this.get_className());
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity3ListTab

Luxena.Travel.Entity3ListTab = function Luxena_Travel_Entity3ListTab(tabId, args) {
    Luxena.Travel.Entity3ListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.Entity3ListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_Entity3ListTab$createColumnConfigs() {
        var se = this.entity;
        this.addColumns([ se.Name, se.CreatedOn.toColumn(true, 90), se.CreatedBy.toColumn(true, 90), se.ModifiedOn.toColumn(true, 90), se.ModifiedBy.toColumn(true, 90) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity3DListTab

Luxena.Travel.Entity3DListTab = function Luxena_Travel_Entity3DListTab(tabId, args) {
    Luxena.Travel.Entity3DListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.Entity3DListTab.prototype = {
    
    createColumnConfigs: function Luxena_Travel_Entity3DListTab$createColumnConfigs() {
        var se = this.entity;
        this.addColumns([ se.Name, se.Description, se.CreatedOn.toColumn(true, 90), se.CreatedBy.toColumn(true, 90), se.ModifiedOn.toColumn(true, 90), se.ModifiedBy.toColumn(true, 90) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BoolSemanticType

Luxena.Travel.BoolSemanticType = function Luxena_Travel_BoolSemanticType() {
    Luxena.Travel.BoolSemanticType.initializeBase(this);
}
Luxena.Travel.BoolSemanticType.prototype = {
    formatString: null,
    
    get_defaultWidth: function Luxena_Travel_BoolSemanticType$get_defaultWidth() {
        return 24;
    },
    
    toColumn: function Luxena_Travel_BoolSemanticType$toColumn(sm, cfg) {
        cfg.width(80);
        cfg.renderer(function(value) {
            return (value) ? "<div class='checkBoxDisabled checked'></div>" : '';
        });
    },
    
    toField: function Luxena_Travel_BoolSemanticType$toField(form, sm, width, initMember) {
        var config = new Ext.form.CheckboxConfig();
        if (!ss.isValue(width)) {
            width = -1;
        }
        this.initFieldConfig(form, sm, width, config);
        if (width < 0 && ss.isValue(sm._title)) {
            config.fieldLabel('');
            config.labelSeparator('');
            config.boxLabel(sm._title);
        }
        var member = form.get_members().add2(form, sm, config, initMember);
        return member.setField(new Ext.form.Checkbox(config.toDictionary()));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ViewTypes

Luxena.Travel.ViewTypes = function Luxena_Travel_ViewTypes() {
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SemanticMember

Luxena.Travel.SemanticMember = function Luxena_Travel_SemanticMember() {
    Luxena.Travel.SemanticMember.initializeBase(this);
}
Luxena.Travel.SemanticMember.prototype = {
    isBool: false,
    
    bool: function Luxena_Travel_SemanticMember$bool() {
        this._type = Luxena.Travel.ViewTypes.bool;
        this._required = true;
        this.isBool = true;
        return this;
    },
    
    _localReferenceWebMethod: null,
    
    localReference: function Luxena_Travel_SemanticMember$localReference(webMethod) {
        this._type = Luxena.Travel.ViewTypes.localReference;
        this._isReference = true;
        this._localReferenceWebMethod = webMethod;
        return this;
    },
    
    enumReference: function Luxena_Travel_SemanticMember$enumReference(referenceClassName) {
        this._type = Luxena.Travel.ViewTypes.localReference;
        this._isReference = true;
        this._getReferenceEntity = function(dsm) {
            return (dsm)[referenceClassName];
        };
        this._localReferenceWebMethod = Luxena.Travel.ViewTypes.localReference.getSuggest(this);
        return this;
    },
    
    isMoney: false,
    
    money: function Luxena_Travel_SemanticMember$money() {
        this._type = Luxena.Travel.ViewTypes.money;
        this.isMoney = true;
        return this;
    },
    
    defaultMoney: function Luxena_Travel_SemanticMember$defaultMoney() {
        this._type = Luxena.Travel.ViewTypes.defaultMoney;
        this.isMoney = true;
        return this;
    },
    
    defaultOnlyMoney: function Luxena_Travel_SemanticMember$defaultOnlyMoney() {
        this._type = Luxena.Travel.ViewTypes.defaultOnlyMoney;
        this.isMoney = true;
        return this;
    },
    
    isEnum: false,
    _enumItems: null,
    
    getEnumItemName: function Luxena_Travel_SemanticMember$getEnumItemName(value) {
        if (ss.isNullOrUndefined(this._enumItems)) {
            return '';
        }
        var $enum1 = ss.IEnumerator.getEnumerator(this._enumItems);
        while ($enum1.moveNext()) {
            var item = $enum1.current;
            if (item[0] === value) {
                return item[1];
            }
        }
        return '';
    },
    
    enumItems: function Luxena_Travel_SemanticMember$enumItems(items) {
        this._type = Luxena.Travel.ViewTypes.enumeration;
        this._enumItems = items;
        this.isEnum = true;
        return this;
    },
    
    enumsItems: function Luxena_Travel_SemanticMember$enumsItems(items) {
        this._type = Luxena.Travel.ViewTypes.enumerations;
        this._enumItems = items;
        this.isEnum = true;
        return this;
    },
    
    _isReference: false,
    _getReferenceEntity: null,
    
    reference: function Luxena_Travel_SemanticMember$reference(referenceClassName) {
        this._type = Luxena.Travel.ViewTypes.reference;
        this._isReference = true;
        this._getReferenceEntity = function(dsm) {
            return (dsm)[referenceClassName];
        };
        return this;
    },
    
    int32: function Luxena_Travel_SemanticMember$int32() {
        this._type = Luxena.Travel.ViewTypes.int32;
        return this;
    },
    
    float2: function Luxena_Travel_SemanticMember$float2() {
        this._type = Luxena.Travel.ViewTypes.float2;
        return this;
    },
    
    float4: function Luxena_Travel_SemanticMember$float4() {
        this._type = Luxena.Travel.ViewTypes.float4;
        return this;
    },
    
    isDate: false,
    
    date: function Luxena_Travel_SemanticMember$date() {
        this._type = Luxena.Travel.ViewTypes.date;
        this.isDate = true;
        this.columnWidth = 90;
        return this;
    },
    
    dateTime: function Luxena_Travel_SemanticMember$dateTime() {
        this._type = Luxena.Travel.ViewTypes.dateTime;
        this.isDate = true;
        this.columnWidth = 140;
        return this;
    },
    
    dateTime2: function Luxena_Travel_SemanticMember$dateTime2() {
        this._type = Luxena.Travel.ViewTypes.dateTime2;
        this.isDate = true;
        this.columnWidth = 160;
        return this;
    },
    
    time: function Luxena_Travel_SemanticMember$time() {
        this._type = Luxena.Travel.ViewTypes.time;
        this.isDate = true;
        return this;
    },
    
    time2: function Luxena_Travel_SemanticMember$time2() {
        this._type = Luxena.Travel.ViewTypes.time2;
        this.isDate = true;
        return this;
    },
    
    string: function Luxena_Travel_SemanticMember$string(maxLength) {
        this._type = Luxena.Travel.ViewTypes.string;
        this._maxLength = (ss.isNullOrUndefined(maxLength)) ? 0 : maxLength;
        return this;
    },
    
    text: function Luxena_Travel_SemanticMember$text(lineCount) {
        this._type = Luxena.Travel.ViewTypes.string;
        this._lineCount = (lineCount > 0) ? lineCount : 3;
        return this;
    },
    
    password: function Luxena_Travel_SemanticMember$password() {
        this._type = Luxena.Travel.ViewTypes.password;
        return this;
    },
    
    _passwordFieldName: null,
    
    confirmPassword: function Luxena_Travel_SemanticMember$confirmPassword(passwordFieldName) {
        this._type = Luxena.Travel.ViewTypes.confirmPassword;
        this._passwordFieldName = passwordFieldName || 'Password';
        return this;
    },
    
    initialize: function Luxena_Travel_SemanticMember$initialize() {
        this.toEditor = ss.Delegate.create(this, function() {
            return this.toField();
        });
    },
    
    _entity: null,
    
    title: function Luxena_Travel_SemanticMember$title(value) {
        this._title = value;
        return this;
    },
    
    titles: function Luxena_Travel_SemanticMember$titles(value) {
        this._titles = value;
        return this;
    },
    
    _type: null,
    
    type: function Luxena_Travel_SemanticMember$type(value) {
        this._type = value;
        return this;
    },
    
    _emptyText: null,
    
    emptyText: function Luxena_Travel_SemanticMember$emptyText(value) {
        this._emptyText = value;
        return this;
    },
    
    _defaultValue: null,
    
    defaultValue: function Luxena_Travel_SemanticMember$defaultValue(value) {
        this._defaultValue = value;
        return this;
    },
    
    _required: false,
    
    required: function Luxena_Travel_SemanticMember$required() {
        this._required = true;
        return this;
    },
    
    _maxLength: 0,
    
    maxLength: function Luxena_Travel_SemanticMember$maxLength(value) {
        this._maxLength = value;
        return this;
    },
    
    _lineCount: 0,
    
    lineCount: function Luxena_Travel_SemanticMember$lineCount(value) {
        this._lineCount = value;
        return this;
    },
    
    entityDate: function Luxena_Travel_SemanticMember$entityDate() {
        this.columnRenderer = this.getDateRenderer();
        return this;
    },
    
    entityName: function Luxena_Travel_SemanticMember$entityName() {
        if (Type.canCast(this._type, Luxena.Travel.StringSemanticType)) {
            this.columnRenderer = this.getNameRenderer();
        }
        return this;
    },
    
    secondary: function Luxena_Travel_SemanticMember$secondary() {
        this.columnIsHidden = true;
        return this;
    },
    
    utility: function Luxena_Travel_SemanticMember$utility() {
        this.columnIsHidden = true;
        return this;
    },
    
    columnIsHidden: false,
    columnWidth: null,
    columnRenderer: null,
    columnInitAction: null,
    
    getDateRenderer: function Luxena_Travel_SemanticMember$getDateRenderer(className) {
        return ss.Delegate.create(this, function(value, metadata, record, index, colIndex, store) {
            if (!ss.isValue(value)) {
                return '';
            }
            if (!ss.isValue(className)) {
                className = this._className;
            }
            value = (ss.isValue(this._type)) ? this._type.getString(this, value) : (value).format('d.m.Y');
            return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(className)(value, metadata, record, index, colIndex, store);
        });
    },
    
    setColumn: function Luxena_Travel_SemanticMember$setColumn(isHidden, elWidth, renderer, initAction) {
        this.columnIsHidden = isHidden;
        this.columnWidth = elWidth;
        this.columnRenderer = renderer;
        this.columnInitAction = initAction;
        return this;
    },
    
    toColumn: function Luxena_Travel_SemanticMember$toColumn(isHidden, elWidth, renderer, initAction) {
        if (!ss.isValue(isHidden)) {
            isHidden = this.columnIsHidden;
        }
        if (!ss.isValue(elWidth)) {
            elWidth = this.columnWidth;
        }
        if (!ss.isValue(renderer)) {
            renderer = this.columnRenderer;
        }
        if (!ss.isValue(initAction)) {
            initAction = this.columnInitAction;
        }
        var cfg = this.gridForm.columnCfg_(this._name, isHidden, elWidth, renderer, initAction);
        cfg.header(this._title || this._name);
        this._type.toColumn(this, cfg);
        if (ss.isValue(renderer)) {
            cfg.renderer(renderer);
        }
        return cfg.toDictionary();
    },
    
    toEditor: null,
    toEditor1: null,
    toEditor2: null,
    
    setEditor: function Luxena_Travel_SemanticMember$setEditor(width, initMember) {
        this.toEditor = ss.Delegate.create(this, function() {
            return this.toField(width, initMember);
        });
        return this;
    },
    
    toField: function Luxena_Travel_SemanticMember$toField(width, initMember) {
        if (!ss.isValue(initMember)) {
            initMember = null;
        }
        if (this._field$1 != null) {
            return this._field$1;
        }
        if (!ss.isValue(this._type)) {
            LxnBase.Log.loga('ERROR: ViewMember.ToField: _type is null', this);
        }
        return this._field$1 = this._type.toField(this.editForm, this, width, initMember);
    },
    
    toHtmlTd2: function Luxena_Travel_SemanticMember$toHtmlTd2(r, required) {
        if (ss.isNullOrUndefined(r)) {
            return '';
        }
        var value = (r)[this._name];
        if (ss.isNullOrUndefined(value)) {
            if (required) {
                return "<td class='fieldLabel'>" + this._title + ':</td><td/>';
            }
            else {
                return '';
            }
        }
        var label = "<td class='fieldLabel'>" + this._title + ':</td>';
        return label + "<td class='fieldValue'>" + this.getValueHtml(r, value) + '</td>';
    },
    
    getValueHtml: function Luxena_Travel_SemanticMember$getValueHtml(r, value) {
        if (ss.isNullOrUndefined(value)) {
            value = (r)[this._name];
        }
        value = this._type.getString(this, value);
        return (ss.isNullOrUndefined(value)) ? '&nbsp;' : value.toString();
    },
    
    toHtmlTr2: function Luxena_Travel_SemanticMember$toHtmlTr2(r, required) {
        if (ss.isNullOrUndefined(r)) {
            return '';
        }
        var html = this.toHtmlTd2(r, required);
        return (String.isNullOrEmpty(html)) ? html : '<tr>' + html + '</tr>';
    },
    
    toHtmlTd4: function Luxena_Travel_SemanticMember$toHtmlTd4(r, required, hideLabel, bold, onclick) {
        if (!ss.isValue(r)) {
            return '';
        }
        var value = (r)[this._name];
        if (!ss.isValue(value) || this.isMoney && !(value).Amount) {
            if (required) {
                return "<td class='fieldLabel error'>" + ((hideLabel) ? '' : this._title) + ':</td><td/><td/><td/>';
            }
            else {
                return '';
            }
        }
        var label = (hideLabel) ? '<td/>' : "<td class='fieldLabel'>" + this._title + ':</td>';
        var btn = (String.isNullOrEmpty(onclick)) ? '<td/>' : (onclick.indexOf('</') > 0) ? onclick : "<td><div id='showFeesButton' class='showFeesBtn feesClosed' href='javascript:void(0)' onclick='" + onclick + "' ></div></td>";
        var cls = (this._name === 'GrandTotal') ? 'total' : (bold) ? '' : 'gray';
        if (this.isMoney) {
            var money = value;
            return label + "<td class='fieldValue " + cls + " rightAlign amount'>" + money.Amount.format('N2') + '</td>' + "<td class='fieldValue " + cls + "'>" + ((money.Currency != null) ? money.Currency.Name : '&nbsp;') + '</td>' + btn;
        }
        if (this.isEnum) {
            return label + "<td class='fieldValue " + cls + " rightAlign'>" + this.getEnumItemName(value) + '</td>' + '<td/>' + btn;
        }
        return label + "<td class='fieldValue " + cls + "'>" + value + '</td><td/>' + btn;
    },
    
    toHtmlTr4: function Luxena_Travel_SemanticMember$toHtmlTr4(r, required, hideLabel, bold, onclick) {
        if (ss.isNullOrUndefined(r)) {
            return '';
        }
        var html = this.toHtmlTd4(r, required, hideLabel, bold, onclick);
        return (String.isNullOrEmpty(html)) ? html : '<tr>' + html + '</tr>';
    },
    
    _field$1: null,
    
    getString: function Luxena_Travel_SemanticMember$getString(data) {
        return this._type.getString(this, (data)[this._name]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.LocalReferenceSemanticType

Luxena.Travel.LocalReferenceSemanticType = function Luxena_Travel_LocalReferenceSemanticType() {
    Luxena.Travel.LocalReferenceSemanticType.initializeBase(this);
}
Luxena.Travel.LocalReferenceSemanticType.prototype = {
    
    toField: function Luxena_Travel_LocalReferenceSemanticType$toField(form, sm, width, initMember) {
        var config = new Luxena.Travel.ReferenceSelectorConfig(null);
        this.initTextFieldConfig(form, sm, width, config);
        var member = form.get_members().add2(form, sm, config, initMember);
        var field = new LxnBase.UI.Controls.ComboBox(config.toDictionary());
        member.add_onLoadValue(function() {
            sm._localReferenceWebMethod(function(data) {
                field.getStore().loadData(data);
                field.setValue(form.getValue(sm._name));
            });
        });
        member.add_onSaveValue(function() {
            form.setValue(sm._name, field.getObjectInfo());
        });
        return member.setField(field);
    },
    
    getSuggest: function Luxena_Travel_LocalReferenceSemanticType$getSuggest(sm) {
        return function(success) {
            if (!ss.isValue(success)) {
                return;
            }
            var prms = new LxnBase.Data.RangeRequest();
            prms.query = '*';
            prms.limit = 500;
            var className = sm._getReferenceEntity(sm._domain)._className;
            LxnBase.Services.GenericService.Suggest(className, prms, function(data) {
                var list = (data)['List'];
                for (var i = 0; i < list.length; i++) {
                    list[i] = LxnBase.Data.Reference.createFromArray(list[i]);
                }
                success(list);
            }, null);
        };
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MoneySemanticType

Luxena.Travel.MoneySemanticType = function Luxena_Travel_MoneySemanticType(useDefaults, useCurrencyReadOnly) {
    Luxena.Travel.MoneySemanticType.initializeBase(this);
    this.useDefaults = useDefaults;
    this.useCurrencyReadOnly = useCurrencyReadOnly;
}
Luxena.Travel.MoneySemanticType.prototype = {
    useDefaults: false,
    useCurrencyReadOnly: false,
    
    getString: function Luxena_Travel_MoneySemanticType$getString(sm, value) {
        if (!ss.isValue(value)) {
            return '';
        }
        var moneyStr;
        var values = Type.safeCast(value, Array);
        if (values != null) {
            moneyStr = String.format('{0} {1}', (values[0]).format('N2'), values[1]);
        }
        else {
            var dto = value;
            moneyStr = String.format('{0} {1}', dto.Amount.format('N2'), dto.Currency.Name);
        }
        return moneyStr;
    },
    
    toColumn: function Luxena_Travel_MoneySemanticType$toColumn(sm, cfg) {
        cfg.width(90);
        cfg.renderer(ss.Delegate.create(this, function(value) {
            if (!ss.isValue(value)) {
                return '';
            }
            return String.format("<div style='text-align: right'>{0}</div>", this.getString(sm, value));
        }));
    },
    
    toField: function Luxena_Travel_MoneySemanticType$toField(form, sm, width, initMember) {
        var config = (this.useDefaults) ? Luxena.Travel.Controls.MoneyControlConfig.defaultConfig('') : new Luxena.Travel.Controls.MoneyControlConfig();
        config.setIsCurrencyReadOnly(this.useCurrencyReadOnly);
        this.initFieldConfig(form, sm, width, config);
        var member = form.get_members().add2(form, sm, config, initMember);
        var field = new Luxena.Travel.Controls.MoneyControl(config);
        return (this.useDefaults) ? member.setField(field) : member.setField(field, [ field.get_decimalField(), field.get_currencySelector().get_widget() ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.EnumSemanticType

Luxena.Travel.EnumSemanticType = function Luxena_Travel_EnumSemanticType() {
    Luxena.Travel.EnumSemanticType.initializeBase(this);
}
Luxena.Travel.EnumSemanticType.prototype = {
    
    getString: function Luxena_Travel_EnumSemanticType$getString(sm, value) {
        if (!ss.isValue(value)) {
            return '';
        }
        var $enum1 = ss.IEnumerator.getEnumerator(sm._enumItems);
        while ($enum1.moveNext()) {
            var values = $enum1.current;
            if (values[0] === value) {
                return values[1];
            }
        }
        return value;
    },
    
    toColumn: function Luxena_Travel_EnumSemanticType$toColumn(sm, cfg) {
        cfg.renderer(function(value) {
            if (!ss.isValue(value)) {
                return '';
            }
            var $enum1 = ss.IEnumerator.getEnumerator(sm._enumItems);
            while ($enum1.moveNext()) {
                var values = $enum1.current;
                if (values[0] === value) {
                    return values[1];
                }
            }
            return value;
        });
    },
    
    toField: function Luxena_Travel_EnumSemanticType$toField(form, sm, width, initMember) {
        var config = new Ext.form.ComboBoxConfig().store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ LxnBase.Data.ObjectPropertyNames.id, LxnBase.Data.ObjectPropertyNames.name ]).data(sm._enumItems).toDictionary())).mode('local').displayField(LxnBase.Data.ObjectPropertyNames.name).valueField(LxnBase.Data.ObjectPropertyNames.id).editable(false).hideLabel(false).hideTrigger(false).triggerAction('all').pageSize(0).selectOnFocus(true);
        if (ss.isValue(sm._enumItems)) {
            config.value(sm._enumItems[0][0]);
        }
        this.initTextFieldConfig(form, sm, width, config);
        var member = form.get_members().add2(form, sm, config, initMember);
        return member.setField(new Ext.form.ComboBox(config.toDictionary()));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.EnumsSemanticType

Luxena.Travel.EnumsSemanticType = function Luxena_Travel_EnumsSemanticType() {
    Luxena.Travel.EnumsSemanticType.initializeBase(this);
}
Luxena.Travel.EnumsSemanticType.prototype = {
    
    getString: function Luxena_Travel_EnumsSemanticType$getString(sm, value) {
        if (!ss.isValue(value)) {
            return '';
        }
        var items = [];
        var $enum1 = ss.IEnumerator.getEnumerator(sm._enumItems);
        while ($enum1.moveNext()) {
            var values = $enum1.current;
            if (!!(values[0] & value)) {
                items.add(values[1]);
            }
        }
        return items.join(', ');
    },
    
    toColumn: function Luxena_Travel_EnumsSemanticType$toColumn(sm, cfg) {
        cfg.renderer(function(value) {
            if (!ss.isValue(value)) {
                return '';
            }
            var items = [];
            var $enum1 = ss.IEnumerator.getEnumerator(sm._enumItems);
            while ($enum1.moveNext()) {
                var values = $enum1.current;
                if (!!(values[0] & value)) {
                    items.add(values[1]);
                }
            }
            return items.join(', ');
        });
    },
    
    toField: function Luxena_Travel_EnumsSemanticType$toField(form, sm, width, initMember) {
        width = this.convertWidth(form, width);
        var config = new Ext.form.CheckboxGroupConfig().items(sm._enumItems.filter(function(value) {
            return !!(value)[0];
        }).map(function(item) {
            var id = (item)[0];
            var name = (item)[1].toString();
            return new Ext.form.Checkbox(new Ext.form.CheckboxConfig().data(id).boxLabel(name).toDictionary());
        })).width(width).columns(2);
        this.initFieldConfig(form, sm, width, config);
        var member = form.get_members().add2(form, sm, config, initMember);
        var field = new Ext.form.CheckboxGroup(config.toDictionary());
        member.add_onLoadValue(function() {
            var value = form.getValue(sm._name);
            if (!ss.isValue(value)) {
                return;
            }
            var $enum1 = ss.IEnumerator.getEnumerator(field.items);
            while ($enum1.moveNext()) {
                var item = $enum1.current;
                item.setValue(!!(item.data & value));
            }
        });
        member.add_onSaveValue(function() {
            var value = 0;
            var $enum1 = ss.IEnumerator.getEnumerator(field.getValue());
            while ($enum1.moveNext()) {
                var item = $enum1.current;
                value = value | item.data;
            }
            form.setValue(sm._name, value);
        });
        return member.setField(field);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ReferenceSemanticType

Luxena.Travel.ReferenceSemanticType = function Luxena_Travel_ReferenceSemanticType() {
    Luxena.Travel.ReferenceSemanticType.initializeBase(this);
}
Luxena.Travel.ReferenceSemanticType._getAddActionHandler$1 = function Luxena_Travel_ReferenceSemanticType$_getAddActionHandler$1(sm, refEntity, className) {
    return function(selector, text) {
        var newData = {};
        newData[refEntity._nameFieldName] = text;
        if (ss.isValue(refEntity)) {
            refEntity._prepareNewData(newData);
        }
        sm.editForm.set_updating(true);
        LxnBase.UI.FormsRegistry.editObject(className, null, newData, function(result) {
            sm.editForm.set_updating(false);
            selector.setValue(refEntity.getReference((result).Item, className));
        }, function() {
            sm.editForm.set_updating(false);
        }, null);
    };
}
Luxena.Travel.ReferenceSemanticType.prototype = {
    
    getString: function Luxena_Travel_ReferenceSemanticType$getString(sm, value) {
        return LxnBase.UI.BasicViewForm.link(value);
    },
    
    toColumn: function Luxena_Travel_ReferenceSemanticType$toColumn(sm, cfg) {
        var className = sm._getReferenceEntity(sm._domain)._className;
        cfg.renderer(function(value) {
            if (!ss.isValue(value)) {
                return '';
            }
            var values = Type.safeCast(value, Array);
            if (values != null) {
                if (!ss.isValue(values[LxnBase.Data.Reference.TypePos])) {
                    values[LxnBase.Data.Reference.TypePos] = className;
                }
                return LxnBase.UI.Controls.ObjectLink.renderArray(values);
            }
            var info = value;
            if (!ss.isValue(info.Type)) {
                info.Type = className;
            }
            return LxnBase.UI.Controls.ObjectLink.renderInfo(info);
        });
    },
    
    toField: function Luxena_Travel_ReferenceSemanticType$toField(form, sm, width, initMember) {
        var className = sm._getReferenceEntity(sm._domain)._className;
        if (!!sm._maxLength) {
            width = sm._maxLength * 6;
            if (width < LxnBase.UI.AutoControls.ControlFactory.minWidth) {
                width = LxnBase.UI.AutoControls.ControlFactory.minWidth;
            }
            else if (width > LxnBase.UI.AutoControls.ControlFactory.maxWidth) {
                width = LxnBase.UI.AutoControls.ControlFactory.maxWidth;
            }
        }
        else if (ss.isNullOrUndefined(width)) {
            width = form.get_fieldMaxWidth();
        }
        var cfg = new LxnBase.UI.Controls.ObjectSelectorConfig().customActionsDelegate(this._getGetCustomActions$1(sm)).allowCreate(false).setClass(className).selectOnFocus(true).forceSelection(true);
        var status = (Luxena.Travel.AppManager.get_allowedActions()[className]);
        if (status.CanUpdate.IsEnabled) {
            cfg.allowEdit(true);
        }
        this.initTextFieldConfig(form, sm, width, cfg);
        var member = form.get_members().add2(form, sm, cfg, initMember);
        var selector = new LxnBase.UI.Controls.ObjectSelector(cfg);
        member.add_onSaveValue(function() {
            form.setValue(sm._name, selector.getObjectInfo());
        });
        return member.setField(selector.get_widget());
    },
    
    _getGetCustomActions$1: function Luxena_Travel_ReferenceSemanticType$_getGetCustomActions$1(sm) {
        var refEntity = sm._getReferenceEntity(sm._domain);
        return function(store, records, query) {
            if (String.isNullOrEmpty(query)) {
                return null;
            }
            if (records != null) {
                var $enum1 = ss.IEnumerator.getEnumerator(records);
                while ($enum1.moveNext()) {
                    var r = $enum1.current;
                    var text = r.get(sm._nameFieldName);
                    if (String.equals(text, query, true)) {
                        return null;
                    }
                }
            }
            var actions = [];
            var entities = (ss.isValue(refEntity._getDerivedEntities)) ? refEntity._getDerivedEntities(sm._domain) : [ refEntity ];
            var $enum2 = ss.IEnumerator.getEnumerator(entities);
            while ($enum2.moveNext()) {
                var entity = $enum2.current;
                actions.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.add_Action_Title + ' ' + (entity._title || entity._className)).handler(Luxena.Travel.ReferenceSemanticType._getAddActionHandler$1(sm, refEntity, entity._className)).toDictionary()));
            }
            return actions;
        };
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.NumericSemanticType

Luxena.Travel.NumericSemanticType = function Luxena_Travel_NumericSemanticType(decimalPrecision) {
    Luxena.Travel.NumericSemanticType.initializeBase(this);
    this.decimalPrecision = decimalPrecision;
}
Luxena.Travel.NumericSemanticType.prototype = {
    decimalPrecision: 0,
    
    getString: function Luxena_Travel_NumericSemanticType$getString(sm, value) {
        if (!ss.isValue(value)) {
            return '';
        }
        var d = value;
        if (ss.isValue(d)) {
            value = d.format('N' + this.decimalPrecision);
        }
        return value.toString();
    },
    
    toField: function Luxena_Travel_NumericSemanticType$toField(form, sm, width, initMember) {
        var config = new Ext.form.NumberFieldConfig().width(LxnBase.UI.AutoControls.ControlFactory.defaultNumberFieldWidth).allowDecimals(this.decimalPrecision > 0).decimalPrecision(this.decimalPrecision);
        this.initTextFieldConfig(form, sm, width, config);
        var member = form.get_members().add2(form, sm, config, initMember);
        return member.setField((this.decimalPrecision <= 0) ? new Ext.form.NumberField(config.toDictionary()) : new LxnBase.UI.Controls.DecimalField(config.toDictionary()));
    },
    
    toColumn: function Luxena_Travel_NumericSemanticType$toColumn(sm, cfg) {
        cfg.renderer(ss.Delegate.create(this, function(value) {
            if (!ss.isValue(value)) {
                return '';
            }
            var d = value;
            if (ss.isValue(d)) {
                value = d.format('N' + this.decimalPrecision);
            }
            return "<div style='text-align: right'>" + value + '</div>';
        }));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DateSemanticType

Luxena.Travel.DateSemanticType = function Luxena_Travel_DateSemanticType(formatString) {
    Luxena.Travel.DateSemanticType.initializeBase(this);
    this.formatString = formatString;
}
Luxena.Travel.DateSemanticType.prototype = {
    formatString: null,
    
    getString: function Luxena_Travel_DateSemanticType$getString(sm, value) {
        return (!ss.isValue(value)) ? '' : Ext.util.Format.date(value, this.formatString);
    },
    
    toColumn: function Luxena_Travel_DateSemanticType$toColumn(sm, cfg) {
        cfg.renderer(ss.Delegate.create(this, function(value) {
            return this.getString(sm, value);
        }));
    },
    
    toField: function Luxena_Travel_DateSemanticType$toField(form, sm, width, initMember) {
        var config = new Ext.form.DateFieldConfig();
        this.initTextFieldConfig(form, sm, width, config);
        config.format(this.formatString);
        var member = form.get_members().add2(form, sm, config, initMember);
        return member.setField(new Ext.form.DateField(config.toDictionary()));
    },
    
    convertWidth: function Luxena_Travel_DateSemanticType$convertWidth(form, width) {
        if (ss.isNullOrUndefined(width) || width === -2) {
            return 103;
        }
        return Luxena.Travel.DateSemanticType.callBaseMethod(this, 'convertWidth', [ form, width ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FormMember

Luxena.Travel.FormMember = function Luxena_Travel_FormMember(form, semantic, config) {
    this.config = config;
    this.form = form;
    this.semantic = semantic;
}
Luxena.Travel.FormMember.prototype = {
    form: null,
    semantic: null,
    config: null,
    field: null,
    fields: null,
    
    getFields: function Luxena_Travel_FormMember$getFields() {
        return this.fields;
    },
    
    setField: function Luxena_Travel_FormMember$setField(value, fields) {
        this.field = value;
        if (ss.isUndefined(fields)) {
            fields = [ value ];
        }
        this.fields = fields;
        this.addEvents();
        return value;
    },
    
    add_onLoadValue: function Luxena_Travel_FormMember$add_onLoadValue(value) {
        this.__onLoadValue = ss.Delegate.combine(this.__onLoadValue, value);
    },
    remove_onLoadValue: function Luxena_Travel_FormMember$remove_onLoadValue(value) {
        this.__onLoadValue = ss.Delegate.remove(this.__onLoadValue, value);
    },
    
    __onLoadValue: null,
    
    add_onSaveValue: function Luxena_Travel_FormMember$add_onSaveValue(value) {
        this.__onSaveValue = ss.Delegate.combine(this.__onSaveValue, value);
    },
    remove_onSaveValue: function Luxena_Travel_FormMember$remove_onSaveValue(value) {
        this.__onSaveValue = ss.Delegate.remove(this.__onSaveValue, value);
    },
    
    __onSaveValue: null,
    
    loadValue: function Luxena_Travel_FormMember$loadValue() {
        if (this.__onLoadValue != null) {
            this.__onLoadValue();
        }
        else if (this.field != null) {
            var value = this.form.getValue(this.semantic._name);
            if (ss.isValue(value)) {
                this.field.setValue(value);
            }
        }
    },
    
    saveValue: function Luxena_Travel_FormMember$saveValue() {
        if (this.__onSaveValue != null) {
            this.__onSaveValue();
        }
        else if (this.field != null) {
            var value = this.field.getValue();
            if (ss.isNullOrUndefined(value)) {
                value = null;
            }
            this.form.setValue(this.semantic._name, value);
        }
    },
    
    add_onIsModified: function Luxena_Travel_FormMember$add_onIsModified(value) {
        this.__onIsModified = ss.Delegate.combine(this.__onIsModified, value);
    },
    remove_onIsModified: function Luxena_Travel_FormMember$remove_onIsModified(value) {
        this.__onIsModified = ss.Delegate.remove(this.__onIsModified, value);
    },
    
    __onIsModified: null,
    
    isModified: function Luxena_Travel_FormMember$isModified() {
        if (this.__onIsModified != null) {
            return this.__onIsModified();
        }
        if (this.fields == null) {
            return false;
        }
        var $enum1 = ss.IEnumerator.getEnumerator(this.fields);
        while ($enum1.moveNext()) {
            var field = $enum1.current;
            if (field != null && field.isDirty()) {
                return true;
            }
        }
        return false;
    },
    
    boldLabel: function Luxena_Travel_FormMember$boldLabel() {
        this.config.labelStyle('font-weight:bold;');
    },
    
    dataProxy: function Luxena_Travel_FormMember$dataProxy(proxy) {
        (this.config).setDataProxy(proxy);
    },
    
    hideLabel: function Luxena_Travel_FormMember$hideLabel() {
        this.config.hideLabel(true);
    },
    
    label: function Luxena_Travel_FormMember$label(value) {
        this.config.fieldLabel(value);
    },
    
    emptyText: function Luxena_Travel_FormMember$emptyText(value) {
        (this.config).emptyText(value);
    },
    
    valueProperties: function Luxena_Travel_FormMember$valueProperties(value) {
        (this.config).valueProperties(value);
    },
    
    width: function Luxena_Travel_FormMember$width(value) {
        value = this.semantic._type.convertWidth(this.form, value);
        this.config.width(value);
    },
    
    height: function Luxena_Travel_FormMember$height(value) {
        this.config.height(value);
    },
    
    itemCls: function Luxena_Travel_FormMember$itemCls(value) {
        this.config.itemCls(value);
    },
    
    required: function Luxena_Travel_FormMember$required(value) {
        (this.config).allowBlank(!value);
    },
    
    addEvents: function Luxena_Travel_FormMember$addEvents() {
        if (this._onBlur != null) {
            this.field.addListener('blur', this._onBlur);
        }
        if (this._onKeyPress != null) {
            var textField = Type.safeCast(this.field, Ext.form.TextField);
            if (textField != null) {
                textField.enableKeyEvents = true;
            }
            this.field.addListener('keypress', this._onKeyPress);
        }
        if (this._onChangeValue != null) {
            this.field.addListener('changeValue', this._onChangeValue);
        }
    },
    
    _onBlur: null,
    
    onBlur: function Luxena_Travel_FormMember$onBlur(value) {
        this._onBlur = value;
    },
    
    _onKeyPress: null,
    
    onKeyPress: function Luxena_Travel_FormMember$onKeyPress(value) {
        this._onKeyPress = value;
    },
    
    _onChangeValue: null,
    
    onChangeValue: function Luxena_Travel_FormMember$onChangeValue(value) {
        var moneyControlConfig = Type.safeCast(this.config, Luxena.Travel.Controls.MoneyControlConfig);
        if (moneyControlConfig != null) {
            moneyControlConfig.setAmountChangeHandler(value);
        }
        else {
            this._onChangeValue = value;
        }
    },
    
    menuOnChange: function Luxena_Travel_FormMember$menuOnChange(items) {
        var moneyControlConfig = Type.safeCast(this.config, Luxena.Travel.Controls.MoneyControlConfig);
        if (moneyControlConfig != null) {
            moneyControlConfig.setOnChangeMenu(new Ext.menu.MenuConfig().items(items));
        }
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FormMembers

Luxena.Travel.FormMembers = function Luxena_Travel_FormMembers() {
    this.items = [];
}
Luxena.Travel.FormMembers.prototype = {
    
    add: function Luxena_Travel_FormMembers$add(item) {
        this.items.add(item);
    },
    
    add2: function Luxena_Travel_FormMembers$add2(form, semantic, config, initMember) {
        var member = new Luxena.Travel.FormMember(form, semantic, config);
        this.items.add(member);
        if (initMember != null) {
            initMember(member);
        }
        return member;
    },
    
    add3: function Luxena_Travel_FormMembers$add3(form, onLoadValue, onSaveValue) {
        var member = new Luxena.Travel.FormMember(form, null, null);
        member.add_onLoadValue(onLoadValue);
        member.add_onSaveValue(onSaveValue);
        this.items.add(member);
        return member;
    },
    
    addToFieldList: function Luxena_Travel_FormMembers$addToFieldList(list) {
        var $enum1 = ss.IEnumerator.getEnumerator(this.items);
        while ($enum1.moveNext()) {
            var item = $enum1.current;
            list.addRange(item.getFields());
        }
    },
    
    loadValues: function Luxena_Travel_FormMembers$loadValues() {
        var $enum1 = ss.IEnumerator.getEnumerator(this.items);
        while ($enum1.moveNext()) {
            var item = $enum1.current;
            item.loadValue();
        }
    },
    
    saveValues: function Luxena_Travel_FormMembers$saveValues() {
        var $enum1 = ss.IEnumerator.getEnumerator(this.items);
        while ($enum1.moveNext()) {
            var item = $enum1.current;
            item.saveValue();
        }
    },
    
    isModified: function Luxena_Travel_FormMembers$isModified() {
        var $enum1 = ss.IEnumerator.getEnumerator(this.items);
        while ($enum1.moveNext()) {
            var item = $enum1.current;
            if (item.isModified()) {
                return true;
            }
        }
        return false;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.StringSemanticType

Luxena.Travel.StringSemanticType = function Luxena_Travel_StringSemanticType() {
    Luxena.Travel.StringSemanticType.initializeBase(this);
}
Luxena.Travel.StringSemanticType.prototype = {
    
    toField: function Luxena_Travel_StringSemanticType$toField(form, sm, width, initMember) {
        var config = this.newConfig(form, sm);
        var maxLength = sm._maxLength;
        if (maxLength > 0) {
            config.maxLength(maxLength);
            if (!ss.isValue(width) && !sm._lineCount) {
                width = maxLength * 6;
                if (width < 104) {
                    width = 104;
                }
                else if (width > 336) {
                    width = 336;
                }
                if (width > form.get_fieldMaxWidth()) {
                    width = form.get_fieldMaxWidth();
                }
            }
        }
        this.initTextFieldConfig(form, sm, width, config);
        if (!!sm._lineCount) {
            config.height(100);
        }
        var member = form.get_members().add2(form, sm, config, initMember);
        return member.setField((!!sm._lineCount) ? new Ext.form.TextArea(config.toDictionary()) : new Ext.form.TextField(config.toDictionary()));
    },
    
    newConfig: function Luxena_Travel_StringSemanticType$newConfig(form, sm) {
        return new Ext.form.TextFieldConfig();
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasswordSemanticType

Luxena.Travel.PasswordSemanticType = function Luxena_Travel_PasswordSemanticType() {
    Luxena.Travel.PasswordSemanticType.initializeBase(this);
}
Luxena.Travel.PasswordSemanticType._pwdFieldKeyDown$2 = function Luxena_Travel_PasswordSemanticType$_pwdFieldKeyDown$2(field, e) {
    if (!e.isSpecialKey()) {
        field.isFieldDirty = true;
    }
}
Luxena.Travel.PasswordSemanticType.prototype = {
    
    newConfig: function Luxena_Travel_PasswordSemanticType$newConfig(form, sm) {
        return new Ext.form.TextFieldConfig().selectOnFocus(true).allowBlank(false).enableKeyEvents(true).listeners({ keydown: Luxena.Travel.PasswordSemanticType._pwdFieldKeyDown$2 }).inputType('password');
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ConfirmPasswordSemanticType

Luxena.Travel.ConfirmPasswordSemanticType = function Luxena_Travel_ConfirmPasswordSemanticType() {
    Luxena.Travel.ConfirmPasswordSemanticType.initializeBase(this);
}
Luxena.Travel.ConfirmPasswordSemanticType.prototype = {
    
    newConfig: function Luxena_Travel_ConfirmPasswordSemanticType$newConfig(form, sm) {
        return Luxena.Travel.ConfirmPasswordSemanticType.callBaseMethod(this, 'newConfig', [ form, sm ]).validator(function(value) {
            var password = form.getCurrentValue(sm._passwordFieldName);
            return (value === password) ? true : Luxena.Travel.Res.password_Error_Msg;
        });
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SemanticDomain

Luxena.Travel.SemanticDomain = function Luxena_Travel_SemanticDomain(owner) {
    this.Passport = new Luxena.Travel.PassportSemantic();
    this.BankAccount = new Luxena.Travel.BankAccountSemantic();
    this.MilesCard = new Luxena.Travel.MilesCardSemantic();
    this.Party = new Luxena.Travel.PartySemantic();
    this.Organization = new Luxena.Travel.OrganizationSemantic();
    this.Person = new Luxena.Travel.PersonSemantic();
    this.Department = new Luxena.Travel.DepartmentSemantic();
    this.AccommodationProvider = new Luxena.Travel.AccommodationProviderSemantic();
    this.BusTicketProvider = new Luxena.Travel.BusTicketProviderSemantic();
    this.PasteboardProvider = new Luxena.Travel.PasteboardProviderSemantic();
    this.TransferProvider = new Luxena.Travel.TransferProviderSemantic();
    this.GenericProductProvider = new Luxena.Travel.GenericProductProviderSemantic();
    this.CarRentalProvider = new Luxena.Travel.CarRentalProviderSemantic();
    this.TourProvider = new Luxena.Travel.TourProviderSemantic();
    this.RoamingOperator = new Luxena.Travel.RoamingOperatorSemantic();
    this.InsuranceCompany = new Luxena.Travel.InsuranceCompanySemantic();
    this.Airline = new Luxena.Travel.AirlineSemantic();
    this.Customer = new Luxena.Travel.CustomerSemantic();
    this.Order = new Luxena.Travel.OrderSemantic();
    this.CurrencyDailyRate = new Luxena.Travel.CurrencyDailyRateSemantic();
    this.CateringType = new Luxena.Travel.CateringTypeSemantic();
    this.AccommodationType = new Luxena.Travel.AccommodationTypeSemantic();
    this.GenericProductType = new Luxena.Travel.GenericProductTypeSemantic();
    this.ProductPassenger = new Luxena.Travel.ProductPassengerSemantic();
    this.BusTicket = new Luxena.Travel.BusTicketSemantic();
    this.Excursion = new Luxena.Travel.ExcursionSemantic();
    this.Isic = new Luxena.Travel.IsicSemantic();
    this.Pasteboard = new Luxena.Travel.PasteboardSemantic();
    this.Transfer = new Luxena.Travel.TransferSemantic();
    this.GenericProduct = new Luxena.Travel.GenericProductSemantic();
    this.CarRental = new Luxena.Travel.CarRentalSemantic();
    this.Tour = new Luxena.Travel.TourSemantic();
    this.Accommodation = new Luxena.Travel.AccommodationSemantic();
    this.SimCard = new Luxena.Travel.SimCardSemantic();
    this.Insurance = new Luxena.Travel.InsuranceSemantic();
    this.AviaDocument = new Luxena.Travel.AviaDocumentSemantic();
    this.Product = new Luxena.Travel.ProductSemantic();
    this.AviaTicket = new Luxena.Travel.AviaTicketSemantic();
    this.AviaMco = new Luxena.Travel.AviaMcoSemantic();
    this.AviaRefund = new Luxena.Travel.AviaRefundSemantic();
    this.Country = new Luxena.Travel.CountrySemantic();
    this.AirlineServiceClass = new Luxena.Travel.AirlineServiceClassSemantic();
    this.AirlineMonthCommission = new Luxena.Travel.AirlineMonthCommissionSemantic();
    this.Airport = new Luxena.Travel.AirportSemantic();
    this.PaymentSystem = new Luxena.Travel.PaymentSystemSemantic();
    this.Currency = new Luxena.Travel.CurrencySemantic();
    this.Identity = new Luxena.Travel.IdentitySemantic();
    this.User = new Luxena.Travel.UserSemantic();
    this.UserVisit = new Luxena.Travel.UserVisitSemantic();
    this.SystemConfiguration = new Luxena.Travel.SystemConfigurationSemantic();
    this.AirlineCommissionPercents = new Luxena.Travel.AirlineCommissionPercentsSemantic();
    this.DocumentOwner = new Luxena.Travel.DocumentOwnerSemantic();
    this.DocumentAccess = new Luxena.Travel.DocumentAccessSemantic();
    this.ClosedPeriod = new Luxena.Travel.ClosedPeriodSemantic();
    this.OpeningBalance = new Luxena.Travel.OpeningBalanceSemantic();
    this.InternalTransfer = new Luxena.Travel.InternalTransferSemantic();
    this.GdsAgent = new Luxena.Travel.GdsAgentSemantic();
    this.GdsFile = new Luxena.Travel.GdsFileSemantic();
    this.Invoice = new Luxena.Travel.InvoiceSemantic();
    this.Receipt = new Luxena.Travel.ReceiptSemantic();
    this.Task = new Luxena.Travel.TaskSemantic();
    this.Payment = new Luxena.Travel.PaymentSemantic();
    this.Contract = new Luxena.Travel.ContractSemantic();
    this.Modification = new Luxena.Travel.ModificationSemantic();
    this.FlightSegment = new Luxena.Travel.FlightSegmentSemantic();
    this.AirplaneModel = new Luxena.Travel.AirplaneModelSemantic();
    var domain = this;
    var views = [];
    var $enum1 = ss.IEnumerator.getEnumerator(Object.keys(domain));
    while ($enum1.moveNext()) {
        var entityName = $enum1.current;
        var entity = domain[entityName];
        entity._domain = this;
        entity.editForm = Type.safeCast(owner, Luxena.Travel.IEditForm);
        entity.gridForm = Type.safeCast(owner, Luxena.Travel.IGridForm);
        var entityDic = entity;
        var $enum2 = ss.IEnumerator.getEnumerator(Object.keys(entityDic));
        while ($enum2.moveNext()) {
            var memberName = $enum2.current;
            var member = Type.safeCast(entityDic[memberName], Luxena.Travel.SemanticMember);
            if (member == null) {
                continue;
            }
            member._domain = this;
            member._entity = entity;
            member._name = memberName;
            member.editForm = entity.editForm;
            member.gridForm = entity.gridForm;
            views.add(member);
        }
        views.add(entity);
    }
    var $enum3 = ss.IEnumerator.getEnumerator(views);
    while ($enum3.moveNext()) {
        var view = $enum3.current;
        view.initialize();
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SemanticEntity

Luxena.Travel.SemanticEntity = function Luxena_Travel_SemanticEntity() {
}
Luxena.Travel.SemanticEntity.get_member = function Luxena_Travel_SemanticEntity$get_member() {
    return new Luxena.Travel.SemanticMember();
}
Luxena.Travel.SemanticEntity.boldLabel = function Luxena_Travel_SemanticEntity$boldLabel(m) {
    m.boldLabel();
}
Luxena.Travel.SemanticEntity.hideLabel = function Luxena_Travel_SemanticEntity$hideLabel(m) {
    m.hideLabel();
}
Luxena.Travel.SemanticEntity.textComponent_ = function Luxena_Travel_SemanticEntity$textComponent_(html, width) {
    var config = new Ext.BoxComponentConfig().autoEl({ tag: 'div', html: html }).cls('x-form-item float-left box-label');
    if (ss.isValue(width)) {
        if (width === -4) {
            width = 122;
            config.style('text-align: right;');
        }
        config.width(width);
    }
    return new Ext.BoxComponent(config.toDictionary());
}
Luxena.Travel.SemanticEntity.rowPanel_ = function Luxena_Travel_SemanticEntity$rowPanel_(items) {
    for (var i = 0; i < items.length; i++) {
        var semantic = Type.safeCast(items[i], Luxena.Travel.SemanticMember);
        if (semantic != null) {
            items[i] = semantic.toEditor();
        }
    }
    return new Ext.Panel(new Ext.PanelConfig().layout('form').itemCls('float-left').items(items).toDictionary());
}
Luxena.Travel.SemanticEntity.rowPanel2_ = function Luxena_Travel_SemanticEntity$rowPanel2_(view1, initMember1, view2, initMember2) {
    return Luxena.Travel.SemanticEntity.rowPanel_([ view1.toField(-1, function(m) {
        m.label(String.format('{0} / {1}', view1._title, view2._title));
        if (ss.isValue(initMember1)) {
            initMember1(m);
        }
    }), Luxena.Travel.SemanticEntity.textComponent_('/'), view2.toField(-1, function(m) {
        m.hideLabel();
        if (ss.isValue(initMember2)) {
            initMember2(m);
        }
    }) ]);
}
Luxena.Travel.SemanticEntity.rowPanel2c_ = function Luxena_Travel_SemanticEntity$rowPanel2c_(title, view1, initMember1, view2, initMember2) {
    return Luxena.Travel.SemanticEntity.rowPanel_([ view1.toField(-1, function(m) {
        m.label(title);
        m.emptyText(view1._title);
        if (ss.isValue(initMember1)) {
            initMember1(m);
        }
    }), Luxena.Travel.SemanticEntity.textComponent_(','), view2.toField(-1, function(m) {
        m.hideLabel();
        m.emptyText(view2._title);
        if (ss.isValue(initMember2)) {
            initMember2(m);
        }
    }) ]);
}
Luxena.Travel.SemanticEntity.rowPanel2v_ = function Luxena_Travel_SemanticEntity$rowPanel2v_(view1, initMember1, view2, initMember2) {
    return Luxena.Travel.SemanticEntity.rowPanel_([ view1.toField(-2, initMember1), Luxena.Travel.SemanticEntity.textComponent_(view2._title + ': ', -4), view2.toField(-2, function(m) {
        m.hideLabel();
        if (ss.isValue(initMember2)) {
            initMember2(m);
        }
    }) ]);
}
Luxena.Travel.SemanticEntity.rowPanel3c_ = function Luxena_Travel_SemanticEntity$rowPanel3c_(title, view1, initMember1, view2, initMember2, view3, initMember3) {
    return Luxena.Travel.SemanticEntity.rowPanel_([ view1.toField(-2, function(m) {
        m.label(title);
        if (ss.isValue(initMember1)) {
            initMember1(m);
        }
    }), Luxena.Travel.SemanticEntity.textComponent_('/'), view2.toField(-2, function(m) {
        m.hideLabel();
        if (ss.isValue(initMember2)) {
            initMember2(m);
        }
    }), Luxena.Travel.SemanticEntity.textComponent_('/'), view3.toField(-2, function(m) {
        m.hideLabel();
        if (ss.isValue(initMember3)) {
            initMember3(m);
        }
    }) ]);
}
Luxena.Travel.SemanticEntity.rowPanel3_ = function Luxena_Travel_SemanticEntity$rowPanel3_(view1, initMember1, view2, initMember2, view3, initMember3) {
    return Luxena.Travel.SemanticEntity.rowPanel3c_(String.format('{0} / {1} / {2}', view1._title, view2._title, view3._title), view1, initMember1, view2, initMember2, view3, initMember3);
}
Luxena.Travel.SemanticEntity.prototype = {
    editForm: null,
    gridForm: null,
    _domain: null,
    _className: null,
    _name: null,
    _title: null,
    _titles: null,
    _isAbstract: false,
    _getDerivedEntities: null,
    _idFieldName: 'Id',
    _nameFieldName: 'Name',
    _nameMember: null,
    _prepareNewData: null,
    
    initialize: function Luxena_Travel_SemanticEntity$initialize() {
        if (ss.isValue(this._nameFieldName)) {
            this._nameMember = (this)[this._nameFieldName];
        }
    },
    
    getName: function Luxena_Travel_SemanticEntity$getName(data) {
        return (ss.isValue(this._nameMember)) ? this._nameMember.getString(data) : this._title || this._className;
    },
    
    getReference: function Luxena_Travel_SemanticEntity$getReference(data, className) {
        return LxnBase.Data.Reference.create(className || this._className, (data)[this._nameFieldName], (data)[this._idFieldName]);
    },
    
    toGridEditor: function Luxena_Travel_SemanticEntity$toGridEditor(semantic, grid) {
        return ss.Delegate.create(this, function() {
            var member = new Luxena.Travel.FormMember(this.editForm, semantic, null);
            member.add_onLoadValue(ss.Delegate.create(this, function() {
                var data = this.editForm.get_data();
                if (ss.isValue(data)) {
                    grid.loadData(data[semantic._name]);
                }
            }));
            member.add_onSaveValue(ss.Delegate.create(this, function() {
                this.editForm.setValue(semantic._name, grid.getData());
            }));
            member.add_onIsModified(function() {
                return grid.isModified();
            });
            this.editForm.get_members().add(member);
            return grid.get_widget();
        });
    },
    
    gridMember: function Luxena_Travel_SemanticEntity$gridMember(name, grid) {
        var sm = new Luxena.Travel.SemanticMember();
        sm._name = name;
        sm.toEditor = this.toGridEditor(sm, grid);
        return sm;
    },
    
    toListAction: function Luxena_Travel_SemanticEntity$toListAction() {
        var permissions = Luxena.Travel.AppManager.get_allowedActions()[this._className];
        var status = (permissions != null) ? permissions.CanList : null;
        if (status == null || (!status.Visible && String.isNullOrEmpty(status.DisableInfo))) {
            return null;
        }
        var action = new Ext.Action(new Ext.ActionConfig().text(this._titles || this._title || this._className).handler(ss.Delegate.create(this, function() {
            LxnBase.UI.FormsRegistry.listObjects(this._className);
        })).toDictionary());
        if (ss.isValue(status.DisableInfo)) {
            action.disable();
        }
        return action;
    },
    
    toViewAction: function Luxena_Travel_SemanticEntity$toViewAction(id) {
        var permissions = Luxena.Travel.AppManager.get_allowedActions()[this._className];
        var status = (permissions != null) ? permissions.CanList : null;
        if (status == null || (!status.Visible && String.isNullOrEmpty(status.DisableInfo))) {
            return null;
        }
        var action = new Ext.Action(new Ext.ActionConfig().text(this._title || this._titles || this._className).handler(ss.Delegate.create(this, function() {
            LxnBase.UI.FormsRegistry.viewObject(this._className, id);
        })).toDictionary());
        if (ss.isValue(status.DisableInfo)) {
            action.disable();
        }
        return action;
    },
    
    textComponent: function Luxena_Travel_SemanticEntity$textComponent(html, width) {
        return Luxena.Travel.SemanticEntity.textComponent_(html, width);
    },
    
    rowPanel: function Luxena_Travel_SemanticEntity$rowPanel(items) {
        return Luxena.Travel.SemanticEntity.rowPanel_(items);
    },
    
    rowPanel2: function Luxena_Travel_SemanticEntity$rowPanel2(view1, initMember1, view2, initMember2) {
        return Luxena.Travel.SemanticEntity.rowPanel2_(view1, initMember1, view2, initMember2);
    },
    
    rowPanel2c: function Luxena_Travel_SemanticEntity$rowPanel2c(title, view1, initMember1, view2, initMember2) {
        return Luxena.Travel.SemanticEntity.rowPanel2c_(title, view1, initMember1, view2, initMember2);
    },
    
    rowPanel2v: function Luxena_Travel_SemanticEntity$rowPanel2v(view1, initMember1, view2, initMember2) {
        return Luxena.Travel.SemanticEntity.rowPanel2v_(view1, initMember1, view2, initMember2);
    },
    
    rowPanel3c: function Luxena_Travel_SemanticEntity$rowPanel3c(title, view1, initMember1, view2, initMember2, view3, initMember3) {
        return Luxena.Travel.SemanticEntity.rowPanel3c_(title, view1, initMember1, view2, initMember2, view3, initMember3);
    },
    
    rowPanel3: function Luxena_Travel_SemanticEntity$rowPanel3(view1, initMember1, view2, initMember2, view3, initMember3) {
        return Luxena.Travel.SemanticEntity.rowPanel3_(view1, initMember1, view2, initMember2, view3, initMember3);
    },
    
    getNameRenderer: function Luxena_Travel_SemanticEntity$getNameRenderer(className) {
        if (!ss.isValue(className)) {
            className = this._className;
        }
        return function(value, metadata, record, index, colIndex, store) {
            return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(className)(value, metadata, record, index, colIndex, store);
        };
    },
    
    getDateRenderer: function Luxena_Travel_SemanticEntity$getDateRenderer(className) {
        return ss.Delegate.create(this, function(value, metadata, record, index, colIndex, store) {
            if (!ss.isValue(value)) {
                return '';
            }
            if (!ss.isValue(className)) {
                className = this._className;
            }
            return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(className)((value).format('d.m.Y'), metadata, record, index, colIndex, store);
        });
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SemanticType

Luxena.Travel.SemanticType = function Luxena_Travel_SemanticType() {
}
Luxena.Travel.SemanticType.prototype = {
    
    getString: function Luxena_Travel_SemanticType$getString(sm, value) {
        return (ss.isValue(value)) ? value.toString() : '';
    },
    
    initFieldConfig: function Luxena_Travel_SemanticType$initFieldConfig(form, semantic, width, config) {
        config.name(semantic._name);
        if (!ss.isValue(width) || !width) {
            width = (this.get_defaultWidth() > 0) ? this.get_defaultWidth() : form.get_fieldMaxWidth();
        }
        if (width > 0) {
            config.width(width);
        }
        if (!ss.isValue(semantic._title)) {
            config.labelSeparator('');
        }
        else {
            config.fieldLabel(semantic._title);
        }
        if (semantic._required) {
            config.labelStyle('font-weight:bold;');
        }
        if (ss.isValue(semantic._defaultValue)) {
            config.value(semantic._defaultValue);
        }
    },
    
    initTextFieldConfig: function Luxena_Travel_SemanticType$initTextFieldConfig(form, semantic, width, config) {
        width = this.convertWidth(form, width);
        this.initFieldConfig(form, semantic, width, config);
        config.selectOnFocus(true);
        config.allowBlank(!semantic._required);
        if (ss.isValue(semantic._emptyText)) {
            config.emptyText(semantic._emptyText);
        }
        if (semantic._maxLength > 0) {
            config.maxLength(semantic._maxLength);
        }
    },
    
    convertWidth: function Luxena_Travel_SemanticType$convertWidth(form, width) {
        if (ss.isNullOrUndefined(width) || !width) {
            return (this.get_defaultWidth() > 0) ? this.get_defaultWidth() : (form.get_fieldMaxWidth() < LxnBase.UI.AutoControls.ControlFactory.defaultTextFieldWidth) ? form.get_fieldMaxWidth() : LxnBase.UI.AutoControls.ControlFactory.defaultTextFieldWidth;
        }
        if (width === -1) {
            return form.get_fieldMaxWidth();
        }
        if (width === -2) {
            return 104;
        }
        if (width === -3) {
            return 336;
        }
        return width;
    },
    
    get_defaultWidth: function Luxena_Travel_SemanticType$get_defaultWidth() {
        return 0;
    },
    
    toColumn: function Luxena_Travel_SemanticType$toColumn(sm, cfg) {
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InvoiceGridView

Luxena.Travel.InvoiceGridView = function Luxena_Travel_InvoiceGridView() {
    Luxena.Travel.InvoiceGridView.initializeBase(this);
}
Luxena.Travel.InvoiceGridView.prototype = {
    
    getCustomRowClass: function Luxena_Travel_InvoiceGridView$getCustomRowClass(record) {
        var isOrderVoid = record.get('IsOrderVoid');
        return (isOrderVoid) ? 'textColor-gray' : null;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InvoiceIssueForm

Luxena.Travel.InvoiceIssueForm = function Luxena_Travel_InvoiceIssueForm(orderId, invoices, type) {
    Luxena.Travel.InvoiceIssueForm.initializeBase(this);
    this._orderId$1 = orderId;
    this._invoices$1 = invoices;
    this._type$1 = type;
}
Luxena.Travel.InvoiceIssueForm.prototype = {
    _orderId$1: null,
    _invoices$1: null,
    _issueDate$1: null,
    _number$1: null,
    _formNumber$1: null,
    _showPayments$1: null,
    _type$1: 0,
    
    open: function Luxena_Travel_InvoiceIssueForm$open() {
        var saveButton = this.get_form().addButton(Luxena.Travel.Res.issue, ss.Delegate.create(this, this.save));
        var cancelButton = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
        this._issueDate$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.invoice_IssueDate).format('d.m.Y').width(100).value(Date.get_today()).allowBlank(false).toDictionary());
        if (this._invoices$1 == null || !this._invoices$1.length) {
            this._number$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.DomainRes.common_Number).emptyText(Luxena.Travel.Res.auto).emptyClass('auto-text').width(170).toDictionary());
        }
        else {
            var data = new Array(this._invoices$1.length);
            for (var i = 0; i < this._invoices$1.length; i++) {
                data[i] = [ this._invoices$1[i] ];
            }
            this._number$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.common_Number).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().data(data).fields([ 'number' ]).toDictionary())).mode('local').displayField('number').valueField('number').tpl(new Ext.XTemplate("<tpl for=\".\"><div class='x-combo-list-item invoice-reissue-action'>" + Luxena.Travel.Res.invoice_Reissue + '{number}</div></tpl>')).emptyText(Luxena.Travel.Res.auto).emptyClass('auto-text').width(170).toDictionary());
        }
        this._showPayments$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.invoiceIssueForm_ShowPaid).toDictionary());
        this._formNumber$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel('\u0424\u043e\u0440\u043c\u0430 \u0441\u0447\u0451\u0442\u0430').store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'number', 'name' ]).data([ [ 1, 'XP \u0432 \u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0445 (\u0444\u043e\u0440\u043c\u0430 1)' ], [ 2, 'XP \u0441\u043a\u0440\u044b\u0442 (\u0444\u043e\u0440\u043c\u0430 2)' ] ]).toDictionary())).mode('local').displayField('name').valueField('number').triggerAction('all').selectOnFocus(true).editable(false).emptyText('\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').emptyClass('auto-text').width(170).toDictionary());
        var fields = [ this._issueDate$1, this._number$1, this._formNumber$1, this._showPayments$1 ];
        this.get_form().add(fields);
        var list = [];
        list.addRange(fields);
        list.addRange([ saveButton, cancelButton ]);
        this.set_componentSequence(list);
        var title = (this._type$1 === 2) ? Luxena.Travel.Res.issueCompletionCertificate_Title : Luxena.Travel.Res.issueInvoice_Title;
        this.get_window().setTitle(title);
        this.get_window().setWidth(370);
        this.get_window().addClass('invoice-issue');
        this.get_window().show();
    },
    
    onSave: function Luxena_Travel_InvoiceIssueForm$onSave() {
        var number = this._number$1.getValue();
        if (!number) {
            number = null;
        }
        if (this._type$1 === 2) {
            Luxena.Travel.Services.OrderService.IssueCompletionCertificate(this._orderId$1, number, this._issueDate$1.getValue(), this._showPayments$1.getValue(), ss.Delegate.create(this, this.completeSave), null);
        }
        else {
            Luxena.Travel.Services.OrderService.IssueInvoice(this._orderId$1, number, this._issueDate$1.getValue(), parseInt(this._formNumber$1.getValue()), this._showPayments$1.getValue(), ss.Delegate.create(this, this.completeSave), null);
        }
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel._invoiceListTab

Luxena.Travel._invoiceListTab = function Luxena_Travel__invoiceListTab(tabId, args) {
    Luxena.Travel._invoiceListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel._invoiceListTab.prototype = {
    
    onAddToolbarButtons: function Luxena_Travel__invoiceListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._registerPaymentAction$10 = this.menuAction(Luxena.Travel.Res.payment_CreatePayment_Action, [ this.menuCreateItem2(Luxena.Travel.Res.payment_CreateCashInOrder_Action, ss.Delegate.create(this, this._createPayment$10), 'CashInOrderPayment'), this.menuCreateItem2(Luxena.Travel.Res.payment_CreateCashOutOrder_Action, ss.Delegate.create(this, this._createPayment$10), 'CashOutOrderPayment'), this.menuCreateItem2(Luxena.Travel.Res.payment_CreateNonCashPayment_Action, ss.Delegate.create(this, this._createPayment$10), 'WireTransfer'), this.menuCreateItem2(Luxena.Travel.Res.payment_CreateCheckPayment_Action, ss.Delegate.create(this, this._createPayment$10), 'CheckPayment'), this.menuCreateItem2(Luxena.Travel.Res.payment_CreateElecronicPayment_Action, ss.Delegate.create(this, this._createPayment$10), 'ElectronicPayment') ]);
        toolbarItems.insert(0, this._registerPaymentAction$10);
        toolbarItems.insert(1, new Ext.Toolbar.Separator());
        this._registerPaymentAction$10.disable();
    },
    
    onInitGrid: function Luxena_Travel__invoiceListTab$onInitGrid(args, config) {
        Luxena.Travel._invoiceListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'IsOrderVoid', 'BillToName' ];
        config.view(new Luxena.Travel.InvoiceGridView());
    },
    
    createColumnConfigs: function Luxena_Travel__invoiceListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Number.toColumn(false, 120), this._se$10.IssueDate, this._se$10.Type.toColumn(false, 80), this._se$10.Order.toColumn(false, 120), this._se$10.Customer.toColumn(false, 150), this._se$10.BillTo.toColumn(false, 150, function(value, metadata, record, rowIndex, colIndex, store) {
            return (value == null) ? record.get('BillToName') : LxnBase.UI.Controls.ObjectLink.renderValue(value);
        }), this._se$10.ShipTo.toColumn(true, 150), this._se$10.IsOrderVoid.toColumn(true), this._se$10.Owner.toColumn(true, 150), this._se$10.IssuedBy.toColumn(false, 150), this._se$10.Total, this._se$10.Vat, this._se$10.TimeStamp ]);
    },
    
    onSelectionChange: function Luxena_Travel__invoiceListTab$onSelectionChange(selectionModel) {
        var model = selectionModel;
        var selections = model.getSelections();
        if (selections.length === 1) {
            this._registerPaymentAction$10.enable();
            this._selection$10 = selections[0];
        }
        else {
            this._registerPaymentAction$10.disable();
            this._selection$10 = null;
        }
    },
    
    _createPayment$10: function Luxena_Travel__invoiceListTab$_createPayment$10(type) {
        var orderInfo = this._selection$10.get('Order');
        Luxena.Travel.Services.OrderService.GetOrder(orderInfo[0], ss.Delegate.create(this, function(result) {
            var order = result;
            LxnBase.UI.FormsRegistry.editObject(type, null, { Invoice: LxnBase.Data.Reference.create('Invoice', this._selection$10.get('Number'), this._selection$10.id), Order: orderInfo, Payer: order.Customer, Amount: order.TotalDue, Vat: order.VatDue, Owner: order.Owner }, function(arg1) {
                var response = arg1;
                var dto = response.Item;
                var message = LxnBase.BaseRes.created + ' ' + dto.Number;
                LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.payment_Caption_List, message);
                if (type === 'CashInOrderPayment') {
                    Luxena.Travel.ReportPrinter.getCashOrder(dto.Id, dto.DocumentNumber);
                }
            }, null);
        }), null);
    },
    
    _registerPaymentAction$10: null,
    _selection$10: null,
    
    preInitialize: function Luxena_Travel__invoiceListTab$preInitialize() {
        Luxena.Travel._invoiceListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.Invoice;
    },
    
    _se$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderEditForm

Luxena.Travel.OrderEditForm = function Luxena_Travel_OrderEditForm(args, config) {
    Luxena.Travel.OrderEditForm.initializeBase(this, [ args, config ]);
    this.get_window().addClass('order-edit');
}
Luxena.Travel.OrderEditForm.editObject = function Luxena_Travel_OrderEditForm$editObject(args) {
    LxnBase.Data.ConfigManager.getEditConfig(args.type, function(config) {
        var form = new Luxena.Travel.OrderEditForm(args, config);
        form.open();
    });
}
Luxena.Travel.OrderEditForm.prototype = {
    
    get_separateServiceFee: function Luxena_Travel_OrderEditForm$get_separateServiceFee() {
        return this._separateServiceFee$2.getValue();
    },
    
    get_customer: function Luxena_Travel_OrderEditForm$get_customer() {
        return this._customer$2.getObjectInfo();
    },
    set_customer: function Luxena_Travel_OrderEditForm$set_customer(value) {
        this._customer$2.setValue(value);
        return value;
    },
    
    get_canChangeVat: function Luxena_Travel_OrderEditForm$get_canChangeVat() {
        return this.getCustomActionStatus('ChangeVat').Visible;
    },
    
    get__order$2: function Luxena_Travel_OrderEditForm$get__order$2() {
        return this.get_instance();
    },
    
    loadInstance: function Luxena_Travel_OrderEditForm$loadInstance(onLoaded) {
        Luxena.Travel.Services.OrderService.GetOrder(this.get_args().idToLoad, onLoaded, null);
    },
    
    addFields: function Luxena_Travel_OrderEditForm$addFields() {
        this._initFields$2();
        this._initLayout$2();
        var fields = [];
        fields.addRange([ this._issueDate$2, this._number$2, this._customer$2.get_widget(), this._billTo$2.get_widget(), this._shipTo$2.get_widget(), this._intermediary$2.get_widget(), this._owner$2, this._assignedTo$2.get_widget(), this._bankAccount$2, this._bonusDate$2, this._bonusSpentAmount$2, this._bonusRecipient$2.get_widget(), this._isPublic$2, this._allowAddProductsInClosedPeriod$2, this._isSubjectOfPaymentsControl$2, this._note$2, this._discount$2, this._total$2 ]);
        if (this.get_canChangeVat()) {
            fields.add(this._vat$2);
            fields.add(this._useServiceFeeOnlyInVat$2);
        }
        return fields;
    },
    
    _initFields$2: function Luxena_Travel_OrderEditForm$_initFields$2() {
        this._issueDate$2 = this.createEditor('IssueDate');
        this._issueDate$2.setValue(Date.get_today());
        this._number$2 = this.createEditor('Number');
        this._customer$2 = Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_Customer, 200, false);
        this._billTo$2 = Luxena.Travel.Controls.ControlFactoryExt.createCustomerControlWithText(Luxena.Travel.DomainRes.common_BillTo, 200, true);
        this._shipTo$2 = Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_ShipTo, 200, true);
        this._intermediary$2 = Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_Intermediary, 200, true);
        this._owner$2 = Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200);
        this._assignedTo$2 = Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl(Luxena.Travel.DomainRes.common_AssignedTo, 200, false);
        this._assignedTo$2.setValue(Luxena.Travel.AppManager.get_currentPerson());
        this._bankAccount$2 = Luxena.Travel.Controls.ControlFactoryExt.createBankAccountControl(200);
        this._bonusDate$2 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f').labelStyle('width: 140px').toDictionary());
        this._bonusSpentAmount$2 = new LxnBase.UI.Controls.DecimalField(new Ext.form.NumberFieldConfig().fieldLabel('\u0421\u043f\u0438\u0441\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432').labelStyle('width: 140px').toDictionary());
        this._bonusRecipient$2 = new LxnBase.UI.Controls.ObjectSelector(Luxena.Travel.Controls.ControlFactoryExt.createCustomerConfig('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0431\u043e\u043d\u0443\u0441\u043e\u0432', 200, true).labelStyle('width: 140px'));
        this._isPublic$2 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.order_IsPublic).toDictionary());
        this._allowAddProductsInClosedPeriod$2 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435').toDictionary());
        this._isSubjectOfPaymentsControl$2 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.order_IsSubjectOfPaymentsControl).toDictionary());
        this._isSubjectOfPaymentsControl$2.setValue(true);
        this._separateServiceFee$2 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.order_SeparateServiceFee).toDictionary());
        this._separateServiceFee$2.setValue(true);
        this._separateServiceFee$2.setVisible(Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption === 2);
        this._discount$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Discount, true));
        this._total$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Total, true));
        this._vat$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.order_Vat, true));
        this._useServiceFeeOnlyInVat$2 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.order_UseServiceFeeOnlyInVat).toDictionary());
        this._useServiceFeeOnlyInVat$2.setValue(Luxena.Travel.AppManager.get_systemConfiguration().Order_UseServiceFeeOnlyInVat);
        this._useServiceFeeOnlyInVat$2.on('check', ss.Delegate.create(this, this._onUseServiceFeeOnlyInVatChange$2));
        this._vatString$2 = new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('x-form-item vat').toDictionary());
        this._itemsControl$2 = new Luxena.Travel.OrderItemGridControl(227);
        this._itemsControl$2.set_useServiceFeeOnlyInVat(Luxena.Travel.AppManager.get_systemConfiguration().Order_UseServiceFeeOnlyInVat);
        this._itemsControl$2.add_financeDataChanged(ss.Delegate.create(this, this._orderFinanceDataChanged$2));
        this._itemsControl$2.setParentForm(this);
        this._note$2 = new Ext.form.TextArea(new Ext.form.TextAreaConfig().fieldLabel(Luxena.Travel.DomainRes.common_Note).width(220).height(98).toDictionary());
    },
    
    _onUseServiceFeeOnlyInVatChange$2: function Luxena_Travel_OrderEditForm$_onUseServiceFeeOnlyInVatChange$2(field, newValue) {
        this._itemsControl$2.set_useServiceFeeOnlyInVat(newValue);
    },
    
    _initLayout$2: function Luxena_Travel_OrderEditForm$_initLayout$2() {
        var attributes = new Ext.Panel(new Ext.PanelConfig().items([ new Ext.Panel(new Ext.PanelConfig().items([ this._issueDate$2, this._number$2, this._customer$2.get_widget(), this._billTo$2.get_widget(), this._shipTo$2.get_widget(), this._intermediary$2.get_widget(), this._note$2 ]).layout('form').cls('attributes').toDictionary()), new Ext.Panel(new Ext.PanelConfig().items([ this._owner$2, this._assignedTo$2.get_widget(), this._bankAccount$2, this._isPublic$2, this._allowAddProductsInClosedPeriod$2, this._isSubjectOfPaymentsControl$2, this._separateServiceFee$2, this._bonusSpentAmount$2, this._bonusRecipient$2.get_widget(), this._bonusDate$2 ]).layout('form').cls('attributes').toDictionary()) ]).layout('column').toDictionary());
        var orderItems = new Ext.Panel(new Ext.PanelConfig().items([ this._itemsControl$2 ]).cls('items').toDictionary());
        var financeItems = [this._discount$2, this._total$2];
        if (this.get_canChangeVat()) {
            financeItems.add(this._vat$2);
            financeItems.add(this._useServiceFeeOnlyInVat$2);
        }
        var finances = new Ext.Panel(new Ext.PanelConfig().items(financeItems).cls('totals').autoWidth(true).layout('form').toDictionary());
        this.get_form().add(attributes);
        this.get_form().add(orderItems);
        this.get_form().add(finances);
    },
    
    setFieldValues: function Luxena_Travel_OrderEditForm$setFieldValues() {
        if (this.get__order$2() == null) {
            if (!ss.isNullOrUndefined(this.get_args().fieldValues)) {
                if (Object.keyExists(this.get_args().fieldValues, 'SeparateServiceFee')) {
                    this._separateServiceFee$2.setValue(this.get_args().fieldValues['SeparateServiceFee']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'AviaDocuments')) {
                    this._itemsControl$2.tryAddDocuments(this.get_args().fieldValues['AviaDocuments']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'Customer')) {
                    this._customer$2.setValue(this.get_args().fieldValues['Customer']);
                }
            }
            this._issueDate$2.setValue(Date.get_today());
            return;
        }
        this._issueDate$2.setValue(this.get__order$2().IssueDate);
        this._number$2.setValue(this.get__order$2().Number);
        this._customer$2.setValue(this.get__order$2().Customer);
        if (this.get__order$2().BillTo != null && this.get__order$2().BillTo.Id == null) {
            this.get__order$2().BillTo.Id = '';
        }
        this._billTo$2.setValue(this.get__order$2().BillTo);
        this._shipTo$2.setValue(this.get__order$2().ShipTo);
        this._intermediary$2.setValue(this.get__order$2().Intermediary);
        this._itemsControl$2.setInitialData(this.get__order$2().Id, this.get__order$2().Items);
        this._discount$2.setValue(this.get__order$2().Discount);
        this._total$2.setValue(this.get__order$2().Total);
        if (this.get_canChangeVat()) {
            this._vat$2.setValue(this.get__order$2().Vat);
            this._useServiceFeeOnlyInVat$2.setValue(this.get__order$2().UseServiceFeeOnlyInVat);
        }
        else {
            this._updateVatString$2(this.get__order$2().Vat);
        }
        this._owner$2.setValue(this.get__order$2().Owner);
        this._assignedTo$2.setValue(this.get__order$2().AssignedTo);
        this._bankAccount$2.setValue(this.get__order$2().BankAccount);
        if (!this.get__order$2().CanChangeAssignedTo) {
            this._assignedTo$2.get_widget().setDisabled(true);
        }
        this._bonusDate$2.setValue(this.get__order$2().BonusDate);
        this._bonusSpentAmount$2.setValue(this.get__order$2().BonusSpentAmount);
        this._bonusRecipient$2.setValue(this.get__order$2().BonusRecipient);
        this._isPublic$2.setValue(this.get__order$2().IsPublic);
        this._allowAddProductsInClosedPeriod$2.setValue(this.get__order$2().AllowAddProductsInClosedPeriod);
        this._isSubjectOfPaymentsControl$2.setValue(this.get__order$2().IsSubjectOfPaymentsControl);
        this._note$2.setValue(this.get__order$2().Note);
    },
    
    onSave: function Luxena_Travel_OrderEditForm$onSave() {
        if (this.isModified() || this._itemsControl$2.get_isModified() || this.get__order$2().BillTo != null && this._billTo$2.get_text() !== this.get__order$2().BillTo.Name) {
            Luxena.Travel.Services.OrderService.UpdateOrder(this._getOrder$2(), this.get_args().rangeRequest, ss.Delegate.create(this, this._onSaveComplete$2), null);
        }
        else {
            this.cancel();
        }
    },
    
    _onSaveComplete$2: function Luxena_Travel_OrderEditForm$_onSaveComplete$2(result) {
        var response = result;
        if (response.Errors == null) {
            this.completeSave(response);
            return;
        }
        Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.order_SaveError_Msg_Title, Luxena.Travel.Res.order_CannotRestoreOrder_Msg, response.Errors);
    },
    
    onSaved: function Luxena_Travel_OrderEditForm$onSaved(result) {
        if (ss.isNullOrUndefined(this.get_args().rangeRequest)) {
            var dto = (result).Item;
            LxnBase.MessageRegister.info(this.get_instanceConfig().ListCaption, String.format('{0} {1}', ((this.get_args().get_isNew()) ? LxnBase.BaseRes.created : LxnBase.BaseRes.updated), LxnBase.UI.Controls.ObjectLink.render(dto.Id, dto.Number, 'Order')));
        }
        Luxena.Travel.OrderEditForm.callBaseMethod(this, 'onSaved', [ result ]);
    },
    
    _getOrder$2: function Luxena_Travel_OrderEditForm$_getOrder$2() {
        var dto = new Luxena.Travel.OrderDto();
        if (this.get__order$2() != null) {
            dto.Id = this.get__order$2().Id;
            dto.Version = this.get__order$2().Version;
        }
        dto.IssueDate = this._issueDate$2.getValue();
        dto.Number = this._number$2.getValue().toString();
        dto.Customer = this._customer$2.getObjectInfo();
        dto.BillTo = this._billTo$2.getObjectInfo();
        if (dto.BillTo == null && !String.isNullOrEmpty(this._billTo$2.get_text())) {
            dto.BillTo = new LxnBase.Data.Reference();
        }
        if (dto.BillTo != null) {
            dto.BillTo.Name = this._billTo$2.get_text();
        }
        dto.ShipTo = this._shipTo$2.getObjectInfo();
        dto.Intermediary = this._intermediary$2.getObjectInfo();
        dto.Items = this._itemsControl$2.get_items();
        dto.Discount = this._discount$2.getValue();
        dto.Total = this._total$2.getValue();
        dto.Vat = (this.get_canChangeVat()) ? this._vat$2.getValue() : this._itemsControl$2.get_vat();
        dto.UseServiceFeeOnlyInVat = this._useServiceFeeOnlyInVat$2.getValue();
        dto.Owner = this._owner$2.getObjectInfo();
        dto.AssignedTo = this._assignedTo$2.getObjectInfo();
        dto.BankAccount = this._bankAccount$2.getObjectInfo();
        dto.BonusDate = this._bonusDate$2.getValue();
        dto.BonusSpentAmount = this._bonusSpentAmount$2.getValue();
        dto.BonusRecipient = this._bonusRecipient$2.getObjectInfo();
        dto.IsPublic = this._isPublic$2.getValue();
        dto.AllowAddProductsInClosedPeriod = this._allowAddProductsInClosedPeriod$2.getValue();
        dto.IsSubjectOfPaymentsControl = this._isSubjectOfPaymentsControl$2.getValue();
        var note = this._note$2.getValue();
        dto.Note = (String.isNullOrEmpty(note)) ? null : note;
        return dto;
    },
    
    _orderFinanceDataChanged$2: function Luxena_Travel_OrderEditForm$_orderFinanceDataChanged$2() {
        this._discount$2.setValue(this._itemsControl$2.get_discount());
        this._total$2.setValue(this._itemsControl$2.get_grandTotal());
        if (this.get_canChangeVat()) {
            this._vat$2.setValue(this._itemsControl$2.get_vat());
        }
        else {
            this._updateVatString$2(this._itemsControl$2.get_vat());
        }
    },
    
    _updateVatString$2: function Luxena_Travel_OrderEditForm$_updateVatString$2(vat) {
        var html = String.format("<label class='x-form-item-label'>{0}:</label>\r\n\t\t\t\t<div class='x-form-element'>\r\n\t\t\t\t\t<div class='text'>\r\n\t\t\t\t\t\t<div class='amount'>{1}</div>\r\n\t\t\t\t\t\t<div class='currency'>{2}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class='x-form-clear-left'></div>", Luxena.Travel.DomainRes.order_Vat, vat.Amount.format('N2'), vat.Currency.Name);
        if (this._vatString$2.rendered) {
            this._vatString$2.getEl().update(html);
        }
        else {
            this._vatString$2.autoEl = { html: html };
        }
    },
    
    _itemsControl$2: null,
    _issueDate$2: null,
    _number$2: null,
    _customer$2: null,
    _billTo$2: null,
    _shipTo$2: null,
    _intermediary$2: null,
    _owner$2: null,
    _assignedTo$2: null,
    _bankAccount$2: null,
    _isPublic$2: null,
    _allowAddProductsInClosedPeriod$2: null,
    _isSubjectOfPaymentsControl$2: null,
    _separateServiceFee$2: null,
    _useServiceFeeOnlyInVat$2: null,
    _note$2: null,
    _total$2: null,
    _discount$2: null,
    _vat$2: null,
    _vatString$2: null,
    _bonusDate$2: null,
    _bonusSpentAmount$2: null,
    _bonusRecipient$2: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderItemEditForm

Luxena.Travel.OrderItemEditForm = function Luxena_Travel_OrderItemEditForm(args, itemConfig) {
    Luxena.Travel.OrderItemEditForm.initializeBase(this, [ args, itemConfig ]);
    args.mode = LxnBase.UI.LoadMode.local;
    this.get_window().addClass('orderitem-edit');
}
Luxena.Travel.OrderItemEditForm.editObject = function Luxena_Travel_OrderItemEditForm$editObject(args) {
    LxnBase.Data.ConfigManager.getEditConfig(args.type, function(config) {
        var form = new Luxena.Travel.OrderItemEditForm(args, config);
        form.open();
    });
}
Luxena.Travel.OrderItemEditForm.prototype = {
    
    get_r: function Luxena_Travel_OrderItemEditForm$get_r() {
        return this.get_instance();
    },
    
    addFields: function Luxena_Travel_OrderItemEditForm$addFields() {
        this._textField$2 = this.createEditor('Text');
        var addProductTextButton = this.get_form().addButton('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438', ss.Delegate.create(this, this._addProductText$2));
        var panel1 = new Ext.Panel(new Ext.PanelConfig().items([ addProductTextButton ]).cls('add-product-text-button').toDictionary());
        this._priceField$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.orderItem_Price, true));
        this._priceField$2.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$2));
        if (!Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput) {
            this._priceField$2.get_currencySelector().get_widget().on('change', ss.Delegate.create(this, this._onCurrencyChange$2));
        }
        this._quantityField$2 = this.createEditor('Quantity');
        this._quantityField$2.on('change', ss.Delegate.create(this, this._onAmountChange$2));
        this._quantityField$2.setValue(1);
        this._quantityField$2.allowBlank = false;
        this._quantityField$2.cls = 'number';
        this._discountField$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.orderItem_Discount, true));
        this._discountField$2.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$2));
        if (!Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput) {
            this._discountField$2.get_currencySelector().get_widget().on('change', ss.Delegate.create(this, this._onCurrencyChange$2));
        }
        var money = new Luxena.Travel.MoneyDto();
        money.Currency = Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency;
        this._grandTotalField$2 = new Ext.form.DisplayField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.DomainRes.orderItem_GrandTotal).value(Luxena.Travel.MoneyDto.toMoneyFullString(money)).toDictionary());
        this._hasVatField$2 = this.createEditor('HasVat');
        var fields = [ this._textField$2, this._priceField$2, this._quantityField$2, this._discountField$2, this._grandTotalField$2, this._hasVatField$2 ];
        this.get_form().add([ this._textField$2, panel1, this._priceField$2, this._quantityField$2, this._discountField$2, this._grandTotalField$2, this._hasVatField$2 ]);
        return fields;
    },
    
    _addProductText$2: function Luxena_Travel_OrderItemEditForm$_addProductText$2() {
        var value = Type.safeCast(this._textField$2.getValue(), String);
        if (String.isNullOrEmpty(value)) {
            value = '';
        }
        else {
            value += ' ';
        }
        this._textField$2.setValue(value + this.get_r().ProductText);
    },
    
    _onAmountChange$2: function Luxena_Travel_OrderItemEditForm$_onAmountChange$2(field, newvalue, oldvalue) {
        var money = this._calculateGrandTotal$2();
        this._grandTotalField$2.setValue(Luxena.Travel.MoneyDto.toMoneyFullString(money));
    },
    
    _onCurrencyChange$2: function Luxena_Travel_OrderItemEditForm$_onCurrencyChange$2(objthis, newvalue, oldvalue) {
        if (objthis === this._priceField$2.get_currencySelector().get_widget()) {
            this._discountField$2.get_currencySelector().setValue(this._priceField$2.get_currency());
        }
        else {
            this._priceField$2.get_currencySelector().setValue(this._discountField$2.get_currency());
        }
        var money = this._calculateGrandTotal$2();
        this._grandTotalField$2.setValue(Luxena.Travel.MoneyDto.toMoneyFullString(money));
    },
    
    _canCaluculate$2: function Luxena_Travel_OrderItemEditForm$_canCaluculate$2() {
        var res = this._priceField$2.getValue() != null && this._discountField$2.getValue() != null && this._quantityField$2.getValue() != null && !!this._quantityField$2.getValue();
        return res && LxnBase.Data.Reference.equals(this._priceField$2.get_currency(), this._discountField$2.get_currency());
    },
    
    _calculateGrandTotal$2: function Luxena_Travel_OrderItemEditForm$_calculateGrandTotal$2() {
        if (!this._canCaluculate$2()) {
            return Luxena.Travel.MoneyDto.getZeroMoney();
        }
        var money = new Luxena.Travel.MoneyDto();
        money.Amount = this._priceField$2.get_amount() * this._quantityField$2.getValue() - this._discountField$2.get_amount();
        money.Currency = this._priceField$2.get_currency();
        return money;
    },
    
    loadInstance: function Luxena_Travel_OrderItemEditForm$loadInstance(onLoaded) {
    },
    
    setFieldValues: function Luxena_Travel_OrderItemEditForm$setFieldValues() {
        if (this.get_r() == null) {
            return;
        }
        this._textField$2.setValue(this.get_r().Text);
        this._priceField$2.setValue(this.get_r().Price);
        this._quantityField$2.setValue(this.get_r().Quantity);
        this._discountField$2.setValue(this.get_r().Discount);
        this._grandTotalField$2.setValue(Luxena.Travel.MoneyDto.toMoneyFullString(this.get_r().GrandTotal));
        this._hasVatField$2.setValue(this.get_r().HasVat);
    },
    
    onSave: function Luxena_Travel_OrderItemEditForm$onSave() {
        var dto = new Luxena.Travel.OrderItemDto();
        if (this.get_r() != null) {
            dto.LinkType = this.get_r().LinkType;
            dto.Product = this.get_r().Product;
        }
        dto.Text = this._textField$2.getValue();
        dto.Price = this._priceField$2.getValue() || Luxena.Travel.MoneyDto.getZeroMoney();
        dto.Quantity = this._quantityField$2.getValue();
        dto.Discount = this._discountField$2.getValue() || Luxena.Travel.MoneyDto.getZeroMoney();
        dto.GrandTotal = this._calculateGrandTotal$2() || Luxena.Travel.MoneyDto.getZeroMoney();
        dto.Total = Luxena.Travel.MoneyDto.getZeroMoney(dto.Price.Currency);
        dto.Total.Amount = dto.Price.Amount * dto.Quantity;
        dto.TaxedTotal = Luxena.Travel.MoneyDto.copyMoney(dto.Total);
        dto.HasVat = this._hasVatField$2.getValue();
        this.completeSave(LxnBase.Data.ItemResponse.create(dto));
    },
    
    _textField$2: null,
    _priceField$2: null,
    _quantityField$2: null,
    _discountField$2: null,
    _grandTotalField$2: null,
    _hasVatField$2: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderItemGridControl

Luxena.Travel.OrderItemGridControl = function Luxena_Travel_OrderItemGridControl(height) {
    Luxena.Travel.OrderItemGridControl.initializeBase(this, [ new Ext.grid.EditorGridPanelConfig().cls('invoce-records').height(height).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).collapsible(false).frame(false).toDictionary() ]);
}
Luxena.Travel.OrderItemGridControl._storeSearchFunc$7 = function Luxena_Travel_OrderItemGridControl$_storeSearchFunc$7(oldItem, newItem) {
    return !ss.isNullOrUndefined(oldItem) && !ss.isNullOrUndefined(newItem) && !ss.isNullOrUndefined(oldItem.Product) && !ss.isNullOrUndefined(newItem.Product) && oldItem.Product.Id === newItem.Product.Id && oldItem.LinkType === newItem.LinkType;
}
Luxena.Travel.OrderItemGridControl.prototype = {
    
    add_financeDataChanged: function Luxena_Travel_OrderItemGridControl$add_financeDataChanged(value) {
        this.__financeDataChanged$7 = ss.Delegate.combine(this.__financeDataChanged$7, value);
    },
    remove_financeDataChanged: function Luxena_Travel_OrderItemGridControl$remove_financeDataChanged(value) {
        this.__financeDataChanged$7 = ss.Delegate.remove(this.__financeDataChanged$7, value);
    },
    
    __financeDataChanged$7: null,
    
    initComponent: function Luxena_Travel_OrderItemGridControl$initComponent() {
        this.store = this._initStore$7();
        this.sm = this._initSelectionModel$7();
        this.cm = this._initColumnModel$7();
        this.tbar = this._initToolbar$7();
        Luxena.Travel.OrderItemGridControl.callBaseMethod(this, 'initComponent');
    },
    
    get_discount: function Luxena_Travel_OrderItemGridControl$get_discount() {
        var result = new Luxena.Travel.MoneyDto();
        result.Currency = this.get_grandTotal().Currency;
        result.Amount = 0;
        for (var i = 0; i < this.getStore().data.length; i++) {
            var dto = this.getStore().getAt(i).data;
            if (!ss.isNullOrUndefined(dto.Discount) && LxnBase.Data.Reference.equals(result.Currency, dto.Discount.Currency)) {
                result.Amount += dto.Discount.Amount;
            }
        }
        return result;
    },
    
    get_grandTotal: function Luxena_Travel_OrderItemGridControl$get_grandTotal() {
        var result = new Luxena.Travel.MoneyDto();
        result.Currency = Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency;
        for (var i = 0; i < this.getStore().data.length; i++) {
            var dto = this.getStore().getAt(i).data;
            if (!ss.isNullOrUndefined(dto.GrandTotal) && LxnBase.Data.Reference.equals(result.Currency, dto.GrandTotal.Currency)) {
                result.Amount += dto.GrandTotal.Amount;
            }
        }
        return result;
    },
    
    get_vat: function Luxena_Travel_OrderItemGridControl$get_vat() {
        var givenVat = Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        var taxedTotal = Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        var serviceFee = 0;
        for (var i = 0; i < this.getStore().data.length; i++) {
            var dto = this.getStore().getAt(i).data;
            if (ss.isNullOrUndefined(dto.HasVat) || !dto.HasVat) {
                continue;
            }
            if (dto.GivenVat != null && LxnBase.Data.Reference.equals(givenVat.Currency, dto.GivenVat.Currency)) {
                givenVat.Amount += dto.GivenVat.Amount;
            }
            if (dto.TaxedTotal != null && LxnBase.Data.Reference.equals(taxedTotal.Currency, dto.TaxedTotal.Currency)) {
                taxedTotal.Amount += dto.TaxedTotal.Amount;
            }
            if (!this.get_useServiceFeeOnlyInVat()) {
                continue;
            }
            if (dto.LinkType === 1 && !ss.isNullOrUndefined(dto.GrandTotal)) {
                serviceFee += dto.GrandTotal.Amount;
            }
        }
        var vat = Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        var discount = this.get_discount() || Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        if (!!givenVat.Amount) {
            vat.Amount += givenVat.Amount;
        }
        if (!!taxedTotal.Amount) {
            vat.Amount += (taxedTotal.Amount - discount.Amount) * Luxena.Travel.AppManager.get_systemConfiguration().VatRate / (100 + Luxena.Travel.AppManager.get_systemConfiguration().VatRate);
        }
        if (vat != null && vat.Amount < 0) {
            vat.Amount = 0;
        }
        if (this.get_useServiceFeeOnlyInVat() && vat != null) {
            vat.Amount = serviceFee * Luxena.Travel.AppManager.get_systemConfiguration().VatRate / 100;
        }
        return vat;
    },
    
    get_useServiceFeeOnlyInVat: function Luxena_Travel_OrderItemGridControl$get_useServiceFeeOnlyInVat() {
        return this._useServiceFeeOnlyInVat$7;
    },
    set_useServiceFeeOnlyInVat: function Luxena_Travel_OrderItemGridControl$set_useServiceFeeOnlyInVat(value) {
        if (this._useServiceFeeOnlyInVat$7 === value) {
            return;
        }
        this._useServiceFeeOnlyInVat$7 = value;
        if (this.__financeDataChanged$7 != null) {
            this.__financeDataChanged$7();
        }
        return value;
    },
    
    get_isModified: function Luxena_Travel_OrderItemGridControl$get_isModified() {
        return this._isModified$7;
    },
    
    get_items: function Luxena_Travel_OrderItemGridControl$get_items() {
        var result = new Array(0);
        for (var i = 0; i < this.store.data.length; i++) {
            result[i] = this.store.getAt(i).data;
        }
        return result;
    },
    set_items: function Luxena_Travel_OrderItemGridControl$set_items(value) {
        var $enum1 = ss.IEnumerator.getEnumerator(value);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            var record = new Ext.data.Record(dto);
            this._store$7.add([ record ]);
        }
        if (this.__financeDataChanged$7 != null) {
            this.__financeDataChanged$7();
        }
        return value;
    },
    
    setParentForm: function Luxena_Travel_OrderItemGridControl$setParentForm(form) {
        this._parent$7 = form;
    },
    
    setInitialData: function Luxena_Travel_OrderItemGridControl$setInitialData(orderId, orderItems) {
        this._orderId$7 = orderId;
        if (orderItems != null && orderItems.length > 0) {
            this._store$7.loadData(orderItems);
        }
    },
    
    tryAddDocuments: function Luxena_Travel_OrderItemGridControl$tryAddDocuments(aviaDocumentIds) {
        Luxena.Travel.Services.OrderService.GenerateOrderItems(aviaDocumentIds, this._parent$7.get_separateServiceFee(), this._orderId$7, ss.Delegate.create(this, function(result) {
            var response = result;
            if (response.OrderItems == null || !response.OrderItems.length) {
                this._updateOrder$7(response.Items, response.Customer);
            }
            else {
                this._confirmAddingDocuments$7(response);
            }
        }), null);
    },
    
    _initToolbar$7: function Luxena_Travel_OrderItemGridControl$_initToolbar$7() {
        this._editButton$7 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this, this._editItem$7)).disabled(true));
        this._removeButton$7 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeItem$7)).disabled(true));
        var addWithSamecustomer = new Ext.menu.Item(new Ext.menu.ItemConfig().handler(ss.Delegate.create(this, this._addDocumentsWithSameCustomer$7)).text(Luxena.Travel.Res.menu_WithSameAcquirer).toDictionary());
        var menu = new Ext.menu.Menu(new Ext.menu.MenuConfig().items([ new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_AddNew).handler(ss.Delegate.create(this, this._createItem$7)).toDictionary()), '-', new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_GetByNumber).handler(ss.Delegate.create(this, function() {
            LxnBase.UI.MessageBoxWrap.prompt(Luxena.Travel.Res.addDocument_Title, Luxena.Travel.Res.enterDocumentNumber_Text, ss.Delegate.create(this, function(button, text) {
                if (button === 'ok' && !String.isNullOrEmpty(text)) {
                    this._addDocumentByNumber$7(text);
                }
            }));
        })).toDictionary()), new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_MyDocuments).handler(ss.Delegate.create(this, this._addUserDocuments$7)).toDictionary()), new Ext.menu.Item(new Ext.menu.ItemConfig().handler(ss.Delegate.create(this, this._addDocumentsFromFullList$7)).text(Luxena.Travel.Res.menu_FromList).toDictionary()), addWithSamecustomer ]).listeners({ beforeshow: ss.Delegate.create(this, function() {
            if (this._parent$7.get_customer() == null) {
                addWithSamecustomer.setDisabled(true);
            }
            else {
                addWithSamecustomer.setDisabled(false);
            }
        }) }).cls('simple-menu').toDictionary());
        var addButton = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add.toLowerCase()).menu(menu));
        this._changeVatButton$7 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.orderItem_WithVat).handler(ss.Delegate.create(this, this._changeVat$7)).disabled(true));
        return new Ext.Toolbar([ '->', addButton, this._editButton$7, this._removeButton$7, '|', this._changeVatButton$7 ]);
    },
    
    _initStore$7: function Luxena_Travel_OrderItemGridControl$_initStore$7() {
        this._store$7 = new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Version', 'LinkType', 'Product', 'Text', 'ProductText', 'Price', 'Quantity', 'Total', 'Discount', 'GrandTotal', 'GivenVat', 'TaxedTotal', 'HasVat', 'Consignment' ]).toDictionary());
        return this._store$7;
    },
    
    _initSelectionModel$7: function Luxena_Travel_OrderItemGridControl$_initSelectionModel$7() {
        this._selectionModel$7 = new Ext.grid.CheckboxSelectionModel();
        this._selectionModel$7.singleSelect = false;
        this._selectionModel$7.on('selectionchange', ss.Delegate.create(this, function() {
            if (!this._selectionModel$7.getCount()) {
                this._removeButton$7.disable();
                this._changeVatButton$7.disable();
            }
            else {
                this._removeButton$7.enable();
                var records = this._selectionModel$7.getSelections();
                var hasVat = records[0].get('HasVat');
                var canChangeVat = this._parent$7.get_canChangeVat();
                for (var i = 0; i < records.length; i++) {
                    if ((hasVat ^ records[i].get('HasVat')) === 1) {
                        canChangeVat = false;
                        break;
                    }
                }
                if (canChangeVat) {
                    this._changeVatButton$7.setText((hasVat) ? Luxena.Travel.Res.orderItem_WithoutVat : Luxena.Travel.Res.orderItem_WithVat);
                    this._changeVatButton$7.enable();
                }
                else {
                    this._changeVatButton$7.disable();
                    this._changeVatButton$7.setText(Luxena.Travel.Res.orderItem_WithVat);
                }
            }
            if (this._selectionModel$7.getCount() !== 1) {
                this._editButton$7.disable();
            }
            else {
                this._editButton$7.enable();
            }
        }));
        return this._selectionModel$7;
    },
    
    _initColumnModel$7: function Luxena_Travel_OrderItemGridControl$_initColumnModel$7() {
        var columnModelConfig = [];
        if (!this._selectionModel$7.singleSelect) {
            columnModelConfig.insert(0, this._selectionModel$7);
        }
        columnModelConfig.add(new Ext.grid.RowNumberer({ header: Luxena.Travel.Res.common_ListNumber }));
        columnModelConfig.add({ id: 'Text', header: Luxena.Travel.Res.orderItem_Text, sortable: false, dataIndex: 'Text', width: 290, renderer: function(value) {
            return String.format('<pre>{0}</pre>', value);
        } });
        columnModelConfig.add({ id: 'Quantity', header: Luxena.Travel.Res.common_QuantityShort, sortable: false, dataIndex: 'Quantity', width: 35 });
        columnModelConfig.add({ id: 'Price', header: Luxena.Travel.Res.common_Price, sortable: false, dataIndex: 'Price', width: 75, renderer: Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer() });
        columnModelConfig.add({ id: 'Total', header: Luxena.Travel.DomainRes.common_Amount, sortable: false, dataIndex: 'Total', width: 85, renderer: Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer() });
        columnModelConfig.add({ id: 'HasVat', header: Luxena.Travel.DomainRes.common_Vat, sortable: false, dataIndex: 'HasVat', width: 85, renderer: LxnBase.UI.AutoControls.ControlFactory.createBooleanRenderer() });
        return new Ext.grid.ColumnModel(columnModelConfig);
    },
    
    _createItem$7: function Luxena_Travel_OrderItemGridControl$_createItem$7() {
        LxnBase.UI.FormsRegistry.editObject('OrderItem', null, null, ss.Delegate.create(this, function(result) {
            this._addOrderItems$7([ (result).Item ]);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _editItem$7: function Luxena_Travel_OrderItemGridControl$_editItem$7() {
        if (!this._selectionModel$7.getCount()) {
            return;
        }
        var record = this._selectionModel$7.getSelected();
        var data = record.data;
        LxnBase.UI.FormsRegistry.editObject('OrderItem', data.Id, data, ss.Delegate.create(this, function(result) {
            this._updateRecord$7((result).Item, record);
            if (this.__financeDataChanged$7 != null) {
                this.__financeDataChanged$7();
            }
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _updateRecord$7: function Luxena_Travel_OrderItemGridControl$_updateRecord$7(obj, record) {
        record.data = obj;
        record.commit();
        this._isModified$7 = true;
    },
    
    _addDocumentByNumber$7: function Luxena_Travel_OrderItemGridControl$_addDocumentByNumber$7(number) {
        Luxena.Travel.Services.OrderService.FindAviaDocumentByNumer(number, ss.Delegate.create(this, function(result) {
            var info = result;
            if (result != null) {
                this.tryAddDocuments([ info.Id ]);
            }
            else {
                LxnBase.UI.MessageBoxWrap.show('', String.format(Luxena.Travel.Res.noDocumentFound_Text, number), Ext.MessageBox.WARNING, Ext.MessageBox.OK);
            }
        }), null);
    },
    
    _addDocumentsFromFullList$7: function Luxena_Travel_OrderItemGridControl$_addDocumentsFromFullList$7() {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid', LxnBase.Data.FilterOperator.equals, false, false), LxnBase.UI.PropertyFilterExtention.createFilter('Order', LxnBase.Data.FilterOperator.isNull, true, false) ];
        request.sort = 'IssueDate';
        request.dir = 'DESC';
        LxnBase.UI.FormsRegistry.selectObjects('AviaDocument', request, false, ss.Delegate.create(this, function(result) {
            this.tryAddDocuments(result);
        }), null);
    },
    
    _addUserDocuments$7: function Luxena_Travel_OrderItemGridControl$_addUserDocuments$7() {
        var request = new LxnBase.Data.RangeRequest();
        request.sort = 'IssueDate';
        request.dir = 'DESC';
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Seller', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false), LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid', LxnBase.Data.FilterOperator.equals, false, false), LxnBase.UI.PropertyFilterExtention.createFilter('Order', LxnBase.Data.FilterOperator.isNull, true, false) ];
        LxnBase.UI.FormsRegistry.selectObjects('AviaDocument', request, false, ss.Delegate.create(this, function(result) {
            this.tryAddDocuments(result);
        }), null);
    },
    
    _addDocumentsWithSameCustomer$7: function Luxena_Travel_OrderItemGridControl$_addDocumentsWithSameCustomer$7() {
        var customer = this._parent$7.get_customer();
        if (customer == null) {
            return;
        }
        var request = new LxnBase.Data.RangeRequest();
        request.sort = 'IssueDate';
        request.dir = 'DESC';
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Customer', LxnBase.Data.FilterOperator.equals, customer.Name, false), LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid', LxnBase.Data.FilterOperator.equals, false, false), LxnBase.UI.PropertyFilterExtention.createFilter('Order', LxnBase.Data.FilterOperator.isNull, true, false) ];
        LxnBase.UI.FormsRegistry.selectObjects('AviaDocument', request, false, ss.Delegate.create(this, function(result) {
            this.tryAddDocuments(result);
        }), null);
    },
    
    _removeItem$7: function Luxena_Travel_OrderItemGridControl$_removeItem$7() {
        if (!this._selectionModel$7.getCount()) {
            return;
        }
        var selected = this._selectionModel$7.getSelections();
        if (selected == null) {
            return;
        }
        for (var i = 0; i < selected.length; i++) {
            this._store$7.remove(selected[i]);
        }
        this._isModified$7 = true;
        if (this.__financeDataChanged$7 != null) {
            this.__financeDataChanged$7();
        }
    },
    
    _changeVat$7: function Luxena_Travel_OrderItemGridControl$_changeVat$7() {
        var selected = this._selectionModel$7.getSelections();
        if (selected == null || !selected.length) {
            return;
        }
        var hasVat = selected[0].get('HasVat');
        for (var i = 0; i < selected.length; i++) {
            selected[i].set('HasVat', !hasVat);
            selected[i].commit();
        }
        this._changeVatButton$7.setText((hasVat) ? Luxena.Travel.Res.orderItem_WithVat : Luxena.Travel.Res.orderItem_WithoutVat);
        this._isModified$7 = true;
        if (this.__financeDataChanged$7 != null) {
            this.__financeDataChanged$7();
        }
    },
    
    _updateOrder$7: function Luxena_Travel_OrderItemGridControl$_updateOrder$7(orderItems, customer) {
        if (this._parent$7.get_customer() == null && customer != null) {
            this._parent$7.set_customer(customer);
        }
        this._addOrderItems$7(orderItems);
    },
    
    _addOrderItems$7: function Luxena_Travel_OrderItemGridControl$_addOrderItems$7(orderItems) {
        if (orderItems == null || !orderItems.length) {
            return;
        }
        var add = false;
        for (var i = 0; i < orderItems.length; i++) {
            var pos = i;
            if (this._store$7.findBy(function(rec, recordId) {
                return Luxena.Travel.OrderItemGridControl._storeSearchFunc$7(rec.data, orderItems[pos]);
            }) !== -1) {
                continue;
            }
            var record = new Ext.data.Record(orderItems[i]);
            this._store$7.add([ record ]);
            add = true;
        }
        if (add) {
            this._isModified$7 = true;
            if (this.__financeDataChanged$7 != null) {
                this.__financeDataChanged$7();
            }
        }
    },
    
    _confirmAddingDocuments$7: function Luxena_Travel_OrderItemGridControl$_confirmAddingDocuments$7(response) {
        if (response.Items.length > 0) {
            Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title, Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg, response.OrderItems, Luxena.Travel.Res.aviaDocument_ContinueAddToOrder_Msg, ss.Delegate.create(this, function() {
                this._updateOrder$7(response.Items, response.Customer);
            }));
        }
        else {
            Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title, Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg, response.OrderItems);
        }
    },
    
    _parent$7: null,
    _isModified$7: false,
    _store$7: null,
    _selectionModel$7: null,
    _editButton$7: null,
    _removeButton$7: null,
    _changeVatButton$7: null,
    _orderId$7: null,
    _useServiceFeeOnlyInVat$7: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderViewForm

Luxena.Travel.OrderViewForm = function Luxena_Travel_OrderViewForm(tabId, id, type) {
    Luxena.Travel.OrderViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.OrderViewForm.viewObject = function Luxena_Travel_OrderViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.OrderViewForm(tabId, id, type);
    });
}
Luxena.Travel.OrderViewForm._getOrderFinancesControl$7 = function Luxena_Travel_OrderViewForm$_getOrderFinancesControl$7() {
    var config = new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Discount, 'Discount').setPropertyType(4), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Total, 'Total').setPropertyType(4), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_Vat, 'Vat').setPropertyType(4), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_Paid, 'Paid').setPropertyType(4), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_TotalDue, 'TotalDue').setPropertyType(4).setRowCssClass(function(item, value) {
        var moneyDto = value;
        if (moneyDto != null && !!moneyDto.Amount) {
            return 'unpaid-amount';
        }
        return null;
    }) ]).setCssClass('common-finances');
    return new Luxena.Travel.Controls.PropertyListControl(config);
}
Luxena.Travel.OrderViewForm._getOrderItemsControl$7 = function Luxena_Travel_OrderViewForm$_getOrderItemsControl$7() {
    var propertyItems = [ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.orderItem_Text, 'Text').setWidth(500).setRenderer(Luxena.Travel.OrderViewForm._renderItemText$7), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.common_Quantity, 'Quantity').setPropertyType(3).setWidth(80).setCssClass('center-align'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.common_Price, 'Price').setPropertyType(4).setWidth(100).setCssClass('right-align'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Amount, 'Total').setPropertyType(4).setWidth(100).setCssClass('right-align'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.orderItem_Consignment, 'Consignment').setPropertyType(5).setCssClass('center-align') ];
    var config = new Luxena.Travel.Controls.PropertyGridControlConfig().setListItems(propertyItems).setUseListCountColumn(true).setCssClass('order-items').setGridTitle(Luxena.Travel.Res.orderItems);
    return new Luxena.Travel.Controls.PropertyGridControl(config);
}
Luxena.Travel.OrderViewForm._getPaymentsControl$7 = function Luxena_Travel_OrderViewForm$_getPaymentsControl$7() {
    var propertyItems = [ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment, 'Number').setCssClass('center-align').setRenderer(function(instance, value, index, container) {
        var payment = instance;
        container.append(LxnBase.UI.Controls.ObjectLink.render(payment.Id, payment.Number, Luxena.Travel.OrderViewForm._getPaymentClassName$7(payment)));
    }), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Date, 'Date').setPropertyType(2).setCssClass('center-align'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_PostedOn, 'PostedOn').setPropertyType(2).setCssClass('center-align'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.payment_DocumentNumber, 'DocumentNumber').setRenderer(function(instance, value, index, container) {
        var payment = instance;
        if (payment.DocumentNumber == null) {
            return;
        }
        var text = null;
        switch (payment.PaymentForm) {
            case 1:
                text = Luxena.Travel.Res.wireTransfer_DocumentName_Format;
                break;
            case 2:
                text = Luxena.Travel.Res.checkPayment_DocumentName_Format;
                break;
            case 0:
                text = Luxena.Travel.Res.cashInOrderPayment_DocumentName_Format;
                break;
            case 4:
                text = Luxena.Travel.Res.cashOutOrderPayment_DocumentName_Format;
                break;
            case 3:
                text = Luxena.Travel.Res.electronicPayment_DocumentName_Format;
                break;
        }
        if (payment.PaymentForm !== 3) {
            text = String.format(text, payment.DocumentNumber);
        }
        else {
            text = String.format(text, (payment.PaymentSystem != null) ? payment.PaymentSystem.Name + ', ' : '', payment.DocumentNumber);
        }
        if (!!payment.PaymentForm && payment.PaymentForm !== 4) {
            container.append(text);
        }
        else {
            var div = $("<div class='cashorder-link'></div>");
            var link = $('<span></span>').html(text);
            var func = function(id, number) {
                link.click(function() {
                    Luxena.Travel.ReportPrinter.getCashOrder(id, number);
                });
            };
            func(payment.Id, payment.DocumentNumber);
            container.append(div.append(link));
        }
    }), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Payer, 'Payer').setPropertyType(5), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_RegisteredBy, 'RegisteredBy').setPropertyType(0).setCssClass('center-align'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Amount, 'Amount').setPropertyType(4).setCssClass('right-align') ];
    var config = new Luxena.Travel.Controls.PropertyGridControlConfig().setListItems(propertyItems).setUseListCountColumn(true).setCssClass('payments').setRowCssClass(Luxena.Travel.OrderViewForm._getPaymentCss$7).setGridTitle(Luxena.Travel.Res.payments);
    return new Luxena.Travel.Controls.PropertyGridControl(config);
}
Luxena.Travel.OrderViewForm._getTransfersControl$7 = function Luxena_Travel_OrderViewForm$_getTransfersControl$7() {
    var propertyItems = [ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Number, 'Transfer').setPropertyType(5), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Date, 'Date').setPropertyType(2), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.party, 'Party').setPropertyType(5), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order, 'Order').setPropertyType(5), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Amount, 'Amount').setPropertyType(3).setCssClass('right-align') ];
    var config = new Luxena.Travel.Controls.PropertyGridControlConfig().setListItems(propertyItems).setCssClass('payments').setGridTitle(Luxena.Travel.DomainRes.internalTransfer_Caption_List);
    return new Luxena.Travel.Controls.PropertyGridControl(config);
}
Luxena.Travel.OrderViewForm._getPaymentClassName$7 = function Luxena_Travel_OrderViewForm$_getPaymentClassName$7(payment) {
    switch (payment.PaymentForm) {
        case 0:
            return 'CashInOrderPayment';
        case 4:
            return 'CashOutOrderPayment';
        case 2:
            return 'CheckPayment';
        case 1:
            return 'WireTransfer';
        case 3:
            return 'ElectronicPayment';
    }
    return null;
}
Luxena.Travel.OrderViewForm._getPaymentCss$7 = function Luxena_Travel_OrderViewForm$_getPaymentCss$7(value) {
    var dto = value;
    if (dto.IsVoid) {
        return 'textColor-gray';
    }
    if (!ss.isValue(dto.PostedOn)) {
        return 'textColor-red';
    }
    return null;
}
Luxena.Travel.OrderViewForm._renderItemText$7 = function Luxena_Travel_OrderViewForm$_renderItemText$7(instance, value, index, container) {
    var text = value;
    var item = instance;
    var source = null;
    if (item.Product != null) {
        source = LxnBase.Data.Reference.copy(item.Product);
    }
    if (source != null && ss.isValue(source.Name)) {
        var hasNumber = source.Name.match(new RegExp('^\\d{3}-\\d{5,15}$')) != null;
        if (!hasNumber || text.indexOf(source.Name) === -1) {
            if (!hasNumber) {
                source.Name = Luxena.Travel.Res.orderViewForm_Reservation;
            }
            var endPos = (text.indexOf('\n') !== -1) ? text.indexOf('\n') - 1 : text.length;
            text = text.insert(endPos, String.format(' ({0})', LxnBase.UI.Controls.ObjectLink.renderInfo(source)));
        }
        else {
            text = text.replaceAll(source.Name, LxnBase.UI.Controls.ObjectLink.renderInfo(source));
        }
    }
    container.append(text);
}
Luxena.Travel.OrderViewForm.prototype = {
    
    get__order$7: function Luxena_Travel_OrderViewForm$get__order$7() {
        return this.get_instance();
    },
    
    initComponent: function Luxena_Travel_OrderViewForm$initComponent() {
        this.cls = 'order-view';
        this.layout = null;
        Luxena.Travel.OrderViewForm.callBaseMethod(this, 'initComponent');
        this._titleLabel$7 = new Ext.form.Label(new Ext.form.LabelConfig().cls('title').toDictionary());
        this._orderProperties$7 = this._getOrderProperiesControl$7();
        this._orderFinances$7 = Luxena.Travel.OrderViewForm._getOrderFinancesControl$7();
        this._orderItems$7 = Luxena.Travel.OrderViewForm._getOrderItemsControl$7();
        this._payments$7 = Luxena.Travel.OrderViewForm._getPaymentsControl$7();
        this._transfers$7 = Luxena.Travel.OrderViewForm._getTransfersControl$7();
        var contentPanel = new Ext.Panel(new Ext.PanelConfig().items([ this._titleLabel$7, this._orderProperties$7, this._orderFinances$7, this._orderItems$7, this._payments$7, this._transfers$7 ]).border(false).cls('content-panel').toDictionary());
        this.add(contentPanel);
    },
    
    onLoad: function Luxena_Travel_OrderViewForm$onLoad() {
        this.setTitle(this.get__order$7().Number);
        this._refreshOrderTitle$7();
        this._orderProperties$7.loadInstance(this.get__order$7());
        this._orderFinances$7.loadInstance(this.get__order$7());
        this._orderItems$7.loadCollection(this.get__order$7().Items);
        this._payments$7.loadCollection(this.get__order$7().Payments);
        this._transfers$7.loadCollection(this.get__order$7().Transfers);
        if (!this.get__order$7().CanCreateTransfer) {
            this._createInternalTransferItem$7.hide();
        }
    },
    
    _refreshOrderTitle$7: function Luxena_Travel_OrderViewForm$_refreshOrderTitle$7() {
        this._voidButton$7.setText((this.get__order$7().IsVoid) ? Luxena.Travel.Res.restore_Action.toLowerCase() : Luxena.Travel.Res.void_Action.toLowerCase());
        var str = Luxena.Travel.DomainRes.order;
        if (this.get__order$7().IsVoid) {
            str += ' (' + Luxena.Travel.DomainRes.common_IsVoid.toLowerCase() + ')';
        }
        this._titleLabel$7.setText(str);
        this._titleLabel$7.removeClass('open-unpaid');
        this._titleLabel$7.removeClass('open-paid');
        this._titleLabel$7.removeClass('voided');
        var labelClass = null;
        if (this.get__order$7().IsVoid) {
            labelClass = 'voided';
        }
        else if (this.get__order$7().DeliveryBalance < 0) {
            labelClass = 'open-unpaid';
        }
        else if (this.get__order$7().Total != null && !!this.get__order$7().Total.Amount && this.get__order$7().TotalDue != null && !!this.get__order$7().TotalDue.Amount) {
            labelClass = 'open-unpaid';
        }
        else if (this.get__order$7().DeliveryBalance > 0) {
            labelClass = 'open-paid';
        }
        if (!String.isNullOrEmpty(labelClass)) {
            this._titleLabel$7.addClass(labelClass);
        }
        this._registerPaymentButton$7.setDisabled(this.get__order$7().IsVoid);
    },
    
    getInstance: function Luxena_Travel_OrderViewForm$getInstance() {
        Luxena.Travel.Services.OrderService.GetOrder(this.get_id(), ss.Delegate.create(this, this.load), ss.Delegate.create(this, function() {
            LxnBase.UI.Tabs.close(this);
        }));
    },
    
    onInitToolBar: function Luxena_Travel_OrderViewForm$onInitToolBar(toolbarItems) {
        this._issueInvoiceButton$7 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.order_IssueInvoice_Action.toLowerCase()).handler(ss.Delegate.create(this, this._issueInvoice$7)).toDictionary());
        this._issueReceiptButton$7 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.order_IssueReceipt_Action.toLowerCase()).handler(ss.Delegate.create(this, this._issueReceipt$7)).toDictionary());
        this._issueConsignmentButton$7 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.issueConsignmentAction.toLowerCase()).handler(ss.Delegate.create(this, this._issueConsignment$7)).toDictionary());
        this._issueCompletionCertificateButton$7 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.order_IssueCompletionCertificate_Action.toLowerCase()).handler(ss.Delegate.create(this, this._issueCompletionCertificate$7)).toDictionary());
        var createCashInOrder = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashInOrder_Action).handler(ss.Delegate.create(this, function() {
            this._createPayment$7('CashInOrderPayment');
        })).toDictionary());
        var createCashOutOrder = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashOutOrder_Action).handler(ss.Delegate.create(this, function() {
            this._createPayment$7('CashOutOrderPayment');
        })).toDictionary());
        var createNonCashPayment = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateNonCashPayment_Action).handler(ss.Delegate.create(this, function() {
            this._createPayment$7('WireTransfer');
        })).toDictionary());
        var createCheckPayment = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCheckPayment_Action).handler(ss.Delegate.create(this, function() {
            this._createPayment$7('CheckPayment');
        })).toDictionary());
        var createCreditCardPayment = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateElecronicPayment_Action).handler(ss.Delegate.create(this, function() {
            this._createPayment$7('ElectronicPayment');
        })).toDictionary());
        this._createInternalTransferItem$7 = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateInternalTransfer_Action).handler(ss.Delegate.create(this, function() {
            this._createInternalTransfer$7();
        })).toDictionary());
        this._registerPaymentButton$7 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.payment_CreatePayment_Action).menu(new Ext.menu.Menu(new Ext.menu.MenuConfig().items([ createCashInOrder, createCashOutOrder, createNonCashPayment, createCheckPayment, createCreditCardPayment, this._createInternalTransferItem$7 ]).toDictionary())).toDictionary());
        this._addTaskButton$7 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.task_Add).handler(ss.Delegate.create(this, this._addTask$7)).toDictionary());
        this._voidButton$7 = new Ext.Button(new Ext.ButtonConfig().handler(ss.Delegate.create(this, function() {
            this._setIsVoid$7(!this.get__order$7().IsVoid);
        })).toDictionary());
        var index = 0;
        toolbarItems.insert(index++, this._issueInvoiceButton$7);
        toolbarItems.insert(index++, this._issueReceiptButton$7);
        toolbarItems.insert(index++, this._registerPaymentButton$7);
        toolbarItems.insert(index++, this._issueConsignmentButton$7);
        toolbarItems.insert(index++, this._issueCompletionCertificateButton$7);
        toolbarItems.insert(index++, this._addTaskButton$7);
        toolbarItems.insert(index++, '-');
        toolbarItems.insert(index, this._voidButton$7);
    },
    
    _getOrderProperiesControl$7: function Luxena_Travel_OrderViewForm$_getOrderProperiesControl$7() {
        var config = new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Number, 'Number'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_IssueDate, 'IssueDate').setPropertyType(2), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Customer, 'Customer').setPropertyType(5), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_BillTo, 'BillTo').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_ShipTo, 'ShipTo').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Intermediary, 'Intermediary').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_AssignedTo, 'AssignedTo'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Owner, 'Owner'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_IsPublic, 'IsPublic').setHideIsEmpty(true).setRenderer(function(propertyItem, value, container) {
            container.html((value) ? Luxena.Travel.Res.orderView_IsPublic : Luxena.Travel.Res.orderView_IsNotPublic);
        }), new Luxena.Travel.Controls.PropertyItem('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u043e\u0432<br/>\u0432 \u0437\u0430\u043a\u0430\u0437 \u0434\u0430\u0436\u0435 \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435', 'AllowAddProductsInClosedPeriod').setPropertyType(1).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_IsSubjectOfPaymentsControl, 'IsSubjectOfPaymentsControl').setPropertyType(1).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem('\u0421\u043f\u0438\u0441\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432', 'BonusSpentAmount').setPropertyType(3).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0431\u043e\u043d\u0443\u0441\u043e\u0432', 'BonusRecipient').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u043d\u0443\u0441\u043e\u0432', 'BonusDate').setPropertyType(2).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Note, 'Note').setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_Invoices, 'Invoices').setHideIsEmpty(true).setRenderer(ss.Delegate.create(this, function(propertyItem, value, container) {
            this._renderInvoices$7(value, container);
        })), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.task_Caption_List, 'Tasks').setHideIsEmpty(true).setRenderer(ss.Delegate.create(this, function(propertyItem, value, container) {
            this._renderTasks$7(value, container);
        })) ]).setCssClass('order-properties');
        return new Luxena.Travel.Controls.PropertyListControl(config);
    },
    
    _renderTasks$7: function Luxena_Travel_OrderViewForm$_renderTasks$7(tasks, container) {
        LxnTravel.Accounting.Order.Order.tasks.renderTo(container.get(0), { tasks: tasks, taskClick: ss.Delegate.create(this, function(task) {
            var newStatus = (task.Status === 3) ? 0 : 3;
            Luxena.Travel.Services.TaskService.ChangeStatus([ task.Id ], newStatus, null, ss.Delegate.create(this, function(result) {
                var dto = result;
                dto.Type = 'Task';
                for (var i = 0; i < tasks.length; ++i) {
                    if (tasks[i].Id === task.Id) {
                        tasks[i] = dto;
                        this._orderProperties$7.loadInstance(this.get__order$7());
                        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List, String.format(Luxena.Travel.Res.taskStatusChanged_Msg, dto.Number, LxnBase.EnumUtility.localize(Luxena.Travel.TaskStatus, dto.Status, Luxena.Travel.DomainRes).toLowerCase()));
                        break;
                    }
                }
            }), null);
        }) });
    },
    
    _renderInvoices$7: function Luxena_Travel_OrderViewForm$_renderInvoices$7(invoices, container) {
        if (invoices == null || !invoices.length) {
            return;
        }
        var $enum1 = ss.IEnumerator.getEnumerator(invoices);
        while ($enum1.moveNext()) {
            var invoice = $enum1.current;
            container.append($("<div class='issued-invoice'></div>").data('invoice', invoice).append($("<span class='invoice-link'></span>").html(invoice.Number).click(function(e) {
                var dto = $(e.target).parent().data('invoice');
                Luxena.Travel.ReportPrinter.getOrderDocument(dto.Id, dto.Number, dto.Type, dto.FileExtension);
            })).append(String.format(Luxena.Travel.Res.orderView_IssuedInvoice_Html, invoice.IssueDate.format('d.m.y'), Luxena.Travel.MoneyDto.toMoneyFullString(invoice.Total))).append($("<a href='javascript:void(0)' class='delete-action'></a>").click(function(e) {
                var parent = $(e.target).parent();
                var dto = parent.data('invoice');
                LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation, String.format((!dto.Type) ? Luxena.Travel.Res.invoice_Delete_Confirmation : Luxena.Travel.Res.receipt_Delete_Confirmation, dto.Number), function(button, text) {
                    if (button !== 'yes') {
                        return;
                    }
                    Luxena.Travel.Services.OrderService.DeleteInvoice(dto.Id, function() {
                        parent.remove();
                        (invoices).remove(dto);
                        LxnBase.MessageRegister.info(Luxena.Travel.Res.invoice_List, String.format((!dto.Type) ? Luxena.Travel.Res.invoice_Deleted_Message : Luxena.Travel.Res.receipt_Deleted_Message, dto.Number));
                    }, null);
                });
            })).append(String.format("<div class='invoice-details'><span class='timestamp'>{0}</span><span class='issued-by'>{1}</span></div>", invoice.TimeStamp.format('d.m.y H:i'), invoice.IssuedBy.Name)));
        }
    },
    
    _issueInvoice$7: function Luxena_Travel_OrderViewForm$_issueInvoice$7() {
        var numbers = [];
        var $enum1 = ss.IEnumerator.getEnumerator(this.get__order$7().Invoices);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            if (!dto.Type && !numbers.contains(dto.Number)) {
                numbers.add(dto.Number);
            }
        }
        var form = new Luxena.Travel.InvoiceIssueForm(this.get__order$7().Id, numbers, 0);
        form.add_saved(ss.Delegate.create(this, function(result) {
            this._onIssueDocument$7(result);
        }));
        form.open();
    },
    
    _issueCompletionCertificate$7: function Luxena_Travel_OrderViewForm$_issueCompletionCertificate$7() {
        var numbers = [];
        var $enum1 = ss.IEnumerator.getEnumerator(this.get__order$7().Invoices);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            if (dto.Type === 2 && !numbers.contains(dto.Number)) {
                numbers.add(dto.Number);
            }
        }
        var form = new Luxena.Travel.InvoiceIssueForm(this.get__order$7().Id, numbers, 2);
        form.add_saved(ss.Delegate.create(this, function(result) {
            this._onIssueDocument$7(result);
        }));
        form.open();
    },
    
    _issueReceipt$7: function Luxena_Travel_OrderViewForm$_issueReceipt$7() {
        Luxena.Travel.Services.OrderService.IssueReceipt(this.get__order$7().Id, ss.Delegate.create(this, function(result) {
            this._onIssueDocument$7(result);
        }), null);
    },
    
    _setIsVoid$7: function Luxena_Travel_OrderViewForm$_setIsVoid$7(value) {
        Luxena.Travel.Services.OrderService.SetIsVoid(this.get__order$7().Id, value, ss.Delegate.create(this, function() {
            this.get__order$7().IsVoid = value;
            this._refreshOrderTitle$7();
        }), null);
    },
    
    _onIssueDocument$7: function Luxena_Travel_OrderViewForm$_onIssueDocument$7(invoice) {
        var format = (invoice.Type === 1) ? Luxena.Travel.Res.receiptIssued_Msg : Luxena.Travel.Res.invoiceIssued_Msg;
        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.order_Caption_List, String.format(format, invoice.Number));
        var list = [];
        list.add(invoice);
        list.addRange(this.get__order$7().Invoices);
        this.get__order$7().Invoices = list;
        this._orderProperties$7.loadInstance(this.get__order$7());
        Luxena.Travel.ReportPrinter.getOrderDocument(invoice.Id, invoice.Number, invoice.Type, invoice.FileExtension);
    },
    
    _createPayment$7: function Luxena_Travel_OrderViewForm$_createPayment$7(type) {
        var invoices = [];
        var $enum1 = ss.IEnumerator.getEnumerator(this.get__order$7().Invoices);
        while ($enum1.moveNext()) {
            var invoice = $enum1.current;
            if ((type === 'WireTransfer' && !invoice.Type) || (type !== 'WireTransfer' && invoice.Type === 1)) {
                invoices.add(LxnBase.Data.Reference.create('Invoice', invoice.Number, invoice.Id));
            }
        }
        var values = { Payer: this.get__order$7().Customer, Amount: this.get__order$7().TotalDue, Vat: this.get__order$7().VatDue, Order: LxnBase.Data.Reference.create('Order', this.get__order$7().Number, this.get__order$7().Id), Invoices: invoices, Owner: this.get__order$7().Owner };
        LxnBase.UI.FormsRegistry.editObject(type, null, values, ss.Delegate.create(this, function(arg1) {
            var dto = (arg1).Item;
            Luxena.Travel.Services.OrderService.GetOrder(this.get_id(), ss.Delegate.create(this, function(result) {
                this.load(result);
                if (type === 'CashInOrderPayment') {
                    Luxena.Travel.ReportPrinter.getCashOrder(dto.Id, dto.DocumentNumber);
                }
            }), ss.Delegate.create(this, function() {
                LxnBase.UI.Tabs.close(this);
            }));
        }), null);
    },
    
    _createInternalTransfer$7: function Luxena_Travel_OrderViewForm$_createInternalTransfer$7() {
        var order = new LxnBase.Data.Reference();
        order.Id = this.get__order$7().Id;
        order.Name = this.get__order$7().Number;
        order.Type = 'Order';
        var amount = this.get__order$7().TotalDue.Amount;
        var values = { FromParty: this.get__order$7().Customer, ToParty: this.get__order$7().Customer };
        if (amount < 0) {
            values['FromOrder'] = order;
            values['Amount'] = -amount;
        }
        else {
            values['ToOrder'] = order;
            values['Amount'] = amount;
        }
        LxnBase.UI.FormsRegistry.editObject('InternalTransfer', null, values, ss.Delegate.create(this, function() {
            Luxena.Travel.Services.OrderService.GetOrder(this.get_id(), ss.Delegate.create(this, function(result) {
                this.load(result);
            }), ss.Delegate.create(this, function() {
                LxnBase.UI.Tabs.close(this);
            }));
        }), null);
    },
    
    _issueConsignment$7: function Luxena_Travel_OrderViewForm$_issueConsignment$7() {
        Luxena.Travel.Services.ConsignmentService.GetConsignmentItems([ this.get__order$7().Id ], ss.Delegate.create(this, function(result) {
            var consignmentItemsDto = result;
            if (consignmentItemsDto.Items.length > 0) {
                var values = { IsModified: true, Supplier: consignmentItemsDto.Supplier, Acquirer: consignmentItemsDto.Acquirer, Discount: consignmentItemsDto.Discount, IssueDate: consignmentItemsDto.IssueDate, Items: consignmentItemsDto.Items };
                LxnBase.UI.FormsRegistry.editObject('Consignment', null, values, ss.Delegate.create(this, function(formResult) {
                    this.getInstance();
                    var dto = (formResult).Item;
                    var message = String.format(Luxena.Travel.Res.issued_Consignment, dto.Number);
                    LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.order_Caption_List, message);
                }), null);
            }
            else {
                LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.error, msg: Luxena.Travel.Res.invoiceItemsInConsignments_Warn, icon: Ext.MessageBox.WARNING, buttons: Ext.MessageBox.OK });
            }
        }), null);
    },
    
    _addTask$7: function Luxena_Travel_OrderViewForm$_addTask$7() {
        var values = { Order: LxnBase.Data.Reference.create('Order', this.get__order$7().Number, this.get__order$7().Id), AssignedTo: this.get__order$7().AssignedTo, Status: 0 };
        LxnBase.UI.FormsRegistry.editObject('Task', null, values, ss.Delegate.create(this, function(result) {
            var dto = (result).Item;
            dto.Type = 'Task';
            (this.get__order$7().Tasks).insert(0, dto);
            this._orderProperties$7.loadInstance(this.get__order$7());
        }), null);
    },
    
    _titleLabel$7: null,
    _issueInvoiceButton$7: null,
    _issueCompletionCertificateButton$7: null,
    _issueReceiptButton$7: null,
    _registerPaymentButton$7: null,
    _issueConsignmentButton$7: null,
    _addTaskButton$7: null,
    _voidButton$7: null,
    _orderProperties$7: null,
    _orderFinances$7: null,
    _orderItems$7: null,
    _payments$7: null,
    _transfers$7: null,
    _createInternalTransferItem$7: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ConsignmentViewForm

Luxena.Travel.ConsignmentViewForm = function Luxena_Travel_ConsignmentViewForm(tabId, id, type) {
    Luxena.Travel.ConsignmentViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.ConsignmentViewForm.viewObject = function Luxena_Travel_ConsignmentViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.ConsignmentViewForm(tabId, id, type);
    });
}
Luxena.Travel.ConsignmentViewForm.viewIssuedConsignment = function Luxena_Travel_ConsignmentViewForm$viewIssuedConsignment(id, consignmentNumber) {
    Luxena.Travel.ReportPrinter.getIssuedConsignment(id, consignmentNumber);
}
Luxena.Travel.ConsignmentViewForm.prototype = {
    
    initComponent: function Luxena_Travel_ConsignmentViewForm$initComponent() {
        Luxena.Travel.ConsignmentViewForm.callBaseMethod(this, 'initComponent');
        this._fieldPanel$8 = new Ext.Panel(new Ext.PanelConfig().autoHeight(true).border(false).toDictionary());
        this._itemsGrid$8 = new Luxena.Travel.ConsignmentItemGridControl(200, false);
        this._itemsPanel$8 = new Ext.Panel(new Ext.PanelConfig().autoHeight(true).border(false).cls('consignment-items').items([ this._itemsGrid$8 ]).toDictionary());
        this.add(this._fieldPanel$8);
        this.add(this._itemsPanel$8);
        this.doLayout();
    },
    
    get__consignment$8: function Luxena_Travel_ConsignmentViewForm$get__consignment$8() {
        return this.get_instance();
    },
    
    getInstance: function Luxena_Travel_ConsignmentViewForm$getInstance() {
        Luxena.Travel.Services.ConsignmentService.GetConsignment(this.get_id(), ss.Delegate.create(this, this.load), ss.Delegate.create(this, function() {
            LxnBase.UI.Tabs.close(this);
        }));
    },
    
    onLoad: function Luxena_Travel_ConsignmentViewForm$onLoad() {
        var columns = this.get_itemConfig().Columns;
        var caption = null;
        var template = new ss.StringBuilder();
        template.append("<div class='consignment-title'>");
        template.append(Luxena.Travel.DomainRes.consignment);
        template.append('</div>');
        var $enum1 = ss.IEnumerator.getEnumerator(columns);
        while ($enum1.moveNext()) {
            var column = $enum1.current;
            var val = this.get__consignment$8()[column.Name];
            if (column.IsReference) {
                if (Type.canCast(val, String)) {
                    caption = val;
                }
                else if (Type.canCast(val, Array)) {
                    caption = (val)[LxnBase.Data.Reference.NamePos];
                }
            }
            if (ss.isNullOrUndefined(val) || column.Hidden || column.Name === 'CreatedOn' || column.Name === 'CreatedBy' || column.Name === 'ModifiedOn' || column.Name === 'ModifiedBy') {
                continue;
            }
            var renderer = LxnBase.UI.AutoControls.ControlFactory.createRenderer(column);
            var text = ((renderer == null) ? val : renderer(val));
            text = text.split('\n').join('<br/>');
            template.append("<div class='viewItem'>");
            template.append(String.format("<div class='itemCaption'>{0}</div>", column.Caption + ':'));
            template.append(String.format("<div class='itemValue'>{0}</div>", text));
            template.append('</div>');
        }
        template.append(this._getIssuedConsignments$8());
        if (caption == null) {
            caption = this.get_itemConfig().Caption;
        }
        this.setTitle(caption);
        new Ext.Template(template.toString()).overwrite(this._fieldPanel$8.body);
        if (this.get__consignment$8().Items.length > 0) {
            this._itemsGrid$8.setInitialData(this.get__consignment$8().Items);
        }
        this.doLayout();
    },
    
    _getIssuedConsignments$8: function Luxena_Travel_ConsignmentViewForm$_getIssuedConsignments$8() {
        var sb = new ss.StringBuilder();
        if (!this.get__consignment$8().IssuedConsignments.length) {
            return '';
        }
        sb.append("<div class='viewItem'>");
        sb.append(String.format("<div class='itemCaption'>{0}:</div>", Luxena.Travel.DomainRes.consignment_IssuedConsignments));
        var $enum1 = ss.IEnumerator.getEnumerator(this.get__consignment$8().IssuedConsignments);
        while ($enum1.moveNext()) {
            var issuedConsignment = $enum1.current;
            var text = String.format("<a href='javascript:void(0)' class='object-link' onclick='{0}.viewIssuedConsignment(\"{1}\", \"{2}\")'><img src='static/style/travel/img/xls_ico.gif' class='printed_icon'/> {3}</a>", (Luxena.Travel.ConsignmentViewForm).get_fullName(), issuedConsignment.Id, this.get__consignment$8().Number, issuedConsignment.Number);
            sb.append(String.format("<div class='itemValue'>{0}({1})  </div>", text, Ext.util.Format.date(issuedConsignment.TimeStamp, 'd.m.Y')));
        }
        sb.append('</div>');
        return sb.toString();
    },
    
    _itemsGrid$8: null,
    _fieldPanel$8: null,
    _itemsPanel$8: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ConsignmentEditForm

Luxena.Travel.ConsignmentEditForm = function Luxena_Travel_ConsignmentEditForm(args, itemConfig) {
    Luxena.Travel.ConsignmentEditForm.initializeBase(this, [ args, itemConfig ]);
    this.get_window().setWidth(550);
}
Luxena.Travel.ConsignmentEditForm._editObject$2 = function Luxena_Travel_ConsignmentEditForm$_editObject$2(args) {
    LxnBase.Data.ConfigManager.getEditConfig(args.type, function(config) {
        var form = new Luxena.Travel.ConsignmentEditForm(args, config);
        form.open();
    });
}
Luxena.Travel.ConsignmentEditForm.prototype = {
    
    loadInstance: function Luxena_Travel_ConsignmentEditForm$loadInstance(onLoaded) {
        Luxena.Travel.Services.ConsignmentService.GetConsignment(this.get_args().idToLoad, onLoaded, null);
    },
    
    setFieldValues: function Luxena_Travel_ConsignmentEditForm$setFieldValues() {
        if (this.get__consignment$2() == null) {
            if (!ss.isNullOrUndefined(this.get_args().fieldValues)) {
                if (Object.keyExists(this.get_args().fieldValues, 'IsModified')) {
                    this._itemsGrid$2.set_isModified(true);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'Number')) {
                    this._numberField$2.setValue(this.get_args().fieldValues['Number']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'Discount')) {
                    this._discount$2.setValue(this.get_args().fieldValues['Discount']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'Acquirer')) {
                    this._acquirerField$2.get_widget().setValue(this.get_args().fieldValues['Acquirer']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'Supplier')) {
                    this._supplierField$2.get_widget().setValue(this.get_args().fieldValues['Supplier']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'TotalSupplied')) {
                    this._totalSuppliedField$2.setValue(this.get_args().fieldValues['TotalSupplied']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'IssueDate')) {
                    this._issueDateField$2.setValue(this.get_args().fieldValues['IssueDate']);
                }
                if (Object.keyExists(this.get_args().fieldValues, 'Items')) {
                    this._itemsGrid$2.setInitialData(this.get_args().fieldValues['Items']);
                }
                this._consignmentFinanceDataChanged$2();
            }
            return;
        }
        this._numberField$2.setValue(this.get__consignment$2().Number);
        this._issueDateField$2.setValue(this.get__consignment$2().IssueDate);
        this._supplierField$2.setValue(this.get__consignment$2().Supplier);
        this._acquirerField$2.setValue(this.get__consignment$2().Acquirer);
        this._totalSuppliedField$2.setValue(this.get__consignment$2().TotalSupplied);
        this._discount$2.setValue(this.get__consignment$2().Discount);
        this._grandTotal$2.setValue(this.get__consignment$2().GrandTotal);
        this._vat$2.setValue(this.get__consignment$2().Vat);
        this._itemsGrid$2.setInitialData(this.get__consignment$2().Items);
    },
    
    onSave: function Luxena_Travel_ConsignmentEditForm$onSave() {
        if (this.isModified() || this._itemsGrid$2.get_isModified()) {
            Luxena.Travel.Services.ConsignmentService.UpdateConsignment(this._getConsignment$2(), this.get_args().rangeRequest, ss.Delegate.create(this, this.completeSave), null);
        }
        else {
            this.cancel();
        }
    },
    
    onSaved: function Luxena_Travel_ConsignmentEditForm$onSaved(result) {
        var consignment = ((result).Item);
        if (!ss.isNullOrUndefined(consignment)) {
            Luxena.Travel.ReportPrinter.getLastIssuedConsignment(consignment.Id, consignment.Number);
        }
        Luxena.Travel.ConsignmentEditForm.callBaseMethod(this, 'onSaved', [ result ]);
    },
    
    addFields: function Luxena_Travel_ConsignmentEditForm$addFields() {
        this._numberField$2 = new Ext.form.TextField(new Ext.form.TextFieldConfig().selectOnFocus(true).width(93).fieldLabel(Luxena.Travel.DomainRes.consignment_Number).toDictionary());
        this._issueDateField$2 = LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('IssueDate'));
        this._issueDateField$2.setValue(Date.get_today());
        this._discount$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.consignment_Discount).setAmountChangeHandler(ss.Delegate.create(this, this._discountChanged$2)));
        this._grandTotal$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.consignment_GrandTotal));
        this._vat$2 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.consignment_Vat));
        this._vat$2.get_decimalField().disable();
        this._grandTotal$2.get_decimalField().disable();
        this._vat$2.get_decimalField().readOnly = true;
        this._supplierField$2 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.consignment_Supplier).selectOnFocus(true).forceSelection(true).width(170).allowBlank(false));
        this._acquirerField$2 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.consignment_Acquirer).selectOnFocus(true).forceSelection(true).width(170).allowBlank(false));
        this._totalSuppliedField$2 = LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('TotalSupplied'));
        this._totalSuppliedField$2.setWidth(170);
        this._itemsGrid$2 = new Luxena.Travel.ConsignmentItemGridControl(200, true);
        this._itemsGrid$2.add_financeDataChanged(ss.Delegate.create(this, this._consignmentFinanceDataChanged$2));
        var fields = [];
        fields.add(this._supplierField$2.get_widget());
        fields.add(this._acquirerField$2.get_widget());
        fields.add(this._totalSuppliedField$2);
        fields.add(this._numberField$2);
        fields.add(this._issueDateField$2);
        fields.add(this._discount$2);
        fields.add(this._grandTotal$2);
        fields.add(this._vat$2);
        var pnlAttributes = new Ext.Panel(new Ext.PanelConfig().items([ new Ext.Panel(new Ext.PanelConfig().items([ this._supplierField$2.get_widget(), this._acquirerField$2.get_widget(), this._totalSuppliedField$2 ]).layout('form').toDictionary()), new Ext.Panel(new Ext.PanelConfig().items([ this._numberField$2, this._issueDateField$2 ]).layout('form').style('float: right;').toDictionary()) ]).layout('column').width(500).toDictionary());
        var pnlItems = new Ext.Panel(new Ext.PanelConfig().items([ this._itemsGrid$2 ]).layout('form').cls('positions').toDictionary());
        var pnlFinance = new Ext.Panel(new Ext.PanelConfig().items([ this._discount$2, this._grandTotal$2, this._vat$2 ]).cls('consignment-finance').layout('form').autoWidth(true).toDictionary());
        this.get_form().add(pnlAttributes);
        this.get_form().add(pnlItems);
        this.get_form().add(pnlFinance);
        return fields;
    },
    
    get__consignment$2: function Luxena_Travel_ConsignmentEditForm$get__consignment$2() {
        return this.get_instance();
    },
    
    _getConsignment$2: function Luxena_Travel_ConsignmentEditForm$_getConsignment$2() {
        var dto = new Luxena.Travel.ConsignmentDto();
        if (this.get__consignment$2() != null) {
            dto.Id = this.get__consignment$2().Id;
            dto.Version = this.get__consignment$2().Version;
        }
        dto.Number = this._numberField$2.getValue().toString();
        if (!dto.Number) {
            dto.Number = null;
        }
        dto.TotalSupplied = this._totalSuppliedField$2.getValue().toString();
        if (!dto.TotalSupplied) {
            dto.TotalSupplied = null;
        }
        dto.Supplier = this._supplierField$2.getObjectInfo();
        dto.Acquirer = this._acquirerField$2.getObjectInfo();
        dto.IssueDate = this._issueDateField$2.getValue();
        dto.Discount = this._discount$2.getValue();
        dto.GrandTotal = this._grandTotal$2.getValue();
        dto.Vat = this._vat$2.getValue();
        var gridItems = this._itemsGrid$2.get_items();
        dto.Items = new Array(gridItems.length);
        for (var i = 0; i < gridItems.length; i++) {
            dto.Items[i] = new Luxena.Travel.OrderItemDto();
            dto.Items[i].Id = gridItems[i].Id;
            dto.Items[i].Version = gridItems[i].Version;
            dto.Items[i].Text = gridItems[i].Text;
            dto.Items[i].GrandTotal = Luxena.Travel.MoneyDto.copyMoney(gridItems[i].GrandTotal);
        }
        return dto;
    },
    
    _consignmentFinanceDataChanged$2: function Luxena_Travel_ConsignmentEditForm$_consignmentFinanceDataChanged$2() {
        this._discount$2.setValue(this._itemsGrid$2.get_discount());
        this._grandTotal$2.setValue(this._itemsGrid$2.get_grandTotal());
        this._vat$2.setValue(this._itemsGrid$2.get_vat());
    },
    
    _discountChanged$2: function Luxena_Travel_ConsignmentEditForm$_discountChanged$2(decimalField, newValue, oldValue) {
        var grandTotal = this._grandTotal$2.getValue();
        grandTotal.Amount += oldValue - newValue;
        this._grandTotal$2.setValue(grandTotal);
        var vat = this._vat$2.getValue();
        var oldDiscountVat = oldValue - (oldValue * 100) / (100 + Luxena.Travel.AppManager.get_systemConfiguration().VatRate);
        var newDiscountVat = newValue - (newValue * 100) / (100 + Luxena.Travel.AppManager.get_systemConfiguration().VatRate);
        vat.Amount += oldDiscountVat - newDiscountVat;
        if (vat.Amount < 0) {
            vat.Amount = 0;
        }
        this._vat$2.setValue(vat);
    },
    
    _issueDateField$2: null,
    _numberField$2: null,
    _supplierField$2: null,
    _acquirerField$2: null,
    _totalSuppliedField$2: null,
    _discount$2: null,
    _grandTotal$2: null,
    _vat$2: null,
    _itemsGrid$2: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ConsignmentItemGridControl

Luxena.Travel.ConsignmentItemGridControl = function Luxena_Travel_ConsignmentItemGridControl(height, isEditable) {
    Luxena.Travel.ConsignmentItemGridControl.initializeBase(this, [ new Ext.grid.EditorGridPanelConfig().cls('invoce-records').height(height).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).collapsible(false).frame(false).custom('_isEditable', isEditable).toDictionary() ]);
}
Luxena.Travel.ConsignmentItemGridControl._renderObjectInfoReference$7 = function Luxena_Travel_ConsignmentItemGridControl$_renderObjectInfoReference$7(value) {
    if (ss.isNullOrUndefined(value)) {
        return '';
    }
    if (ss.isNullOrUndefined((value).Id)) {
        return (value).Name;
    }
    return LxnBase.UI.Controls.ObjectLink.renderInfo((value));
}
Luxena.Travel.ConsignmentItemGridControl._storeSearchFunc$7 = function Luxena_Travel_ConsignmentItemGridControl$_storeSearchFunc$7(oldItem, newItem) {
    if (!ss.isNullOrUndefined(oldItem) && !ss.isNullOrUndefined(newItem) && !ss.isNullOrUndefined(oldItem.Product) && !ss.isNullOrUndefined(newItem.Product) && oldItem.Product.Id === newItem.Product.Id && oldItem.LinkType === newItem.LinkType) {
        return true;
    }
    return false;
}
Luxena.Travel.ConsignmentItemGridControl.prototype = {
    
    add_financeDataChanged: function Luxena_Travel_ConsignmentItemGridControl$add_financeDataChanged(value) {
        this.__financeDataChanged$7 = ss.Delegate.combine(this.__financeDataChanged$7, value);
    },
    remove_financeDataChanged: function Luxena_Travel_ConsignmentItemGridControl$remove_financeDataChanged(value) {
        this.__financeDataChanged$7 = ss.Delegate.remove(this.__financeDataChanged$7, value);
    },
    
    __financeDataChanged$7: null,
    
    initComponent: function Luxena_Travel_ConsignmentItemGridControl$initComponent() {
        this.store = this._initStore$7();
        if (this._isEditable) {
            this.sm = this._initSelectionModel$7();
            this.tbar = this._initToolbar$7();
        }
        this.cm = this._initColumnModel$7();
        Luxena.Travel.ConsignmentItemGridControl.callBaseMethod(this, 'initComponent');
    },
    
    get_isModified: function Luxena_Travel_ConsignmentItemGridControl$get_isModified() {
        return this._isModified$7;
    },
    set_isModified: function Luxena_Travel_ConsignmentItemGridControl$set_isModified(value) {
        this._isModified$7 = value;
        return value;
    },
    
    get_items: function Luxena_Travel_ConsignmentItemGridControl$get_items() {
        var result = new Array(0);
        for (var i = 0; i < this.store.data.length; i++) {
            result[i] = this.store.getAt(i).data;
        }
        return result;
    },
    
    setInitialData: function Luxena_Travel_ConsignmentItemGridControl$setInitialData(gridItems) {
        if (gridItems != null && gridItems.length > 0) {
            this._store$7.loadData(gridItems);
        }
    },
    
    get_discount: function Luxena_Travel_ConsignmentItemGridControl$get_discount() {
        var result = new Luxena.Travel.MoneyDto();
        result.Currency = this.get_grandTotal().Currency;
        result.Amount = 0;
        for (var i = 0; i < this.getStore().data.length; i++) {
            var dto = this.getStore().getAt(i).data;
            if (!ss.isNullOrUndefined(dto.Discount) && LxnBase.Data.Reference.equals(result.Currency, dto.Discount.Currency)) {
                result.Amount += dto.Discount.Amount;
            }
        }
        return result;
    },
    
    get_grandTotal: function Luxena_Travel_ConsignmentItemGridControl$get_grandTotal() {
        var result = new Luxena.Travel.MoneyDto();
        result.Currency = Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency;
        for (var i = 0; i < this.getStore().data.length; i++) {
            var dto = this.getStore().getAt(i).data;
            if (!ss.isNullOrUndefined(dto.GrandTotal)) {
                if (LxnBase.Data.Reference.equals(result.Currency, dto.GrandTotal.Currency)) {
                    result.Amount += dto.GrandTotal.Amount;
                }
            }
        }
        return result;
    },
    
    get_vat: function Luxena_Travel_ConsignmentItemGridControl$get_vat() {
        var givenVat = Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        var taxedTotal = Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        for (var i = 0; i < this.getStore().data.length; i++) {
            var dto = this.getStore().getAt(i).data;
            if (!ss.isNullOrUndefined(dto.HasVat) && dto.HasVat) {
                if (dto.GivenVat != null && LxnBase.Data.Reference.equals(givenVat.Currency, dto.GivenVat.Currency)) {
                    givenVat.Amount += dto.GivenVat.Amount;
                }
                if (dto.TaxedTotal != null && LxnBase.Data.Reference.equals(taxedTotal.Currency, dto.TaxedTotal.Currency)) {
                    taxedTotal.Amount += dto.TaxedTotal.Amount;
                }
            }
        }
        var vat = Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        var discount = this.get_discount() || Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);
        if (!!givenVat.Amount) {
            vat.Amount += givenVat.Amount;
        }
        if (!!taxedTotal.Amount) {
            vat.Amount += (taxedTotal.Amount - discount.Amount) * Luxena.Travel.AppManager.get_systemConfiguration().VatRate / (100 + Luxena.Travel.AppManager.get_systemConfiguration().VatRate);
        }
        return vat;
    },
    
    _initToolbar$7: function Luxena_Travel_ConsignmentItemGridControl$_initToolbar$7() {
        this._removeButton$7 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeItem$7)).disabled(true));
        var menu = new Ext.menu.Menu(new Ext.menu.MenuConfig().cls('simple-menu').items([ new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_GetByOrderNumber).handler(ss.Delegate.create(this, function() {
            LxnBase.UI.MessageBoxWrap.prompt(Luxena.Travel.Res.addDocument_Title, Luxena.Travel.Res.enterDocumentNumber_Text, ss.Delegate.create(this, function(button, text) {
                if (button === 'ok' && !String.isNullOrEmpty(text)) {
                    this._addByOrderNumber$7(text);
                }
            }));
        })).toDictionary()) ]).toDictionary());
        var addButton = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add.toLowerCase()).menu(menu));
        return new Ext.Toolbar([ '->', addButton, this._removeButton$7 ]);
    },
    
    _initStore$7: function Luxena_Travel_ConsignmentItemGridControl$_initStore$7() {
        this._store$7 = new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Version', 'Text', 'Price', 'Quantity', 'Total', 'Discount', 'GrandTotal', 'GivenVat', 'TaxedTotal', 'HasVat', 'Source', 'Order' ]).toDictionary());
        return this._store$7;
    },
    
    _initSelectionModel$7: function Luxena_Travel_ConsignmentItemGridControl$_initSelectionModel$7() {
        this._selectionModel$7 = new Ext.grid.CheckboxSelectionModel();
        this._selectionModel$7.singleSelect = false;
        this._selectionModel$7.on('selectionchange', ss.Delegate.create(this, function() {
            if (!this._selectionModel$7.getCount()) {
                this._removeButton$7.disable();
            }
            else {
                this._removeButton$7.enable();
            }
        }));
        return this._selectionModel$7;
    },
    
    _initColumnModel$7: function Luxena_Travel_ConsignmentItemGridControl$_initColumnModel$7() {
        var columnModelConfig = [];
        if (!ss.isNullOrUndefined(this._selectionModel$7) && !this._selectionModel$7.singleSelect) {
            columnModelConfig.insert(0, this._selectionModel$7);
        }
        columnModelConfig.add(new Ext.grid.RowNumberer({ header: Luxena.Travel.Res.common_ListNumber }));
        columnModelConfig.add({ id: 'Text', header: Luxena.Travel.Res.orderItem_Text, sortable: false, dataIndex: 'Text', width: 245, renderer: function(value) {
            return String.format('<pre>{0}</pre>', value);
        } });
        columnModelConfig.add({ id: 'GrandTotal', header: Luxena.Travel.DomainRes.common_Amount, sortable: false, dataIndex: 'GrandTotal', width: 85, renderer: Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer() });
        columnModelConfig.add({ id: 'Order', header: Luxena.Travel.DomainRes.order, sortable: false, dataIndex: 'Order', width: 85, renderer: Luxena.Travel.ConsignmentItemGridControl._renderObjectInfoReference$7 });
        return new Ext.grid.ColumnModel(columnModelConfig);
    },
    
    _addByOrderNumber$7: function Luxena_Travel_ConsignmentItemGridControl$_addByOrderNumber$7(number) {
        Luxena.Travel.Services.OrderService.GetOrderItemsByNumber(number, ss.Delegate.create(this, function(result) {
            var dtos = result;
            if (dtos.length > 0) {
                var list = [];
                var $enum1 = ss.IEnumerator.getEnumerator(dtos);
                while ($enum1.moveNext()) {
                    var item = $enum1.current;
                    if (ss.isNullOrUndefined(item.Consignment) && !ss.isNullOrUndefined(item.Product)) {
                        list.add(item);
                    }
                }
                if (!list.length) {
                    LxnBase.UI.MessageBoxWrap.show('', Luxena.Travel.Res.invoiceItemsInConsignments_Warn, Ext.MessageBox.WARNING, Ext.MessageBox.OK);
                }
                else {
                    dtos = new Array(list.length);
                    for (var i = 0; i < list.length; i++) {
                        dtos[i] = list[i];
                    }
                    this._addOrderItems$7(dtos);
                }
            }
            else {
                LxnBase.UI.MessageBoxWrap.show('', String.format(Luxena.Travel.Res.noInvoiceFound_Text, number), Ext.MessageBox.WARNING, Ext.MessageBox.OK);
            }
        }), null);
    },
    
    _removeItem$7: function Luxena_Travel_ConsignmentItemGridControl$_removeItem$7() {
        if (!this._selectionModel$7.getCount()) {
            return;
        }
        var selected = this._selectionModel$7.getSelections();
        if (selected == null) {
            return;
        }
        var rowIndex = this._selectionModel$7['lastActive'];
        for (var i = 0; i < selected.length; i++) {
            this._store$7.remove(selected[i]);
        }
        if (this.__financeDataChanged$7 != null) {
            this.__financeDataChanged$7();
        }
        this._setGridFocus$7(rowIndex);
        this._isModified$7 = true;
    },
    
    _addOrderItems$7: function Luxena_Travel_ConsignmentItemGridControl$_addOrderItems$7(orderItems) {
        if (orderItems == null || !orderItems.length) {
            return;
        }
        var add = false;
        for (var i = 0; i < orderItems.length; i++) {
            var pos = i;
            if (this._store$7.findBy(function(rec, recordId) {
                return Luxena.Travel.ConsignmentItemGridControl._storeSearchFunc$7(rec.data, orderItems[pos]);
            }) !== -1) {
                continue;
            }
            var record = new Ext.data.Record(orderItems[i]);
            this._store$7.add([ record ]);
            add = true;
        }
        if (add) {
            this._isModified$7 = true;
            if (this.__financeDataChanged$7 != null) {
                this.__financeDataChanged$7();
            }
        }
    },
    
    _setGridFocus$7: function Luxena_Travel_ConsignmentItemGridControl$_setGridFocus$7(selectRowIndex) {
        if (!this._store$7.getCount()) {
            return;
        }
        this.getView().focusRow(0);
        if (!ss.isNullOrUndefined(selectRowIndex)) {
            var count = this._store$7.getCount();
            var index = (selectRowIndex < count) ? selectRowIndex : count - 1;
            this._selectionModel$7.selectRow(index);
        }
    },
    
    _isEditable: false,
    _isModified$7: false,
    _store$7: null,
    _selectionModel$7: null,
    _removeButton$7: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.QuickReceiptEditForm

Luxena.Travel.QuickReceiptEditForm = function Luxena_Travel_QuickReceiptEditForm() {
    Luxena.Travel.QuickReceiptEditForm.initializeBase(this);
}
Luxena.Travel.QuickReceiptEditForm.prototype = {
    
    open: function Luxena_Travel_QuickReceiptEditForm$open() {
        var saveButton = this.get_form().addButton(Luxena.Travel.Res.create, ss.Delegate.create(this, this.save));
        var cancelButton = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
        this._customerSelector$1 = Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_Customer, 200, false);
        this._notaxedAmount$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.Res.quickReceipt_AviaTickets).setAllowBlank(false));
        this._taxedAmount$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.Res.quickReceipt_ServiceFee));
        this._note$1 = new Ext.form.TextArea(new Ext.form.TextAreaConfig().fieldLabel(Luxena.Travel.DomainRes.common_Note).height(80).width(300).toDictionary());
        this._owner$1 = Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200);
        var list = [];
        list.add(this._customerSelector$1.get_widget());
        list.add(this._notaxedAmount$1);
        list.add(this._taxedAmount$1);
        list.add(this._owner$1);
        list.add(this._note$1);
        this.get_form().add(list);
        list.remove(this._note$1);
        list.add(saveButton);
        list.add(cancelButton);
        this.set_componentSequence(list);
        this.get_form().labelWidth = 120;
        this.get_window().setTitle(Luxena.Travel.Res.quickReceipt_Title);
        this.get_window().setWidth(500);
        this.get_window().addClass('quick-receipt');
        this.get_window().show();
    },
    
    onSave: function Luxena_Travel_QuickReceiptEditForm$onSave() {
        var note = this._note$1.getValue();
        var request = new Luxena.Travel.QuickReceiptRequest();
        request.Customer = this._customerSelector$1.getObjectInfo();
        request.NotaxedAmount = this._notaxedAmount$1.getValue();
        request.TaxedAmount = this._taxedAmount$1.getValue();
        request.Owner = this._owner$1.getObjectInfo();
        request.Note = (String.isNullOrEmpty(note)) ? null : note;
        Luxena.Travel.Services.OrderService.CreateQuickReceipt(request, ss.Delegate.create(this, function(result) {
            var response = result;
            Luxena.Travel.MessageFactory.objectUpdatedMsg(Luxena.Travel.DomainRes.order, LxnBase.UI.Controls.ObjectLink.renderInfo(response.Order), true);
            this.completeSave(result);
        }), null);
    },
    
    _customerSelector$1: null,
    _notaxedAmount$1: null,
    _taxedAmount$1: null,
    _owner$1: null,
    _note$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentGridView

Luxena.Travel.PaymentGridView = function Luxena_Travel_PaymentGridView() {
    Luxena.Travel.PaymentGridView.initializeBase(this, [ new Ext.grid.GridViewConfig().forceFit(true).toDictionary() ]);
}
Luxena.Travel.PaymentGridView.prototype = {
    
    getCustomRowClass: function Luxena_Travel_PaymentGridView$getCustomRowClass(record) {
        if (record.get('IsVoid')) {
            return 'textColor-gray';
        }
        if (!record.get('PostedOn')) {
            return 'rowColor-red';
        }
        return null;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.EntitySemantic

Luxena.Travel.EntitySemantic = function Luxena_Travel_EntitySemantic() {
    this.Id = Luxena.Travel.SemanticEntity.get_member();
    this.Version = Luxena.Travel.SemanticEntity.get_member().int32().required();
    Luxena.Travel.EntitySemantic.initializeBase(this);
    this._name = 'Entity';
    this._className = 'Entity';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.Passport, dsm.BankAccount, dsm.MilesCard, dsm.Party, dsm.Organization, dsm.Person, dsm.Department, dsm.Order, dsm.CurrencyDailyRate, dsm.CateringType, dsm.AccommodationType, dsm.GenericProductType, dsm.ProductPassenger, dsm.BusTicket, dsm.Excursion, dsm.Isic, dsm.Pasteboard, dsm.Transfer, dsm.GenericProduct, dsm.CarRental, dsm.Tour, dsm.Accommodation, dsm.SimCard, dsm.Insurance, dsm.AviaDocument, dsm.Product, dsm.AviaTicket, dsm.AviaMco, dsm.AviaRefund, dsm.Country, dsm.AirlineServiceClass, dsm.AirlineMonthCommission, dsm.Airport, dsm.PaymentSystem, dsm.Currency, dsm.Identity, dsm.User, dsm.UserVisit, dsm.SystemConfiguration, dsm.AirlineCommissionPercents, dsm.DocumentOwner, dsm.DocumentAccess, dsm.ClosedPeriod, dsm.OpeningBalance, dsm.InternalTransfer, dsm.GdsAgent, dsm.GdsFile, dsm.Invoice, dsm.Task, dsm.Payment, dsm.Contract, dsm.Modification, dsm.FlightSegment, dsm.AirplaneModel ];
    };
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity2Semantic

Luxena.Travel.Entity2Semantic = function Luxena_Travel_Entity2Semantic() {
    this.CreatedOn = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f').dateTime2().required().utility();
    this.CreatedBy = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c').string().required().utility();
    this.ModifiedOn = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f').dateTime2().utility();
    this.ModifiedBy = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c').string().utility();
    Luxena.Travel.Entity2Semantic.initializeBase(this);
    this._name = 'Entity2';
    this._className = 'Entity2';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.Passport, dsm.BankAccount, dsm.MilesCard, dsm.Party, dsm.Organization, dsm.Person, dsm.Department, dsm.Order, dsm.CurrencyDailyRate, dsm.CateringType, dsm.AccommodationType, dsm.GenericProductType, dsm.ProductPassenger, dsm.BusTicket, dsm.Excursion, dsm.Isic, dsm.Pasteboard, dsm.Transfer, dsm.GenericProduct, dsm.CarRental, dsm.Tour, dsm.Accommodation, dsm.SimCard, dsm.Insurance, dsm.AviaDocument, dsm.Product, dsm.AviaTicket, dsm.AviaMco, dsm.AviaRefund, dsm.Country, dsm.AirlineServiceClass, dsm.AirlineMonthCommission, dsm.Airport, dsm.PaymentSystem, dsm.Currency, dsm.Identity, dsm.User, dsm.DocumentAccess, dsm.ClosedPeriod, dsm.OpeningBalance, dsm.InternalTransfer, dsm.GdsAgent, dsm.GdsFile, dsm.Task, dsm.Payment, dsm.Contract, dsm.FlightSegment, dsm.AirplaneModel ];
    };
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity3Semantic

Luxena.Travel.Entity3Semantic = function Luxena_Travel_Entity3Semantic() {
    this.Name = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435').string().required().entityName();
    Luxena.Travel.Entity3Semantic.initializeBase(this);
    this._name = 'Entity3';
    this._className = 'Entity3';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.BankAccount, dsm.Party, dsm.Organization, dsm.Person, dsm.Department, dsm.CateringType, dsm.AccommodationType, dsm.GenericProductType, dsm.Country, dsm.Airport, dsm.PaymentSystem, dsm.Currency, dsm.Identity, dsm.User, dsm.GdsFile, dsm.AirplaneModel ];
    };
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Entity3DSemantic

Luxena.Travel.Entity3DSemantic = function Luxena_Travel_Entity3DSemantic() {
    this.Description = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435').text(3);
    Luxena.Travel.Entity3DSemantic.initializeBase(this);
    this._name = 'Entity3D';
    this._className = 'Entity3D';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.BankAccount, dsm.CateringType, dsm.AccommodationType, dsm.Identity, dsm.User ];
    };
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportSemantic

Luxena.Travel.PassportSemantic = function Luxena_Travel_PassportSemantic() {
    this.Owner = Luxena.Travel.SemanticEntity.get_member().reference('Person');
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.FirstName = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043c\u044f').string();
    this.MiddleName = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e').string();
    this.LastName = Luxena.Travel.SemanticEntity.get_member().title('\u0424\u0430\u043c\u0438\u043b\u0438\u044f').string();
    this.Citizenship = Luxena.Travel.SemanticEntity.get_member().title('\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e').reference('Country');
    this.Birthday = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f').date();
    this.Gender = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b').enumItems([ [ 1, '\u0416\u0435\u043d\u0441\u043a\u0438\u0439' ], [ 0, '\u041c\u0443\u0436\u0441\u043a\u043e\u0439' ] ]);
    this.IssuedBy = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u0434\u0430\u0432\u0448\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0430').reference('Country');
    this.ExpiredOn = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e').date();
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);
    this.AmadeusString = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Amadeus').string();
    this.GalileoString = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Galileo').string();
    Luxena.Travel.PassportSemantic.initializeBase(this);
    this._name = 'Passport';
    this._className = 'Passport';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u041f\u0430\u0441\u043f\u043e\u0440\u0442';
    this._titles = '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportListTab

Luxena.Travel.PassportListTab = function Luxena_Travel_PassportListTab(tabId, args) {
    Luxena.Travel.PassportListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.PassportListTab.prototype = {
    
    preInitialize: function Luxena_Travel_PassportListTab$preInitialize() {
        Luxena.Travel.PassportListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.Passport;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_PassportListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Owner, this._se$10.Number, this._se$10.FirstName, this._se$10.MiddleName, this._se$10.LastName, this._se$10.Citizenship, this._se$10.Birthday, this._se$10.Gender, this._se$10.IssuedBy, this._se$10.ExpiredOn, this._se$10.Note ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportEditForm

Luxena.Travel.PassportEditForm = function Luxena_Travel_PassportEditForm() {
    Luxena.Travel.PassportEditForm.initializeBase(this);
}
Luxena.Travel.PassportEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_PassportEditForm$preInitialize() {
        Luxena.Travel.PassportEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.Passport;
    },
    
    _se$3: null,
    
    initialize: function Luxena_Travel_PassportEditForm$initialize() {
        this.get_window().setWidth(500);
        this.get_form().labelWidth = 120;
    },
    
    getNameBy: function Luxena_Travel_PassportEditForm$getNameBy(data) {
        var r = data;
        return (ss.isValue(r.Owner)) ? r.Owner.Name : r.Number;
    },
    
    createControls: function Luxena_Travel_PassportEditForm$createControls() {
        if (this._args.mode === LxnBase.UI.LoadMode.remote) {
            this.get_form().add(this.mainDataPanel([ this._se$3.Owner.toField(-3) ]));
        }
        this.get_form().add(this.mainDataPanel([ this._se$3.Number.toField(-2), this._se$3.FirstName, this._se$3.MiddleName, this._se$3.LastName, this._se$3.Citizenship, this._se$3.Birthday, this._se$3.Gender.toField(-2), this._se$3.IssuedBy, this._se$3.ExpiredOn, this._se$3.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BankAccountSemantic

Luxena.Travel.BankAccountSemantic = function Luxena_Travel_BankAccountSemantic() {
    this.IsDefault = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').bool().required();
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);
    Luxena.Travel.BankAccountSemantic.initializeBase(this);
    this._name = 'BankAccount';
    this._className = 'BankAccount';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442';
    this._titles = '\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0441\u0447\u0451\u0442\u0430';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BankAccountEditForm

Luxena.Travel.BankAccountEditForm = function Luxena_Travel_BankAccountEditForm() {
    Luxena.Travel.BankAccountEditForm.initializeBase(this);
}
Luxena.Travel.BankAccountEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_BankAccountEditForm$preInitialize() {
        Luxena.Travel.BankAccountEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.BankAccount;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_BankAccountEditForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$4.Name.toField(-3), this._se$4.Description.toField(-3), this._se$4.IsDefault.toField(-3), this._se$4.Note.toField(-3) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MilesCardSemantic

Luxena.Travel.MilesCardSemantic = function Luxena_Travel_MilesCardSemantic() {
    this.Owner = Luxena.Travel.SemanticEntity.get_member().reference('Person');
    this.Number = Luxena.Travel.SemanticEntity.get_member().string().entityName();
    this.Organization = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');
    Luxena.Travel.MilesCardSemantic.initializeBase(this);
    this._name = 'MilesCard';
    this._className = 'MilesCard';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MilesCardListTab

Luxena.Travel.MilesCardListTab = function Luxena_Travel_MilesCardListTab(tabId, args) {
    Luxena.Travel.MilesCardListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.MilesCardListTab.prototype = {
    
    preInitialize: function Luxena_Travel_MilesCardListTab$preInitialize() {
        Luxena.Travel.MilesCardListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.MilesCard;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_MilesCardListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Owner, this._se$10.Number, this._se$10.Organization ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MilesCardEditForm

Luxena.Travel.MilesCardEditForm = function Luxena_Travel_MilesCardEditForm() {
    Luxena.Travel.MilesCardEditForm.initializeBase(this);
}
Luxena.Travel.MilesCardEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_MilesCardEditForm$preInitialize() {
        Luxena.Travel.MilesCardEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.MilesCard;
    },
    
    _se$3: null,
    
    initialize: function Luxena_Travel_MilesCardEditForm$initialize() {
        this.get_window().setWidth(500);
        this.get_form().labelWidth = 120;
    },
    
    getNameBy: function Luxena_Travel_MilesCardEditForm$getNameBy(data) {
        var r = data;
        return (ss.isValue(r.Owner)) ? r.Owner.Name : r.Number;
    },
    
    createControls: function Luxena_Travel_MilesCardEditForm$createControls() {
        if (this._args.mode === LxnBase.UI.LoadMode.remote) {
            this.get_form().add(this.mainDataPanel([ this._se$3.Owner.toField(-3) ]));
        }
        this.get_form().add(this.mainDataPanel([ this._se$3.Owner, this._se$3.Number.toField(-2), this._se$3.Organization ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartySemantic

Luxena.Travel.PartySemantic = function Luxena_Travel_PartySemantic() {
    this.Type = Luxena.Travel.SemanticEntity.get_member().enumItems([ [ 0, 'Department' ], [ 1, 'Organization' ], [ 2, 'Person' ] ]).required();
    this.LegalName = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435').string();
    this.Signature = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u043f\u0438\u0441\u044c').string();
    this.Code = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string();
    this.NameForDocuments = Luxena.Travel.SemanticEntity.get_member().string();
    this.BonusCardNumber = Luxena.Travel.SemanticEntity.get_member().title('\u2116 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u044b').string();
    this.BonusAmount = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432').float2();
    this.Phone1 = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043b\u0435\u0444\u043e\u043d 1').string();
    this.Phone2 = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043b\u0435\u0444\u043e\u043d 2').string();
    this.Fax = Luxena.Travel.SemanticEntity.get_member().title('\u0424\u0430\u043a\u0441').string();
    this.Email1 = Luxena.Travel.SemanticEntity.get_member().title('E-mail 1').string();
    this.Email2 = Luxena.Travel.SemanticEntity.get_member().title('E-mail 2').string();
    this.WebAddress = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0435\u0431 \u0430\u0434\u0440\u0435\u0441').string();
    this.IsCustomer = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').bool().required();
    this.CanNotBeCustomer = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u043e\u043c').bool().required();
    this.IsSupplier = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a').bool().required();
    this.ReportsTo = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u0447\u0438\u043d\u044f\u0435\u0442\u0441\u044f').reference('Party');
    this.DefaultBankAccount = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442 \u0430\u0433\u0435\u043d\u0441\u0442\u0432\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').enumReference('BankAccount');
    this.Details = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f').text(3);
    this.LegalAddress = Luxena.Travel.SemanticEntity.get_member().title('\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441').text(4);
    this.ActualAddress = Luxena.Travel.SemanticEntity.get_member().title('\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441').text(4);
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3).lineCount(6);
    this.InvoiceSuffix = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u043a \u043d\u043e\u043c\u0435\u0440\u0443 \u0441\u0447\u0451\u0442\u0430').string();
    this.Files = Luxena.Travel.SemanticEntity.get_member();
    this.Phones = Luxena.Travel.SemanticEntity.get_member();
    this.Emails = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.PartySemantic.initializeBase(this);
    this._name = 'Party';
    this._className = 'Party';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.Organization, dsm.Person, dsm.Department ];
    };
}
Luxena.Travel.PartySemantic.prototype = {
    
    initialize: function Luxena_Travel_PartySemantic$initialize() {
        Luxena.Travel.PartySemantic.callBaseMethod(this, 'initialize');
        this.Name.setEditor(-3);
        this.LegalName.setEditor(-3);
        this.ReportsTo.setEditor(-3);
        this.Phones.toEditor = ss.Delegate.create(this, function() {
            return this.rowPanel2c(Luxena.Travel.DomainRes.common_Phones, this.Phone1, null, this.Phone2, null);
        });
        this.Emails.toEditor = ss.Delegate.create(this, function() {
            return this.rowPanel2c(Luxena.Travel.DomainRes.common_Emails, this.Email1, null, this.Email2, null);
        });
        this.WebAddress.setEditor(-3);
        this.Note.setEditor(-3);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrganizationSemantic

Luxena.Travel.OrganizationSemantic = function Luxena_Travel_OrganizationSemantic() {
    this.IsAirline = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439').bool().required();
    this.AirlineIataCode = Luxena.Travel.SemanticEntity.get_member().title('IATA \u043a\u043e\u0434').string(2);
    this.AirlinePrefixCode = Luxena.Travel.SemanticEntity.get_member().title('Prefix \u043a\u043e\u0434').string(3);
    this.AirlinePassportRequirement = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445').enumItems([ [ 2, '\u041d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f' ], [ 1, '\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f' ], [ 0, '\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e' ] ]).required();
    this.IsAccommodationProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f').bool().required();
    this.IsBusTicketProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432').bool().required();
    this.IsCarRentalProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e').bool().required();
    this.IsPasteboardProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432').bool().required();
    this.IsTourProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0442\u0443\u0440\u043e\u0432 (\u0433\u043e\u0442\u043e\u0432\u044b\u0445)').bool().required();
    this.IsTransferProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u043e\u0432').bool().required();
    this.IsGenericProductProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433').bool().required();
    this.IsProvider = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0443\u0441\u043b\u0443\u0433').bool().required();
    this.IsInsuranceCompany = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439').bool().required();
    this.IsRoamingOperator = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0420\u043e\u0443\u043c\u0438\u043d\u0433-\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c').bool().required();
    Luxena.Travel.OrganizationSemantic.initializeBase(this);
    this._name = 'Organization';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f';
    this._titles = '\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438';
    this.Code.title('\u041a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f (\u0415\u0414\u0420\u041f\u041e\u0423)');
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrganizationListTab

Luxena.Travel.OrganizationListTab = function Luxena_Travel_OrganizationListTab(tabId, args) {
    Luxena.Travel.OrganizationListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.OrganizationListTab.prototype = {
    
    preInitialize: function Luxena_Travel_OrganizationListTab$preInitialize() {
        Luxena.Travel.OrganizationListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Organization;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_OrganizationListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.LegalName.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.Code.toColumn(false, 80, this._se$11.getNameRenderer()), this._se$11.ReportsTo.toColumn(true), this._se$11.IsCustomer.toColumn(true), this._se$11.CanNotBeCustomer.toColumn(true), this._se$11.IsSupplier.toColumn(true), this._se$11.BonusCardNumber.toColumn(true), this._se$11.BonusAmount.toColumn(true), this._se$11.IsAirline, this._se$11.AirlineIataCode.toColumn(true), this._se$11.AirlinePrefixCode.toColumn(true), this._se$11.AirlinePassportRequirement.toColumn(true), this._se$11.IsProvider, this._se$11.IsAccommodationProvider.toColumn(true), this._se$11.IsBusTicketProvider.toColumn(true), this._se$11.IsCarRentalProvider.toColumn(true), this._se$11.IsPasteboardProvider.toColumn(true), this._se$11.IsTourProvider.toColumn(true), this._se$11.IsTransferProvider.toColumn(true), this._se$11.IsGenericProductProvider.toColumn(true), this._se$11.IsInsuranceCompany, this._se$11.Phone1, this._se$11.Phone2, this._se$11.Email1, this._se$11.Email2 ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrganizationEditForm

Luxena.Travel.OrganizationEditForm = function Luxena_Travel_OrganizationEditForm() {
    Luxena.Travel.OrganizationEditForm.initializeBase(this);
}
Luxena.Travel.OrganizationEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_OrganizationEditForm$preInitialize() {
        Luxena.Travel.OrganizationEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Organization;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_OrganizationEditForm$createControls() {
        this.get_form().add(this.tabPanel(450, [ this.tabMainPane(this._se$4._title, [ this._se$4.Name, this._se$4.LegalName, this._se$4.Signature.toField(-3), this._se$4.ReportsTo, this._se$4.Code.toField(-2, function(m) {
            m.required(Luxena.Travel.AppManager.get_systemConfiguration().IsOrganizationCodeRequired);
        }), this._se$4.IsCustomer, this._se$4.CanNotBeCustomer, this._se$4.IsSupplier, this._se$4.DefaultBankAccount, this._se$4.Phones, this._se$4.Emails, this._se$4.Fax, this._se$4.WebAddress ]), this.tabPane(this._se$4.Note._title, [ this._se$4.Note.toField(526, function(m) {
            m.hideLabel();
            m.height(398);
        }) ]), this.addressPanel(this._se$4, 450), this.tabMainPane('\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440', [ this.emptyRow(), this._se$4.IsBusTicketProvider.toField(-3), this._se$4.IsCarRentalProvider.toField(-3), this._se$4.IsPasteboardProvider.toField(-3), this._se$4.IsAccommodationProvider.toField(-3), this._se$4.IsTourProvider.toField(-3), this._se$4.IsTransferProvider.toField(-3), this._se$4.IsGenericProductProvider.toField(-3) ]), this.tabMainPane(Luxena.Travel.DomainRes.airline, [ this.emptyRow(), this._se$4.IsAirline.toField(-3), this.emptyRow(), this._se$4.AirlineIataCode, this._se$4.AirlinePrefixCode, this._se$4.AirlinePassportRequirement ]), this.tabMainPane(Luxena.Travel.DomainRes.common_Misc, [ this.emptyRow(), this._se$4.IsInsuranceCompany.toField(-3), this._se$4.IsRoamingOperator.toField(-3) ]), this.bonusPanel(this._se$4) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PersonSemantic

Luxena.Travel.PersonSemantic = function Luxena_Travel_PersonSemantic() {
    this.MilesCardsString = Luxena.Travel.SemanticEntity.get_member().string();
    this.Birthday = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f').date();
    this.Organization = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');
    this.Title = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c').string();
    this.Passports = Luxena.Travel.SemanticEntity.get_member();
    this.MilesCards = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.PersonSemantic.initializeBase(this);
    this._name = 'Person';
    this._className = 'Person';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041f\u0435\u0440\u0441\u043e\u043d\u0430';
    this._titles = '\u041f\u0435\u0440\u0441\u043e\u043d\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PersonListTab

Luxena.Travel.PersonListTab = function Luxena_Travel_PersonListTab(tabId, args) {
    Luxena.Travel.PersonListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.PersonListTab.prototype = {
    
    preInitialize: function Luxena_Travel_PersonListTab$preInitialize() {
        Luxena.Travel.PersonListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Person;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_PersonListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.LegalName.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.Code.toColumn(false, 80, this._se$11.getNameRenderer()), this._se$11.Organization, this._se$11.ReportsTo.toColumn(true), this._se$11.IsCustomer.toColumn(true), this._se$11.CanNotBeCustomer.toColumn(true), this._se$11.IsSupplier.toColumn(true), this._se$11.BonusCardNumber.toColumn(true), this._se$11.BonusAmount.toColumn(true), this._se$11.Phone1, this._se$11.Phone2, this._se$11.Email1, this._se$11.Email2 ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PersonEditForm

Luxena.Travel.PersonEditForm = function Luxena_Travel_PersonEditForm() {
    Luxena.Travel.PersonEditForm.initializeBase(this);
}
Luxena.Travel.PersonEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_PersonEditForm$preInitialize() {
        Luxena.Travel.PersonEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Person;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_PersonEditForm$createControls() {
        var mainPanel = this.tabMainPane(this._se$4._title, [ this._se$4.Name, this._se$4.LegalName, this._se$4.Title.toField(-3), this._se$4.Signature, this._se$4.IsCustomer, this._se$4.CanNotBeCustomer, this._se$4.IsSupplier, this._se$4.DefaultBankAccount, this._se$4.Phones, this._se$4.Emails, this._se$4.Fax, this._se$4.WebAddress, this._se$4.Birthday, this._se$4.Organization.toField(-3), this._se$4.ReportsTo ]);
        var notePanel = this.tabPane(this._se$4.Note._title, [ this._se$4.Note.toField(526, function(m) {
            m.hideLabel();
            m.height(486);
        }) ]);
        this.get_form().add(this.tabPanel(540, [ mainPanel, notePanel, this.addressPanel(this._se$4, 540), this.tabFitPane(Luxena.Travel.DomainRes.milesCard_Caption_List, this._se$4.gridMember('MilesCards', new Luxena.Travel.MilesCardGridControl())), this.tabFitPane(Luxena.Travel.DomainRes.passport_Caption_List, this._se$4.gridMember('Passports', new Luxena.Travel.PassportGridControl())), this.bonusPanel(this._se$4) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DepartmentSemantic

Luxena.Travel.DepartmentSemantic = function Luxena_Travel_DepartmentSemantic() {
    this.Organization = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');
    Luxena.Travel.DepartmentSemantic.initializeBase(this);
    this._name = 'Department';
    this._className = 'Department';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435';
    this._titles = '\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DepartmentListTab

Luxena.Travel.DepartmentListTab = function Luxena_Travel_DepartmentListTab(tabId, args) {
    Luxena.Travel.DepartmentListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.DepartmentListTab.prototype = {
    
    preInitialize: function Luxena_Travel_DepartmentListTab$preInitialize() {
        Luxena.Travel.DepartmentListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Department;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_DepartmentListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.LegalName.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.Code.toColumn(false, 80, this._se$11.getNameRenderer()), this._se$11.Organization, this._se$11.ReportsTo.toColumn(true), this._se$11.IsCustomer.toColumn(true), this._se$11.CanNotBeCustomer.toColumn(true), this._se$11.IsSupplier.toColumn(true), this._se$11.Phone1, this._se$11.Phone2, this._se$11.Email1, this._se$11.Email2 ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DepartmentEditForm

Luxena.Travel.DepartmentEditForm = function Luxena_Travel_DepartmentEditForm() {
    Luxena.Travel.DepartmentEditForm.initializeBase(this);
}
Luxena.Travel.DepartmentEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_DepartmentEditForm$preInitialize() {
        Luxena.Travel.DepartmentEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Department;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_DepartmentEditForm$createControls() {
        this.get_form().add(this.tabPanel(454, [ this.tabMainPane(this._se$4._title, [ this._se$4.Name, this._se$4.LegalName, this._se$4.IsCustomer, this._se$4.CanNotBeCustomer, this._se$4.IsSupplier, this._se$4.DefaultBankAccount, this._se$4.Phones, this._se$4.Emails, this._se$4.Fax, this._se$4.WebAddress, this._se$4.Organization.toField(-3), this._se$4.ReportsTo, this._se$4.Note ]), this.addressPanel(this._se$4, 454) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationProviderSemantic

Luxena.Travel.AccommodationProviderSemantic = function Luxena_Travel_AccommodationProviderSemantic() {
    Luxena.Travel.AccommodationProviderSemantic.initializeBase(this);
    this._name = 'AccommodationProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketProviderSemantic

Luxena.Travel.BusTicketProviderSemantic = function Luxena_Travel_BusTicketProviderSemantic() {
    Luxena.Travel.BusTicketProviderSemantic.initializeBase(this);
    this._name = 'BusTicketProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardProviderSemantic

Luxena.Travel.PasteboardProviderSemantic = function Luxena_Travel_PasteboardProviderSemantic() {
    Luxena.Travel.PasteboardProviderSemantic.initializeBase(this);
    this._name = 'PasteboardProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TransferProviderSemantic

Luxena.Travel.TransferProviderSemantic = function Luxena_Travel_TransferProviderSemantic() {
    Luxena.Travel.TransferProviderSemantic.initializeBase(this);
    this._name = 'TransferProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductProviderSemantic

Luxena.Travel.GenericProductProviderSemantic = function Luxena_Travel_GenericProductProviderSemantic() {
    Luxena.Travel.GenericProductProviderSemantic.initializeBase(this);
    this._name = 'GenericProductProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CarRentalProviderSemantic

Luxena.Travel.CarRentalProviderSemantic = function Luxena_Travel_CarRentalProviderSemantic() {
    Luxena.Travel.CarRentalProviderSemantic.initializeBase(this);
    this._name = 'CarRentalProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TourProviderSemantic

Luxena.Travel.TourProviderSemantic = function Luxena_Travel_TourProviderSemantic() {
    Luxena.Travel.TourProviderSemantic.initializeBase(this);
    this._name = 'TourProvider';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.RoamingOperatorSemantic

Luxena.Travel.RoamingOperatorSemantic = function Luxena_Travel_RoamingOperatorSemantic() {
    Luxena.Travel.RoamingOperatorSemantic.initializeBase(this);
    this._name = 'RoamingOperator';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceCompanySemantic

Luxena.Travel.InsuranceCompanySemantic = function Luxena_Travel_InsuranceCompanySemantic() {
    Luxena.Travel.InsuranceCompanySemantic.initializeBase(this);
    this._name = 'InsuranceCompany';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f';
    this._titles = '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineSemantic

Luxena.Travel.AirlineSemantic = function Luxena_Travel_AirlineSemantic() {
    Luxena.Travel.AirlineSemantic.initializeBase(this);
    this._name = 'Airline';
    this._className = 'Organization';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f';
    this._titles = '\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CustomerSemantic

Luxena.Travel.CustomerSemantic = function Luxena_Travel_CustomerSemantic() {
    Luxena.Travel.CustomerSemantic.initializeBase(this);
    this._name = 'Customer';
    this._className = 'Party';
    this._isAbstract = false;
    this._getDerivedEntities = null;
}
Luxena.Travel.CustomerSemantic.prototype = {
    
    initialize: function Luxena_Travel_CustomerSemantic$initialize() {
        Luxena.Travel.CustomerSemantic.callBaseMethod(this, 'initialize');
        this._prepareNewData = function(data) {
            data['IsCustomer'] = true;
        };
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderSemantic

Luxena.Travel.OrderSemantic = function Luxena_Travel_OrderSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.IssueDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430').date().required().entityDate();
    this.IsVoid = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();
    this.Customer = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').reference('Customer');
    this.BillTo = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').reference('Customer');
    this.BillToName = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').string();
    this.ShipTo = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c').reference('Customer');
    this.Intermediary = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a').reference('Party');
    this.Discount = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043a\u0438\u0434\u043a\u0430').money();
    this.Vat = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').money();
    this.UseServiceFeeOnlyInVat = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0414\u0421 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430').bool().required();
    this.Total = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0442\u043e\u0433\u043e').money();
    this.Paid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e').money();
    this.CheckPaid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u043d\u0430\u043b').money();
    this.WirePaid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u0431/\u043d\u0430\u043b').money();
    this.CreditPaid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u041a\u041a').money();
    this.RestPaid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u043f\u0440\u043e\u0447\u0435\u0435').money();
    this.TotalDue = Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043e\u043f\u043b\u0430\u0442\u0435').money();
    this.IsPaid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d').bool().required();
    this.VatDue = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0414\u0421 \u043a \u043e\u043f\u043b\u0430\u0442\u0435').money();
    this.DeliveryBalance = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043b\u0430\u043d\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432').float2().required();
    this.BonusDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u043d\u0443\u0441\u043e\u0432').date();
    this.BonusSpentAmount = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043f\u0438\u0441\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432').float2();
    this.BonusRecipient = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0431\u043e\u043d\u0443\u0441\u043e\u0432').reference('Party');
    this.AssignedTo = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439').reference('Person');
    this.BankAccount = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442').enumReference('BankAccount');
    this.Owner = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party');
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);
    this.IsPublic = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f').bool().required();
    this.AllowAddProductsInClosedPeriod = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435').bool().required();
    this.IsSubjectOfPaymentsControl = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435 \u043e\u043f\u043b\u0430\u0442').bool().required();
    this.SeparateServiceFee = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u0434\u0435\u043b\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440').bool().required();
    this.Items = Luxena.Travel.SemanticEntity.get_member();
    this.Invoices = Luxena.Travel.SemanticEntity.get_member();
    this.InvoiceLastIndex = Luxena.Travel.SemanticEntity.get_member().int32();
    this.ConsignmentLastIndex = Luxena.Travel.SemanticEntity.get_member().int32();
    this.Payments = Luxena.Travel.SemanticEntity.get_member();
    this.Tasks = Luxena.Travel.SemanticEntity.get_member();
    this.ServiceFee = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440').money();
    this.OutgoingTransfers = Luxena.Travel.SemanticEntity.get_member();
    this.IncomingTransfers = Luxena.Travel.SemanticEntity.get_member();
    this.ConsignmentNumbers = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435').string();
    this.InvoiceNumbers = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0447\u0435\u0442\u0430').string();
    this.FirstInvoiceNumber = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u0447\u0435\u0442').string();
    this.ConsignmentRefs = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.OrderSemantic.initializeBase(this);
    this._name = 'Order';
    this._className = 'Order';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0417\u0430\u043a\u0430\u0437';
    this._titles = '\u0417\u0430\u043a\u0430\u0437\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CurrencyDailyRateSemantic

Luxena.Travel.CurrencyDailyRateSemantic = function Luxena_Travel_CurrencyDailyRateSemantic() {
    this.Date = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required().entityDate().entityName();
    this.UAH_EUR = Luxena.Travel.SemanticEntity.get_member().title('UAH/EUR').float4();
    this.UAH_RUB = Luxena.Travel.SemanticEntity.get_member().title('UAH/RUB').float4();
    this.UAH_USD = Luxena.Travel.SemanticEntity.get_member().title('UAH/USD').float4();
    this.RUB_EUR = Luxena.Travel.SemanticEntity.get_member().title('RUB/EUR').float4();
    this.RUB_USD = Luxena.Travel.SemanticEntity.get_member().title('RUB/USD').float4();
    this.EUR_USD = Luxena.Travel.SemanticEntity.get_member().title('EUR/USD').float4();
    Luxena.Travel.CurrencyDailyRateSemantic.initializeBase(this);
    this._name = 'CurrencyDailyRate';
    this._className = 'CurrencyDailyRate';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Date';
    this._title = '\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b';
    this._titles = '\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CateringTypeSemantic

Luxena.Travel.CateringTypeSemantic = function Luxena_Travel_CateringTypeSemantic() {
    Luxena.Travel.CateringTypeSemantic.initializeBase(this);
    this._name = 'CateringType';
    this._className = 'CateringType';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f';
    this._titles = '\u0422\u0438\u043f\u044b \u043f\u0438\u0442\u0430\u043d\u0438\u044f';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CateringTypeListTab

Luxena.Travel.CateringTypeListTab = function Luxena_Travel_CateringTypeListTab(tabId, args) {
    Luxena.Travel.CateringTypeListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.CateringTypeListTab.prototype = {
    
    preInitialize: function Luxena_Travel_CateringTypeListTab$preInitialize() {
        Luxena.Travel.CateringTypeListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.CateringType;
    },
    
    _se$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CateringTypeEditForm

Luxena.Travel.CateringTypeEditForm = function Luxena_Travel_CateringTypeEditForm() {
    Luxena.Travel.CateringTypeEditForm.initializeBase(this);
}
Luxena.Travel.CateringTypeEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_CateringTypeEditForm$preInitialize() {
        Luxena.Travel.CateringTypeEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.CateringType;
    },
    
    _se$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationTypeSemantic

Luxena.Travel.AccommodationTypeSemantic = function Luxena_Travel_AccommodationTypeSemantic() {
    Luxena.Travel.AccommodationTypeSemantic.initializeBase(this);
    this._name = 'AccommodationType';
    this._className = 'AccommodationType';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0422\u0438\u043f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f';
    this._titles = '\u0422\u0438\u043f\u044b \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationTypeListTab

Luxena.Travel.AccommodationTypeListTab = function Luxena_Travel_AccommodationTypeListTab(tabId, args) {
    Luxena.Travel.AccommodationTypeListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AccommodationTypeListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AccommodationTypeListTab$preInitialize() {
        Luxena.Travel.AccommodationTypeListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.AccommodationType;
    },
    
    _se$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationTypeEditForm

Luxena.Travel.AccommodationTypeEditForm = function Luxena_Travel_AccommodationTypeEditForm() {
    Luxena.Travel.AccommodationTypeEditForm.initializeBase(this);
}
Luxena.Travel.AccommodationTypeEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AccommodationTypeEditForm$preInitialize() {
        Luxena.Travel.AccommodationTypeEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.AccommodationType;
    },
    
    _se$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductTypeSemantic

Luxena.Travel.GenericProductTypeSemantic = function Luxena_Travel_GenericProductTypeSemantic() {
    Luxena.Travel.GenericProductTypeSemantic.initializeBase(this);
    this._name = 'GenericProductType';
    this._className = 'GenericProductType';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0412\u0438\u0434 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u043b\u0443\u0433\u0438';
    this._titles = '\u0412\u0438\u0434\u044b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductTypeListTab

Luxena.Travel.GenericProductTypeListTab = function Luxena_Travel_GenericProductTypeListTab(tabId, args) {
    Luxena.Travel.GenericProductTypeListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.GenericProductTypeListTab.prototype = {
    
    preInitialize: function Luxena_Travel_GenericProductTypeListTab$preInitialize() {
        Luxena.Travel.GenericProductTypeListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.GenericProductType;
    },
    
    _se$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductTypeEditForm

Luxena.Travel.GenericProductTypeEditForm = function Luxena_Travel_GenericProductTypeEditForm() {
    Luxena.Travel.GenericProductTypeEditForm.initializeBase(this);
}
Luxena.Travel.GenericProductTypeEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_GenericProductTypeEditForm$preInitialize() {
        Luxena.Travel.GenericProductTypeEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.GenericProductType;
    },
    
    _se$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductPassengerSemantic

Luxena.Travel.ProductPassengerSemantic = function Luxena_Travel_ProductPassengerSemantic() {
    this.Product = Luxena.Travel.SemanticEntity.get_member().title('\u0423\u0441\u043b\u0443\u0433\u0430').reference('Product');
    this.PassengerName = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043c\u044f \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430').emptyText('\u0438\u043c\u044f').string();
    this.Passenger = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').emptyText('\u043f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person');
    this.PassengerRow = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.ProductPassengerSemantic.initializeBase(this);
    this._name = 'ProductPassenger';
    this._className = 'ProductPassenger';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = null;
}
Luxena.Travel.ProductPassengerSemantic.prototype = {
    
    initialize: function Luxena_Travel_ProductPassengerSemantic$initialize() {
        Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns(this.PassengerName, this.Passenger, this.PassengerRow);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductPassengerListTab

Luxena.Travel.ProductPassengerListTab = function Luxena_Travel_ProductPassengerListTab(tabId, args) {
    Luxena.Travel.ProductPassengerListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.ProductPassengerListTab.prototype = {
    
    preInitialize: function Luxena_Travel_ProductPassengerListTab$preInitialize() {
        Luxena.Travel.ProductPassengerListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.ProductPassenger;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_ProductPassengerListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Product, this._se$10.PassengerName, this._se$10.Passenger ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductPassengerEditForm

Luxena.Travel.ProductPassengerEditForm = function Luxena_Travel_ProductPassengerEditForm() {
    Luxena.Travel.ProductPassengerEditForm.initializeBase(this);
}
Luxena.Travel.ProductPassengerEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_ProductPassengerEditForm$preInitialize() {
        Luxena.Travel.ProductPassengerEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.ProductPassenger;
    },
    
    _se$3: null,
    
    getNameBy: function Luxena_Travel_ProductPassengerEditForm$getNameBy(data) {
        var r = data;
        return (ss.isValue(r.Passenger)) ? r.Passenger.Name : r.PassengerName;
    },
    
    createControls: function Luxena_Travel_ProductPassengerEditForm$createControls() {
        if (this._args.mode === LxnBase.UI.LoadMode.remote) {
            this.get_form().add(this.mainDataPanel([ this._se$3.Product.toField(-3) ]));
        }
        this.get_form().add(this.mainDataPanel([ this._se$3.PassengerRow ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketSemantic

Luxena.Travel.BusTicketSemantic = function Luxena_Travel_BusTicketSemantic() {
    this.Passenger = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();
    this.DeparturePlace = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();
    this.DepartureDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();
    this.DepartureTime = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();
    this.ArrivalPlace = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();
    this.ArrivalDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();
    this.ArrivalTime = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();
    this.SeatNumber = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u0442\u0430').string();
    Luxena.Travel.BusTicketSemantic.initializeBase(this);
    this._name = 'BusTicket';
    this._className = 'BusTicket';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442';
    this._titles = '\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b';
    this.RefundedProduct.reference('BusTicket');
    this.ReissueFor.reference('BusTicket');
    this.Provider.reference('BusTicketProvider');
}
Luxena.Travel.BusTicketSemantic.prototype = {
    
    initialize: function Luxena_Travel_BusTicketSemantic$initialize() {
        Luxena.Travel.BusTicketSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns(this.PassengerName, this.Passenger, this.PassengerRow);
        this.Number.setColumn(false, 80, this.getNumberRenderer());
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketListTab

Luxena.Travel.BusTicketListTab = function Luxena_Travel_BusTicketListTab(tabId, args) {
    Luxena.Travel.BusTicketListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.BusTicketListTab.prototype = {
    
    preInitialize: function Luxena_Travel_BusTicketListTab$preInitialize() {
        Luxena.Travel.BusTicketListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.BusTicket;
    },
    
    _se$11: null,
    
    createCustomColumnConfigs: function Luxena_Travel_BusTicketListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.Number, this._se$11.PassengerName, this._se$11.Provider, this._se$11.DeparturePlace, this._se$11.DepartureDate.toColumn(true), this._se$11.DepartureTime.toColumn(true), this._se$11.ArrivalPlace, this._se$11.ArrivalDate.toColumn(true), this._se$11.ArrivalTime.toColumn(true), this._se$11.SeatNumber.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketEditForm

Luxena.Travel.BusTicketEditForm = function Luxena_Travel_BusTicketEditForm() {
    Luxena.Travel.BusTicketEditForm.initializeBase(this);
}
Luxena.Travel.BusTicketEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_BusTicketEditForm$preInitialize() {
        Luxena.Travel.BusTicketEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.BusTicket;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_BusTicketEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.Number, this._se$4.ReissueFor, (this.get_isRefund()) ? this._se$4.RefundedProduct : null, this._se$4.PassengerRow, this._se$4.Provider, LxnBase.UI.BaseEditForm.rowPanel([ this._se$4.DeparturePlace.toField(-1, function(m) {
            m.label(Luxena.Travel.DomainRes.common_Departure);
        }), LxnBase.UI.BaseEditForm.textComponent('/'), this._se$4.DepartureDate.toField(-2, function(m) {
            m.hideLabel();
        }), this._se$4.DepartureTime.toField(48, function(m) {
            m.hideLabel();
        }) ]), LxnBase.UI.BaseEditForm.rowPanel([ this._se$4.ArrivalPlace.toField(-1, function(m) {
            m.label(Luxena.Travel.DomainRes.common_Arrival);
        }), LxnBase.UI.BaseEditForm.textComponent('/'), this._se$4.ArrivalDate.toField(-2, function(m) {
            m.hideLabel();
        }), this._se$4.ArrivalTime.toField(48, function(m) {
            m.hideLabel();
        }) ]), this._se$4.SeatNumber.toField(-2), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ExcursionSemantic

Luxena.Travel.ExcursionSemantic = function Luxena_Travel_ExcursionSemantic() {
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();
    this.FinishDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    this.TourName = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0443\u0440\u0430').string().required();
    Luxena.Travel.ExcursionSemantic.initializeBase(this);
    this._name = 'Excursion';
    this._className = 'Excursion';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f';
    this._titles = '\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438';
    this.ReissueFor.reference('Excursion');
}
Luxena.Travel.ExcursionSemantic.prototype = {
    
    initialize: function Luxena_Travel_ExcursionSemantic$initialize() {
        Luxena.Travel.ExcursionSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ExcursionListTab

Luxena.Travel.ExcursionListTab = function Luxena_Travel_ExcursionListTab(tabId, args) {
    Luxena.Travel.ExcursionListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.ExcursionListTab.prototype = {
    
    preInitialize: function Luxena_Travel_ExcursionListTab$preInitialize() {
        Luxena.Travel.ExcursionListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Excursion;
    },
    
    _se$11: null,
    
    useManyPassengers: function Luxena_Travel_ExcursionListTab$useManyPassengers() {
        return true;
    },
    
    createCustomColumnConfigs: function Luxena_Travel_ExcursionListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.StartDate, this._se$11.FinishDate, this._se$11.TourName, this._se$11.Country, this._se$11.TourCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ExcursionEditForm

Luxena.Travel.ExcursionEditForm = function Luxena_Travel_ExcursionEditForm() {
    Luxena.Travel.ExcursionEditForm.initializeBase(this);
}
Luxena.Travel.ExcursionEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_ExcursionEditForm$preInitialize() {
        Luxena.Travel.ExcursionEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Excursion;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_ExcursionEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, this._se$4.PassengerRow, this._se$4.StartDate, this._se$4.FinishDate, this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.TourName, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IsicSemantic

Luxena.Travel.IsicSemantic = function Luxena_Travel_IsicSemantic() {
    this.Passenger = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');
    this.CardType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043a\u0430\u0440\u0442\u044b').enumItems([ [ 1, 'Isic' ], [ 2, 'ITIC' ], [ 3, 'IYTC' ], [ 0, '\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e' ] ]).required().defaultValue(1);
    this.Number1 = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string(12).required();
    this.Number2 = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string(1).required();
    Luxena.Travel.IsicSemantic.initializeBase(this);
    this._name = 'Isic';
    this._className = 'Isic';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0439 \u0431\u0438\u043b\u0435\u0442';
    this._titles = '\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b';
    this.ReissueFor.reference('Isic');
}
Luxena.Travel.IsicSemantic.prototype = {
    
    initialize: function Luxena_Travel_IsicSemantic$initialize() {
        Luxena.Travel.IsicSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns(this.PassengerName, this.Passenger, this.PassengerRow);
        this.Number1.setColumn(false, 100, this.getNumberRenderer());
        this.Number2.setColumn(false, 20);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IsicListTab

Luxena.Travel.IsicListTab = function Luxena_Travel_IsicListTab(tabId, args) {
    Luxena.Travel.IsicListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.IsicListTab.prototype = {
    
    preInitialize: function Luxena_Travel_IsicListTab$preInitialize() {
        Luxena.Travel.IsicListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Isic;
    },
    
    _se$11: null,
    
    createCustomColumnConfigs: function Luxena_Travel_IsicListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.CardType, this._se$11.Number1, this._se$11.Number2, this._se$11.PassengerName ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IsicEditForm

Luxena.Travel.IsicEditForm = function Luxena_Travel_IsicEditForm() {
    Luxena.Travel.IsicEditForm.initializeBase(this);
}
Luxena.Travel.IsicEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_IsicEditForm$preInitialize() {
        Luxena.Travel.IsicEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Isic;
    },
    
    _se$4: null,
    
    getNameBy: function Luxena_Travel_IsicEditForm$getNameBy(data) {
        var dto = data;
        return dto.Number1 + ' ' + dto.Number2;
    },
    
    createControls: function Luxena_Travel_IsicEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, this._se$4.PassengerRow, this._se$4.CardType, LxnBase.UI.BaseEditForm.rowPanel([ this._se$4.Number1.toField(114), this._se$4.Number2.toField(40, function(m) {
            m.hideLabel();
        }) ]), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardSemantic

Luxena.Travel.PasteboardSemantic = function Luxena_Travel_PasteboardSemantic() {
    this.Passenger = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();
    this.DeparturePlace = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();
    this.DepartureDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();
    this.DepartureTime = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();
    this.ArrivalPlace = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();
    this.ArrivalDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();
    this.ArrivalTime = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();
    this.Itinerary = Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0430\u0440\u0448\u0440\u0443\u0442').string();
    this.TrainNumber = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0435\u0437\u0434\u0430').string();
    this.CarNumber = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430').string();
    this.SeatNumber = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u0442\u0430').string();
    this.ServiceClass = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441').enumItems([ [ 4, '\u043a\u0443\u043f\u0435' ], [ 0, '1-\u0439 \u043a\u043b\u0430\u0441\u0441' ], [ 2, '\u043b\u044e\u043a\u0441' ], [ 3, '\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442' ], [ 1, '2-\u0439 \u043a\u043b\u0430\u0441\u0441' ], [ 5, '\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e' ], [ 6, '\u041e\u0431\u0449\u0438\u0439' ] ]).required().defaultValue(0);
    Luxena.Travel.PasteboardSemantic.initializeBase(this);
    this._name = 'Pasteboard';
    this._className = 'Pasteboard';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442';
    this._titles = '\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442\u044b';
    this.RefundedProduct.reference('Pasteboard');
    this.ReissueFor.reference('Pasteboard');
    this.Provider.reference('PasteboardProvider');
}
Luxena.Travel.PasteboardSemantic.prototype = {
    
    initialize: function Luxena_Travel_PasteboardSemantic$initialize() {
        Luxena.Travel.PasteboardSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns(this.PassengerName, this.Passenger, this.PassengerRow);
        this.Number.setColumn(false, 80, this.getNumberRenderer()).setEditor(-1);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardListTab

Luxena.Travel.PasteboardListTab = function Luxena_Travel_PasteboardListTab(tabId, args) {
    Luxena.Travel.PasteboardListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.PasteboardListTab.prototype = {
    
    preInitialize: function Luxena_Travel_PasteboardListTab$preInitialize() {
        Luxena.Travel.PasteboardListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Pasteboard;
    },
    
    _se$11: null,
    
    createCustomColumnConfigs: function Luxena_Travel_PasteboardListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.Number, this._se$11.PassengerName, this._se$11.Provider, this._se$11.DeparturePlace, this._se$11.DepartureDate.toColumn(true), this._se$11.DepartureTime.toColumn(true), this._se$11.ArrivalPlace, this._se$11.ArrivalDate.toColumn(true), this._se$11.ArrivalTime.toColumn(true), this._se$11.Itinerary.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardEditForm

Luxena.Travel.PasteboardEditForm = function Luxena_Travel_PasteboardEditForm() {
    Luxena.Travel.PasteboardEditForm.initializeBase(this);
}
Luxena.Travel.PasteboardEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_PasteboardEditForm$preInitialize() {
        Luxena.Travel.PasteboardEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Pasteboard;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_PasteboardEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, (this.get_isRefund()) ? this._se$4.RefundedProduct : null, this._se$4.PassengerRow, this._se$4.Provider.toField(-3), this._se$4.Number, LxnBase.UI.BaseEditForm.rowPanel([ this._se$4.DeparturePlace.toField(-1, function(m) {
            m.label(Luxena.Travel.DomainRes.common_Departure);
        }), LxnBase.UI.BaseEditForm.textComponent('/'), this._se$4.DepartureDate.toField(-2, function(m) {
            m.hideLabel();
        }), this._se$4.DepartureTime.toField(48, function(m) {
            m.hideLabel();
        }) ]), LxnBase.UI.BaseEditForm.rowPanel([ this._se$4.ArrivalPlace.toField(-1, function(m) {
            m.label(Luxena.Travel.DomainRes.common_Arrival);
        }), LxnBase.UI.BaseEditForm.textComponent('/'), this._se$4.ArrivalDate.toField(-2, function(m) {
            m.hideLabel();
        }), this._se$4.ArrivalTime.toField(48, function(m) {
            m.hideLabel();
        }) ]), this._se$4.ServiceClass.toField(-2), this._se$4.rowPanel3c('\u041f\u043e\u0435\u0437\u0434 / \u0432\u0430\u0433\u043e\u043d / \u043c\u0435\u0441\u0442\u043e', this._se$4.TrainNumber, null, this._se$4.CarNumber, null, this._se$4.SeatNumber, null), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.Originator, this._se$4.BookerRow, this._se$4.BookingFee, this._se$4.TicketerRow, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TransferSemantic

Luxena.Travel.TransferSemantic = function Luxena_Travel_TransferSemantic() {
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();
    Luxena.Travel.TransferSemantic.initializeBase(this);
    this._name = 'Transfer';
    this._className = 'Transfer';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440';
    this._titles = '\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u044b';
    this.ReissueFor.reference('Transfer');
    this.Provider.reference('TransferProvider');
}
Luxena.Travel.TransferSemantic.prototype = {
    
    initialize: function Luxena_Travel_TransferSemantic$initialize() {
        Luxena.Travel.TransferSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TransferListTab

Luxena.Travel.TransferListTab = function Luxena_Travel_TransferListTab(tabId, args) {
    Luxena.Travel.TransferListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.TransferListTab.prototype = {
    
    preInitialize: function Luxena_Travel_TransferListTab$preInitialize() {
        Luxena.Travel.TransferListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Transfer;
    },
    
    _se$11: null,
    
    useManyPassengers: function Luxena_Travel_TransferListTab$useManyPassengers() {
        return true;
    },
    
    createCustomColumnConfigs: function Luxena_Travel_TransferListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.Provider, this._se$11.StartDate, this._se$11.Country.toColumn(true), this._se$11.PnrCode.toColumn(true), this._se$11.TourCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TransferEditForm

Luxena.Travel.TransferEditForm = function Luxena_Travel_TransferEditForm() {
    Luxena.Travel.TransferEditForm.initializeBase(this);
}
Luxena.Travel.TransferEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_TransferEditForm$preInitialize() {
        Luxena.Travel.TransferEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Transfer;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_TransferEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, this._se$4.PassengerRow, this._se$4.Provider, this._se$4.StartDate, this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductSemantic

Luxena.Travel.GenericProductSemantic = function Luxena_Travel_GenericProductSemantic() {
    this.GenericType = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0438\u0434 \u0443\u0441\u043b\u0443\u0433\u0438').reference('GenericProductType').required();
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date();
    this.FinishDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    Luxena.Travel.GenericProductSemantic.initializeBase(this);
    this._name = 'GenericProduct';
    this._className = 'GenericProduct';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430';
    this._titles = '\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438';
    this.ReissueFor.reference('GenericProduct');
    this.Provider.reference('GenericProductProvider');
}
Luxena.Travel.GenericProductSemantic.prototype = {
    
    initialize: function Luxena_Travel_GenericProductSemantic$initialize() {
        Luxena.Travel.GenericProductSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductListTab

Luxena.Travel.GenericProductListTab = function Luxena_Travel_GenericProductListTab(tabId, args) {
    Luxena.Travel.GenericProductListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.GenericProductListTab.prototype = {
    
    preInitialize: function Luxena_Travel_GenericProductListTab$preInitialize() {
        Luxena.Travel.GenericProductListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.GenericProduct;
    },
    
    _se$11: null,
    
    useManyPassengers: function Luxena_Travel_GenericProductListTab$useManyPassengers() {
        return true;
    },
    
    onInitGrid: function Luxena_Travel_GenericProductListTab$onInitGrid(args, config) {
        Luxena.Travel.GenericProductListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'RequiresProcessing', 'IsVoid', 'Name' ];
    },
    
    createCustomColumnConfigs: function Luxena_Travel_GenericProductListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.Provider, this._se$11.GenericType, this._se$11.Number, this._se$11.StartDate, this._se$11.FinishDate, this._se$11.Country.toColumn(true), this._se$11.PnrCode.toColumn(true), this._se$11.TourCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductEditForm

Luxena.Travel.GenericProductEditForm = function Luxena_Travel_GenericProductEditForm() {
    Luxena.Travel.GenericProductEditForm.initializeBase(this);
}
Luxena.Travel.GenericProductEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_GenericProductEditForm$preInitialize() {
        Luxena.Travel.GenericProductEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.GenericProduct;
    },
    
    _se$4: null,
    
    getNameBy: function Luxena_Travel_GenericProductEditForm$getNameBy(data) {
        var dto = data;
        return ((ss.isValue(dto.GenericType)) ? dto.GenericType.Name : Luxena.Travel.DomainRes.genericProduct) + ((ss.isValue(dto.Number)) ? ' #' + dto.Number : '');
    },
    
    createControls: function Luxena_Travel_GenericProductEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, this._se$4.PassengerRow, this._se$4.Provider, this._se$4.GenericType, this._se$4.Number, this._se$4.rowPanel2v(this._se$4.StartDate, null, this._se$4.FinishDate, null), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CarRentalSemantic

Luxena.Travel.CarRentalSemantic = function Luxena_Travel_CarRentalSemantic() {
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();
    this.FinishDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    this.CarBrand = Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e').string();
    Luxena.Travel.CarRentalSemantic.initializeBase(this);
    this._name = 'CarRental';
    this._className = 'CarRental';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0410\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f';
    this._titles = '\u0410\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439';
    this.ReissueFor.reference('CarRental');
    this.Provider.reference('CarRentalProvider');
}
Luxena.Travel.CarRentalSemantic.prototype = {
    
    initialize: function Luxena_Travel_CarRentalSemantic$initialize() {
        Luxena.Travel.CarRentalSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CarRentalListTab

Luxena.Travel.CarRentalListTab = function Luxena_Travel_CarRentalListTab(tabId, args) {
    Luxena.Travel.CarRentalListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.CarRentalListTab.prototype = {
    
    preInitialize: function Luxena_Travel_CarRentalListTab$preInitialize() {
        Luxena.Travel.CarRentalListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.CarRental;
    },
    
    _se$11: null,
    
    onInitGrid: function Luxena_Travel_CarRentalListTab$onInitGrid(args, config) {
        Luxena.Travel.CarRentalListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'PassengerDtos', 'RequiresProcessing', 'IsVoid', 'Name', 'HotelOffice', 'HotelCode', 'PlacementOffice', 'PlacementCode' ];
    },
    
    createCustomColumnConfigs: function Luxena_Travel_CarRentalListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.Provider, this._se$11.StartDate, this._se$11.FinishDate, this._se$11.Country.toColumn(true), this._se$11.PnrCode.toColumn(true), this._se$11.TourCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CarRentalEditForm

Luxena.Travel.CarRentalEditForm = function Luxena_Travel_CarRentalEditForm() {
    Luxena.Travel.CarRentalEditForm.initializeBase(this);
}
Luxena.Travel.CarRentalEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_CarRentalEditForm$preInitialize() {
        Luxena.Travel.CarRentalEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.CarRental;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_CarRentalEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, this._se$4.PassengerRow, this._se$4.Provider, this._se$4.rowPanel2v(this._se$4.StartDate, null, this._se$4.FinishDate, null), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.CarBrand, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TourSemantic

Luxena.Travel.TourSemantic = function Luxena_Travel_TourSemantic() {
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();
    this.FinishDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    this.HotelName = Luxena.Travel.SemanticEntity.get_member().title('\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430').string();
    this.HotelOffice = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043e\u0444\u0438\u0441').string();
    this.HotelCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043a\u043e\u0434').string();
    this.PlacementName = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435').string();
    this.PlacementOffice = Luxena.Travel.SemanticEntity.get_member().emptyText('\u043e\u0444\u0438\u0441').string();
    this.PlacementCode = Luxena.Travel.SemanticEntity.get_member().emptyText('\u043a\u043e\u0434').string();
    this.AccommodationType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f').enumReference('AccommodationType');
    this.CateringType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f').enumReference('CateringType');
    this.AviaDescription = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)').string();
    this.TransferDescription = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)').string();
    this.HotelRow = Luxena.Travel.SemanticEntity.get_member();
    this.PlacementRow = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.TourSemantic.initializeBase(this);
    this._name = 'Tour';
    this._className = 'Tour';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0422\u0443\u0440 (\u0433\u043e\u0442\u043e\u0432\u044b\u0439)';
    this._titles = '\u0422\u0443\u0440\u044b (\u0433\u043e\u0442\u043e\u0432\u044b\u0435)';
    this.ReissueFor.reference('Tour');
    this.Provider.reference('TourProvider');
}
Luxena.Travel.TourSemantic.setHotelEditorsAndColumns = function Luxena_Travel_TourSemantic$setHotelEditorsAndColumns(name, office, code, row) {
    var v = name;
    row._name = name._name;
    row.setColumn(true, 100, function(value, metadata, record, index, colIndex, store) {
        var nameValue = record.get(name._name);
        var officeValue = record.get(office._name);
        var codeValue = record.get(code._name);
        if (ss.isValue(officeValue) || ss.isValue(codeValue)) {
            nameValue += ' / ' + (officeValue || '') + ' - ' + (codeValue || '');
        }
        return nameValue;
    });
    row.toEditor = function() {
        return name.rowPanel([ name.toField(), v.textComponent('/'), office.toField(80, function(m) {
            m.hideLabel();
        }), v.textComponent('-'), code.toField(64, function(m) {
            m.hideLabel();
        }) ]);
    };
}
Luxena.Travel.TourSemantic.prototype = {
    
    initialize: function Luxena_Travel_TourSemantic$initialize() {
        Luxena.Travel.TourSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
        Luxena.Travel.TourSemantic.setHotelEditorsAndColumns(this.HotelName, this.HotelOffice, this.HotelCode, this.HotelRow);
        Luxena.Travel.TourSemantic.setHotelEditorsAndColumns(this.PlacementName, this.PlacementOffice, this.PlacementCode, this.PlacementRow);
        this.AccommodationType.setEditor(-2);
        this.CateringType.setEditor(-2);
        this.AviaDescription.setEditor(-3);
        this.TransferDescription.setEditor(-3);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TourListTab

Luxena.Travel.TourListTab = function Luxena_Travel_TourListTab(tabId, args) {
    Luxena.Travel.TourListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.TourListTab.prototype = {
    
    preInitialize: function Luxena_Travel_TourListTab$preInitialize() {
        Luxena.Travel.TourListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Tour;
    },
    
    _se$11: null,
    
    useManyPassengers: function Luxena_Travel_TourListTab$useManyPassengers() {
        return true;
    },
    
    onInitGrid: function Luxena_Travel_TourListTab$onInitGrid(args, config) {
        Luxena.Travel.TourListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'RequiresProcessing', 'IsVoid', 'Name', 'HotelOffice', 'HotelCode', 'PlacementOffice', 'PlacementCode' ];
    },
    
    createCustomColumnConfigs: function Luxena_Travel_TourListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.Provider, this._se$11.StartDate, this._se$11.FinishDate, this._se$11.Country.toColumn(true), this._se$11.PnrCode.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.TourCode.toColumn(true), this._se$11.HotelName, this._se$11.HotelOffice.toColumn(true), this._se$11.HotelCode.toColumn(true), this._se$11.PlacementName, this._se$11.PlacementOffice.toColumn(true), this._se$11.PlacementCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TourEditForm

Luxena.Travel.TourEditForm = function Luxena_Travel_TourEditForm() {
    Luxena.Travel.TourEditForm.initializeBase(this);
}
Luxena.Travel.TourEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_TourEditForm$preInitialize() {
        Luxena.Travel.TourEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Tour;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_TourEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.rowPanel2v(this._se$4.IssueDate, null, this._se$4.ReissueFor, null), this._se$4.PassengerRow, this._se$4.Provider, this._se$4.rowPanel2v(this._se$4.StartDate, null, this._se$4.FinishDate, null), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.HotelRow, this._se$4.PlacementRow, this._se$4.rowPanel2(this._se$4.AccommodationType, null, this._se$4.CateringType, null), this._se$4.AviaDescription, this._se$4.TransferDescription, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationSemantic

Luxena.Travel.AccommodationSemantic = function Luxena_Travel_AccommodationSemantic() {
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();
    this.FinishDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    this.HotelName = Luxena.Travel.SemanticEntity.get_member().title('\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430').string();
    this.HotelOffice = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043e\u0444\u0438\u0441').string();
    this.HotelCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043a\u043e\u0434').string();
    this.PlacementName = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435').string();
    this.PlacementOffice = Luxena.Travel.SemanticEntity.get_member().emptyText('\u043e\u0444\u0438\u0441').string();
    this.PlacementCode = Luxena.Travel.SemanticEntity.get_member().emptyText('\u043a\u043e\u0434').string();
    this.AccommodationType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f').enumReference('AccommodationType');
    this.CateringType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f').enumReference('CateringType');
    this.HotelRow = Luxena.Travel.SemanticEntity.get_member();
    this.PlacementRow = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.AccommodationSemantic.initializeBase(this);
    this._name = 'Accommodation';
    this._className = 'Accommodation';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435';
    this._titles = '\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f';
    this.ReissueFor.reference('Accommodation');
    this.Provider.reference('AccommodationProvider');
}
Luxena.Travel.AccommodationSemantic.prototype = {
    
    initialize: function Luxena_Travel_AccommodationSemantic$initialize() {
        Luxena.Travel.AccommodationSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
        Luxena.Travel.TourSemantic.setHotelEditorsAndColumns(this.HotelName, this.HotelOffice, this.HotelCode, this.HotelRow);
        Luxena.Travel.TourSemantic.setHotelEditorsAndColumns(this.PlacementName, this.PlacementOffice, this.PlacementCode, this.PlacementRow);
        this.AccommodationType.setEditor(-2);
        this.CateringType.setEditor(-2);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationListTab

Luxena.Travel.AccommodationListTab = function Luxena_Travel_AccommodationListTab(tabId, args) {
    Luxena.Travel.AccommodationListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AccommodationListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AccommodationListTab$preInitialize() {
        Luxena.Travel.AccommodationListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Accommodation;
    },
    
    _se$11: null,
    
    onInitGrid: function Luxena_Travel_AccommodationListTab$onInitGrid(args, config) {
        Luxena.Travel.AccommodationListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'PassengerDtos', 'RequiresProcessing', 'IsVoid', 'Name', 'HotelOffice', 'HotelCode', 'PlacementOffice', 'PlacementCode' ];
    },
    
    createCustomColumnConfigs: function Luxena_Travel_AccommodationListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.Provider, this._se$11.StartDate, this._se$11.FinishDate, this._se$11.Country.toColumn(true), this._se$11.PnrCode.toColumn(false, 150, this._se$11.getNameRenderer()), this._se$11.TourCode.toColumn(true), this._se$11.HotelName, this._se$11.HotelOffice.toColumn(true), this._se$11.HotelCode.toColumn(true), this._se$11.PlacementName, this._se$11.PlacementOffice.toColumn(true), this._se$11.PlacementCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationEditForm

Luxena.Travel.AccommodationEditForm = function Luxena_Travel_AccommodationEditForm() {
    Luxena.Travel.AccommodationEditForm.initializeBase(this);
}
Luxena.Travel.AccommodationEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AccommodationEditForm$preInitialize() {
        Luxena.Travel.AccommodationEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Accommodation;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_AccommodationEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.rowPanel2v(this._se$4.IssueDate, null, this._se$4.ReissueFor, null), this._se$4.PassengerRow, this._se$4.Provider, this._se$4.rowPanel2v(this._se$4.StartDate, null, this._se$4.FinishDate, null), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.HotelRow, this._se$4.PlacementRow, this._se$4.rowPanel2(this._se$4.AccommodationType, null, this._se$4.CateringType, null), this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SimCardSemantic

Luxena.Travel.SimCardSemantic = function Luxena_Travel_SimCardSemantic() {
    this.Passenger = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string(16).required();
    this.IsSale = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0434\u0430\u0436\u0430 SIM-\u043a\u0430\u0440\u0442\u044b').bool().required();
    Luxena.Travel.SimCardSemantic.initializeBase(this);
    this._name = 'SimCard';
    this._className = 'SimCard';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = 'SIM-\u043a\u0430\u0440\u0442\u0430';
    this._titles = 'SIM-\u043a\u0430\u0440\u0442\u044b';
    this.ReissueFor.reference('SimCard');
    this.Producer.title('\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440').reference('RoamingOperator').required();
}
Luxena.Travel.SimCardSemantic.prototype = {
    
    initialize: function Luxena_Travel_SimCardSemantic$initialize() {
        Luxena.Travel.SimCardSemantic.callBaseMethod(this, 'initialize');
        Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns(this.PassengerName, this.Passenger, this.PassengerRow);
        this.Number.setColumn(false, 80, this.getNumberRenderer()).setEditor(100);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SimCardListTab

Luxena.Travel.SimCardListTab = function Luxena_Travel_SimCardListTab(tabId, args) {
    Luxena.Travel.SimCardListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.SimCardListTab.prototype = {
    
    preInitialize: function Luxena_Travel_SimCardListTab$preInitialize() {
        Luxena.Travel.SimCardListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.SimCard;
    },
    
    _se$11: null,
    
    createCustomColumnConfigs: function Luxena_Travel_SimCardListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.Number, this._se$11.Producer, this._se$11.PassengerName ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SimCardEditForm

Luxena.Travel.SimCardEditForm = function Luxena_Travel_SimCardEditForm() {
    Luxena.Travel.SimCardEditForm.initializeBase(this);
}
Luxena.Travel.SimCardEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_SimCardEditForm$preInitialize() {
        Luxena.Travel.SimCardEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.SimCard;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_SimCardEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, this._se$4.PassengerRow, this._se$4.Number, this._se$4.Producer, this._se$4.IsSale, this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceSemantic

Luxena.Travel.InsuranceSemantic = function Luxena_Travel_InsuranceSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().required();
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();
    this.FinishDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    Luxena.Travel.InsuranceSemantic.initializeBase(this);
    this._name = 'Insurance';
    this._className = 'Insurance';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430';
    this._titles = '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438';
    this.ReissueFor.reference('Insurance');
    this.Producer.title('\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').reference('InsuranceCompany').required();
}
Luxena.Travel.InsuranceSemantic.prototype = {
    
    initialize: function Luxena_Travel_InsuranceSemantic$initialize() {
        Luxena.Travel.InsuranceSemantic.callBaseMethod(this, 'initialize');
        this.Number.setColumn(false, 100, this.getNumberRenderer());
        Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns(this.PassengerName, this.PassengerRow);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceListTab

Luxena.Travel.InsuranceListTab = function Luxena_Travel_InsuranceListTab(tabId, args) {
    Luxena.Travel.InsuranceListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.InsuranceListTab.prototype = {
    
    preInitialize: function Luxena_Travel_InsuranceListTab$preInitialize() {
        Luxena.Travel.InsuranceListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Insurance;
    },
    
    _se$11: null,
    
    onInitGrid: function Luxena_Travel_InsuranceListTab$onInitGrid(args, config) {
        Luxena.Travel.InsuranceListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'PassengerDtos', 'RequiresProcessing', 'IsVoid', 'Name' ];
    },
    
    createCustomColumnConfigs: function Luxena_Travel_InsuranceListTab$createCustomColumnConfigs() {
        this.addColumns([ this._se$11.PassengerName, this._se$11.Producer, this._se$11.Provider, this._se$11.Number, this._se$11.StartDate, this._se$11.FinishDate, this._se$11.Country.toColumn(true), this._se$11.PnrCode.toColumn(true), this._se$11.TourCode.toColumn(true) ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceEditForm

Luxena.Travel.InsuranceEditForm = function Luxena_Travel_InsuranceEditForm() {
    Luxena.Travel.InsuranceEditForm.initializeBase(this);
}
Luxena.Travel.InsuranceEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_InsuranceEditForm$preInitialize() {
        Luxena.Travel.InsuranceEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Insurance;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_InsuranceEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$4.IssueDate, this._se$4.ReissueFor, (this.get_isRefund()) ? this._se$4.RefundedProduct : null, this._se$4.PassengerRow, this._se$4.Producer, this._se$4.Number, this._se$4.rowPanel2v(this._se$4.StartDate, null, this._se$4.FinishDate, null), this._se$4.CustomerAndOrder, this._se$4.Intermediary, this._se$4.Country, this._se$4.PnrAndTourCodes, this._se$4.SellerAndOwnerRow, this._se$4.LegalEntity ]), this._se$4.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$4.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentSemantic

Luxena.Travel.AviaDocumentSemantic = function Luxena_Travel_AviaDocumentSemantic() {
    this.Passenger = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');
    this.AirlineIataCode = Luxena.Travel.SemanticEntity.get_member().string();
    this.AirlinePrefixCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0410\u041a').string();
    this.AirlineName = Luxena.Travel.SemanticEntity.get_member().string();
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();
    this.ConjunctionNumbers = Luxena.Travel.SemanticEntity.get_member().string();
    this.GdsPassportStatus = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 GDS').enumItems([ [ 1, '\u0415\u0441\u0442\u044c' ], [ 3, '\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d' ], [ 2, '\u041d\u0435\u0442' ], [ 0, '\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e' ] ]).required().defaultValue(0);
    this.GdsPassport = Luxena.Travel.SemanticEntity.get_member().string();
    this.Itinerary = Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0430\u0440\u0448\u0440\u0443\u0442').string();
    this.PaymentForm = Luxena.Travel.SemanticEntity.get_member().string();
    this.PaymentDetails = Luxena.Travel.SemanticEntity.get_member().string();
    this.AirlinePnrCode = Luxena.Travel.SemanticEntity.get_member().string();
    this.Remarks = Luxena.Travel.SemanticEntity.get_member().string();
    this.Fees = Luxena.Travel.SemanticEntity.get_member();
    this.Voidings = Luxena.Travel.SemanticEntity.get_member();
    this.FullNumber = Luxena.Travel.SemanticEntity.get_member().string();
    this.GdsFileIsExported = Luxena.Travel.SemanticEntity.get_member().bool().required();
    Luxena.Travel.AviaDocumentSemantic.initializeBase(this);
    this._name = 'AviaDocument';
    this._className = 'AviaDocument';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.AviaTicket, dsm.AviaMco, dsm.AviaRefund ];
    };
    this._title = '\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442';
    this._titles = '\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b';
    this.ReissueFor.reference('AviaDocument');
    this.Producer.reference('Airline');
    this.Provider.title('\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a');
}
Luxena.Travel.AviaDocumentSemantic.prototype = {
    
    initialize: function Luxena_Travel_AviaDocumentSemantic$initialize() {
        Luxena.Travel.AviaDocumentSemantic.callBaseMethod(this, 'initialize');
        this.FullNumber.toEditor = ss.Delegate.create(new Luxena.Travel.AviaDocument_FullNumberEditor(this), new Luxena.Travel.AviaDocument_FullNumberEditor(this).toEditor);
        this.RefundedProduct.setEditor(0, function(m) {
            m.dataProxy(Luxena.Travel.Services.AviaService.suggestNotRefundedDocumentsProxy());
        });
        Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns(this.PassengerName, this.Passenger, this.PassengerRow);
        this.GdsPassportStatus.setEditor(-2);
        this.Country._required = false;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductSemantic

Luxena.Travel.ProductSemantic = function Luxena_Travel_ProductSemantic() {
    this.Type = Luxena.Travel.SemanticEntity.get_member().enumItems([ [ 8, '\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435' ], [ 2, '\u041c\u0421\u041e' ], [ 1, '\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442' ], [ 0, '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442' ], [ 13, '\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442' ], [ 16, '\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442' ], [ 11, '\u0410\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f' ], [ 6, '\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f' ], [ 12, '\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430' ], [ 10, '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430' ], [ 15, '\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430' ], [ 5, '\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0439 \u0431\u0438\u043b\u0435\u0442' ], [ 3, '\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442' ], [ 14, '\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u0430' ], [ 4, 'SIM-\u043a\u0430\u0440\u0442\u0430' ], [ 7, '\u0422\u0443\u0440 (\u0433\u043e\u0442\u043e\u0432\u044b\u0439)' ], [ 9, '\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440' ] ]).required();
    this.Name = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435').string().entityName();
    this.PassengerName = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').string();
    this.IssueDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430').date().required();
    this.PureNumber = Luxena.Travel.SemanticEntity.get_member().string();
    this.Producer = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440').reference('Organization');
    this.Provider = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440').reference('Organization');
    this.ReissueFor = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a \u0434\u043b\u044f').reference('Product');
    this.RefundedProduct = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442').reference('Product');
    this.Passengers = Luxena.Travel.SemanticEntity.get_member();
    this.PassengerDtos = Luxena.Travel.SemanticEntity.get_member();
    this.IsRefund = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsReservation = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsProcessed = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d').bool().required();
    this.MustBeUnprocessed = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsVoid = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();
    this.RequiresProcessing = Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435').bool().required();
    this.IsDelivered = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsPaid = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d').bool().required();
    this.Customer = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').reference('Customer');
    this.Order = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');
    this.Intermediary = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a').reference('Party');
    this.Country = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0440\u0430\u043d\u0430').reference('Country').required();
    this.PnrCode = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430').string();
    this.TourCode = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0443\u0440\u043a\u043e\u0434').string();
    this.Booker = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a').reference('Person');
    this.BookerOffice = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430').emptyText('\u043e\u0444\u0438\u0441').string(20);
    this.BookerCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430').emptyText('\u043a\u043e\u0434').string(20);
    this.Ticketer = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043a\u0435\u0442\u0435\u0440').reference('Person');
    this.TicketerOffice = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430').emptyText('\u043e\u0444\u0438\u0441').string(20);
    this.TicketerCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430').emptyText('\u043a\u043e\u0434').string(20);
    this.TicketingIataOffice = Luxena.Travel.SemanticEntity.get_member().title('IATA \u043e\u0444\u0438\u0441').string(10);
    this.IsTicketerRobot = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.Seller = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446').reference('Person');
    this.Owner = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').enumReference('DocumentOwner');
    this.LegalEntity = Luxena.Travel.SemanticEntity.get_member().title('\u042e\u0440\u043b\u0438\u0446\u043e').reference('Organization');
    this.Fare = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0430\u0440\u0438\u0444').money();
    this.Fare_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.Fare_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.EqualFare = Luxena.Travel.SemanticEntity.get_member().title('\u042d\u043a\u0432. \u0442\u0430\u0440\u0438\u0444').defaultMoney();
    this.EqualFare_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.EqualFare_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.FeesTotal = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0430\u043a\u0441\u044b').defaultMoney();
    this.FeesTotal_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.FeesTotal_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.ConsolidatorCommission = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430').money();
    this.Total = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0442\u043e\u0433\u043e').defaultMoney();
    this.Total_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.Total_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.BookingFee = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0431\u043e\u0440 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f').money();
    this.CancelFee = Luxena.Travel.SemanticEntity.get_member().title('\u0428\u0442\u0440\u0430\u0444 \u0437\u0430 \u043e\u0442\u043c\u0435\u043d\u0443').defaultMoney();
    this.CancelFee_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.CancelFee_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.Vat = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').defaultMoney();
    this.Vat_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.Vat_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.Commission = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f').defaultMoney();
    this.Commission_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.Commission_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.CommissionDiscount = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043a\u0438\u0434\u043a\u0430 \u043e\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438').defaultMoney();
    this.CommissionDiscount_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.CommissionDiscount_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.ServiceFee = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440').defaultMoney();
    this.ServiceFee_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.ServiceFee_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.Handling = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f. \u0434\u043e\u0445\u043e\u0434').defaultMoney();
    this.Handling_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.Handling_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.HandlingN = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f. \u0440\u0430\u0441\u0445\u043e\u0434').defaultMoney();
    this.HandlingN_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.HandlingN_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.Discount = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043a\u0438\u0434\u043a\u0430').defaultMoney();
    this.Discount_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.Discount_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.BonusDiscount = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u043e\u043d\u0443\u0441\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430').defaultMoney();
    this.BonusDiscount_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.BonusDiscount_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.BonusAccumulation = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u0435').defaultMoney();
    this.BonusAccumulation_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.BonusAccumulation_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.RefundServiceFee = Luxena.Travel.SemanticEntity.get_member().title('C\u0431\u043e\u0440 \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442').defaultMoney();
    this.RefundServiceFee_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.RefundServiceFee_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.ServiceFeePenalty = Luxena.Travel.SemanticEntity.get_member().title('\u0428\u0442\u0440\u0430\u0444 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430').defaultMoney();
    this.ServiceFeePenalty_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.ServiceFeePenalty_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.ServiceTotal = Luxena.Travel.SemanticEntity.get_member().money();
    this.GrandTotal = Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043e\u043f\u043b\u0430\u0442\u0435').defaultMoney();
    this.GrandTotal_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.GrandTotal_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.CancelCommissionPercent = Luxena.Travel.SemanticEntity.get_member().float2();
    this.CancelCommission = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0438\u044f \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442').money();
    this.CancelCommission_EUR = Luxena.Travel.SemanticEntity.get_member().money();
    this.CancelCommission_USD = Luxena.Travel.SemanticEntity.get_member().money();
    this.CommissionPercent = Luxena.Travel.SemanticEntity.get_member().title('% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438').float2();
    this.TotalToTransfer = Luxena.Travel.SemanticEntity.get_member().money();
    this.Profit = Luxena.Travel.SemanticEntity.get_member().money();
    this.ExtraCharge = Luxena.Travel.SemanticEntity.get_member().money();
    this.PaymentType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b').enumItems([ [ 1, 'Cash' ], [ 3, 'Check' ], [ 4, 'CreditCard' ], [ 5, 'Exchange' ], [ 2, 'Invoice' ], [ 0, 'Unknown' ], [ 6, '\u0411\u0435\u0437 \u043e\u043f\u043b\u0430\u0442\u044b' ] ]).required();
    this.TaxRateOfProduct = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0432\u043a\u0430 \u041d\u0414\u0421 \u0434\u043b\u044f \u0443\u0441\u043b\u0443\u0433\u0438').enumItems([ [ 1, '\u0410 (\u0441 \u041d\u0414\u0421)' ], [ 2, '\u0411 (\u0431\u0435\u0437 \u041d\u0414\u0421)' ], [ 5, '\u0414 (\u0431\u0435\u0437 \u041d\u0414\u0421)' ], [ 0, '\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e' ], [ -1, '\u043d\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c' ] ]).required();
    this.TaxRateOfServiceFee = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0432\u043a\u0430 \u041d\u0414\u0421 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430').enumItems([ [ 1, '\u0410 (\u0441 \u041d\u0414\u0421)' ], [ 2, '\u0411 (\u0431\u0435\u0437 \u041d\u0414\u0421)' ], [ 5, '\u0414 (\u0431\u0435\u0437 \u041d\u0414\u0421)' ], [ 0, '\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e' ], [ -1, '\u043d\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c' ] ]).required();
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);
    this.Originator = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u0442\u043e\u0440').enumItems([ [ 13, 'Air Arabia' ], [ 16, 'AirLife' ], [ 4, 'Airline' ], [ 1, 'Amadeus' ], [ 18, 'Amadeus Altea' ], [ 22, 'Crazy Llama' ], [ 10, 'Delta TRAVEL' ], [ 23, 'Drct Aero' ], [ 8, 'E-Travels' ], [ 12, 'Fly Dubai' ], [ 5, 'Gabriel' ], [ 2, 'Galileo' ], [ 7, 'IATI' ], [ 14, 'Pegasus' ], [ 17, 'Sabre' ], [ 3, 'Sirena' ], [ 19, 'SPRK' ], [ 9, 'Ticket Consolidator' ], [ 11, 'Tickets.UA' ], [ 20, 'Travel & Marketing' ], [ 21, 'Travel Point' ], [ 0, 'Unknown' ], [ 15, '\u0412\u0456\u0430\u041a\u0438\u0457\u0432' ], [ 6, 'Wizz Air' ] ]).required();
    this.Origin = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a').enumItems([ [ 0, 'AmadeusAir' ], [ 1, 'AmadeusPrint' ], [ 8, 'AmadeusXml' ], [ 4, 'BspLink' ], [ 14, 'Drct' ], [ 12, 'GalileoBusXml' ], [ 2, 'GalileoMir' ], [ 10, 'GalileoRailXml' ], [ 3, 'GalileoTkt' ], [ 7, 'GalileoXml' ], [ 11, 'LuxenaXml' ], [ 5, 'Manual' ], [ 9, 'SabreFil' ], [ 15, 'SabreTerminal' ], [ 6, 'SirenaXml' ], [ 13, 'TravelPointXml' ] ]).required();
    this.OriginalDocument = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442').reference('GdsFile');
    this.ProducerOrProviderAirlineIataCode = Luxena.Travel.SemanticEntity.get_member().string();
    this.TextForOrderItem = Luxena.Travel.SemanticEntity.get_member().string();
    this.IsAviaDocument = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsAviaTicket = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsAviaRefund = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsAviaMco = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsPasteboard = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsPasteboardRefund = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsSimCard = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsIsic = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsExcursion = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsTour = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsAccommodation = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsTransfer = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsInsurance = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsInsuranceRefund = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsCarRental = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsGenericProduct = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsBusTicket = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.IsBusTicketRefund = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.ReissuedBy = Luxena.Travel.SemanticEntity.get_member().reference('Product').title(Luxena.Travel.DomainRes.common_ReissuedBy);
    this.Refund = Luxena.Travel.SemanticEntity.get_member().reference('Product').title(Luxena.Travel.DomainRes.product_Refund);
    this.PassengerRow = Luxena.Travel.SemanticEntity.get_member();
    this.OnePassengerRow = Luxena.Travel.SemanticEntity.get_member();
    this.CustomerAndOrder = Luxena.Travel.SemanticEntity.get_member();
    this.BookerRow = Luxena.Travel.SemanticEntity.get_member();
    this.TicketerRow = Luxena.Travel.SemanticEntity.get_member();
    this.SellerAndOwnerRow = Luxena.Travel.SemanticEntity.get_member();
    this.PnrAndTourCodes = Luxena.Travel.SemanticEntity.get_member();
    this.Finance = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.ProductSemantic.initializeBase(this);
    this._name = 'Product';
    this._className = 'Product';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.BusTicket, dsm.Excursion, dsm.Isic, dsm.Pasteboard, dsm.Transfer, dsm.GenericProduct, dsm.CarRental, dsm.Tour, dsm.Accommodation, dsm.SimCard, dsm.Insurance, dsm.AviaDocument, dsm.AviaTicket, dsm.AviaMco, dsm.AviaRefund ];
    };
    this._title = '\u0423\u0441\u043b\u0443\u0433\u0430';
    this._titles = '\u0412\u0441\u0435 \u0443\u0441\u043b\u0443\u0433\u0438';
}
Luxena.Travel.ProductSemantic.setOnePassengerEditorsAndColumns = function Luxena_Travel_ProductSemantic$setOnePassengerEditorsAndColumns(passengerName, passenger, passengerRow) {
    passengerName.setColumn(false, 165, Luxena.Travel.ProductSemantic.onePassengerNameRenderer);
    passengerName.setEditor(-1, function(m) {
        m.label(Luxena.Travel.DomainRes.aviaDocument_Passenger);
        m.boldLabel();
    });
    passenger.setEditor(-1, function(m) {
        m.dataProxy(LxnBase.Services.GenericService.suggestProxy('Person'));
        m.hideLabel();
    });
    passengerRow.toEditor = function() {
        return Luxena.Travel.SemanticEntity.rowPanel_([ passengerName.toEditor(), Luxena.Travel.SemanticEntity.textComponent_('/'), passenger.toEditor() ]);
    };
}
Luxena.Travel.ProductSemantic.setManyPassengerEditorsAndColumns = function Luxena_Travel_ProductSemantic$setManyPassengerEditorsAndColumns(passengerName, passengerRow) {
    passengerName.setColumn(false, 165, Luxena.Travel.ProductSemantic.manyPassengerNameRenderer);
    var form = passengerRow.editForm;
    passengerRow.toEditor = function() {
        var grid = new Luxena.Travel.ProductPassengerGridControl(16 + 2 * form.get_fieldMaxWidth(), 160);
        grid.fieldLabel = '<br><br><br><b>' + Luxena.Travel.DomainRes.common_Passenger + '</b>';
        var member = new Luxena.Travel.FormMember(form, passengerRow, null);
        member.add_onLoadValue(function() {
            var passengers = form.getValue('Passengers');
            grid.setInitialData(form, passengers);
        });
        member.add_onSaveValue(function() {
            var passengers = grid.get_items();
            form.setValue('Passengers', passengers);
        });
        member.add_onIsModified(function() {
            return grid.get_isModified();
        });
        form.get_members().add(member);
        return grid;
    };
}
Luxena.Travel.ProductSemantic.getPassengerValueHtml = function Luxena_Travel_ProductSemantic$getPassengerValueHtml(passenger, passengerName) {
    return (!ss.isValue(passenger)) ? passengerName : (!ss.isValue(passengerName)) ? LxnBase.UI.Controls.ObjectLink.renderInfo(passenger) : String.format('{0} / {1}', passengerName, LxnBase.UI.Controls.ObjectLink.renderInfo(passenger));
}
Luxena.Travel.ProductSemantic.onePassengerNameRenderer = function Luxena_Travel_ProductSemantic$onePassengerNameRenderer(passengerName, metadata, record, rowIndex, colIndex, store) {
    var passenger = record.get('Passenger');
    if (passenger == null) {
        return passengerName;
    }
    var arr = Type.safeCast(passenger, Array);
    if (arr != null) {
        return LxnBase.UI.Controls.ObjectLink.render(arr[LxnBase.Data.Reference.IdPos], passengerName, arr[LxnBase.Data.Reference.TypePos]);
    }
    return LxnBase.UI.Controls.ObjectLink.renderInfo(passenger);
}
Luxena.Travel.ProductSemantic.onePassengerNameRenderer2 = function Luxena_Travel_ProductSemantic$onePassengerNameRenderer2(passengerName, metadata, record, rowIndex, colIndex, store) {
    var passenger = record.get('Passenger');
    return Luxena.Travel.ProductSemantic.getPassengerValueHtml(passenger, passengerName);
}
Luxena.Travel.ProductSemantic.manyPassengerNameRenderer = function Luxena_Travel_ProductSemantic$manyPassengerNameRenderer(passengerName, metadata, record, rowIndex, colIndex, store) {
    var passengers = Type.safeCast(record.get('PassengerDtos'), Array);
    if (passengers == null) {
        return passengerName;
    }
    var s = '';
    var $enum1 = ss.IEnumerator.getEnumerator(passengers);
    while ($enum1.moveNext()) {
        var passenger = $enum1.current;
        if (!!s) {
            s += ', ';
        }
        s += Luxena.Travel.ProductSemantic.getPassengerValueHtml(passenger.Passenger, passenger.PassengerName);
    }
    return s;
}
Luxena.Travel.ProductSemantic.prototype = {
    
    initialize: function Luxena_Travel_ProductSemantic$initialize() {
        this.CustomerAndOrder.toEditor = ss.Delegate.create(new Luxena.Travel.Product_CustomerAndOrderEditor(this), new Luxena.Travel.Product_CustomerAndOrderEditor(this).toEditor);
        this.Finance.toEditor = ss.Delegate.create(new Luxena.Travel.Product_FinanceEditor(this), new Luxena.Travel.Product_FinanceEditor(this).toEditor);
        this.SellerAndOwnerRow.toEditor = ss.Delegate.create(this, function() {
            var pform = this.editForm;
            var sellerField = this.Seller.toField(-1, Luxena.Travel.SemanticEntity.boldLabel);
            var ownerField;
            if (pform.get_displayOwnerAsLabel()) {
                ownerField = new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().hideLabel(true).labelSeparator('').value(pform.productOwners[0].Name).toDictionary());
                this.editForm.get_members().add3(this.editForm, function() {
                }, ss.Delegate.create(this, function() {
                    var value = this.editForm.getValue(this.Owner._name);
                    if (!ss.isValue(value)) {
                        value = pform.productOwners[0];
                    }
                    this.editForm.setValue(this.Owner._name, value);
                }));
            }
            else {
                var config = new Luxena.Travel.ReferenceSelectorConfig(pform.productOwners).hideLabel(true).labelSeparator('').width(this.editForm.get_fieldMaxWidth());
                var member = this.editForm.get_members().add2(this.editForm, this.Owner, config, null);
                ownerField = new LxnBase.UI.Controls.ComboBox(config.toDictionary());
                member.setField(ownerField);
                member.add_onSaveValue(ss.Delegate.create(this, function() {
                    var value = (ownerField).getObjectInfo();
                    this.editForm.setValue('Owner', value);
                }));
            }
            return this.rowPanel([ sellerField, this.textComponent('/'), ownerField ]);
        });
        this.IssueDate.setColumn(false, null, this.getDateRenderer());
        this.ReissueFor.setColumn(true, 100);
        this.Name.setColumn(false, 100, this.getNumberRenderer());
        this.Intermediary.setColumn(true);
        this.Customer.setColumn(false, 135);
        this.PaymentType.setColumn(true);
        this.BookerRow.toEditor = ss.Delegate.create(this, function() {
            return this.rowPanel([ this.Booker.toField(), this.textComponent('/'), this.BookerOffice.toField(80, Luxena.Travel.SemanticEntity.hideLabel), this.textComponent('-'), this.BookerCode.toField(65, Luxena.Travel.SemanticEntity.hideLabel) ]);
        });
        this.TicketerRow.toEditor = ss.Delegate.create(this, function() {
            return this.rowPanel([ this.Ticketer.toField(), this.textComponent('/'), this.TicketerOffice.toField(80, Luxena.Travel.SemanticEntity.hideLabel), this.textComponent('-'), this.TicketerCode.toField(65, Luxena.Travel.SemanticEntity.hideLabel) ]);
        });
        this.PnrCode.setEditor(-2);
        this.TourCode.setEditor(-2);
        this.PnrAndTourCodes.toEditor = ss.Delegate.create(this, function() {
            return this.rowPanel([ this.PnrCode.toField(71, function(m) {
                m.label(String.format('{0} / {1}', Luxena.Travel.DomainRes.aviaDocument_PnrCode, Luxena.Travel.DomainRes.aviaDocument_TourCode));
            }), this.textComponent('/'), this.TourCode.toField(72, Luxena.Travel.SemanticEntity.hideLabel) ]);
        });
        this.EqualFare.setColumn(false, 85, null, function(cfg) {
            cfg.header(Luxena.Travel.DomainRes.common_Fare);
        });
        this.FeesTotal.setColumn(false, 85);
        this.Vat.setColumn(false, 85);
        this.Total.setColumn(false, 85);
        this.ServiceFee.setColumn(true);
        this.Handling.setColumn(true);
        this.CommissionDiscount.setColumn(true);
        this.Discount.setColumn(true);
        this.GrandTotal.setColumn(false, 95);
        this.Order.setColumn(false, 80);
        this.Commission.setColumn(true);
        this.Seller.setColumn(true, 110);
        this.Owner.setColumn(true, 110);
        this.LegalEntity.setEditor(-3);
        this.IsProcessed.setColumn(true, 70);
        this.IsVoid.setColumn(true, 70);
        this.RequiresProcessing.setColumn(true, 70);
        this.IsPaid.setColumn(true, 70);
        this.Note.setColumn(true, 100).setEditor(645, function(m) {
            m.height(48);
            m.itemCls('commentField');
        });
        this.CreatedOn.setColumn(true);
        this.CreatedBy.setColumn(true);
        this.ModifiedOn.setColumn(true);
        this.ModifiedBy.setColumn(true);
    },
    
    getNumberRenderer: function Luxena_Travel_ProductSemantic$getNumberRenderer() {
        return ss.Delegate.create(this, function(value, metadata, record, index, colIndex, store) {
            if (ss.isNullOrUndefined(value)) {
                return String.format("<div style='text-align: center'>{0}</div>", LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(this._className)(Luxena.Travel.Res.aviaDocument_NoNumber, metadata, record, index, colIndex, store));
            }
            return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(this._className)(value, metadata, record, index, colIndex, store);
        });
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaTicketSemantic

Luxena.Travel.AviaTicketSemantic = function Luxena_Travel_AviaTicketSemantic() {
    this.Departure = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();
    this.Arrival = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();
    this.LastDeparture = Luxena.Travel.SemanticEntity.get_member().date();
    this.FareBasises = Luxena.Travel.SemanticEntity.get_member().string();
    this.Domestic = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.Interline = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.SegmentClasses = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043b\u0430\u0441\u0441\u044b \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u043e\u0432').string();
    this.Endorsement = Luxena.Travel.SemanticEntity.get_member().string();
    this.IsManual = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.Segments = Luxena.Travel.SemanticEntity.get_member();
    this.FareTotal = Luxena.Travel.SemanticEntity.get_member().money();
    this.PenalizeOperations = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.AviaTicketSemantic.initializeBase(this);
    this._name = 'AviaTicket';
    this._className = 'AviaTicket';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442';
    this._titles = '\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaTicketListTab

Luxena.Travel.AviaTicketListTab = function Luxena_Travel_AviaTicketListTab(tabId, args) {
    Luxena.Travel.AviaTicketListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AviaTicketListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AviaTicketListTab$preInitialize() {
        Luxena.Travel.AviaTicketListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$12 = this.dsm.AviaTicket;
    },
    
    _se$12: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaTicketEditForm

Luxena.Travel.AviaTicketEditForm = function Luxena_Travel_AviaTicketEditForm() {
    Luxena.Travel.AviaTicketEditForm.initializeBase(this);
}
Luxena.Travel.AviaTicketEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AviaTicketEditForm$preInitialize() {
        Luxena.Travel.AviaTicketEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$5 = this.dsm.AviaTicket;
    },
    
    _se$5: null,
    
    initialize: function Luxena_Travel_AviaTicketEditForm$initialize() {
        this.get_window().cls += ' tabbed';
        this.get_form().cls = 'tabbed';
    },
    
    createControls: function Luxena_Travel_AviaTicketEditForm$createControls() {
        var pnlMain = this.columnPanel([ this.mainDataPanel([ this._se$5.IssueDate, this._se$5.FullNumber, this._se$5.ReissueFor, this._se$5.PassengerRow, this._se$5.GdsPassportStatus, this._se$5.Provider.toField(-3), this._se$5.CustomerAndOrder, this._se$5.Intermediary, this._se$5.Country, this._se$5.Originator, this._se$5.PnrAndTourCodes, this._se$5.BookerRow, this._se$5.TicketerRow, this._se$5.TicketingIataOffice, this._se$5.SellerAndOwnerRow, this._se$5.LegalEntity ]), this._se$5.Finance ]);
        pnlMain.title = Luxena.Travel.DomainRes.productType_AviaTicket;
        this.get_form().add(this.tabPanel(600, [ pnlMain, this.tabFitPane(Luxena.Travel.DomainRes.aviaTicket_FlightSegment, this._se$5.gridMember('Segments', new Luxena.Travel.FlightSegmentGridControl())) ]));
        this.get_form().add(this._se$5.Note.toEditor());
    },
    
    onSave: function Luxena_Travel_AviaTicketEditForm$onSave() {
        Luxena.Travel.Services.AviaService.UpdateAviaTicket(this.getData(), this._args.rangeRequest, ss.Delegate.create(this, this.completeSave), ss.Delegate.create(this, this.failSave));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaMcoSemantic

Luxena.Travel.AviaMcoSemantic = function Luxena_Travel_AviaMcoSemantic() {
    this.Description = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435').text(3);
    this.InConnectionWith = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0432\u044f\u0437\u0430\u043d \u0441').reference('AviaDocument');
    Luxena.Travel.AviaMcoSemantic.initializeBase(this);
    this._name = 'AviaMco';
    this._className = 'AviaMco';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041c\u0421\u041e';
    this._titles = '\u041c\u0421\u041e';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaMcoListTab

Luxena.Travel.AviaMcoListTab = function Luxena_Travel_AviaMcoListTab(tabId, args) {
    Luxena.Travel.AviaMcoListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AviaMcoListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AviaMcoListTab$preInitialize() {
        Luxena.Travel.AviaMcoListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$12 = this.dsm.AviaMco;
    },
    
    _se$12: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaMcoEditForm

Luxena.Travel.AviaMcoEditForm = function Luxena_Travel_AviaMcoEditForm() {
    Luxena.Travel.AviaMcoEditForm.initializeBase(this);
}
Luxena.Travel.AviaMcoEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AviaMcoEditForm$preInitialize() {
        Luxena.Travel.AviaMcoEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$5 = this.dsm.AviaMco;
    },
    
    _se$5: null,
    
    createControls: function Luxena_Travel_AviaMcoEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$5.IssueDate, this._se$5.FullNumber, this._se$5.ReissueFor, this._se$5.PassengerName, this._se$5.Provider.toField(-3), this._se$5.CustomerAndOrder, this._se$5.Intermediary, this._se$5.Country, this._se$5.Originator, this._se$5.PnrAndTourCodes, this._se$5.BookerRow, this._se$5.TicketerRow, this._se$5.TicketingIataOffice, this._se$5.SellerAndOwnerRow, this._se$5.LegalEntity, this._se$5.Description.toField(350, function(m) {
            m.height(35);
        }) ]), this._se$5.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$5.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaRefundSemantic

Luxena.Travel.AviaRefundSemantic = function Luxena_Travel_AviaRefundSemantic() {
    this.RefundedDocument = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442').reference('AviaDocument');
    Luxena.Travel.AviaRefundSemantic.initializeBase(this);
    this._name = 'AviaRefund';
    this._className = 'AviaRefund';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442';
    this._titles = '\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaRefundListTab

Luxena.Travel.AviaRefundListTab = function Luxena_Travel_AviaRefundListTab(tabId, args) {
    Luxena.Travel.AviaRefundListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AviaRefundListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AviaRefundListTab$preInitialize() {
        Luxena.Travel.AviaRefundListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$12 = this.dsm.AviaRefund;
    },
    
    _se$12: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaRefundEditForm

Luxena.Travel.AviaRefundEditForm = function Luxena_Travel_AviaRefundEditForm() {
    Luxena.Travel.AviaRefundEditForm.initializeBase(this);
}
Luxena.Travel.AviaRefundEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AviaRefundEditForm$preInitialize() {
        Luxena.Travel.AviaRefundEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$5 = this.dsm.AviaRefund;
    },
    
    _se$5: null,
    
    get_isRefund: function Luxena_Travel_AviaRefundEditForm$get_isRefund() {
        return true;
    },
    
    createControls: function Luxena_Travel_AviaRefundEditForm$createControls() {
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$5.IssueDate, this._se$5.FullNumber, this._se$5.RefundedProduct, this._se$5.PassengerName, this._se$5.Provider.toField(-3), this._se$5.CustomerAndOrder, this._se$5.Intermediary, this._se$5.Country, this._se$5.Originator, this._se$5.PnrAndTourCodes, this._se$5.BookerRow, this._se$5.TicketerRow, this._se$5.TicketingIataOffice, this._se$5.SellerAndOwnerRow, this._se$5.LegalEntity ]), this._se$5.Finance ]));
        this.get_form().add(this.mainDataPanel([ this._se$5.Note ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CountrySemantic

Luxena.Travel.CountrySemantic = function Luxena_Travel_CountrySemantic() {
    this.TwoCharCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 (2-\u0445 \u0441\u0438\u043c.)').string();
    this.ThreeCharCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 (3-\u0445 \u0441\u0438\u043c.)').string();
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(10);
    Luxena.Travel.CountrySemantic.initializeBase(this);
    this._name = 'Country';
    this._className = 'Country';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u0421\u0442\u0440\u0430\u043d\u0430';
    this._titles = '\u0421\u0442\u0440\u0430\u043d\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CountryListTab

Luxena.Travel.CountryListTab = function Luxena_Travel_CountryListTab(tabId, args) {
    Luxena.Travel.CountryListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.CountryListTab.prototype = {
    
    preInitialize: function Luxena_Travel_CountryListTab$preInitialize() {
        Luxena.Travel.CountryListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Country;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_CountryListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name.toColumn(false, 150), this._se$11.TwoCharCode.toColumn(false, 80), this._se$11.ThreeCharCode.toColumn(false, 80), this._se$11.Note.toColumn(false, 500), this._se$11.CreatedOn, this._se$11.CreatedBy, this._se$11.ModifiedOn, this._se$11.ModifiedBy ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CountryEditForm

Luxena.Travel.CountryEditForm = function Luxena_Travel_CountryEditForm() {
    Luxena.Travel.CountryEditForm.initializeBase(this);
}
Luxena.Travel.CountryEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_CountryEditForm$preInitialize() {
        Luxena.Travel.CountryEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Country;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_CountryEditForm$createControls() {
        this.get_window().width = -3;
        this.get_form().add(this.mainDataPanel([ this._se$4.Name.toField(-3), this._se$4.TwoCharCode, this._se$4.ThreeCharCode, this.emptyRow(), this._se$4.Note.toField(-3, function(m) {
            m.height(200);
        }) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineServiceClassSemantic

Luxena.Travel.AirlineServiceClassSemantic = function Luxena_Travel_AirlineServiceClassSemantic() {
    this.Airline = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').emptyText('\u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').reference('Organization');
    this.Code = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string().entityName();
    this.ServiceClass = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441').enumItems([ [ 3, '\u0411\u0438\u0437\u043d\u0435\u0441' ], [ 1, '\u042d\u043a\u043e\u043d\u043e\u043c' ], [ 4, '\u041f\u0435\u0440\u0432\u044b\u0439' ], [ 2, '\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c' ], [ 0, '\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e' ] ]).required();
    Luxena.Travel.AirlineServiceClassSemantic.initializeBase(this);
    this._name = 'AirlineServiceClass';
    this._className = 'AirlineServiceClass';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Code';
    this._title = '\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';
    this._titles = '\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441\u044b \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineServiceClassListTab

Luxena.Travel.AirlineServiceClassListTab = function Luxena_Travel_AirlineServiceClassListTab(tabId, args) {
    Luxena.Travel.AirlineServiceClassListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AirlineServiceClassListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AirlineServiceClassListTab$preInitialize() {
        Luxena.Travel.AirlineServiceClassListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.AirlineServiceClass;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_AirlineServiceClassListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Airline, this._se$10.Code, this._se$10.ServiceClass, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    onAddToolbarButtons: function Luxena_Travel_AirlineServiceClassListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._applyActionStatus$10 = this.getOperationStatus('ApplyServiceClassToDocuments');
        if (!this._applyActionStatus$10.Visible) {
            return;
        }
        this._applyServiceClassAction$10 = this.action(Luxena.Travel.Res.applyToDocuments_Text, ss.Delegate.create(this, this._apply$10), this._applyActionStatus$10.IsDisabled, this._applyActionStatus$10.DisableInfo);
        toolbarItems.add(new Ext.Toolbar.Separator());
        toolbarItems.add(this._applyServiceClassAction$10);
    },
    
    onSelectionChange: function Luxena_Travel_AirlineServiceClassListTab$onSelectionChange(model) {
        if (!this._applyActionStatus$10.IsEnabled) {
            return;
        }
        this._applyServiceClassAction$10.setDisabled((model).getCount() !== 1);
    },
    
    _apply$10: function Luxena_Travel_AirlineServiceClassListTab$_apply$10() {
        var records = this.get_autoGrid().get_selectionModel().getSelections();
        var ids = [];
        var $enum1 = ss.IEnumerator.getEnumerator(records);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            ids.add(r.id);
        }
        var form = new Luxena.Travel.SetDataToDocumentsForm(Luxena.Travel.Res.applyServiceClass_Title, 'AirlineServiceClass');
        form.add_saved(function(result) {
            if (!result) {
                return;
            }
            var msg = LxnBase.StringUtility.getNumberText(result, Luxena.Travel.Res.appliedDataToDocuments_Text1, Luxena.Travel.Res.appliedDataToDocuments_Text2, Luxena.Travel.Res.appliedDataToDocuments_Text3);
            LxnBase.MessageRegister.info(Luxena.Travel.Res.applyServiceClass_Title, msg);
        });
        form.open(ids);
    },
    
    _applyServiceClassAction$10: null,
    _applyActionStatus$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineServiceClassEditForm

Luxena.Travel.AirlineServiceClassEditForm = function Luxena_Travel_AirlineServiceClassEditForm() {
    Luxena.Travel.AirlineServiceClassEditForm.initializeBase(this);
}
Luxena.Travel.AirlineServiceClassEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AirlineServiceClassEditForm$preInitialize() {
        Luxena.Travel.AirlineServiceClassEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.AirlineServiceClass;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_AirlineServiceClassEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$3.Airline, this._se$3.Code, this._se$3.ServiceClass ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineMonthCommissionSemantic

Luxena.Travel.AirlineMonthCommissionSemantic = function Luxena_Travel_AirlineMonthCommissionSemantic() {
    this.Airline = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').emptyText('\u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').reference('Organization').required();
    this.DateFrom = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required().entityName();
    this.DateTo = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();
    this.CommissionPc = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f.\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, %').float2();
    Luxena.Travel.AirlineMonthCommissionSemantic.initializeBase(this);
    this._name = 'AirlineMonthCommission';
    this._className = 'AirlineMonthCommission';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'DateFrom';
    this._title = '\u0414\u043e\u043f.\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';
    this._titles = '\u0414\u043e\u043f.\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineMonthCommissionListTab

Luxena.Travel.AirlineMonthCommissionListTab = function Luxena_Travel_AirlineMonthCommissionListTab(tabId, args) {
    Luxena.Travel.AirlineMonthCommissionListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AirlineMonthCommissionListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AirlineMonthCommissionListTab$preInitialize() {
        Luxena.Travel.AirlineMonthCommissionListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.AirlineMonthCommission;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_AirlineMonthCommissionListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.DateFrom.toColumn(false, 80), this._se$10.DateTo.toColumn(true, 80), this._se$10.Airline, this._se$10.CommissionPc.toColumn(false, 80), this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineMonthCommissionEditForm

Luxena.Travel.AirlineMonthCommissionEditForm = function Luxena_Travel_AirlineMonthCommissionEditForm() {
    Luxena.Travel.AirlineMonthCommissionEditForm.initializeBase(this);
}
Luxena.Travel.AirlineMonthCommissionEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AirlineMonthCommissionEditForm$preInitialize() {
        Luxena.Travel.AirlineMonthCommissionEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.AirlineMonthCommission;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_AirlineMonthCommissionEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$3.Airline, this._se$3.DateFrom, this._se$3.CommissionPc ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirportSemantic

Luxena.Travel.AirportSemantic = function Luxena_Travel_AirportSemantic() {
    this.Code = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string();
    this.Country = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0440\u0430\u043d\u0430').reference('Country');
    this.Settlement = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 (\u0430\u043d\u0433\u043b.)').string();
    this.LocalizedSettlement = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442').string();
    this.Latitude = Luxena.Travel.SemanticEntity.get_member().title('\u0428\u0438\u0440\u043e\u0442\u0430').float2();
    this.Longitude = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043b\u0433\u043e\u0442\u0430').float2();
    Luxena.Travel.AirportSemantic.initializeBase(this);
    this._name = 'Airport';
    this._className = 'Airport';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Code';
    this._title = '\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442';
    this._titles = '\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirportListTab

Luxena.Travel.AirportListTab = function Luxena_Travel_AirportListTab(tabId, args) {
    Luxena.Travel.AirportListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AirportListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AirportListTab$preInitialize() {
        Luxena.Travel.AirportListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Airport;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_AirportListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name, this._se$11.Code, this._se$11.Country, this._se$11.Settlement, this._se$11.LocalizedSettlement, this._se$11.Latitude.toColumn(true), this._se$11.Longitude.toColumn(true), this._se$11.CreatedOn, this._se$11.CreatedBy, this._se$11.ModifiedOn, this._se$11.ModifiedBy ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirportEditForm

Luxena.Travel.AirportEditForm = function Luxena_Travel_AirportEditForm() {
    Luxena.Travel.AirportEditForm.initializeBase(this);
}
Luxena.Travel.AirportEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AirportEditForm$preInitialize() {
        Luxena.Travel.AirportEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Airport;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_AirportEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().labelWidth = 150;
        this.get_form().add(this.mainDataPanel([ this._se$4.Name, this._se$4.Code, this._se$4.Country, this._se$4.Settlement, this._se$4.LocalizedSettlement, this._se$4.Latitude, this._se$4.Longitude ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentSystemSemantic

Luxena.Travel.PaymentSystemSemantic = function Luxena_Travel_PaymentSystemSemantic() {
    Luxena.Travel.PaymentSystemSemantic.initializeBase(this);
    this._name = 'PaymentSystem';
    this._className = 'PaymentSystem';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430';
    this._titles = '\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentSystemListTab

Luxena.Travel.PaymentSystemListTab = function Luxena_Travel_PaymentSystemListTab(tabId, args) {
    Luxena.Travel.PaymentSystemListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.PaymentSystemListTab.prototype = {
    
    preInitialize: function Luxena_Travel_PaymentSystemListTab$preInitialize() {
        Luxena.Travel.PaymentSystemListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.PaymentSystem;
    },
    
    _se$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentSystemEditForm

Luxena.Travel.PaymentSystemEditForm = function Luxena_Travel_PaymentSystemEditForm() {
    Luxena.Travel.PaymentSystemEditForm.initializeBase(this);
}
Luxena.Travel.PaymentSystemEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_PaymentSystemEditForm$preInitialize() {
        Luxena.Travel.PaymentSystemEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.PaymentSystem;
    },
    
    _se$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CurrencySemantic

Luxena.Travel.CurrencySemantic = function Luxena_Travel_CurrencySemantic() {
    this.Code = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string().entityName();
    this.NumericCode = Luxena.Travel.SemanticEntity.get_member().title('\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043a\u043e\u0434').int32().required();
    this.CyrillicCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043a\u043e\u0434').string();
    Luxena.Travel.CurrencySemantic.initializeBase(this);
    this._name = 'Currency';
    this._className = 'Currency';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Code';
    this._title = '\u0412\u0430\u043b\u044e\u0442\u0430';
    this._titles = '\u0412\u0430\u043b\u044e\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CurrencyListTab

Luxena.Travel.CurrencyListTab = function Luxena_Travel_CurrencyListTab(tabId, args) {
    Luxena.Travel.CurrencyListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.CurrencyListTab.prototype = {
    
    preInitialize: function Luxena_Travel_CurrencyListTab$preInitialize() {
        Luxena.Travel.CurrencyListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.Currency;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_CurrencyListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name, this._se$11.Code, this._se$11.NumericCode, this._se$11.CyrillicCode, this._se$11.CreatedOn, this._se$11.CreatedBy, this._se$11.ModifiedOn, this._se$11.ModifiedBy ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CurrencyEditForm

Luxena.Travel.CurrencyEditForm = function Luxena_Travel_CurrencyEditForm() {
    Luxena.Travel.CurrencyEditForm.initializeBase(this);
}
Luxena.Travel.CurrencyEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_CurrencyEditForm$preInitialize() {
        Luxena.Travel.CurrencyEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.Currency;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_CurrencyEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$4.Name, this._se$4.Code, this._se$4.NumericCode, this._se$4.CyrillicCode ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IdentitySemantic

Luxena.Travel.IdentitySemantic = function Luxena_Travel_IdentitySemantic() {
    this.Preferences = Luxena.Travel.SemanticEntity.get_member();
    Luxena.Travel.IdentitySemantic.initializeBase(this);
    this._name = 'Identity';
    this._className = 'Identity';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [ dsm.User ];
    };
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UserSemantic

Luxena.Travel.UserSemantic = function Luxena_Travel_UserSemantic() {
    this.Person = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person');
    this.Password = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0440\u043e\u043b\u044c').password();
    this.ConfirmPassword = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f').confirmPassword('Password');
    this.Active = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439').bool().required().defaultValue(true);
    this.IsAdministrator = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440').bool().required().secondary();
    this.IsSupervisor = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u043f\u0435\u0440\u0432\u0438\u0437\u043e\u0440').bool().required().secondary();
    this.IsAgent = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0433\u0435\u043d\u0442').bool().required().secondary();
    this.IsCashier = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u0430\u0441\u0441\u0438\u0440').bool().required().secondary();
    this.IsAnalyst = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a').bool().required().secondary();
    this.IsSubAgent = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u0431\u0430\u0433\u0435\u043d\u0442').bool().required().secondary();
    this.AllowCustomerReport = Luxena.Travel.SemanticEntity.get_member().title("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c '\u041e\u0442\u0447\u0451\u0442 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443'").bool().required().secondary();
    this.AllowRegistryReport = Luxena.Travel.SemanticEntity.get_member().title("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c '\u041e\u0442\u0447\u0451\u0442 \u0441 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c'").bool().required().secondary();
    this.AllowUnbalancedReport = Luxena.Travel.SemanticEntity.get_member().title("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c '\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u0430\u043c'").bool().required().secondary();
    this.SessionId = Luxena.Travel.SemanticEntity.get_member().string();
    this.Roles = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u043e\u043b\u0438').string();
    Luxena.Travel.UserSemantic.initializeBase(this);
    this._name = 'User';
    this._className = 'User';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c';
    this._titles = '\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438';
    this.Name.title('\u041b\u043e\u0433\u0438\u043d');
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UserVisitSemantic

Luxena.Travel.UserVisitSemantic = function Luxena_Travel_UserVisitSemantic() {
    this.User = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c').reference('User').required();
    this.StartDate = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u0445\u043e\u0434\u0430').dateTime2().required().entityDate().utility();
    this.IP = Luxena.Travel.SemanticEntity.get_member().title('IP').string().required();
    this.SessionId = Luxena.Travel.SemanticEntity.get_member().title('SessionId').string().required();
    this.Request = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0435').text(10);
    Luxena.Travel.UserVisitSemantic.initializeBase(this);
    this._name = 'UserVisit';
    this._className = 'UserVisit';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = null;
    this._title = '\u0417\u0430\u0445\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f';
    this._titles = '\u0417\u0430\u0445\u043e\u0434\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SystemConfigurationSemantic

Luxena.Travel.SystemConfigurationSemantic = function Luxena_Travel_SystemConfigurationSemantic() {
    this.ModifiedOn = Luxena.Travel.SemanticEntity.get_member().date();
    this.ModifiedBy = Luxena.Travel.SemanticEntity.get_member().string();
    this.Company = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');
    this.CompanyName = Luxena.Travel.SemanticEntity.get_member().string();
    this.CompanyDetails = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438').text(3);
    this.Country = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0440\u0430\u043d\u0430').reference('Country');
    this.DefaultCurrency = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').reference('Currency');
    this.UseDefaultCurrencyForInput = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u043b\u044e\u0442\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').bool().required();
    this.VatRate = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0432\u043a\u0430 \u041d\u0414\u0421,%').float2().required();
    this.AmadeusRizUsingMode = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 riz-\u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Amadeus Air').enumItems([ [ 2, '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e' ], [ 0, '\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c' ], [ 1, '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440' ] ]).required();
    this.IsPassengerPassportRequired = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f\u043c\u0438').bool().required();
    this.AviaOrderItemGenerationOption = Luxena.Travel.SemanticEntity.get_member().title('\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u043d\u043a\u043b\u0430\u0442\u0443\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u043e \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0443').enumItems([ [ 0, '\u0412\u0441\u0435\u0433\u0434\u0430 \u043e\u0434\u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044f' ], [ 2, '\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e' ], [ 1, 'C\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0435\u0439' ] ]).required();
    this.AllowAgentSetOrderVat = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041d\u0414\u0421 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435').bool().required();
    this.UseAviaDocumentVatInOrder = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u041d\u0414\u0421 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435').bool().required();
    this.AviaDocumentVatOptions = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0441\u0447\u0435\u0442 \u041d\u0414\u0421 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435').enumItems([ [ 1, '\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043e\u0442 \u0438\u0442\u043e\u0433\u0430' ], [ 0, '\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c HF \u0442\u0430\u043a\u0441\u0443' ] ]).required();
    this.AccountantDisplayString = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u043b\u044f "\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"').text(3);
    this.IncomingCashOrderCorrespondentAccount = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442 \u0434\u043b\u044f \u041f\u041a\u041e').string();
    this.SeparateDocumentAccess = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0434\u0435\u043b\u044f\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c').bool().required();
    this.AllowOtherAgentsToModifyProduct = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0440\u0443\u0433\u0438\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432').bool().required();
    this.IsOrganizationCodeRequired = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0415\u0414\u0420\u041f\u041e\u0423 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439').bool().required();
    this.UseConsolidatorCommission = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430').bool().required();
    this.DefaultConsolidatorCommission = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').money();
    this.UseAviaHandling = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432').bool().required();
    this.UseBonuses = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b').bool().required();
    this.DaysBeforeDeparture = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043d\u0435\u0439 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').int32().required();
    this.BirthdayTaskResponsible = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0437\u0430 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438\u043d\u043d\u0438\u043a\u043e\u0432').reference('Person');
    this.IsOrderRequiredForProcessedDocument = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432').bool().required();
    this.MetricsFromDate = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441').date();
    this.ReservationsInOfficeMetrics = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445 \u043f\u043e \u043e\u0444\u0438\u0441\u0443').bool().required();
    this.McoRequiresDescription = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f MCO').bool().required();
    this.NeutralAirlineCode = Luxena.Travel.SemanticEntity.get_member().title('Neutral Airline Code').string();
    this.Order_UseServiceFeeOnlyInVat = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u044b: \u041d\u0414\u0421 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430').bool().required();
    this.Consignment_NumberMode = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435: \u043d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440').enumItems([ [ 1, '\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430\u043a\u0430\u0437\u0430' ], [ 0, '\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e' ] ]).required();
    this.Invoice_NumberMode = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u043d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440').enumItems([ [ 1, '\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430\u043a\u0430\u0437\u0430' ], [ 0, '\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e' ] ]).required();
    this.InvoicePrinter_ShowVat = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u041d\u0414\u0421').bool().required();
    this.InvoicePrinter_FooterDetails = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u0432\u0430\u0436\u043d\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(6);
    this.DrctWebService_LoadedOn = Luxena.Travel.SemanticEntity.get_member().title('DrctWebService_LoadedOn').dateTime2();
    this.GalileoWebService_LoadedOn = Luxena.Travel.SemanticEntity.get_member().title('GalileoWebService_LoadedOn').dateTime2();
    this.GalileoRailWebService_LoadedOn = Luxena.Travel.SemanticEntity.get_member().title('GalileoRailWebService_LoadedOn').dateTime2();
    this.GalileoBusWebService_LoadedOn = Luxena.Travel.SemanticEntity.get_member().title('GalileoBusWebService_LoadedOn').dateTime2();
    this.TravelPointWebService_LoadedOn = Luxena.Travel.SemanticEntity.get_member().title('TravelPointWebService_LoadedOn').dateTime2();
    this.Consignment_SeparateBookingFee = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a\u0443 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f').bool().required();
    this.Pasterboard_DefaultPaymentType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b \u0434\u043b\u044f \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').enumItems([ [ 1, 'Cash' ], [ 3, 'Check' ], [ 4, 'CreditCard' ], [ 5, 'Exchange' ], [ 2, 'Invoice' ], [ 0, 'Unknown' ], [ 6, '\u0411\u0435\u0437 \u043e\u043f\u043b\u0430\u0442\u044b' ] ]);
    this.Ticket_NoPrintReservations = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0442\u044c \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438').bool().required();
    Luxena.Travel.SystemConfigurationSemantic.initializeBase(this);
    this._name = 'SystemConfiguration';
    this._className = 'SystemConfiguration';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = null;
    this._title = '\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SystemConfigurationEditForm

Luxena.Travel.SystemConfigurationEditForm = function Luxena_Travel_SystemConfigurationEditForm() {
    Luxena.Travel.SystemConfigurationEditForm.initializeBase(this);
}
Luxena.Travel.SystemConfigurationEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_SystemConfigurationEditForm$preInitialize() {
        Luxena.Travel.SystemConfigurationEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.SystemConfiguration;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_SystemConfigurationEditForm$createControls() {
        this.get_window().cls += ' aviaDocument-edit tabbed';
        this.get_form().cls = 'tabbed';
        this.get_window().width = 800;
        this.get_form().labelWidth = 350;
        this.get_form().add(this.tabPanel(550, [ this.tabPane('\u0422\u0443\u0440\u0430\u0433\u0435\u043d\u0441\u0442\u0432\u043e', [ this._se$3.Company.toField(-3), this._se$3.CompanyDetails.toField(-3), this._se$3.AccountantDisplayString.toField(-3), this.emptyRow(), this._se$3.Country, this._se$3.DefaultCurrency, this._se$3.UseDefaultCurrencyForInput, this._se$3.VatRate ]), this.tabPane('\u0423\u0441\u043b\u0443\u0433\u0438', [ this._se$3.UseConsolidatorCommission, this._se$3.DefaultConsolidatorCommission, this._se$3.UseAviaHandling, this._se$3.UseBonuses, this.emptyRow(), this._se$3.IsPassengerPassportRequired, this._se$3.AviaDocumentVatOptions, this._se$3.NeutralAirlineCode, this._se$3.Ticket_NoPrintReservations, this.emptyRow(), this._se$3.DrctWebService_LoadedOn, this._se$3.GalileoWebService_LoadedOn, this._se$3.GalileoRailWebService_LoadedOn, this._se$3.GalileoBusWebService_LoadedOn, this._se$3.TravelPointWebService_LoadedOn, this.emptyRow(), this._se$3.Pasterboard_DefaultPaymentType, this.emptyRow(), this._se$3.AllowOtherAgentsToModifyProduct ]), this.tabPane('\u0417\u0430\u043a\u0430\u0437\u044b', [ this._se$3.AviaOrderItemGenerationOption.toField(-3), this._se$3.AmadeusRizUsingMode.toField(-3), this._se$3.IncomingCashOrderCorrespondentAccount, this._se$3.DaysBeforeDeparture, this._se$3.MetricsFromDate, this.emptyRow(), this._se$3.UseAviaDocumentVatInOrder, this._se$3.AllowAgentSetOrderVat, this._se$3.SeparateDocumentAccess, this._se$3.IsOrderRequiredForProcessedDocument, this._se$3.ReservationsInOfficeMetrics, this._se$3.McoRequiresDescription, this._se$3.Order_UseServiceFeeOnlyInVat ]), this.tabPane('\u0421\u0447\u0435\u0442\u0430', [ this._se$3.Invoice_NumberMode.toField(-3), this._se$3.InvoicePrinter_ShowVat, this._se$3.InvoicePrinter_FooterDetails.toField(-3) ]), this.tabPane('\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435', [ this._se$3.Consignment_NumberMode.toField(-3), this._se$3.Consignment_SeparateBookingFee.toField(-3) ]), this.tabPane('\u041f\u0440\u043e\u0447\u0435\u0435', [ this._se$3.BirthdayTaskResponsible, this._se$3.IsOrganizationCodeRequired ]) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineCommissionPercentsSemantic

Luxena.Travel.AirlineCommissionPercentsSemantic = function Luxena_Travel_AirlineCommissionPercentsSemantic() {
    this.Airline = Luxena.Travel.SemanticEntity.get_member().reference('Organization').entityName();
    this.Domestic = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b, %').float2().required();
    this.International = Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442, %').float2().required();
    this.InterlineDomestic = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b (interline), %').float2().required();
    this.InterlineInternational = Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442 (interline), %').float2().required();
    Luxena.Travel.AirlineCommissionPercentsSemantic.initializeBase(this);
    this._name = 'AirlineCommissionPercents';
    this._className = 'AirlineCommissionPercents';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Airline';
    this._title = '\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';
    this._titles = '\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineCommissionPercentsListTab

Luxena.Travel.AirlineCommissionPercentsListTab = function Luxena_Travel_AirlineCommissionPercentsListTab(tabId, args) {
    Luxena.Travel.AirlineCommissionPercentsListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AirlineCommissionPercentsListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AirlineCommissionPercentsListTab$preInitialize() {
        Luxena.Travel.AirlineCommissionPercentsListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.AirlineCommissionPercents;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_AirlineCommissionPercentsListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Airline, this._se$10.Domestic, this._se$10.International, this._se$10.InterlineDomestic, this._se$10.InterlineInternational ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineCommissionPercentsEditForm

Luxena.Travel.AirlineCommissionPercentsEditForm = function Luxena_Travel_AirlineCommissionPercentsEditForm() {
    Luxena.Travel.AirlineCommissionPercentsEditForm.initializeBase(this);
}
Luxena.Travel.AirlineCommissionPercentsEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AirlineCommissionPercentsEditForm$preInitialize() {
        Luxena.Travel.AirlineCommissionPercentsEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.AirlineCommissionPercents;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_AirlineCommissionPercentsEditForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$3.Airline, this._se$3.Domestic, this._se$3.International, this._se$3.InterlineDomestic, this._se$3.InterlineInternational ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DocumentOwnerSemantic

Luxena.Travel.DocumentOwnerSemantic = function Luxena_Travel_DocumentOwnerSemantic() {
    this.Owner = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party').entityName();
    this.IsActive = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439').bool().required();
    Luxena.Travel.DocumentOwnerSemantic.initializeBase(this);
    this._name = 'DocumentOwner';
    this._className = 'DocumentOwner';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Owner';
    this._title = '\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432';
    this._titles = '\u0412\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DocumentOwnerListTab

Luxena.Travel.DocumentOwnerListTab = function Luxena_Travel_DocumentOwnerListTab(tabId, args) {
    Luxena.Travel.DocumentOwnerListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.DocumentOwnerListTab.prototype = {
    
    preInitialize: function Luxena_Travel_DocumentOwnerListTab$preInitialize() {
        Luxena.Travel.DocumentOwnerListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.DocumentOwner;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_DocumentOwnerListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Owner, this._se$10.IsActive ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DocumentOwnerEditForm

Luxena.Travel.DocumentOwnerEditForm = function Luxena_Travel_DocumentOwnerEditForm() {
    Luxena.Travel.DocumentOwnerEditForm.initializeBase(this);
}
Luxena.Travel.DocumentOwnerEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_DocumentOwnerEditForm$preInitialize() {
        Luxena.Travel.DocumentOwnerEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.DocumentOwner;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_DocumentOwnerEditForm$createControls() {
        this.get_window().width = -3;
        this.get_form().add(this.mainDataPanel([ this._se$3.Owner.toField(-3), this._se$3.IsActive ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DocumentAccessSemantic

Luxena.Travel.DocumentAccessSemantic = function Luxena_Travel_DocumentAccessSemantic() {
    this.Person = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person').entityName();
    this.Owner = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').enumReference('DocumentOwner');
    this.FullDocumentControl = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f').bool().required();
    Luxena.Travel.DocumentAccessSemantic.initializeBase(this);
    this._name = 'DocumentAccess';
    this._className = 'DocumentAccess';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Person';
    this._title = '\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DocumentAccessListTab

Luxena.Travel.DocumentAccessListTab = function Luxena_Travel_DocumentAccessListTab(tabId, args) {
    Luxena.Travel.DocumentAccessListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.DocumentAccessListTab.prototype = {
    
    preInitialize: function Luxena_Travel_DocumentAccessListTab$preInitialize() {
        Luxena.Travel.DocumentAccessListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.DocumentAccess;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_DocumentAccessListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Person, this._se$10.Owner, this._se$10.FullDocumentControl ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DocumentAccessEditForm

Luxena.Travel.DocumentAccessEditForm = function Luxena_Travel_DocumentAccessEditForm() {
    Luxena.Travel.DocumentAccessEditForm.initializeBase(this);
}
Luxena.Travel.DocumentAccessEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_DocumentAccessEditForm$preInitialize() {
        Luxena.Travel.DocumentAccessEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.DocumentAccess;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_DocumentAccessEditForm$createControls() {
        this.get_window().width = -3;
        this.get_form().add(this.mainDataPanel([ this._se$3.Person.toField(-3), this._se$3.Owner.toField(-3), this._se$3.FullDocumentControl ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ClosedPeriodSemantic

Luxena.Travel.ClosedPeriodSemantic = function Luxena_Travel_ClosedPeriodSemantic() {
    this.DateFrom = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441').date().required().entityDate();
    this.DateTo = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u043e').date().required();
    this.PeriodState = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435').enumItems([ [ 2, '\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439' ], [ 0, '\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439' ], [ 1, '\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439' ] ]).required().defaultValue(2);
    Luxena.Travel.ClosedPeriodSemantic.initializeBase(this);
    this._name = 'ClosedPeriod';
    this._className = 'ClosedPeriod';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = null;
    this._title = '\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434';
    this._titles = '\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OpeningBalanceSemantic

Luxena.Travel.OpeningBalanceSemantic = function Luxena_Travel_OpeningBalanceSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.Date = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required();
    this.Party = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442').reference('Party');
    this.Balance = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0441\u0442\u0430\u0442\u043e\u043a').float2().required();
    Luxena.Travel.OpeningBalanceSemantic.initializeBase(this);
    this._name = 'OpeningBalance';
    this._className = 'OpeningBalance';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a';
    this._titles = '\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0441\u0442\u0430\u0442\u043a\u0438';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InternalTransferSemantic

Luxena.Travel.InternalTransferSemantic = function Luxena_Travel_InternalTransferSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.Date = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required().entityDate();
    this.FromOrder = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437 \u0437\u0430\u043a\u0430\u0437\u0430').reference('Order');
    this.FromParty = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430').reference('Customer').required();
    this.ToOrder = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0437\u0430\u043a\u0430\u0437').reference('Order');
    this.ToParty = Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0443').reference('Customer').required();
    this.Amount = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u043c\u043c\u0430').float2().required();
    Luxena.Travel.InternalTransferSemantic.initializeBase(this);
    this._name = 'InternalTransfer';
    this._className = 'InternalTransfer';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434';
    this._titles = '\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsAgentSemantic

Luxena.Travel.GdsAgentSemantic = function Luxena_Travel_GdsAgentSemantic() {
    this.Person = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person');
    this.Origin = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432').enumItems([ [ 0, 'AmadeusAir' ], [ 1, 'AmadeusPrint' ], [ 8, 'AmadeusXml' ], [ 4, 'BspLink' ], [ 14, 'Drct' ], [ 12, 'GalileoBusXml' ], [ 2, 'GalileoMir' ], [ 10, 'GalileoRailXml' ], [ 3, 'GalileoTkt' ], [ 7, 'GalileoXml' ], [ 11, 'LuxenaXml' ], [ 5, 'Manual' ], [ 9, 'SabreFil' ], [ 15, 'SabreTerminal' ], [ 6, 'SirenaXml' ], [ 13, 'TravelPointXml' ] ]).required();
    this.Code = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430').string().entityName();
    this.OfficeCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430').string();
    this.Provider = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a').reference('Organization');
    this.Office = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').enumReference('DocumentOwner');
    this.LegalEntity = Luxena.Travel.SemanticEntity.get_member().title('\u042e\u0440\u043b\u0438\u0446\u043e').reference('Organization');
    Luxena.Travel.GdsAgentSemantic.initializeBase(this);
    this._name = 'GdsAgent';
    this._className = 'GdsAgent';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Code';
    this._title = 'Gds-\u0430\u0433\u0435\u043d\u0442';
    this._titles = 'Gds-\u0430\u0433\u0435\u043d\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsAgentListTab

Luxena.Travel.GdsAgentListTab = function Luxena_Travel_GdsAgentListTab(tabId, args) {
    Luxena.Travel.GdsAgentListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.GdsAgentListTab.prototype = {
    
    preInitialize: function Luxena_Travel_GdsAgentListTab$preInitialize() {
        Luxena.Travel.GdsAgentListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.GdsAgent;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_GdsAgentListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Person, this._se$10.Origin, this._se$10.Code, this._se$10.OfficeCode, this._se$10.Office, this._se$10.Provider, this._se$10.LegalEntity, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    onAddToolbarButtons: function Luxena_Travel_GdsAgentListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._applyActionStatus$10 = this.getOperationStatus('ApplyGdsAgentToDocuments');
        if (!this._applyActionStatus$10.Visible) {
            return;
        }
        this._applyAction$10 = this.action(Luxena.Travel.Res.applyToDocuments_Text, ss.Delegate.create(this, this._apply$10), this._applyActionStatus$10.IsDisabled, this._applyActionStatus$10.DisableInfo);
        toolbarItems.add(new Ext.Toolbar.Separator());
        toolbarItems.add(this._applyAction$10);
    },
    
    _apply$10: function Luxena_Travel_GdsAgentListTab$_apply$10() {
        var records = this.get_autoGrid().get_selectionModel().getSelections();
        var ids = [];
        var $enum1 = ss.IEnumerator.getEnumerator(records);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            ids.add(r.id);
        }
        var form = new Luxena.Travel.SetDataToDocumentsForm(Luxena.Travel.Res.applyGdsAgent_Title, 'GdsAgent');
        form.add_saved(function(result) {
            if (!result) {
                return;
            }
            var msg = LxnBase.StringUtility.getNumberText(result, Luxena.Travel.Res.appliedDataToDocuments_Text1, Luxena.Travel.Res.appliedDataToDocuments_Text2, Luxena.Travel.Res.appliedDataToDocuments_Text3);
            LxnBase.MessageRegister.info(Luxena.Travel.Res.applyGdsAgent_Title, msg);
        });
        form.open(ids);
    },
    
    onSelectionChange: function Luxena_Travel_GdsAgentListTab$onSelectionChange(model) {
        if (ss.isValue(this._applyAction$10) && !this._applyActionStatus$10.IsDisabled) {
            this._applyAction$10.setDisabled((model).getCount() !== 1);
        }
    },
    
    _applyAction$10: null,
    _applyActionStatus$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsAgentEditForm

Luxena.Travel.GdsAgentEditForm = function Luxena_Travel_GdsAgentEditForm() {
    Luxena.Travel.GdsAgentEditForm.initializeBase(this);
}
Luxena.Travel.GdsAgentEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_GdsAgentEditForm$preInitialize() {
        Luxena.Travel.GdsAgentEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.GdsAgent;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_GdsAgentEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().add(this.mainDataPanel([ this._se$3.Person, this._se$3.Origin, this._se$3.Code, this._se$3.OfficeCode, this._se$3.Office, this._se$3.Provider, this._se$3.LegalEntity ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsFileSemantic

Luxena.Travel.GdsFileSemantic = function Luxena_Travel_GdsFileSemantic() {
    this.FileType = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f').enumItems([ [ 0, 'AirFile' ], [ 6, 'AmadeusXmlFile' ], [ 12, 'CrazyllamaPnrFile' ], [ 13, 'DrctXmlFile' ], [ 10, 'GalileoBusXmlFile' ], [ 8, 'GalileoRailXmlFile' ], [ 5, 'GalileoXmlFile' ], [ 9, 'LuxenaXmlFile' ], [ 1, 'MirFile' ], [ 3, 'PrintFile' ], [ 7, 'SabreFilFile' ], [ 4, 'SirenaFile' ], [ 2, 'TktFile' ], [ 11, 'TravelPointXmlFile' ] ]).required();
    this.TimeStamp = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430').dateTime2().required();
    this.Content = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435').text(10);
    this.ImportResult = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0430').enumItems([ [ 2, 'Error' ], [ 0, 'None' ], [ 4, 'Reimported' ], [ 1, 'Success' ], [ 3, 'Warn' ] ]).required();
    this.ImportOutput = Luxena.Travel.SemanticEntity.get_member().title('\u0416\u0443\u0440\u043d\u0430\u043b').string();
    Luxena.Travel.GdsFileSemantic.initializeBase(this);
    this._name = 'GdsFile';
    this._className = 'GdsFile';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [];
    };
    this._title = 'Gds-\u0444\u0430\u0439\u043b';
    this._titles = 'Gds-\u0444\u0430\u0439\u043b\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InvoiceSemantic

Luxena.Travel.InvoiceSemantic = function Luxena_Travel_InvoiceSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.Agreement = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u0433\u043e\u0432\u043e\u0440').string();
    this.IssueDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430').date().required();
    this.TimeStamp = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f').dateTime2().required().utility();
    this.Type = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f').enumItems([ [ 2, '\u0410\u043a\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442' ], [ 0, '\u0421\u0447\u0435\u0442' ], [ 1, '\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f' ] ]).required();
    this.Content = Luxena.Travel.SemanticEntity.get_member();
    this.Order = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');
    this.Customer = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').reference('Customer');
    this.BillTo = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').reference('Party');
    this.BillToName = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').string();
    this.ShipTo = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c').reference('Party');
    this.IsOrderVoid = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();
    this.Owner = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party');
    this.IssuedBy = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u043f\u0443\u0449\u0435\u043d').reference('Person');
    this.Total = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0442\u043e\u0433\u043e').money();
    this.Vat = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').money();
    this.FileExtension = Luxena.Travel.SemanticEntity.get_member().title('\u0424\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430').string();
    Luxena.Travel.InvoiceSemantic.initializeBase(this);
    this._name = 'Invoice';
    this._className = 'Invoice';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0421\u0447\u0435\u0442/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f';
    this._titles = '\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ReceiptSemantic

Luxena.Travel.ReceiptSemantic = function Luxena_Travel_ReceiptSemantic() {
    Luxena.Travel.ReceiptSemantic.initializeBase(this);
    this._name = 'Receipt';
    this._className = 'Invoice';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TaskSemantic

Luxena.Travel.TaskSemantic = function Luxena_Travel_TaskSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.Subject = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043c\u0430').string();
    this.Description = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435').text(3);
    this.RelatedTo = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e').reference('Party');
    this.Order = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');
    this.AssignedTo = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439').reference('Party');
    this.Status = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0442\u0443\u0441').enumItems([ [ 3, '\u0417\u0430\u043a\u0440\u044b\u0442\u0430' ], [ 1, '\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f' ], [ 0, '\u041e\u0442\u043a\u0440\u044b\u0442\u0430' ], [ 2, '\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438 \u043e\u0442\u0432\u0435\u0442\u0430' ] ]).required();
    this.DueDate = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e').date();
    this.Overdue = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439').bool().required();
    this.Comments = Luxena.Travel.SemanticEntity.get_member();
    this.CanModify = Luxena.Travel.SemanticEntity.get_member().bool().required();
    Luxena.Travel.TaskSemantic.initializeBase(this);
    this._name = 'Task';
    this._className = 'Task';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u0417\u0430\u0434\u0430\u0447\u0430';
    this._titles = '\u0417\u0430\u0434\u0430\u0447\u0438';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TaskListTab

Luxena.Travel.TaskListTab = function Luxena_Travel_TaskListTab(tabId, args) {
    Luxena.Travel.TaskListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.TaskListTab.prototype = {
    
    preInitialize: function Luxena_Travel_TaskListTab$preInitialize() {
        Luxena.Travel.TaskListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.Task;
    },
    
    _se$10: null,
    
    createColumnConfigs: function Luxena_Travel_TaskListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Number, this._se$10.Subject, this._se$10.Description, this._se$10.RelatedTo, this._se$10.Order, this._se$10.AssignedTo, this._se$10.Status, this._se$10.DueDate, this._se$10.Overdue, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    onAddToolbarButtons: function Luxena_Travel_TaskListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._actionStatus$10 = this.getOperationStatus('ChangeTaskStatus');
        if (!this._actionStatus$10.Visible) {
            return;
        }
        this._changeStatusAction$10 = this.menuAction(Luxena.Travel.DomainRes.common_Status.toLowerCase(), [ this.menuItem(Luxena.Travel.DomainRes.taskStatus_Open, ss.Delegate.create(this, function() {
            this._changeStatus$10(0, Luxena.Travel.DomainRes.taskStatus_Open);
        })), this.menuItem(Luxena.Travel.DomainRes.taskStatus_InProgress, ss.Delegate.create(this, function() {
            this._changeStatus$10(1, Luxena.Travel.DomainRes.taskStatus_InProgress);
        })), this.menuItem(Luxena.Travel.DomainRes.taskStatus_WaitForResponse, ss.Delegate.create(this, function() {
            this._changeStatus$10(2, Luxena.Travel.DomainRes.taskStatus_WaitForResponse);
        })), this.menuItem(Luxena.Travel.DomainRes.taskStatus_Closed, ss.Delegate.create(this, function() {
            this._changeStatus$10(3, Luxena.Travel.DomainRes.taskStatus_Closed);
        })) ]);
    },
    
    onSelectionChange: function Luxena_Travel_TaskListTab$onSelectionChange(selectionModel) {
        if (ss.isValue(this._changeStatusAction$10)) {
            this._changeStatusAction$10.setDisabled(!(selectionModel).getCount());
        }
    },
    
    _changeStatus$10: function Luxena_Travel_TaskListTab$_changeStatus$10(status, statusStr) {
        if (!this.get_autoGrid().get_selectionModel().getCount()) {
            return;
        }
        var selections = this.get_autoGrid().get_selectionModel().getSelections();
        var ids = new Array(selections.length);
        for (var i = 0; i < selections.length; i++) {
            ids[i] = selections[i].id;
        }
        Luxena.Travel.Services.TaskService.ChangeStatus(ids, status, this.get_autoGrid().getStore().baseParams, ss.Delegate.create(this, function(result) {
            var response = (result)[1];
            (this.get_autoGrid().getStore().proxy).setResponse(response);
            this.get_autoGrid().reload(false);
            var data = (result)[0];
            var message;
            if (data.length === 1) {
                message = String.format(Luxena.Travel.Res.task_StatusChange_Msg, statusStr, data[0][LxnBase.Data.ObjectPropertyNames.reference]);
            }
            else {
                message = LxnBase.StringUtility.getNumberText(data.length, Luxena.Travel.Res.task_StatusChange_Msg1, Luxena.Travel.Res.task_StatusChange_Msg2, Luxena.Travel.Res.task_StatusChange_Msg2);
                message = String.format(Luxena.Travel.Res.task_StatusChange_Msg, statusStr, message);
            }
            if (ss.isNullOrUndefined(response.SelectedRow)) {
                LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List, message, LxnBase.BaseRes.autoGrid_NotDisplay_Msg);
            }
            else {
                LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List, message);
                this.get_autoGrid().get_selectionModel().selectRow(response.SelectedRow);
            }
        }), null);
    },
    
    _changeStatusAction$10: null,
    _actionStatus$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TaskEditForm

Luxena.Travel.TaskEditForm = function Luxena_Travel_TaskEditForm() {
    Luxena.Travel.TaskEditForm.initializeBase(this);
}
Luxena.Travel.TaskEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_TaskEditForm$preInitialize() {
        Luxena.Travel.TaskEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.Task;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_TaskEditForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$3.Number, this._se$3.Subject.toField(-3), this._se$3.Description.toField(-3), this._se$3.RelatedTo.toField(-3), this._se$3.Order, this._se$3.AssignedTo.toField(-3), this._se$3.Status, this._se$3.DueDate ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentSemantic

Luxena.Travel.PaymentSemantic = function Luxena_Travel_PaymentSemantic() {
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();
    this.Date = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required();
    this.PaymentForm = Luxena.Travel.SemanticEntity.get_member().title('\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b').enumItems([ [ 0, '\u041f\u041a\u041e' ], [ 4, '\u0420\u041a\u041e' ], [ 2, '\u041a\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0447\u0435\u043a' ], [ 3, '\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436' ], [ 1, '\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436' ] ]).required();
    this.DocumentNumber = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430').string();
    this.DocumentUniqueCode = Luxena.Travel.SemanticEntity.get_member().string();
    this.Payer = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').reference('Party').required();
    this.Order = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');
    this.Invoice = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f').reference('Receipt');
    this.InvoiceDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438').date();
    this.Sign = Luxena.Travel.SemanticEntity.get_member().int32().required();
    this.Amount = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u043c\u043c\u0430').money();
    this.Vat = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').money();
    this.ReceivedFrom = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043e\u0442').string();
    this.PostedOn = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438').date();
    this.SavePosted = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c').bool().required();
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);
    this.IsVoid = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();
    this.AssignedTo = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439').reference('Person');
    this.RegisteredBy = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d').reference('Person');
    this.IsPosted = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.Owner = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party');
    this.PrintedDocument = Luxena.Travel.SemanticEntity.get_member();
    this.PaymentSystem = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430').reference('PaymentSystem');
    this.IsCashOrder = Luxena.Travel.SemanticEntity.get_member().bool().required().utility();
    this.IsCashInOrder = Luxena.Travel.SemanticEntity.get_member().bool().required().utility();
    this.IsCashOutOrder = Luxena.Travel.SemanticEntity.get_member().bool().required().utility();
    this.IsCheck = Luxena.Travel.SemanticEntity.get_member().bool().required().utility();
    this.IsElectronic = Luxena.Travel.SemanticEntity.get_member().bool().required().utility();
    this.IsWireTransfer = Luxena.Travel.SemanticEntity.get_member().bool().required().utility();
    Luxena.Travel.PaymentSemantic.initializeBase(this);
    this._name = 'Payment';
    this._className = 'Payment';
    this._isAbstract = true;
    this._getDerivedEntities = function(dsm) {
        return [];
    };
    this._nameFieldName = 'Number';
    this._title = '\u041f\u043b\u0430\u0442\u0451\u0436';
    this._titles = '\u041f\u043b\u0430\u0442\u0435\u0436\u0438';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ContractSemantic

Luxena.Travel.ContractSemantic = function Luxena_Travel_ContractSemantic() {
    this.Customer = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization').required();
    this.Number = Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().required().entityName();
    this.IssueDate = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().entityDate();
    this.DiscountPc = Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0438\u0441\u043a\u043e\u043d\u0442, %').float2().required();
    this.Note = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);
    Luxena.Travel.ContractSemantic.initializeBase(this);
    this._name = 'Contract';
    this._className = 'Contract';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Number';
    this._title = '\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442';
    this._titles = '\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ModificationSemantic

Luxena.Travel.ModificationSemantic = function Luxena_Travel_ModificationSemantic() {
    this.TimeStamp = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f').dateTime2().required();
    this.Author = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0442\u043e\u0440').string();
    this.Type = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f').enumItems([ [ 0, '\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d' ], [ 2, '\u0423\u0434\u0430\u043b\u0451\u043d' ], [ 1, '\u0418\u0437\u043c\u0435\u043d\u0451\u043d' ] ]).required();
    this.InstanceType = Luxena.Travel.SemanticEntity.get_member().string();
    this.InstanceId = Luxena.Travel.SemanticEntity.get_member().string();
    this.InstanceString = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u044a\u0435\u043a\u0442').string();
    this.Comment = Luxena.Travel.SemanticEntity.get_member().string();
    this.Items = Luxena.Travel.SemanticEntity.get_member();
    this.ItemsJson = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430').string();
    Luxena.Travel.ModificationSemantic.initializeBase(this);
    this._name = 'Modification';
    this._className = 'Modification';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = null;
    this._title = '\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435';
    this._titles = '\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FlightSegmentSemantic

Luxena.Travel.FlightSegmentSemantic = function Luxena_Travel_FlightSegmentSemantic() {
    this.Ticket = Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442').reference('AviaTicket');
    this.Position = Luxena.Travel.SemanticEntity.get_member().int32().required().entityName();
    this.Type = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430').enumItems([ [ 0, 'Ticketed' ], [ 1, 'Unticketed' ], [ 2, 'Voided' ] ]).required();
    this.FromAirportCode = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430').string();
    this.FromAirportName = Luxena.Travel.SemanticEntity.get_member().string();
    this.FromAirport = Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430').reference('Airport');
    this.FromCountry = Luxena.Travel.SemanticEntity.get_member().reference('Country');
    this.ToAirportCode = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442').string();
    this.ToAirportName = Luxena.Travel.SemanticEntity.get_member().string();
    this.ToAirport = Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442').reference('Airport');
    this.ToCountry = Luxena.Travel.SemanticEntity.get_member().reference('Country');
    this.CarrierIataCode = Luxena.Travel.SemanticEntity.get_member().string();
    this.CarrierPrefixCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string();
    this.CarrierName = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a').string();
    this.Carrier = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a').reference('Airline');
    this.Operator = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0435\u0440\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a').reference('Airline');
    this.FlightNumber = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u0439\u0441').string();
    this.Equipment = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u0441\u0443\u0434\u043d\u0430').reference('AirplaneModel');
    this.ServiceClassCode = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0441\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441\u0430').string();
    this.ServiceClass = Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441').enumItems([ [ 3, '\u0411\u0438\u0437\u043d\u0435\u0441' ], [ 1, '\u042d\u043a\u043e\u043d\u043e\u043c' ], [ 4, '\u041f\u0435\u0440\u0432\u044b\u0439' ], [ 2, '\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c' ], [ 0, '\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e' ] ]).defaultValue(1);
    this.DepartureTime = Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435').dateTime();
    this.ArrivalTime = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435').dateTime();
    this.MealCodes = Luxena.Travel.SemanticEntity.get_member().string();
    this.MealTypes = Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0438\u0442\u0430\u043d\u0438\u0435').enumsItems([ [ 2048, '\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438' ], [ 512, '\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438' ], [ 1, '\u0417\u0430\u0432\u0442\u0440\u0430\u043a' ], [ 32, '\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0435\u0434\u0430' ], [ 2, '\u041a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0432\u0442\u0440\u0430\u043a' ], [ 8, '\u041e\u0431\u0435\u0434' ], [ 4096, 'Duty Free' ], [ 1024, '\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0435\u0434\u0430' ], [ 64, '\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0435\u0434\u0430' ], [ 4, '\u041b\u0430\u043d\u0447' ], [ 128, '\u0415\u0434\u0430' ], [ 0, 'NoData' ], [ 8192, 'no meal service' ], [ 256, '\u041d\u0430\u043f\u0438\u0442\u043a\u0438' ], [ 16, '\u0417\u0430\u043a\u0443\u0441\u043a\u0430' ] ]);
    this.NumberOfStops = Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043b-\u0432\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a').int32();
    this.Luggage = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u0433\u0430\u0436').string();
    this.CheckInTerminal = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b').string();
    this.CheckInTime = Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f').string();
    this.Duration = Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043f\u0435\u0440\u0435\u043b\u0435\u0442\u0430').string();
    this.ArrivalTerminal = Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b').string();
    this.Seat = Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0435\u0441\u0442\u043e').string();
    this.FareBasis = Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u0437\u0430 \u0442\u0430\u0440\u0438\u0444\u0430').string();
    this.Stopover = Luxena.Travel.SemanticEntity.get_member().title('\u042d\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442').bool().required();
    this.Surcharges = Luxena.Travel.SemanticEntity.get_member().float2();
    this.IsInclusive = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.Fare = Luxena.Travel.SemanticEntity.get_member().float2();
    this.StopoverOrTransferCharge = Luxena.Travel.SemanticEntity.get_member().float2();
    this.IsSideTrip = Luxena.Travel.SemanticEntity.get_member().bool().required();
    this.Distance = Luxena.Travel.SemanticEntity.get_member().float2().required();
    this.Amount = Luxena.Travel.SemanticEntity.get_member().money();
    this.CouponAmount = Luxena.Travel.SemanticEntity.get_member().money();
    Luxena.Travel.FlightSegmentSemantic.initializeBase(this);
    this._name = 'FlightSegment';
    this._className = 'FlightSegment';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._nameFieldName = 'Position';
    this._title = '\u041f\u043e\u043b\u0451\u0442\u043d\u044b\u0439 \u0441\u0435\u0433\u043c\u0435\u043d\u0442';
    this._titles = '\u041f\u043e\u043b\u0451\u0442\u043d\u044b\u0435 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u044b';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FlightSegmentListTab

Luxena.Travel.FlightSegmentListTab = function Luxena_Travel_FlightSegmentListTab(tabId, args) {
    Luxena.Travel.FlightSegmentListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.FlightSegmentListTab.prototype = {
    
    preInitialize: function Luxena_Travel_FlightSegmentListTab$preInitialize() {
        Luxena.Travel.FlightSegmentListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.FlightSegment;
    },
    
    _se$10: null,
    
    onInitGrid: function Luxena_Travel_FlightSegmentListTab$onInitGrid(args, config) {
        Luxena.Travel.FlightSegmentListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.setDefaultSort('DepartureTime', 'DESC');
    },
    
    createColumnConfigs: function Luxena_Travel_FlightSegmentListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.Ticket, this._se$10.Position.toColumn(true), this._se$10.FromAirport, this._se$10.ToAirport, this._se$10.Carrier, this._se$10.FlightNumber, this._se$10.Seat, this._se$10.ServiceClassCode.toColumn(true), this._se$10.ServiceClass, this._se$10.DepartureTime, this._se$10.CheckInTime.toColumn(true), this._se$10.CheckInTerminal.toColumn(true), this._se$10.ArrivalTime, this._se$10.ArrivalTerminal.toColumn(true), this._se$10.NumberOfStops.toColumn(true), this._se$10.Luggage, this._se$10.Duration, this._se$10.FareBasis, this._se$10.Stopover, this._se$10.MealTypes, this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    onAddToolbarButtons: function Luxena_Travel_FlightSegmentListTab$onAddToolbarButtons(toolbarItems, grid) {
        toolbarItems.remove(grid.get_createAction());
        toolbarItems.remove(grid.get_copyAction());
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FlightSegmentEditForm

Luxena.Travel.FlightSegmentEditForm = function Luxena_Travel_FlightSegmentEditForm() {
    Luxena.Travel.FlightSegmentEditForm.initializeBase(this);
}
Luxena.Travel.FlightSegmentEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_FlightSegmentEditForm$preInitialize() {
        Luxena.Travel.FlightSegmentEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = this.dsm.FlightSegment;
    },
    
    _se$3: null,
    
    createControls: function Luxena_Travel_FlightSegmentEditForm$createControls() {
        this.get_window().cls += ' segment-edit';
        this.get_window().width = -6;
        this.get_form().labelWidth = 140;
        this.get_form().add(this.columnPanel([ this.mainDataPanel([ this._se$3.FromAirport.toField(-3), this._se$3.ToAirport.toField(-3), this._se$3.Carrier.toField(-3), this._se$3.Operator.toField(-3), this._se$3.rowPanel2(this._se$3.FlightNumber, null, this._se$3.Seat, null), this._se$3.rowPanel2(this._se$3.ServiceClassCode, null, this._se$3.ServiceClass, null), this._se$3.Equipment.toField(-3), this._se$3.rowPanel2(this._se$3.CheckInTime, null, this._se$3.CheckInTerminal, null), this._se$3.DepartureTime.toField(-1), this._se$3.rowPanel2(this._se$3.ArrivalTime, null, this._se$3.ArrivalTerminal, null), this.emptyRow(), this._se$3.Stopover, this._se$3.Type ]), this.mainDataPanel([ this._se$3.NumberOfStops, this._se$3.Luggage, this._se$3.Duration, this._se$3.FareBasis, this.emptyRow(), this._se$3.MealTypes.toField(-3) ]) ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirplaneModelSemantic

Luxena.Travel.AirplaneModelSemantic = function Luxena_Travel_AirplaneModelSemantic() {
    this.IataCode = Luxena.Travel.SemanticEntity.get_member().title('IATA \u043a\u043e\u0434').string(3).required();
    this.IcaoCode = Luxena.Travel.SemanticEntity.get_member().title('ICAO \u043a\u043e\u0434').string(4);
    Luxena.Travel.AirplaneModelSemantic.initializeBase(this);
    this._name = 'AirplaneModel';
    this._className = 'AirplaneModel';
    this._isAbstract = false;
    this._getDerivedEntities = null;
    this._title = '\u041c\u043e\u0434\u0435\u043b\u044c \u0441\u0430\u043c\u043e\u043b\u0451\u0442\u0430';
    this._titles = '\u041c\u043e\u0434\u0435\u043b\u0438 \u0441\u0430\u043c\u043e\u043b\u0451\u0442\u043e\u0432 (\u0442\u0438\u043f\u044b \u0441\u0443\u0434\u043e\u0432)';
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirplaneModelListTab

Luxena.Travel.AirplaneModelListTab = function Luxena_Travel_AirplaneModelListTab(tabId, args) {
    Luxena.Travel.AirplaneModelListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AirplaneModelListTab.prototype = {
    
    preInitialize: function Luxena_Travel_AirplaneModelListTab$preInitialize() {
        Luxena.Travel.AirplaneModelListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$11 = this.dsm.AirplaneModel;
    },
    
    _se$11: null,
    
    createColumnConfigs: function Luxena_Travel_AirplaneModelListTab$createColumnConfigs() {
        this.addColumns([ this._se$11.Name, this._se$11.IataCode, this._se$11.IcaoCode, this._se$11.CreatedOn, this._se$11.CreatedBy, this._se$11.ModifiedOn, this._se$11.ModifiedBy ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirplaneModelEditForm

Luxena.Travel.AirplaneModelEditForm = function Luxena_Travel_AirplaneModelEditForm() {
    Luxena.Travel.AirplaneModelEditForm.initializeBase(this);
}
Luxena.Travel.AirplaneModelEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_AirplaneModelEditForm$preInitialize() {
        Luxena.Travel.AirplaneModelEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.AirplaneModel;
    },
    
    _se$4: null,
    
    createControls: function Luxena_Travel_AirplaneModelEditForm$createControls() {
        this.get_window().width = -1;
        this.get_form().labelWidth = 150;
        this.get_form().add(this.mainDataPanel([ this._se$4.Name, this._se$4.IataCode, this._se$4.IcaoCode ]));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyReplaceForm

Luxena.Travel.PartyReplaceForm = function Luxena_Travel_PartyReplaceForm() {
    Luxena.Travel.PartyReplaceForm.initializeBase(this);
}
Luxena.Travel.PartyReplaceForm.prototype = {
    
    preInitialize: function Luxena_Travel_PartyReplaceForm$preInitialize() {
        Luxena.Travel.PartyReplaceForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$3 = new Luxena.Travel.PartyReplaceParams();
    },
    
    _se$3: null,
    
    initialize: function Luxena_Travel_PartyReplaceForm$initialize() {
        this._args.mode = LxnBase.UI.LoadMode.local;
        this.get_window().title = '\u0417\u0430\u043c\u0435\u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430';
        this.get_window().setWidth(500);
        this.get_form().labelWidth = 120;
    },
    
    createControls: function Luxena_Travel_PartyReplaceForm$createControls() {
        this.get_form().add(this.mainDataPanel([ this._se$3.fromParty, this._se$3.toParty ]));
    },
    
    onSave: function Luxena_Travel_PartyReplaceForm$onSave() {
        var data = this.getData();
        Luxena.Travel.Services.PartyService.Replace(data['FromParty'], data['ToParty'], ss.Delegate.create(this, function(result) {
            var count = result;
            LxnBase.MessageRegister.info(this.get_window().title, '\u0411\u044b\u043b\u043e \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u043e ' + count + ' \u0437\u0430\u043f\u0438\u0441\u0435\u0439');
            this.completeSave(result);
        }), null);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyReplaceParams

Luxena.Travel.PartyReplaceParams = function Luxena_Travel_PartyReplaceParams() {
    this.fromParty = Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442').reference('Party').required();
    this.toParty = Luxena.Travel.SemanticEntity.get_member().title('\u043d\u0430').reference('Party').required();
    Luxena.Travel.PartyReplaceParams.initializeBase(this);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyListTab

Luxena.Travel.PartyListTab = function Luxena_Travel_PartyListTab(tabId, args) {
    Luxena.Travel.PartyListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.PartyListTab.prototype = {
    
    onAddToolbarButtons: function Luxena_Travel_PartyListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._replaceActionStatus$10 = this.getOperationStatus('PartyReplace');
        if (!this._replaceActionStatus$10.Visible) {
            return;
        }
    },
    
    _replace$10: function Luxena_Travel_PartyListTab$_replace$10() {
        var record = (this.get_autoGrid().get_selectionModel().getSelections())[0];
        LxnBase.UI.FormsRegistry.editObject('PartyReplace', null, { FromParty: record.id }, null, null);
    },
    
    onSelectionChange: function Luxena_Travel_PartyListTab$onSelectionChange(model) {
        if (ss.isValue(this._replaceAction$10) && !this._replaceActionStatus$10.IsDisabled) {
            this._replaceAction$10.setDisabled((model).getCount() !== 1);
        }
    },
    
    _replaceAction$10: null,
    _replaceActionStatus$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyEditForm

Luxena.Travel.PartyEditForm = function Luxena_Travel_PartyEditForm() {
    Luxena.Travel.PartyEditForm.initializeBase(this);
}
Luxena.Travel.PartyEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_PartyEditForm$preInitialize() {
        Luxena.Travel.PartyEditForm.callBaseMethod(this, 'preInitialize');
        this.get_window().cls += ' aviaDocument-edit tabbed';
        this.get_form().cls = 'tabbed';
        this.get_form().labelWidth = 140;
        this.get_window().width = -3;
    },
    
    addressPanel: function Luxena_Travel_PartyEditForm$addressPanel(se, height) {
        var itemHeight = height / 3 - 40;
        return this.tabMainPane(Luxena.Travel.DomainRes.common_Addresses, [ se.ActualAddress.setEditor(-3, function(m) {
            m.height(itemHeight);
        }), se.LegalAddress.setEditor(-3, function(m) {
            m.height(itemHeight);
        }), se.Details.setEditor(-3, function(m) {
            m.height(itemHeight);
        }), se.InvoiceSuffix ]);
    },
    
    bonusPanel: function Luxena_Travel_PartyEditForm$bonusPanel(se) {
        return this.tabMainPane('\u0411\u043e\u043d\u0443\u0441\u044b', [ this.emptyRow(), se.BonusCardNumber.toField(-1), se.BonusAmount ]);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationViewForm

Luxena.Travel.AccommodationViewForm = function Luxena_Travel_AccommodationViewForm(tabId, id, type) {
    Luxena.Travel.AccommodationViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.AccommodationViewForm.viewObject = function Luxena_Travel_AccommodationViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.AccommodationViewForm, type, id, newTab);
}
Luxena.Travel.AccommodationViewForm.prototype = {
    
    getClassName: function Luxena_Travel_AccommodationViewForm$getClassName() {
        return 'Accommodation';
    },
    
    getClassTitle: function Luxena_Travel_AccommodationViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.accommodation;
    },
    
    getCommonDataHtml: function Luxena_Travel_AccommodationViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Accommodation;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.StartDate.toHtmlTr2(this._r$8) + v.FinishDate.toHtmlTr2(this._r$8) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + v.Provider.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_AccommodationViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_AccommodationViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FlightSegmentGridControl

Luxena.Travel.FlightSegmentGridControl = function Luxena_Travel_FlightSegmentGridControl() {
    this.initialize();
}
Luxena.Travel.FlightSegmentGridControl._initColumnModel = function Luxena_Travel_FlightSegmentGridControl$_initColumnModel() {
    var columnModelConfig = [];
    columnModelConfig.add({ id: 'Position', header: '#', sortable: false, dataIndex: 'Position', width: 40 });
    columnModelConfig.add({ id: 'FromAirport', header: Luxena.Travel.DomainRes.flightSegment_FromAirportName, sortable: false, dataIndex: 'FromAirport', width: 80, renderer: Luxena.Travel.FlightSegmentGridControl._renderObjectInfoToString });
    columnModelConfig.add({ id: 'ToAirport', header: Luxena.Travel.DomainRes.flightSegment_ToAirportName, sortable: false, dataIndex: 'ToAirport', width: 68, renderer: Luxena.Travel.FlightSegmentGridControl._renderObjectInfoToString });
    columnModelConfig.add({ id: 'Carrier', header: Luxena.Travel.DomainRes.flightSegment_Carrier, sortable: false, dataIndex: 'Carrier', width: 72, renderer: Luxena.Travel.FlightSegmentGridControl._renderObjectInfoToString });
    columnModelConfig.add({ id: 'FlightNumber', header: Luxena.Travel.DomainRes.flightSegment_FlightNumber, sortable: false, dataIndex: 'FlightNumber', width: 33 });
    columnModelConfig.add({ id: 'Seat', header: Luxena.Travel.DomainRes.flightSegment_Seat, sortable: false, dataIndex: 'Seat', width: 40 });
    columnModelConfig.add({ id: 'ServiceClassCode', header: Luxena.Travel.DomainRes.flightSegment_ServiceClass, sortable: false, dataIndex: 'ServiceClassCode', width: 40 });
    columnModelConfig.add({ id: 'Equipment', header: '\u0422\u0438\u043f \u0441\u0443\u0434\u043d\u0430', sortable: false, dataIndex: 'Equipment', width: 72, renderer: Luxena.Travel.FlightSegmentGridControl._renderObjectInfoToString });
    var dateTimeConfig = new LxnBase.Services.DateTimeColumnConfig();
    dateTimeConfig.Type = LxnBase.Services.TypeEnum.date;
    columnModelConfig.add({ id: 'DepartureTime', header: Luxena.Travel.DomainRes.flightSegment_DepartureTime, sortable: false, dataIndex: 'DepartureTime', width: 78, renderer: Luxena.Travel.FlightSegmentGridControl._renderDateTime });
    columnModelConfig.add({ id: 'CheckInTime', header: Luxena.Travel.Res.flightSegment_Registration, sortable: false, dataIndex: 'CheckInTime', width: 75 });
    columnModelConfig.add({ id: 'ArrivalTime', header: Luxena.Travel.DomainRes.flightSegment_ArrivalTime, sortable: false, dataIndex: 'ArrivalTime', width: 78, renderer: Luxena.Travel.FlightSegmentGridControl._renderDateTime });
    columnModelConfig.add({ id: 'Duration', header: Luxena.Travel.DomainRes.flightSegment_Duration, sortable: false, dataIndex: 'Duration', width: 51 });
    columnModelConfig.add({ id: 'FareBasis', header: Luxena.Travel.DomainRes.flightSegment_FareBasis, sortable: false, dataIndex: 'FareBasis', width: 51 });
    columnModelConfig.add({ id: 'NumberOfStops', header: Luxena.Travel.DomainRes.flightSegment_NumberOfStops, sortable: false, dataIndex: 'NumberOfStops', width: 65 });
    columnModelConfig.add({ id: 'Luggage', header: Luxena.Travel.DomainRes.flightSegment_Luggage, sortable: false, dataIndex: 'Luggage', width: 40 });
    columnModelConfig.add({ id: 'Type', header: '\u0422\u0438\u043f', sortable: false, dataIndex: 'Type', width: 40 });
    return new Ext.grid.ColumnModel(columnModelConfig);
}
Luxena.Travel.FlightSegmentGridControl._renderDateTime = function Luxena_Travel_FlightSegmentGridControl$_renderDateTime(value) {
    return Ext.util.Format.date(value, 'd.m.y H:i');
}
Luxena.Travel.FlightSegmentGridControl._renderObjectInfoToString = function Luxena_Travel_FlightSegmentGridControl$_renderObjectInfoToString(value) {
    if (!ss.isValue(value)) {
        return null;
    }
    if (ss.isValue((value).Name)) {
        return (value).Name;
    }
    return (value)[1];
}
Luxena.Travel.FlightSegmentGridControl.prototype = {
    
    get_widget: function Luxena_Travel_FlightSegmentGridControl$get_widget() {
        return this._grid;
    },
    
    loadData: function Luxena_Travel_FlightSegmentGridControl$loadData(data) {
        this._items = data;
        if (this._items != null && this._items.length > 0) {
            this._grid.getStore().loadData(this._items);
        }
    },
    
    initialize: function Luxena_Travel_FlightSegmentGridControl$initialize() {
        this._grid = new Ext.grid.EditorGridPanel(new Ext.grid.EditorGridPanelConfig().store(this.initStore()).cls('segments-grid').sm(this._initSelectionModel()).cm(Luxena.Travel.FlightSegmentGridControl._initColumnModel()).tbar(this._initToolbar()).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).height(115).clicksToEdit(2).collapsible(false).frame(false).toDictionary());
    },
    
    isModified: function Luxena_Travel_FlightSegmentGridControl$isModified() {
        return this._isModified;
    },
    
    getData: function Luxena_Travel_FlightSegmentGridControl$getData() {
        return this.getFlightSegments();
    },
    
    getFlightSegments: function Luxena_Travel_FlightSegmentGridControl$getFlightSegments() {
        var count = this._store.getCount();
        if (!count) {
            return new Array(0);
        }
        var dtos = new Array(count);
        for (var i = 0; i < count; i++) {
            dtos[i] = this._store.getAt(i).data;
            dtos[i].Position = i;
        }
        return dtos;
    },
    
    initStore: function Luxena_Travel_FlightSegmentGridControl$initStore() {
        this._store = new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Version', 'Position', 'FromAirport', 'FromAirportName', 'ToAirport', 'ToAirportName', 'CarrierCode', 'Carrier', 'Operator', 'FlightNumber', 'Seat', 'Equipment', 'ServiceClassCode', 'ServiceClass', 'DepartureTime', 'CheckInTerminal', 'CheckInTime', 'ArrivalTime', 'ArrivalTerminal', 'NumberOfStops', 'Luggage', 'Duration', 'FareBasis', 'Stopover', 'Type', 'MealTypes' ]).listeners({ update: ss.Delegate.create(this, function(store, record, operation) {
            if (operation === Ext.data.Record.EDIT) {
                record.commit();
                this._isModified = true;
            }
        }) }).toDictionary());
        return this._store;
    },
    
    _initToolbar: function Luxena_Travel_FlightSegmentGridControl$_initToolbar() {
        this._createAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.createItem_Lower).handler(ss.Delegate.create(this, this._createItem)));
        this._editAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this, this._editItem)).disabled(true));
        this._deleteAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeItem)).disabled(true));
        this._upAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text('\u0432\u0432\u0435\u0440\u0445').disabled(true).handler(ss.Delegate.create(this, this._up)));
        this._downAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text('\u0432\u043d\u0438\u0437').disabled(true).handler(ss.Delegate.create(this, this._down)));
        return new Ext.Toolbar([ '->', this._upAction, this._downAction, this._createAction, this._editAction, this._deleteAction ]);
    },
    
    _initSelectionModel: function Luxena_Travel_FlightSegmentGridControl$_initSelectionModel() {
        this._selectionModel = new Ext.grid.CheckboxSelectionModel();
        this._selectionModel.singleSelect = false;
        this._selectionModel.on('selectionchange', ss.Delegate.create(this, function() {
            if (!this._selectionModel.getCount()) {
                this._deleteAction.disable();
                this._upAction.disable();
                this._downAction.disable();
            }
            else {
                this._deleteAction.enable();
                var record = this._selectionModel.getSelected();
                this._upAction.enable();
                this._downAction.enable();
                var position = (record.data)['Position'];
                if (!position) {
                    this._upAction.disable();
                }
                if (position === this._items.length - 1) {
                    this._downAction.disable();
                }
            }
            if (this._selectionModel.getCount() !== 1) {
                this._editAction.disable();
            }
            else {
                this._editAction.enable();
            }
        }));
        return this._selectionModel;
    },
    
    _createItem: function Luxena_Travel_FlightSegmentGridControl$_createItem() {
        LxnBase.UI.FormsRegistry.editObject('FlightSegment', null, null, ss.Delegate.create(this, function(result) {
            var record = new Ext.data.Record();
            record.data = (result).Item;
            record.fields = this._store.fields;
            this._store.add([ record ]);
            this._isModified = true;
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _editItem: function Luxena_Travel_FlightSegmentGridControl$_editItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var record = this._selectionModel.getSelected();
        var data = record.data;
        LxnBase.UI.FormsRegistry.editObject('FlightSegment', data['Id'], data, ss.Delegate.create(this, function(result) {
            this._updateRecord((result).Item, record);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _removeItem: function Luxena_Travel_FlightSegmentGridControl$_removeItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var selected = this._selectionModel.getSelections();
        var $enum1 = ss.IEnumerator.getEnumerator(selected);
        while ($enum1.moveNext()) {
            var a = $enum1.current;
            this._store.remove(a);
        }
        this._isModified = true;
    },
    
    _updateRecord: function Luxena_Travel_FlightSegmentGridControl$_updateRecord(obj, record) {
        var recordFields = record.fields.getRange();
        var $enum1 = ss.IEnumerator.getEnumerator(recordFields);
        while ($enum1.moveNext()) {
            var field = $enum1.current;
            var name = field.name;
            var value = obj[name];
            if (!ss.isUndefined(value)) {
                record.data[name] = value;
            }
        }
        record.commit();
        this._isModified = true;
    },
    
    handleKeyEvent: function Luxena_Travel_FlightSegmentGridControl$handleKeyEvent(keyEvent) {
        var eventDictionary = Ext.EventObject;
        var key = keyEvent.keyCode;
        var isAdditionalKey = keyEvent.ctrlKey || keyEvent.shiftKey || keyEvent.altKey;
        var isCtrlKey = keyEvent.ctrlKey && !keyEvent.shiftKey && !keyEvent.altKey;
        if (key === eventDictionary['UP']) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['DOWN'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['F2'] && !isAdditionalKey) {
            if (this._selectionModel.getSelections().length !== 1) {
                return true;
            }
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._grid.startEditing(this._store.indexOf(this._selectionModel.getSelected()), 1);
            return true;
        }
        if (key === eventDictionary['ESC']) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['INSERT'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._createItem();
            return true;
        }
        if (key === eventDictionary['ENTER'] && !keyEvent.ctrlKey && keyEvent.shiftKey && !keyEvent.altKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            if (!this._selectionModel.getSelections().length) {
                return true;
            }
            this._editItem();
            return true;
        }
        if (key === eventDictionary['DELETE'] && isCtrlKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._removeItem();
            return true;
        }
        if (key === eventDictionary['HOME'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._selectionModel.selectRow(0);
            return true;
        }
        if (key === eventDictionary['END'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._selectionModel.selectRow(this._store.getCount() - 1);
            return true;
        }
        return false;
    },
    
    _setFocus: function Luxena_Travel_FlightSegmentGridControl$_setFocus() {
        this._grid.getView().focusRow(0);
    },
    
    _up: function Luxena_Travel_FlightSegmentGridControl$_up() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var record = this._selectionModel.getSelected();
        var data = record.data;
        var position = data['Position'];
        var index = -1;
        for (var i = 0; i < this._items.length; i++) {
            if (this._items[i].Position === position) {
                index = i;
                break;
            }
        }
        if (index > 0) {
            var item = this._items[index];
            var item2 = this._items[index - 1];
            item.Position -= 1;
            item2.Position = item.Position + 1;
            this._items[index] = item2;
            this._items[index - 1] = item;
            this._grid.getStore().loadData(this._items);
            this._isModified = true;
        }
    },
    
    _down: function Luxena_Travel_FlightSegmentGridControl$_down() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var record = this._selectionModel.getSelected();
        var data = record.data;
        var position = data['Position'];
        var index = -1;
        for (var i = 0; i < this._items.length; i++) {
            if (this._items[i].Position === position) {
                index = i;
                break;
            }
        }
        if (index > -1 && index < this._items.length - 1) {
            var item = this._items[index];
            var item2 = this._items[index + 1];
            item.Position += 1;
            item2.Position = item.Position - 1;
            this._items[index] = item2;
            this._items[index + 1] = item;
            this._grid.getStore().loadData(this._items);
            this._isModified = true;
        }
    },
    
    _items: null,
    _grid: null,
    _store: null,
    _selectionModel: null,
    _createAction: null,
    _editAction: null,
    _deleteAction: null,
    _upAction: null,
    _downAction: null,
    _isModified: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsFileEditForm

Luxena.Travel.GdsFileEditForm = function Luxena_Travel_GdsFileEditForm() {
    Luxena.Travel.GdsFileEditForm.initializeBase(this);
}
Luxena.Travel.GdsFileEditForm.prototype = {
    
    preInitialize: function Luxena_Travel_GdsFileEditForm$preInitialize() {
        Luxena.Travel.GdsFileEditForm.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$4 = this.dsm.GdsFile;
    },
    
    createControls: function Luxena_Travel_GdsFileEditForm$createControls() {
        this.get_window().width = -3;
        this.get_form().labelWidth = 150;
        this.get_form().add(this.mainDataPanel([ this._se$4.Name.toField(-3), this._se$4.FileType, this.emptyRow(), this._se$4.Content.toField(-3, function(m) {
        }), this._se$4.TimeStamp, this.emptyRow(), this._se$4.ImportResult.toField(-3), this._se$4.ImportOutput.toField(-3) ]));
    },
    
    _se$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CarRentalViewForm

Luxena.Travel.CarRentalViewForm = function Luxena_Travel_CarRentalViewForm(tabId, id, type) {
    Luxena.Travel.CarRentalViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.CarRentalViewForm.viewObject = function Luxena_Travel_CarRentalViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.CarRentalViewForm, type, id, newTab);
}
Luxena.Travel.CarRentalViewForm.prototype = {
    
    getClassName: function Luxena_Travel_CarRentalViewForm$getClassName() {
        return 'CarRental';
    },
    
    getClassTitle: function Luxena_Travel_CarRentalViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.carRental;
    },
    
    getCommonDataHtml: function Luxena_Travel_CarRentalViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).CarRental;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.StartDate.toHtmlTr2(this._r$8) + v.FinishDate.toHtmlTr2(this._r$8) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + v.Provider.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_CarRentalViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_CarRentalViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketRefundEditForm

Luxena.Travel.BusTicketRefundEditForm = function Luxena_Travel_BusTicketRefundEditForm() {
    Luxena.Travel.BusTicketRefundEditForm.initializeBase(this);
}
Luxena.Travel.BusTicketRefundEditForm.prototype = {
    
    get_className: function Luxena_Travel_BusTicketRefundEditForm$get_className() {
        return 'BusTicketRefund';
    },
    
    get_isRefund: function Luxena_Travel_BusTicketRefundEditForm$get_isRefund() {
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketViewForm

Luxena.Travel.BusTicketViewForm = function Luxena_Travel_BusTicketViewForm(tabId, id, type) {
    Luxena.Travel.BusTicketViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.BusTicketViewForm.viewObject = function Luxena_Travel_BusTicketViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.BusTicketViewForm, type, id, newTab);
}
Luxena.Travel.BusTicketViewForm.prototype = {
    
    getClassName: function Luxena_Travel_BusTicketViewForm$getClassName() {
        return 'BusTicket';
    },
    
    getClassTitle: function Luxena_Travel_BusTicketViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.busTicket;
    },
    
    getCommonDataHtml: function Luxena_Travel_BusTicketViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).BusTicket;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.Number.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengerHtml(this._r$8.Passenger, this._r$8.PassengerName) + v.Provider.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + Luxena.Travel.ProductViewForm.getOriginHtml(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    addRefund: function Luxena_Travel_BusTicketViewForm$addRefund() {
        this.stdAddRefund(this._r$8, 'BusTicketRefund', [ 'PassengerName', 'Passenger', 'Provider', 'Number', 'DeparturePlace', 'DepartureDate', 'DepartureTime', 'ArrivalPlace', 'ArrivalDate', 'ArrivalTime', 'SeatNumber' ]);
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_BusTicketViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_BusTicketViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketRefundViewForm

Luxena.Travel.BusTicketRefundViewForm = function Luxena_Travel_BusTicketRefundViewForm(tabId, id, type) {
    Luxena.Travel.BusTicketRefundViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.BusTicketRefundViewForm.viewObject = function Luxena_Travel_BusTicketRefundViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.BusTicketRefundViewForm, type, id, newTab);
}
Luxena.Travel.BusTicketRefundViewForm.prototype = {
    
    getClassName: function Luxena_Travel_BusTicketRefundViewForm$getClassName() {
        return 'BusTicketRefund';
    },
    
    getClassTitle: function Luxena_Travel_BusTicketRefundViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.busTicketRefund;
    },
    
    get_isRefund: function Luxena_Travel_BusTicketRefundViewForm$get_isRefund() {
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductViewForm

Luxena.Travel.GenericProductViewForm = function Luxena_Travel_GenericProductViewForm(tabId, id, type) {
    Luxena.Travel.GenericProductViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.GenericProductViewForm.viewObject = function Luxena_Travel_GenericProductViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.GenericProductViewForm, type, id, newTab);
}
Luxena.Travel.GenericProductViewForm.prototype = {
    
    getClassName: function Luxena_Travel_GenericProductViewForm$getClassName() {
        return 'GenericProduct';
    },
    
    getClassTitle: function Luxena_Travel_GenericProductViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.genericProduct;
    },
    
    getCommonDataHtml: function Luxena_Travel_GenericProductViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).GenericProduct;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + v.Provider.toHtmlTr2(this._r$8) + v.StartDate.toHtmlTr2(this._r$8) + v.FinishDate.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_GenericProductViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_GenericProductViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceRefundEditForm

Luxena.Travel.InsuranceRefundEditForm = function Luxena_Travel_InsuranceRefundEditForm() {
    Luxena.Travel.InsuranceRefundEditForm.initializeBase(this);
}
Luxena.Travel.InsuranceRefundEditForm.prototype = {
    
    get_className: function Luxena_Travel_InsuranceRefundEditForm$get_className() {
        return 'InsuranceRefund';
    },
    
    get_isRefund: function Luxena_Travel_InsuranceRefundEditForm$get_isRefund() {
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceViewForm

Luxena.Travel.InsuranceViewForm = function Luxena_Travel_InsuranceViewForm(tabId, id, type) {
    Luxena.Travel.InsuranceViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.InsuranceViewForm.viewObject = function Luxena_Travel_InsuranceViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.InsuranceViewForm, type, id, newTab);
}
Luxena.Travel.InsuranceViewForm.prototype = {
    
    getClassName: function Luxena_Travel_InsuranceViewForm$getClassName() {
        return 'Insurance';
    },
    
    getClassTitle: function Luxena_Travel_InsuranceViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.insurance;
    },
    
    getCommonDataHtml: function Luxena_Travel_InsuranceViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Insurance;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + v.Producer.toHtmlTr2(this._r$8) + v.Provider.toHtmlTr2(this._r$8) + v.StartDate.toHtmlTr2(this._r$8) + v.FinishDate.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    addRefund: function Luxena_Travel_InsuranceViewForm$addRefund() {
        this.stdAddRefund(this._r$8, 'InsuranceRefund', [ 'PassengerName', 'Passengers', 'Producer', 'Provider', 'Number', 'StartDate', 'FinishDate', 'Country' ]);
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_InsuranceViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_InsuranceViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceRefundViewForm

Luxena.Travel.InsuranceRefundViewForm = function Luxena_Travel_InsuranceRefundViewForm(tabId, id, type) {
    Luxena.Travel.InsuranceRefundViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.InsuranceRefundViewForm.viewObject = function Luxena_Travel_InsuranceRefundViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.InsuranceRefundViewForm, type, id, newTab);
}
Luxena.Travel.InsuranceRefundViewForm.prototype = {
    
    getClassName: function Luxena_Travel_InsuranceRefundViewForm$getClassName() {
        return 'InsuranceRefund';
    },
    
    getClassTitle: function Luxena_Travel_InsuranceRefundViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.insuranceRefund;
    },
    
    get_isRefund: function Luxena_Travel_InsuranceRefundViewForm$get_isRefund() {
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AllProductListTab

Luxena.Travel.AllProductListTab = function Luxena_Travel_AllProductListTab(tabId, args) {
    Luxena.Travel.AllProductListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AllProductListTab.listObject = function Luxena_Travel_AllProductListTab$listObject(args, newTab) {
    Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType(Luxena.Travel.AllProductListTab, args, newTab);
}
Luxena.Travel.AllProductListTab.prototype = {
    
    onInitGrid: function Luxena_Travel_AllProductListTab$onInitGrid(args, config) {
        Luxena.Travel.AllProductListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'RequiresProcessing', 'IsVoid' ];
    },
    
    createCustomColumnConfigs: function Luxena_Travel_AllProductListTab$createCustomColumnConfigs() {
        var sd = new Luxena.Travel.SemanticDomain(this);
        var se = sd.Product;
        this.addColumns([ se.Name, se.PassengerName, sd.AviaDocument.Producer, se.Provider, se.Country.toColumn(true), se.PnrCode.toColumn(true), se.TourCode.toColumn(true), sd.AviaDocument.TicketingIataOffice ]);
    },
    
    handleAltEnterPress: function Luxena_Travel_AllProductListTab$handleAltEnterPress() {
        if (!!this.get_autoGrid().get_selectionModel().getSelections().length) {
            this._tryProcess$11();
        }
    },
    
    onAddToolbarButtons: function Luxena_Travel_AllProductListTab$onAddToolbarButtons(toolbarItems, grid) {
        if (this.get_listConfig().IsEditAllowed.Visible) {
            this._handleButton$11 = this.action(Luxena.Travel.Res.aviaDocument_Handle_Action.toLowerCase(), ss.Delegate.create(this, this._tryProcess$11), true, this.get_listConfig().IsEditAllowed.DisableInfo);
            this._printButton$11 = this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(), ss.Delegate.create(this, this._printDocuments$11), true);
            this.menuAction(LxnBase.BaseRes.createItem_Lower, [ this.menuCreateItem(Luxena.Travel.DomainRes.aviaTicket, 'AviaTicket'), this.menuCreateItem(Luxena.Travel.DomainRes.aviaMco, 'AviaMco'), this.menuCreateItem(Luxena.Travel.DomainRes.aviaRefund, 'AviaRefund'), Luxena.Travel.AppActions.aviaConsoleParser, '-', this.menuCreateItem(Luxena.Travel.DomainRes.busTicket, 'BusTicket'), this.menuCreateItem(Luxena.Travel.DomainRes.carRental, 'CarRental'), this.menuCreateItem(Luxena.Travel.DomainRes.pasteboard, 'Pasteboard'), this.menuCreateItem(Luxena.Travel.DomainRes.accommodation, 'Accommodation'), this.menuCreateItem(Luxena.Travel.DomainRes.insurance, 'Insurance'), this.menuCreateItem(Luxena.Travel.DomainRes.isic, 'Isic'), this.menuCreateItem(Luxena.Travel.DomainRes.simCard, 'SimCard'), this.menuCreateItem(Luxena.Travel.DomainRes.transfer, 'Transfer'), this.menuCreateItem(Luxena.Travel.DomainRes.tour, 'Tour'), this.menuCreateItem(Luxena.Travel.DomainRes.excursion, 'Excursion'), '-', this.menuCreateItem(Luxena.Travel.DomainRes.genericProduct, 'GenericProduct') ]);
        }
        this.createStdToolbarActions();
        if (grid != null) {
            if (toolbarItems.contains(grid.get_createAction())) {
                toolbarItems.remove(grid.get_createAction());
            }
            if (toolbarItems.contains(grid.get_exportAction())) {
                toolbarItems.remove(grid.get_exportAction());
            }
        }
        toolbarItems.insertRange(0, this.toolbarActions);
    },
    
    onRowChange: function Luxena_Travel_AllProductListTab$onRowChange(selections) {
        Luxena.Travel.AllProductListTab.callBaseMethod(this, 'onRowChange', [ selections ]);
        if (this._handleButton$11 != null && !this.get_listConfig().IsEditAllowed.IsDisabled) {
            this._handleButton$11.setDisabled(selections.length !== 1);
        }
        this._printButton$11.setDisabled(!selections.length || !this.isTickets);
    },
    
    _tryProcess$11: function Luxena_Travel_AllProductListTab$_tryProcess$11() {
        var record = this.get_autoGrid().get_selectionModel().getSelected();
        var type = record.data[LxnBase.Data.ObjectPropertyNames.objectClass];
        if (type === 'AviaMco' || type === 'AviaRefund' || type === 'AviaTicket') {
            Luxena.Travel.AviaDocumentListTab.baseTryProcess(this.get_autoGrid(), this._baseParams, null);
        }
        else {
            this.get_autoGrid().edit();
        }
    },
    
    _printDocuments$11: function Luxena_Travel_AllProductListTab$_printDocuments$11() {
        var value = JSON.stringify(this.getSelectedIds());
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/ticket/Tickets_{0}.pdf', Date.get_now().format('Y-m-d_H-i-s')), { tickets: value });
    },
    
    _handleButton$11: null,
    _printButton$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TransferViewForm

Luxena.Travel.TransferViewForm = function Luxena_Travel_TransferViewForm(tabId, id, type) {
    Luxena.Travel.TransferViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.TransferViewForm.viewObject = function Luxena_Travel_TransferViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.TransferViewForm, type, id, newTab);
}
Luxena.Travel.TransferViewForm.prototype = {
    
    getClassName: function Luxena_Travel_TransferViewForm$getClassName() {
        return 'Transfer';
    },
    
    getClassTitle: function Luxena_Travel_TransferViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.transfer;
    },
    
    getCommonDataHtml: function Luxena_Travel_TransferViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Transfer;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.StartDate.toHtmlTr2(this._r$8) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_TransferViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_TransferViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TourViewForm

Luxena.Travel.TourViewForm = function Luxena_Travel_TourViewForm(tabId, id, type) {
    Luxena.Travel.TourViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.TourViewForm.viewObject = function Luxena_Travel_TourViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.TourViewForm, type, id, newTab);
}
Luxena.Travel.TourViewForm.prototype = {
    
    getClassName: function Luxena_Travel_TourViewForm$getClassName() {
        return 'Tour';
    },
    
    getClassTitle: function Luxena_Travel_TourViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.tour;
    },
    
    getCommonDataHtml: function Luxena_Travel_TourViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Tour;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.StartDate.toHtmlTr2(this._r$8) + v.FinishDate.toHtmlTr2(this._r$8) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + v.Provider.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_TourViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_TourViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ExcursionViewForm

Luxena.Travel.ExcursionViewForm = function Luxena_Travel_ExcursionViewForm(tabId, id, type) {
    Luxena.Travel.ExcursionViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.ExcursionViewForm.viewObject = function Luxena_Travel_ExcursionViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.ExcursionViewForm, type, id, newTab);
}
Luxena.Travel.ExcursionViewForm.prototype = {
    
    getClassName: function Luxena_Travel_ExcursionViewForm$getClassName() {
        return 'Excursion';
    },
    
    getClassTitle: function Luxena_Travel_ExcursionViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.excursion;
    },
    
    getCommonDataHtml: function Luxena_Travel_ExcursionViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Excursion;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.StartDate.toHtmlTr2(this._r$8) + v.FinishDate.toHtmlTr2(this._r$8) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengersHtml(this._r$8.Passengers) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.TourName.toHtmlTr2(this._r$8) + v.Country.toHtmlTr2(this._r$8) + v.TourCode.toHtmlTr2(this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_ExcursionViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_ExcursionViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IsicViewForm

Luxena.Travel.IsicViewForm = function Luxena_Travel_IsicViewForm(tabId, id, type) {
    Luxena.Travel.IsicViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.IsicViewForm.viewObject = function Luxena_Travel_IsicViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.IsicViewForm, type, id, newTab);
}
Luxena.Travel.IsicViewForm.prototype = {
    
    getClassName: function Luxena_Travel_IsicViewForm$getClassName() {
        return 'Isic';
    },
    
    getClassTitle: function Luxena_Travel_IsicViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.isic;
    },
    
    getCommonDataHtml: function Luxena_Travel_IsicViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Isic;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.CardType.toHtmlTr2(this._r$8, true) + v.Name.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengerHtml(this._r$8.Passenger, this._r$8.PassengerName) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_IsicViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_IsicViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductPassengerGridControl

Luxena.Travel.ProductPassengerGridControl = function Luxena_Travel_ProductPassengerGridControl(width, height) {
    Luxena.Travel.ProductPassengerGridControl.initializeBase(this, [ new Ext.grid.EditorGridPanelConfig().cls('invoce-records').width(width).height(height).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).collapsible(false).frame(false).toDictionary() ]);
}
Luxena.Travel.ProductPassengerGridControl._storeSearchFunc$7 = function Luxena_Travel_ProductPassengerGridControl$_storeSearchFunc$7(oldItem, newItem) {
    return !ss.isNullOrUndefined(oldItem) && !ss.isNullOrUndefined(newItem) && oldItem.PassengerName === newItem.PassengerName && (!ss.isNullOrUndefined(oldItem.Passenger) && !ss.isNullOrUndefined(newItem.Passenger) || oldItem.Passenger.Id === newItem.Passenger.Id);
}
Luxena.Travel.ProductPassengerGridControl.prototype = {
    
    initComponent: function Luxena_Travel_ProductPassengerGridControl$initComponent() {
        this.store = this._initStore$7();
        this.sm = this._initSelectionModel$7();
        this.cm = this._initColumnModel$7();
        this.tbar = this._initToolbar$7();
        Luxena.Travel.ProductPassengerGridControl.callBaseMethod(this, 'initComponent');
    },
    
    get_isModified: function Luxena_Travel_ProductPassengerGridControl$get_isModified() {
        return this._isModified$7;
    },
    
    get_items: function Luxena_Travel_ProductPassengerGridControl$get_items() {
        var result = new Array(0);
        for (var i = 0; i < this.store.data.length; i++) {
            result[i] = this.store.getAt(i).data;
        }
        return result;
    },
    set_items: function Luxena_Travel_ProductPassengerGridControl$set_items(value) {
        var $enum1 = ss.IEnumerator.getEnumerator(value);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            var record = new Ext.data.Record(dto);
            this._store$7.add([ record ]);
        }
        return value;
    },
    
    setInitialData: function Luxena_Travel_ProductPassengerGridControl$setInitialData(form, passengers) {
        if (passengers == null || passengers.length <= 0) {
            return;
        }
        if (form.get_args().isCopy || form.get_args().get_isNew()) {
            var $enum1 = ss.IEnumerator.getEnumerator(passengers);
            while ($enum1.moveNext()) {
                var passenger = $enum1.current;
                passenger.Id = null;
                passenger.Version = 0;
            }
        }
        this._store$7.loadData(passengers);
    },
    
    _initToolbar$7: function Luxena_Travel_ProductPassengerGridControl$_initToolbar$7() {
        var addButton = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add.toLowerCase()).handler(ss.Delegate.create(this, this._createItem$7)));
        this._editButton$7 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this, this._editItem$7)).disabled(true));
        this._removeButton$7 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeItem$7)).disabled(true));
        return new Ext.Toolbar([ '->', addButton, this._editButton$7, this._removeButton$7 ]);
    },
    
    _initStore$7: function Luxena_Travel_ProductPassengerGridControl$_initStore$7() {
        this._store$7 = new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'PassengerName', 'Passenger' ]).toDictionary());
        return this._store$7;
    },
    
    _initSelectionModel$7: function Luxena_Travel_ProductPassengerGridControl$_initSelectionModel$7() {
        this._selectionModel$7 = new Ext.grid.CheckboxSelectionModel();
        this._selectionModel$7.singleSelect = false;
        this._selectionModel$7.on('selectionchange', ss.Delegate.create(this, function() {
            this._removeButton$7.setDisabled(!this._selectionModel$7.getCount());
            this._editButton$7.setDisabled(this._selectionModel$7.getCount() !== 1);
        }));
        return this._selectionModel$7;
    },
    
    _initColumnModel$7: function Luxena_Travel_ProductPassengerGridControl$_initColumnModel$7() {
        var columnModelConfig = [];
        if (!this._selectionModel$7.singleSelect) {
            columnModelConfig.insert(0, this._selectionModel$7);
        }
        columnModelConfig.add(new Ext.grid.RowNumberer({ header: Luxena.Travel.Res.common_ListNumber }));
        columnModelConfig.add({ id: 'PassengerName', header: Luxena.Travel.DomainRes.common_PassengerName, sortable: false, dataIndex: 'PassengerName', width: 270, renderer: Luxena.Travel.ProductSemantic.onePassengerNameRenderer2 });
        return new Ext.grid.ColumnModel(columnModelConfig);
    },
    
    _createItem$7: function Luxena_Travel_ProductPassengerGridControl$_createItem$7() {
        LxnBase.UI.FormsRegistry.editObject('ProductPassenger', null, null, ss.Delegate.create(this, function(result) {
            this._addItem$7((result).Item);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _editItem$7: function Luxena_Travel_ProductPassengerGridControl$_editItem$7() {
        if (!this._selectionModel$7.getCount()) {
            return;
        }
        var record = this._selectionModel$7.getSelected();
        var data_ = record.data;
        LxnBase.UI.FormsRegistry.editObject('ProductPassenger', data_.Id, data_, ss.Delegate.create(this, function(result) {
            this._updateItem$7((result).Item, record);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _updateItem$7: function Luxena_Travel_ProductPassengerGridControl$_updateItem$7(obj, record) {
        record.data = obj;
        record.commit();
        this._isModified$7 = true;
    },
    
    _removeItem$7: function Luxena_Travel_ProductPassengerGridControl$_removeItem$7() {
        if (!this._selectionModel$7.getCount()) {
            return;
        }
        var selected = this._selectionModel$7.getSelections();
        if (selected == null) {
            return;
        }
        var $enum1 = ss.IEnumerator.getEnumerator(selected);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            this._store$7.remove(r);
        }
        this._isModified$7 = true;
    },
    
    _addItem$7: function Luxena_Travel_ProductPassengerGridControl$_addItem$7(passenger) {
        if (passenger == null) {
            return;
        }
        if (this._store$7.findBy(function(rec, recordId) {
            return Luxena.Travel.ProductPassengerGridControl._storeSearchFunc$7(rec.data, passenger);
        }) !== -1) {
            return;
        }
        this._store$7.add([ new Ext.data.Record(passenger) ]);
        this._isModified$7 = true;
    },
    
    _isModified$7: false,
    _store$7: null,
    _selectionModel$7: null,
    _editButton$7: null,
    _removeButton$7: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SimCardViewForm

Luxena.Travel.SimCardViewForm = function Luxena_Travel_SimCardViewForm(tabId, id, type) {
    Luxena.Travel.SimCardViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.SimCardViewForm.viewObject = function Luxena_Travel_SimCardViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.SimCardViewForm, type, id, newTab);
}
Luxena.Travel.SimCardViewForm.prototype = {
    
    getClassName: function Luxena_Travel_SimCardViewForm$getClassName() {
        return 'SimCard';
    },
    
    getClassTitle: function Luxena_Travel_SimCardViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.simCard;
    },
    
    getCommonDataHtml: function Luxena_Travel_SimCardViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).SimCard;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.Number.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + v.Producer.toHtmlTr2(this._r$8, true) + v.IsSale.toHtmlTr2(this._r$8) + this.getPassengerHtml(this._r$8.Passenger, this._r$8.PassengerName) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_SimCardViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_SimCardViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductViewForm

Luxena.Travel.ProductViewForm = function Luxena_Travel_ProductViewForm(tabId, id, type) {
    Luxena.Travel.ProductViewForm.initializeBase(this, [ tabId, id, type, 'aviaDocumentView' ]);
}
Luxena.Travel.ProductViewForm.viewProduct = function Luxena_Travel_ProductViewForm$viewProduct(viewFormType, type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new viewFormType(tabId, id, type);
    });
}
Luxena.Travel.ProductViewForm.getOriginHtml = function Luxena_Travel_ProductViewForm$getOriginHtml(r) {
    return LxnBase.UI.BasicViewForm.hasValue(r.OriginString, function() {
        return "\r\n\t\t\t\t<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.aviaDocument_Origin + ":</td>\r\n\t\t\t\t<td class='fieldValue'>" + LxnBase.UI.BasicViewForm.link(r.OriginalDocument, LxnBase.UI.BasicViewForm.notEmpty(r.OriginString)) + '</td></tr>';
    });
}
Luxena.Travel.ProductViewForm.getBookerAndTicketerHtml = function Luxena_Travel_ProductViewForm$getBookerAndTicketerHtml(v, r) {
    var bookerStr = Luxena.Travel.ProductViewForm.getAgentStr(r.Booker, r.BookerOffice, r.BookerCode);
    var ticketerStr = Luxena.Travel.ProductViewForm.getAgentStr(r.Ticketer, r.TicketerOffice, r.TicketerCode);
    return LxnBase.UI.BasicViewForm.hasValue(bookerStr, function() {
        return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>" + v.Booker._title + ":</td>\r\n\t\t\t\t\t<td class='fieldValue'>" + bookerStr + '</td></tr>';
    }) + LxnBase.UI.BasicViewForm.hasValue(ticketerStr, function() {
        return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>" + v.Ticketer._title + ":</td>\r\n\t\t\t\t\t<td class='fieldValue'>" + ticketerStr + '</td></tr>';
    });
}
Luxena.Travel.ProductViewForm.getAgentStr = function Luxena_Travel_ProductViewForm$getAgentStr(person, office, code) {
    var str = null;
    if (!String.isNullOrEmpty(office) && !String.isNullOrEmpty(code)) {
        str = String.format('{0}-{1}', office, code);
    }
    else if (!String.isNullOrEmpty(office)) {
        str = office;
    }
    else if (!String.isNullOrEmpty(code)) {
        str = code;
    }
    if (ss.isValue(person) && ss.isValue(str)) {
        str = String.format('{0} ({1})', LxnBase.UI.BasicViewForm.link(person), str);
    }
    else if (ss.isValue(person)) {
        str = LxnBase.UI.BasicViewForm.link(person);
    }
    return str;
}
Luxena.Travel.ProductViewForm.prototype = {
    
    get_isRefund: function Luxena_Travel_ProductViewForm$get_isRefund() {
        return false;
    },
    
    onLoadFail: function Luxena_Travel_ProductViewForm$onLoadFail(e) {
        LxnBase.UI.Tabs.close(this);
    },
    
    createToolbarItems: function Luxena_Travel_ProductViewForm$createToolbarItems() {
        return this.createStdToolbarItems();
    },
    
    createStdToolbarItems: function Luxena_Travel_ProductViewForm$createStdToolbarItems() {
        var list = [];
        list.addRange([ this._voidButton = this.action(Luxena.Travel.Res.void_Action.toLowerCase(), ss.Delegate.create(this, this.toggleVoid)), this._addRefundButton = this.action(Luxena.Travel.Res.aviaDocument_AddRefund_Action.toLowerCase(), ss.Delegate.create(this, this.addRefund)), new Ext.Toolbar.Separator(), this._createOrderButton = this.menuAction(Luxena.Travel.Res.aviaDocument_AddToOrder.toLowerCase(), [ this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderNew.toLowerCase(), ss.Delegate.create(this, function() {
            this._createNewOrder$7();
        })), this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderExist.toLowerCase(), ss.Delegate.create(this, function() {
            this._tryAddToExistingOrder$7();
        })) ]), new Ext.Toolbar.Separator(), this._copyButton = this.action(LxnBase.BaseRes.copy.toLowerCase(), ss.Delegate.create(this, this.copyEntity)), this._editButton = this.action(LxnBase.BaseRes.edit.toLowerCase(), ss.Delegate.create(this, this._editEntity)), this._deleteButton = this.action(LxnBase.BaseRes.remove.toLowerCase(), ss.Delegate.create(this, this.removeEntity)) ]);
        return list;
    },
    
    loadInstance: function Luxena_Travel_ProductViewForm$loadInstance() {
        Luxena.Travel.Services.ProductService.getObject1(this.getClassName(), this._id, ss.Delegate.create(this, this.load), ss.Delegate.create(this, this.onLoadFail));
    },
    
    load: function Luxena_Travel_ProductViewForm$load(response) {
        this.stdLoad(response);
    },
    
    stdLoad: function Luxena_Travel_ProductViewForm$stdLoad(response) {
        this.set_product(response);
        this.preRender();
    },
    
    prepareButtons: function Luxena_Travel_ProductViewForm$prepareButtons() {
        if (!Luxena.Travel._productDto.isCanDelete(this.get_product())) {
            this._deleteButton.hide();
        }
        if (!Luxena.Travel._productDto.isCanUpdate(this.get_product())) {
            this._voidButton.setDisabled(true);
            this._editButton.setDisabled(true);
            this._copyButton.setDisabled(true);
            this._createOrderButton.setDisabled(true);
        }
        else {
            this._createOrderButton.setDisabled(this.get_product().IsVoid);
        }
        if (this.get_product().IsRefund) {
            this._addRefundButton.hide();
        }
        else if (ss.isValue(this.get_product().Refund)) {
            this._addRefundButton.setDisabled(true);
        }
    },
    
    preRender: function Luxena_Travel_ProductViewForm$preRender() {
        var r = this.get_product();
        if (ss.isNullOrUndefined(r)) {
            return;
        }
        this.prepareButtons();
        this.setTitle(r.Name || this.getClassTitle());
        this._titleLabel.setText(this.getTitle());
        this._titleLabel.removeClass('processed');
        this._titleLabel.removeClass('unprocessed');
        this._titleLabel.removeClass('voided');
        this._voidButton.setText(Luxena.Travel.Res.void_Action.toLowerCase());
        if (r.RequiresProcessing) {
            this._titleLabel.addClass('unprocessed');
        }
        else if (r.IsVoid) {
            this._titleLabel.addClass('voided');
            this._voidButton.setText(Luxena.Travel.Res.restore_Action.toLowerCase());
        }
        else {
            this._titleLabel.addClass('processed');
        }
        this._contentPanel.body.dom.innerHTML = this.getFullHtml();
    },
    
    getTitle: function Luxena_Travel_ProductViewForm$getTitle() {
        return this.getProductTitle(this.getClassTitle());
    },
    
    getProductTitle: function Luxena_Travel_ProductViewForm$getProductTitle(classTitle) {
        var r = this.get_product();
        var caption = classTitle;
        var status = (r.RequiresProcessing) ? Luxena.Travel.Res.aviaDocument_Unprocessed : ((r.IsVoid) ? Luxena.Travel.Res.aviaDocument_Voided : Luxena.Travel.Res.aviaDocument_Processed);
        caption = String.format('{0} ({1})', caption, status.toLowerCase());
        if (ss.isNullOrUndefined(r.Name)) {
            caption = String.format('{0} - {1}', caption, Luxena.Travel.Res.aviaDocument_NotIssued);
        }
        return caption;
    },
    
    _createNewOrder$7: function Luxena_Travel_ProductViewForm$_createNewOrder$7() {
        var values = { AviaDocuments: [ this.get_product().Id ] };
        values['SeparateServiceFee'] = true;
        LxnBase.UI.FormsRegistry.editObject('Order', null, values, ss.Delegate.create(this, function(arg) {
            this.loadInstance();
            var response = arg;
            LxnBase.UI.FormsRegistry.viewObject('Order', (response.Item).Id);
        }), null);
    },
    
    _tryAddToExistingOrder$7: function Luxena_Travel_ProductViewForm$_tryAddToExistingOrder$7() {
        var documents = {};
        documents[this.get_product().Id] = this.get_product().Name;
        Luxena.Travel._productDto.tryAddToExistingOrder(documents, true, this.get_product().Name, ss.Delegate.create(this, this.loadInstance));
    },
    
    getFullHtml: function Luxena_Travel_ProductViewForm$getFullHtml() {
        var sb = new ss.StringBuilder();
        sb.append(this.getCommonDataHtml());
        sb.append(this.getFinanceDataHtml());
        sb.append(LxnBase.UI.BasicViewForm.hasValue(this.get_product().Note, ss.Delegate.create(this, function() {
            return String.format("<div class='note'><h2>{0}</h2><pre>{1}</pre></div>", Luxena.Travel.DomainRes.common_Note, this.get_product().Note);
        })));
        return sb.toString();
    },
    
    getCompositeFieldHtml: function Luxena_Travel_ProductViewForm$getCompositeFieldHtml(r, view1, value1, view2, value2, view3, value3) {
        if (ss.isNullOrUndefined(r)) {
            return '';
        }
        var labels = view1._title + ' / ' + view2._title;
        var values = view1.getValueHtml(r, value1) + ' / ' + view2.getValueHtml(r, value2);
        if (!ss.isNullOrUndefined(view3)) {
            labels += ' / ' + view3._title;
            values += ' / ' + view3.getValueHtml(r, value3);
        }
        return "<tr><td class='fieldLabel'>" + labels + ':</td>' + "<td class='fieldValue'>" + values + '</td></tr>';
    },
    
    getPassengerHtml: function Luxena_Travel_ProductViewForm$getPassengerHtml(passenger, passengerName) {
        var text = Luxena.Travel.ProductSemantic.getPassengerValueHtml(passenger, passengerName);
        return "<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.aviaDocument_Passenger + ":</td><td class='fieldValue'>" + text + '</td></tr>';
    },
    
    getPassengersHtml: function Luxena_Travel_ProductViewForm$getPassengersHtml(passengers) {
        var text = '';
        var $enum1 = ss.IEnumerator.getEnumerator(passengers);
        while ($enum1.moveNext()) {
            var passenger = $enum1.current;
            text += Luxena.Travel.ProductSemantic.getPassengerValueHtml(passenger.Passenger, passenger.PassengerName) + '<br/>';
        }
        return "<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.aviaDocument_Passenger + ":</td><td class='fieldValue'>" + text + '</td></tr>';
    },
    
    getCustomerAndIntermediaryHtml: function Luxena_Travel_ProductViewForm$getCustomerAndIntermediaryHtml(customer, intermediary) {
        var r = this.get_product();
        return "<tr name='Customer'><td class='fieldLabel " + ((r.Customer == null) ? 'error' : '') + "'>" + Luxena.Travel.DomainRes.common_Customer + ' / ' + Luxena.Travel.DomainRes.common_Intermediary + ':</td>' + LxnBase.UI.BasicViewForm.hasValue([ r.Customer, r.Intermediary ], function() {
            return "<td class='fieldValue'>" + LxnBase.UI.BasicViewForm.link(r.Customer) + ' / ' + LxnBase.UI.BasicViewForm.link(r.Intermediary) + '</td></tr>';
        }, '<td/></tr>');
    },
    
    getFinanceDataHtml: function Luxena_Travel_ProductViewForm$getFinanceDataHtml() {
        var r = this.get_product();
        var v = new Luxena.Travel.SemanticDomain(this).Product;
        return "<div class='financeData'><table>" + v.Fare.toHtmlTr4(r, true) + v.EqualFare.toHtmlTr4(r, false, true) + v.FeesTotal.toHtmlTr4(r) + v.ConsolidatorCommission.toHtmlTr4(r) + v.Total.toHtmlTr4(r, true, false, true) + v.Vat.toHtmlTr4(r, false) + v.Commission.toHtmlTr4(r, false, false, false, LxnBase.UI.BasicViewForm.hasValue(r.CommissionPercent, function() {
            return "<td class='fieldValue gray'>(" + r.CommissionPercent.format('N2') + '%)</td>';
        })) + v.ServiceFee.toHtmlTr4(r, true, false, true) + v.CommissionDiscount.toHtmlTr4(r) + v.Handling.toHtmlTr4(r) + v.HandlingN.toHtmlTr4(r) + v.Discount.toHtmlTr4(r) + v.BonusDiscount.toHtmlTr4(r) + v.BonusAccumulation.toHtmlTr4(r) + ((!this.get_isRefund()) ? '' : v.RefundServiceFee.toHtmlTr4(r, true) + v.ServiceFeePenalty.toHtmlTr4(r, true)) + v.GrandTotal.toHtmlTr4(r, true) + v.PaymentType.toHtmlTr4(r) + '</table></div>';
    },
    
    toggleVoid: function Luxena_Travel_ProductViewForm$toggleVoid() {
        var r = this.get_product();
        LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation, (r.IsVoid) ? Luxena.Travel.Res.document_Restore_Confirmation : Luxena.Travel.Res.document_Void_Confirmation, ss.Delegate.create(this, function(button, text) {
            if (button !== 'yes') {
                return;
            }
            Luxena.Travel.Services.ProductService.ChangeVoidStatus([ r.Id ], null, ss.Delegate.create(this, function(result) {
                var dto = (result)[0];
                r.IsVoid = dto.IsVoid;
                r.RequiresProcessing = dto.RequiresProcessing;
                r.Order = dto.Order;
                this.preRender();
            }), null);
        }));
    },
    
    addRefund: function Luxena_Travel_ProductViewForm$addRefund() {
        throw new Error('NotImplement');
    },
    
    stdAddRefund: function Luxena_Travel_ProductViewForm$stdAddRefund(r, className, addProperties) {
        var dictionary = {};
        dictionary['IssueDate'] = Date.get_now();
        var $enum1 = ss.IEnumerator.getEnumerator(addProperties);
        while ($enum1.moveNext()) {
            var addProperty = $enum1.current;
            LxnBase.UI.BasicViewForm.addValue(dictionary, r, addProperty);
        }
        dictionary['RefundedProduct'] = LxnBase.Data.Reference.create(this._type, r.Name, r.Id);
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Producer');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Provider');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Customer');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Intermediary');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Originator');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Order');
        dictionary['Seller'] = Luxena.Travel.AppManager.get_currentPerson();
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Fare');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'EqualFare');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'FeesTotal');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Total');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Vat');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Commission');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'ServiceFee');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'Discount');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'GrandTotal');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'TaxRateOfProduct');
        LxnBase.UI.BasicViewForm.addValue(dictionary, r, 'TaxRateOfServiceFee');
        LxnBase.UI.FormsRegistry.editObject(className, null, dictionary, ss.Delegate.create(this, function(arg) {
            if (arg == null) {
                return;
            }
            var refund = (arg).Item;
            r.Refund = LxnBase.Data.Reference.create(className, refund.Name, refund.Id);
            this.load(r);
            LxnBase.UI.FormsRegistry.viewObject(className, refund.Id);
        }), null);
    },
    
    _printButton: null,
    _blankButton: null,
    _createOrderButton: null,
    _voidButton: null,
    _addRefundButton: null,
    _editButton: null,
    _copyButton: null,
    _deleteButton: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardViewForm

Luxena.Travel.PasteboardViewForm = function Luxena_Travel_PasteboardViewForm(tabId, id, type) {
    Luxena.Travel.PasteboardViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.PasteboardViewForm.viewObject = function Luxena_Travel_PasteboardViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.PasteboardViewForm, type, id, newTab);
}
Luxena.Travel.PasteboardViewForm.prototype = {
    
    getClassName: function Luxena_Travel_PasteboardViewForm$getClassName() {
        return 'Pasteboard';
    },
    
    getClassTitle: function Luxena_Travel_PasteboardViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.pasteboard;
    },
    
    getCommonDataHtml: function Luxena_Travel_PasteboardViewForm$getCommonDataHtml() {
        var v = new Luxena.Travel.SemanticDomain(this).Pasteboard;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(this._r$8, true) + v.Number.toHtmlTr2(this._r$8, true) + v.ReissueFor.toHtmlTr2(this._r$8) + v.ReissuedBy.toHtmlTr2(this._r$8) + v.Refund.toHtmlTr2(this._r$8) + v.RefundedProduct.toHtmlTr2(this._r$8) + this.getPassengerHtml(this._r$8.Passenger, this._r$8.PassengerName) + v.Provider.toHtmlTr2(this._r$8) + "<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.common_Departure + ":</td><td class='fieldValue'>" + this._r$8.DeparturePlace + ' / ' + Ext.util.Format.date(this._r$8.DepartureDate, 'd.m.Y') + ' ' + this._r$8.DepartureTime + '</td></tr>' + "<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.common_Arrival + ":</td><td class='fieldValue'>" + this._r$8.ArrivalPlace + ' / ' + Ext.util.Format.date(this._r$8.ArrivalDate, 'd.m.Y') + ' ' + this._r$8.ArrivalTime + '</td></tr>' + v.ServiceClass.toHtmlTr2(this._r$8) + v.TrainNumber.toHtmlTr2(this._r$8) + v.CarNumber.toHtmlTr2(this._r$8) + v.SeatNumber.toHtmlTr2(this._r$8) + this.getCustomerAndIntermediaryHtml(this._r$8.Customer, this._r$8.Intermediary) + Luxena.Travel.ProductViewForm.getOriginHtml(this._r$8) + Luxena.Travel.ProductViewForm.getBookerAndTicketerHtml(v, this._r$8) + v.Seller.toHtmlTr2(this._r$8, true) + v.Owner.toHtmlTr2(this._r$8, true) + v.LegalEntity.toHtmlTr2(this._r$8) + v.Order.toHtmlTr2(this._r$8, true) + '</table></div>';
        return commonDataHtml;
    },
    
    addRefund: function Luxena_Travel_PasteboardViewForm$addRefund() {
        this.stdAddRefund(this._r$8, 'PasteboardRefund', [ 'PassengerName', 'Passenger', 'Number', 'DeparturePlace', 'DepartureDate', 'DepartureTime', 'ArrivalPlace', 'ArrivalDate', 'ArrivalTime', 'ServiceClass', 'TrainNumber', 'CarNumber', 'SeatNumber' ]);
    },
    
    _r$8: null,
    
    get_product: function Luxena_Travel_PasteboardViewForm$get_product() {
        return this._r$8;
    },
    set_product: function Luxena_Travel_PasteboardViewForm$set_product(value) {
        this._r$8 = value;
        return value;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardRefundViewForm

Luxena.Travel.PasteboardRefundViewForm = function Luxena_Travel_PasteboardRefundViewForm(tabId, id, type) {
    Luxena.Travel.PasteboardRefundViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.PasteboardRefundViewForm.viewObject = function Luxena_Travel_PasteboardRefundViewForm$viewObject(type, id, newTab) {
    Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.PasteboardRefundViewForm, type, id, newTab);
}
Luxena.Travel.PasteboardRefundViewForm.prototype = {
    
    getClassName: function Luxena_Travel_PasteboardRefundViewForm$getClassName() {
        return 'PasteboardRefund';
    },
    
    getClassTitle: function Luxena_Travel_PasteboardRefundViewForm$getClassTitle() {
        return Luxena.Travel.DomainRes.pasteboardRefund;
    },
    
    get_isRefund: function Luxena_Travel_PasteboardRefundViewForm$get_isRefund() {
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductEditForm

Luxena.Travel.ProductEditForm = function Luxena_Travel_ProductEditForm() {
    Luxena.Travel.ProductEditForm.initializeBase(this);
}
Luxena.Travel.ProductEditForm.registerEdit = function Luxena_Travel_ProductEditForm$registerEdit(className, formType) {
    LxnBase.UI.FormsRegistry.registerEdit(className, function(args) {
        LxnBase.Data.ConfigManager.getEditConfig(args.type, function(config) {
            Luxena.Travel.Services.AppService.GetDocumentOwners(function(result) {
                var form = new formType();
                form.productOwners = result;
                form.init(args, config);
                form.open();
            }, null);
        });
    });
}
Luxena.Travel.ProductEditForm.prototype = {
    
    get_isRefund: function Luxena_Travel_ProductEditForm$get_isRefund() {
        return false;
    },
    
    get_isTicket: function Luxena_Travel_ProductEditForm$get_isTicket() {
        return this._args.type === 'AviaTicket';
    },
    
    get_isMco: function Luxena_Travel_ProductEditForm$get_isMco() {
        return this._args.type === 'AviaMco';
    },
    
    get_useConsolidatorCommission: function Luxena_Travel_ProductEditForm$get_useConsolidatorCommission() {
        return Luxena.Travel.AppManager.get_systemConfiguration().UseConsolidatorCommission;
    },
    
    get_useHandling: function Luxena_Travel_ProductEditForm$get_useHandling() {
        return Luxena.Travel.AppManager.get_systemConfiguration().UseAviaHandling && this.canUseHandling();
    },
    
    canUseHandling: function Luxena_Travel_ProductEditForm$canUseHandling() {
        return true;
    },
    
    get_useBonuses: function Luxena_Travel_ProductEditForm$get_useBonuses() {
        return Luxena.Travel.AppManager.get_systemConfiguration().UseBonuses;
    },
    
    get_displayOwnerAsLabel: function Luxena_Travel_ProductEditForm$get_displayOwnerAsLabel() {
        return this.productOwners.length === 1 && (this.initData == null || LxnBase.Data.Reference.equals((this.initData).Owner, this.productOwners[0]));
    },
    
    productOwners: null,
    
    preInitialize: function Luxena_Travel_ProductEditForm$preInitialize() {
        Luxena.Travel.ProductEditForm.callBaseMethod(this, 'preInitialize');
        var $enum1 = ss.IEnumerator.getEnumerator(this.productOwners);
        while ($enum1.moveNext()) {
            var owner = $enum1.current;
            delete (owner).__type;
        }
        this.get_window().cls += ' aviaDocument-edit';
        this.get_window().width = 910;
        this.get_form().labelWidth = 140;
    },
    
    getInitData: function Luxena_Travel_ProductEditForm$getInitData() {
        return { IssueDate: Date.get_today(), TaxRateOfProduct: 0, TaxRateOfServiceFee: 0 };
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardRefundEditForm

Luxena.Travel.PasteboardRefundEditForm = function Luxena_Travel_PasteboardRefundEditForm() {
    Luxena.Travel.PasteboardRefundEditForm.initializeBase(this);
}
Luxena.Travel.PasteboardRefundEditForm.prototype = {
    
    get_className: function Luxena_Travel_PasteboardRefundEditForm$get_className() {
        return 'PasteboardRefund';
    },
    
    get_isRefund: function Luxena_Travel_PasteboardRefundEditForm$get_isRefund() {
        return true;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocument_FullNumberEditor

Luxena.Travel.AviaDocument_FullNumberEditor = function Luxena_Travel_AviaDocument_FullNumberEditor(v) {
    this.v = v;
}
Luxena.Travel.AviaDocument_FullNumberEditor.prototype = {
    v: null,
    
    toEditor: function Luxena_Travel_AviaDocument_FullNumberEditor$toEditor() {
        return this.v.rowPanel([ this._airlinePrefixCodeField = this.v.AirlinePrefixCode.toField(35, ss.Delegate.create(this, function(m) {
            m.label(String.format('{0} / {1}', Luxena.Travel.DomainRes.common_Number, Luxena.Travel.DomainRes.airline));
            m.boldLabel();
            m.onBlur(ss.Delegate.create(this, this._findAirline));
            m.onKeyPress(ss.Delegate.create(this, this._airlineCodeKeyPress));
        })), this.v.textComponent('-'), this.v.Number.toField(90, function(m) {
            m.hideLabel();
        }), this.v.textComponent('/'), this._producerField = this.v.Producer.toField(this.v.Producer.editForm.get_fieldMaxWidth() + 19, function(m) {
            m.hideLabel();
        }) ]);
    },
    
    _findAirline: function Luxena_Travel_AviaDocument_FullNumberEditor$_findAirline() {
        var value = this._airlinePrefixCodeField.getValue();
        if (value == null || !value) {
            return;
        }
        var oldValue = this._airlinePrefixCodeField.startValue;
        if (value !== oldValue || this._airlineCodeChanded) {
            Luxena.Travel.Services.AviaService.FindAirlineByPrefixCode(value, ss.Delegate.create(this, function(result) {
                if (result != null) {
                    this._producerField.setValue(result);
                }
            }), null);
        }
        this._airlineCodeChanded = false;
    },
    
    _airlineCodeKeyPress: function Luxena_Travel_AviaDocument_FullNumberEditor$_airlineCodeKeyPress(arg1, arg2) {
        var eventObject = arg2;
        if (eventObject.getKey() >= eventObject.ZERO && eventObject.getKey() <= eventObject.NINE) {
            this._airlineCodeChanded = true;
        }
    },
    
    _airlinePrefixCodeField: null,
    _producerField: null,
    _airlineCodeChanded: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentDto

Luxena.Travel.AviaDocumentDto = function Luxena_Travel_AviaDocumentDto() {
    Luxena.Travel.AviaDocumentDto.initializeBase(this);
}
Luxena.Travel.AviaDocumentDto.numberToString = function Luxena_Travel_AviaDocumentDto$numberToString(number) {
    return (ss.isNullOrUndefined(number)) ? '' : number.toString().padLeft(10, '0');
}
Luxena.Travel.AviaDocumentDto.prototype = {
    Number: 0,
    Conjunction: null,
    AirlinePrefixCode: null,
    Producer: null,
    PassengerName: null,
    Passenger: null,
    GdsPassportStatus: 0,
    GdsPassport: null,
    Itinerary: null,
    AirlinePnrCode: null,
    TicketingIataOffice: null,
    Voidings: null,
    PaymentForm: null,
    PaymentDetails: null,
    Fees: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Product_CustomerAndOrderEditor

Luxena.Travel.Product_CustomerAndOrderEditor = function Luxena_Travel_Product_CustomerAndOrderEditor(v) {
    this.v = v;
}
Luxena.Travel.Product_CustomerAndOrderEditor.prototype = {
    v: null,
    _customerField: null,
    _orderField: null,
    
    toEditor: function Luxena_Travel_Product_CustomerAndOrderEditor$toEditor() {
        return this.v.rowPanel([ this._customerField = this.v.Customer.toField(-1, ss.Delegate.create(this, function(m) {
            m.dataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy());
            m.label(String.format('{0} / {1}', this.v.Customer._title, this.v.Order._title));
            m.onChangeValue(ss.Delegate.create(this, this._onCustomerChanged));
        })), this.v.textComponent('/'), this._orderField = this.v.Order.toField(-1, ss.Delegate.create(this, function(m) {
            m.valueProperties([ 'Customer' ]);
            m.hideLabel();
            m.onChangeValue(ss.Delegate.create(this, this._onOrderChanged));
        })) ]);
    },
    
    _onOrderChanged: function Luxena_Travel_Product_CustomerAndOrderEditor$_onOrderChanged(objthis, newvalue, oldvalue) {
        if (this.v.editForm.get_updating() || newvalue == null) {
            return;
        }
        var val = newvalue;
        var record = ((objthis).store).getById(val[LxnBase.Data.Reference.IdPos]);
        var customer = record.get('Customer');
        this.v.editForm.set_updating(true);
        this._customerField.setValue(customer);
        this.v.editForm.set_updating(false);
    },
    
    _onCustomerChanged: function Luxena_Travel_Product_CustomerAndOrderEditor$_onCustomerChanged(objthis, newvalue, oldvalue) {
        if (this.v.editForm.get_updating() || newvalue === oldvalue || this._orderField.getValue() == null) {
            return;
        }
        var oldArray = oldvalue;
        var newArray = newvalue;
        if (oldArray != null && newArray != null && oldArray[0] === newArray[0]) {
            return;
        }
        LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation, Luxena.Travel.Res.aviaDocumentProcessForm_CustomerChanged, ss.Delegate.create(this, function(button, text) {
            this.v.editForm.set_updating(true);
            if (button === 'yes') {
                this._orderField.setValue(null);
            }
            else {
                this._customerField.setValue(oldvalue);
            }
            this.v.editForm.set_updating(false);
        }));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Product_FinanceEditor

Luxena.Travel.Product_FinanceEditor = function Luxena_Travel_Product_FinanceEditor(v) {
    this.v = v;
}
Luxena.Travel.Product_FinanceEditor.prototype = {
    v: null,
    _equalFareField: null,
    _feesTotalField: null,
    _consolidatorCommissionField: null,
    _totalField: null,
    _vatField: null,
    _commissionDiscountField: null,
    _serviceFeeField: null,
    _handlingField: null,
    _handlingNField: null,
    _discountField: null,
    _bonusDiscountField: null,
    _grandTotalField: null,
    _cancelFeeField: null,
    _refundServiceFeeField: null,
    _serviceFeePenaltyField: null,
    _cancelCommissionField: null,
    _totalCalculator: null,
    _grandTotalCalculator: null,
    
    toEditor: function Luxena_Travel_Product_FinanceEditor$toEditor() {
        var f = this.v.editForm;
        var recalculate = ss.Delegate.create(this, function(m) {
            m.onChangeValue(ss.Delegate.create(this, this._recalculateTotals));
        });
        var recalculateBold = ss.Delegate.create(this, function(m) {
            m.onChangeValue(ss.Delegate.create(this, this._recalculateTotals));
            m.boldLabel();
        });
        var totalItems = [];
        totalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.aviaDocument_CalculateFare).handler(ss.Delegate.create(this, function() {
            this._recalculate(this._equalFareField);
            this._vatField.focus();
        })).toDictionary()));
        totalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.aviaDocument_CalculateFeesTotal).handler(ss.Delegate.create(this, function() {
            this._recalculate(this._feesTotalField);
            this._vatField.focus();
        })).toDictionary()));
        if (f.get_isRefund()) {
            totalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.aviaDocument_CalculateCancelFee).handler(ss.Delegate.create(this, function() {
                this._recalculate(this._cancelFeeField);
                this._vatField.focus();
            })).toDictionary()));
        }
        var grandTotalItems = [];
        grandTotalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFee_Text).handler(this._getRecalculateGrandTotalHandler(ss.Delegate.create(this, function() {
            return this._serviceFeeField;
        }))).toDictionary()));
        if (f.get_useHandling()) {
            grandTotalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateHandling_Text).handler(this._getRecalculateGrandTotalHandler(ss.Delegate.create(this, function() {
                return this._handlingField;
            }))).toDictionary()));
            grandTotalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateCommissionDiscount_Text).handler(this._getRecalculateGrandTotalHandler(ss.Delegate.create(this, function() {
                return this._commissionDiscountField;
            }))).toDictionary()));
        }
        grandTotalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateDiscount_Text).handler(this._getRecalculateGrandTotalHandler(ss.Delegate.create(this, function() {
            return this._discountField;
        }))).toDictionary()));
        if (f.get_isRefund()) {
            grandTotalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateRefundServiceFee_Text).handler(this._getRecalculateGrandTotalHandler(ss.Delegate.create(this, function() {
                return this._refundServiceFeeField;
            }))).toDictionary()));
            grandTotalItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFeePenalty_Text).handler(this._getRecalculateGrandTotalHandler(ss.Delegate.create(this, function() {
                return this._serviceFeePenaltyField;
            }))).toDictionary()));
        }
        var list = [];
        list.addRange([ this.v.Fare.toEditor(), this._equalFareField = this.v.EqualFare.toField(0, recalculateBold), this._feesTotalField = this.v.FeesTotal.toField(0, recalculate) ]);
        if (f.get_useConsolidatorCommission()) {
            list.add(this._consolidatorCommissionField = this.v.ConsolidatorCommission.toField(0, recalculate));
        }
        if (f.get_isRefund()) {
            list.add(this._cancelFeeField = this.v.CancelFee.toField(0, recalculate));
        }
        list.addRange([ this._totalField = this.v.Total.toField(0, function(m) {
            m.menuOnChange(totalItems);
            m.boldLabel();
        }), this._vatField = this.v.Vat.toField(), this.v.Commission.toField(0, function(m) {
            m.boldLabel();
        }) ]);
        if (f.get_useHandling()) {
            list.add(this._commissionDiscountField = this.v.CommissionDiscount.toField(0, recalculate));
        }
        list.add(this._serviceFeeField = this.v.ServiceFee.toField(0, recalculateBold));
        if (f.get_useHandling()) {
            list.add(this._handlingField = this.v.Handling.toField(0, recalculate));
            list.add(this._handlingNField = this.v.HandlingN.toField(0, recalculate));
        }
        list.add(this._discountField = this.v.Discount.toField(0, recalculate));
        if (f.get_isRefund()) {
            list.addRange([ this._refundServiceFeeField = this.v.RefundServiceFee.toField(0, recalculate), this._serviceFeePenaltyField = this.v.ServiceFeePenalty.toField(0, recalculate) ]);
        }
        else if (f.get_useBonuses()) {
            list.addRange([ this._bonusDiscountField = this.v.BonusDiscount.toField(0, recalculate), this.v.BonusAccumulation.toField(0) ]);
        }
        list.add(this._cancelCommissionField = this.v.CancelCommission.toField(0, recalculate));
        list.add(this._grandTotalField = this.v.GrandTotal.toField(0, function(m) {
            m.menuOnChange(grandTotalItems);
            m.boldLabel();
        }));
        list.add(this.v.PaymentType.toField(145));
        list.add(this.v.TaxRateOfProduct.toField(145));
        list.add(this.v.TaxRateOfServiceFee.toField(145));
        this._createCalculators();
        return new Ext.Panel(new Ext.form.FormPanelConfig().items(list).layout('form').cls('finance-data').labelWidth(160).toDictionary());
    },
    
    _recalculateTotals: function Luxena_Travel_Product_FinanceEditor$_recalculateTotals(decimalField, newValue, oldValue) {
        this._totalCalculator.recalculate(this._totalField);
        this._grandTotalCalculator.recalculate(this._grandTotalField);
    },
    
    _getRecalculateGrandTotalHandler: function Luxena_Travel_Product_FinanceEditor$_getRecalculateGrandTotalHandler(control) {
        return ss.Delegate.create(this, function() {
            this._recalculate(control());
            this._grandTotalField.focus();
        });
    },
    
    _recalculate: function Luxena_Travel_Product_FinanceEditor$_recalculate(field) {
        var control = field;
        if (this._totalCalculator.has(control)) {
            this._totalCalculator.recalculate(control);
            this._grandTotalCalculator.recalculate(this._grandTotalField);
        }
        else if (this._grandTotalCalculator.has(control)) {
            this._grandTotalCalculator.recalculate(control);
        }
    },
    
    _createCalculators: function Luxena_Travel_Product_FinanceEditor$_createCalculators() {
        this._totalCalculator = new Luxena.Travel.Controls.MoneyControlCalculator().add(this._equalFareField, 1).add(this._feesTotalField, 1).add(this._consolidatorCommissionField, 1).add(this._cancelFeeField, -1).add(this._totalField, -1);
        this._grandTotalCalculator = new Luxena.Travel.Controls.MoneyControlCalculator().add(this._totalField, 1).add(this._serviceFeeField, 1).add(this._handlingField, 1).add(this._handlingNField, -1).add(this._commissionDiscountField, -1).add(this._discountField, -1).add(this._bonusDiscountField, -1).add(this._refundServiceFeeField, -1).add(this._serviceFeePenaltyField, -1).add(this._grandTotalField, -1);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportCompareForm

Luxena.Travel.PassportCompareForm = function Luxena_Travel_PassportCompareForm(personPassport, gdsPassport) {
    Luxena.Travel.PassportCompareForm.initializeBase(this);
    this._personPassport$1 = personPassport;
    this._gdsPassport$1 = gdsPassport;
}
Luxena.Travel.PassportCompareForm._addRow$1 = function Luxena_Travel_PassportCompareForm$_addRow$1(builder, caption, value1, value2, different) {
    var css = '';
    if (different) {
        css = ' different';
    }
    builder.append(String.format("\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class='caption {3}'>{0}:</td>\r\n\t\t\t\t\t\t<td class='value {3}'>{1}</td>\r\n\t\t\t\t\t\t<td class='value {3}'>{2}</td>\r\n\t\t\t\t\t</tr>", caption, value1, value2, css));
}
Luxena.Travel.PassportCompareForm.prototype = {
    
    open: function Luxena_Travel_PassportCompareForm$open() {
        this.get_window().setTitle(Luxena.Travel.Res.passportCompare_Caption);
        this.get_window().addClass('passport-compare');
        var builder = new ss.StringBuilder();
        builder.append(String.format("\r\n\t\t\t\t<table class='passports'>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t<td class='main-caption'>{0}</td>\r\n\t\t\t\t\t\t<td class='main-caption'>{1}</td>\r\n\t\t\t\t\t</tr>", Luxena.Travel.Res.passportCompare_PersonPassport, Luxena.Travel.Res.passportCompare_GdsPassport));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.common_Number, this._personPassport$1.Number, this._gdsPassport$1.Number, !String.equals(this._personPassport$1.Number, this._gdsPassport$1.Number, true));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_LastName, this._personPassport$1.LastName, this._gdsPassport$1.LastName, !String.equals(this._personPassport$1.LastName, this._gdsPassport$1.LastName, true));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_FirstName, this._personPassport$1.FirstName, this._gdsPassport$1.FirstName, !String.equals(this._personPassport$1.FirstName, this._gdsPassport$1.FirstName, true));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_MiddleName, this._personPassport$1.MiddleName, this._gdsPassport$1.MiddleName, !String.equals(this._personPassport$1.MiddleName, this._gdsPassport$1.MiddleName, true));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_Citizenship, LxnBase.StringUtility.toString(this._personPassport$1.Citizenship), LxnBase.StringUtility.toString(this._gdsPassport$1.Citizenship), !LxnBase.Data.Reference.equals(this._personPassport$1.Citizenship, this._gdsPassport$1.Citizenship));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_Birthday, LxnBase.StringUtility.toString(this._personPassport$1.Birthday), LxnBase.StringUtility.toString(this._gdsPassport$1.Birthday), LxnBase.StringUtility.toString(this._personPassport$1.Birthday) !== LxnBase.StringUtility.toString(this._gdsPassport$1.Birthday));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_Gender, LxnBase.EnumUtility.localize(Luxena.Travel.Gender, this._personPassport$1.Gender, Luxena.Travel.DomainRes), LxnBase.EnumUtility.localize(Luxena.Travel.Gender, this._gdsPassport$1.Gender, Luxena.Travel.DomainRes), this._personPassport$1.Gender !== this._gdsPassport$1.Gender);
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_IssuedBy, LxnBase.StringUtility.toString(this._personPassport$1.IssuedBy), LxnBase.StringUtility.toString(this._gdsPassport$1.IssuedBy), !LxnBase.Data.Reference.equals(this._personPassport$1.IssuedBy, this._gdsPassport$1.IssuedBy));
        Luxena.Travel.PassportCompareForm._addRow$1(builder, Luxena.Travel.DomainRes.passport_ExpiredOn, LxnBase.StringUtility.toString(this._personPassport$1.ExpiredOn), LxnBase.StringUtility.toString(this._gdsPassport$1.ExpiredOn), LxnBase.StringUtility.toString(this._personPassport$1.ExpiredOn) !== LxnBase.StringUtility.toString(this._gdsPassport$1.ExpiredOn));
        builder.append('</table>');
        var box = new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ html: builder.toString() }).cls('passport-data').toDictionary());
        this.get_form().add(box);
        var button1 = this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.passportCompare_UsePersonPassport).handler(ss.Delegate.create(this, function() {
            this.completeSave(true);
        })).toDictionary());
        var button2 = this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.passportCompare_UseGdsPassport).handler(ss.Delegate.create(this, function() {
            this.completeSave(false);
        })).toDictionary());
        var button3 = this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.cancel).handler(ss.Delegate.create(this, this.cancel)).toDictionary());
        this.set_componentSequence([ button1, button2, button3 ]);
        this.get_window().show();
    },
    
    onSave: function Luxena_Travel_PassportCompareForm$onSave() {
    },
    
    _personPassport$1: null,
    _gdsPassport$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportListForm

Luxena.Travel.PassportListForm = function Luxena_Travel_PassportListForm(gdsOriginator, personId) {
    Luxena.Travel.PassportListForm.initializeBase(this);
    this._originator$1 = gdsOriginator;
    this._personId$1 = personId;
}
Luxena.Travel.PassportListForm._getPassportHtml$1 = function Luxena_Travel_PassportListForm$_getPassportHtml$1(passport) {
    var sb = new ss.StringBuilder();
    sb.append(String.format('<div><b>{0}</b></div>', passport.Number));
    sb.append('<table>');
    var name = new ss.StringBuilder();
    if (!String.isNullOrEmpty(passport.LastName)) {
        name.append(passport.LastName);
    }
    if (!String.isNullOrEmpty(passport.FirstName)) {
        name.append(passport.FirstName);
    }
    if (!String.isNullOrEmpty(passport.MiddleName)) {
        name.append(passport.MiddleName);
    }
    var personalData = new ss.StringBuilder();
    if (!name.isEmpty) {
        personalData.append(name.toString(' '));
    }
    if (!ss.isNullOrUndefined(passport.Birthday)) {
        personalData.append(passport.Birthday.format('d.m.Y'));
    }
    if (!ss.isNullOrUndefined(passport.Gender)) {
        personalData.append(LxnBase.EnumUtility.localize(Luxena.Travel.Gender, passport.Gender, Luxena.Travel.Res));
    }
    if (passport.Citizenship != null) {
        personalData.append(passport.Citizenship.Name);
    }
    if (!personalData.isEmpty) {
        sb.append(String.format("<tr><td class='caption'>{0}: </td><td>{1}</td></tr>", Luxena.Travel.Res.passport_PrivateData, personalData.toString(', ')));
    }
    if (passport.IssuedBy != null) {
        sb.append(String.format("<tr><td class='caption'>{0}: </td><td>{1}</td></tr>", Luxena.Travel.Res.passport_IssuedBy, passport.IssuedBy.Name));
    }
    if (!ss.isNullOrUndefined(passport.ExpiredOn)) {
        sb.append(String.format("<tr><td class='caption'>{0}: </td><td>{1}</td></tr>", Luxena.Travel.DomainRes.passport_ExpiredOn, passport.ExpiredOn.format('d.m.Y')));
    }
    sb.append('</table>');
    return sb.toString();
}
Luxena.Travel.PassportListForm.prototype = {
    
    open: function Luxena_Travel_PassportListForm$open() {
        Luxena.Travel.Services.PartyService.GetPerson(this._personId$1, ss.Delegate.create(this, function(result) {
            this._person$1 = result;
            this._load$1();
            this.get_window().show();
        }), null);
    },
    
    _load$1: function Luxena_Travel_PassportListForm$_load$1() {
        this.get_window().setTitle(String.format(Luxena.Travel.Res.passport_List_Title, this._person$1.Name));
        this.get_window().addClass('passport-list');
        if (this._person$1.Passports == null || !this._person$1.Passports.length) {
            this.get_form().add(new Ext.form.Label('no passport'));
            return;
        }
        for (var i = 0; i < this._person$1.Passports.length; i++) {
            var passport = this._person$1.Passports[i];
            this.get_form().add(this._getPassportComponent$1(passport, !i));
        }
        var button = this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.close_Action).handler(ss.Delegate.create(this, function() {
            this.get_window().close();
        })).toDictionary());
        this.registerFocusComponent(button);
    },
    
    _getPassportComponent$1: function Luxena_Travel_PassportListForm$_getPassportComponent$1(passport, first) {
        var html = Luxena.Travel.PassportListForm._getPassportHtml$1(passport);
        var box = new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ html: html }).cls('passport-data').toDictionary());
        var textField = new Ext.form.TextField(new Ext.form.TextFieldConfig().readOnly(true).selectOnFocus(true).value(this._getGdsString$1(passport)).width(420).toDictionary());
        this.registerFocusComponent(textField);
        var css = 'passport';
        if (first) {
            css += ' first-item';
        }
        return new Ext.Container(new Ext.ContainerConfig().items([ box, textField ]).cls(css).toDictionary());
    },
    
    _getGdsString$1: function Luxena_Travel_PassportListForm$_getGdsString$1(passport) {
        switch (this._originator$1) {
            case 1:
                return passport.AmadeusString;
            case 2:
                return passport.GalileoString;
            default:
                return null;
        }
    },
    
    onSave: function Luxena_Travel_PassportListForm$onSave() {
    },
    
    _originator$1: 0,
    _personId$1: null,
    _person$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaConsoleParserForm

Luxena.Travel.AviaConsoleParserForm = function Luxena_Travel_AviaConsoleParserForm() {
    Luxena.Travel.AviaConsoleParserForm.initializeBase(this);
}
Luxena.Travel.AviaConsoleParserForm.prototype = {
    _contentField$1: null,
    _owner$1: null,
    _lastOwner$1: null,
    _seller$1: null,
    
    open: function Luxena_Travel_AviaConsoleParserForm$open() {
        this.get_window().setTitle(Luxena.Travel.Res.aviaConsoleParserForm_Title);
        this.get_window().addClass('avia-console-parser');
        this.get_window().setSize(800, 780);
        this.get_form().add(new Ext.form.Label(new Ext.form.LabelConfig().html('\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0430\u0432\u0438\u0430-\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430 \u0441\u0438\u0441\u0442\u0435\u043c Amadeus, Galileo \u0438 Sabre:<br/>\r\n<br/>\r\n1) \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043f\u043e\u043e\u0447\u0435\u0440\u0451\u0434\u043d\u043e \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:<br/>\r\n<br/>\r\n   - \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b <b>Amadeus</b>: rt[\u043d\u043e\u043c\u0435\u0440 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438] \u0438 tqt; \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0441\u0447\u0451\u0442\u043e\u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e - tqt/T1, tqt/T2 ... \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e; <br/>\r\n<br/>\r\n   - \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b <b>Sabre</b>: <br/>\r\n&nbsp; &nbsp; *SPAXAV \u043a\u043e\u043c\u0430\u043d\u0434\u0430-\u0437\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0438\u043b\u0438 <br/>\r\n&nbsp; &nbsp; *R \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0443 \u0438\u043b\u0438 <br/>\r\n&nbsp; &nbsp; *-TKACH \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u043e \u0444\u0430\u043c\u0438\u043b\u0438\u0438; <br/>\r\n\r\n<br/>\r\n2) \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 \u044d\u043a\u0440\u0430\u043d\u0430 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430 \u0442\u0435\u043a\u0441\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043c\u0430\u043d\u0434 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430;<br/>\r\n<br/>\r\n3) \u0432\u0441\u0442\u0430\u0432\u0442\u0435 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043f\u043e\u043b\u0435 \u043d\u0438\u0436\u0435.<br/>\r\n<br/>').toDictionary()));
        this._contentField$1 = new Ext.form.TextArea(new Ext.form.TextAreaConfig().width(756).height(400).hideLabel(true).allowBlank(false).style('font-family: Consolas, Courier New, courier').toDictionary());
        this._seller$1 = Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl(Luxena.Travel.DomainRes.common_Seller, 200, false);
        this._seller$1.setValue(Luxena.Travel.AppManager.get_currentPerson());
        this._owner$1 = Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200);
        if (ss.isValue(this._lastOwner$1)) {
            this._owner$1.setValue(this._lastOwner$1);
        }
        this.get_form().add(this._contentField$1);
        this.get_form().add(this._seller$1.get_widget());
        this.get_form().add(this._owner$1);
        var _saveButton = this.get_form().addButton(Luxena.Travel.Res.aviaConsoleParserForm_Parse, ss.Delegate.create(this, this.save));
        var _cancelButton = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
        this.set_componentSequence([ _saveButton, _cancelButton ]);
        this.get_window().show();
    },
    
    onValidate: function Luxena_Travel_AviaConsoleParserForm$onValidate() {
        return !String.isNullOrEmpty(this._contentField$1.getValue().toString());
    },
    
    onSave: function Luxena_Travel_AviaConsoleParserForm$onSave() {
        this._lastOwner$1 = this._owner$1.getObjectInfo();
        Luxena.Travel.Services.AviaService.AddDocumentsByConsoleContent(this._contentField$1.getValue(), this._seller$1.getObjectId(), this._owner$1.getSelectedId(), ss.Delegate.create(this, function(result) {
            var docrRefs = result;
            var $enum1 = ss.IEnumerator.getEnumerator(docrRefs);
            while ($enum1.moveNext()) {
                var doc = $enum1.current;
                LxnBase.UI.FormsRegistry.viewObject(doc.Type, doc.Id);
            }
            this.get_window().close();
        }), null);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DepartmentModel

Luxena.Travel.DepartmentModel = function Luxena_Travel_DepartmentModel() {
    this.Organization = ko.observable();
    Luxena.Travel.DepartmentModel.initializeBase(this);
    this.IsDepartment = true;
    this.InfoTitle = Luxena.Travel.Res.departmentView_Info;
    this.InfoPrompt = ko.dependentObservable(ss.Delegate.create(this, function() {
        return this.Phone1() == null && this.Phone2() == null && this.Email1() == null && this.Email2() == null && this.WebAddress() == null && this.ActualAddress() == null && this.LegalAddress() == null;
    }));
    this.Organization(new Luxena.Travel.OrganizationModel());
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FileModel

Luxena.Travel.FileModel = function Luxena_Travel_FileModel() {
    this.Id = ko.observable();
    this.FileName = ko.observable();
    this.TimeStamp = ko.observable();
    this.UploadedBy = ko.observable();
    this.Party = ko.observable();
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrganizationModel

Luxena.Travel.OrganizationModel = function Luxena_Travel_OrganizationModel() {
    this.Code = ko.observable();
    this.Departments = ko.observableArray();
    this.Employees = ko.observableArray();
    Luxena.Travel.OrganizationModel.initializeBase(this);
    this.IsOrganization = true;
    this.InfoTitle = Luxena.Travel.Res.organizationView_Info;
    this.InfoPrompt = ko.dependentObservable(ss.Delegate.create(this, function() {
        return this.Phone1() == null && this.Phone2() == null && this.Email1() == null && this.Email2() == null && this.WebAddress() == null && this.ActualAddress() == null && this.LegalAddress() == null && this.Code() == null;
    }));
}
Luxena.Travel.OrganizationModel.prototype = {
    AddEmployee: null,
    AddDepartment: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyViewForm

Luxena.Travel.PartyViewForm = function Luxena_Travel_PartyViewForm(tabId, id, className) {
    Luxena.Travel.PartyViewForm.initializeBase(this, [ new Ext.PanelConfig().closable(true).autoScroll(true).title(LxnBase.BaseRes.loading).bodyCssClass('banded party ' + className.toLowerCase()).toDictionary(), tabId ]);
    this._className$6 = className;
    LxnBase.Data.ConfigManager.getViewConfig(className, ss.Delegate.create(this, function(config) {
        Luxena.Travel.PartyViewForm._setButtonStatus$6(this._editButton$6, config.IsEditAllowed);
        Luxena.Travel.PartyViewForm._setButtonStatus$6(this._copyButton$6, config.IsCreationAllowed);
        Luxena.Travel.PartyViewForm._setButtonStatus$6(this._deleteButton$6, config.IsRemovingAllowed);
        this.getParty(id);
    }));
}
Luxena.Travel.PartyViewForm._setButtonStatus$6 = function Luxena_Travel_PartyViewForm$_setButtonStatus$6(button, status) {
    if (ss.isNullOrUndefined(status)) {
        return;
    }
    button.setVisible(status.Visible);
    button.setDisabled(status.IsDisabled);
    button.setTooltip(status.DisableInfo);
}
Luxena.Travel.PartyViewForm.prototype = {
    
    initComponent: function Luxena_Travel_PartyViewForm$initComponent() {
        this._editButton$6 = new Ext.Button(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this, this._editInstance$6)).toDictionary());
        this._copyButton$6 = new Ext.Button(new Ext.ButtonConfig().text(LxnBase.BaseRes.copy_Lower).handler(ss.Delegate.create(this, this._copyInstance$6)).toDictionary());
        this._deleteButton$6 = new Ext.Button(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeInstance$6)).toDictionary());
        this.tbar = new Ext.Toolbar([ this._editButton$6, this._copyButton$6, this._deleteButton$6 ]);
        Luxena.Travel.PartyViewForm.callBaseMethod(this, 'initComponent');
    },
    
    onActivate: function Luxena_Travel_PartyViewForm$onActivate(isFirst) {
        if (!isFirst) {
            this.getParty(this.dto.Id);
        }
    },
    
    setParty: function Luxena_Travel_PartyViewForm$setParty(result) {
        if (result == null) {
            return;
        }
        this.dto = result;
        this.setTitle(this.dto.Name);
        if (this.model == null) {
            this.model = this.createModel();
            this.initModel();
            ko.mapping.fromJS(this.dto, null, this.model);
            this.view = $(LxnTravel.Parties.Party.main.renderTo(this.body.dom, this.model));
            this.initView();
        }
        else {
            ko.mapping.fromJS(this.dto, null, this.model);
        }
    },
    
    initModel: function Luxena_Travel_PartyViewForm$initModel() {
        this.model.Edit = ss.Delegate.create(this, this._editInstance$6);
        this.model.AddFile = ss.Delegate.create(this, this._uploadFile$6);
        this.model.DownloadFile = ss.Delegate.create(this, this._downloadFile$6);
        this.model.DeleteFile = ss.Delegate.create(this, this._deleteFile$6);
        this.model.AddOrder = ss.Delegate.create(this, function() {
            LxnBase.UI.FormsRegistry.editObject('Order', null, { Customer: LxnBase.Data.Reference.create(null, this.dto.Name, this.dto.Id) }, ss.Delegate.create(this, function() {
                this.getParty(this.dto.Id);
            }), null);
        });
        this.model.OpenAllProducts = ss.Delegate.create(this, function() {
            this.openAllProducts();
        });
        this.model.OpenAllOrders = ss.Delegate.create(this, function() {
            this.openAllOrders();
        });
        this.model.OpenAllInvoices = ss.Delegate.create(this, function() {
            this.openAllInvoices();
        });
    },
    
    initView: function Luxena_Travel_PartyViewForm$initView() {
        this._initTabs$6();
    },
    
    _initTabs$6: function Luxena_Travel_PartyViewForm$_initTabs$6() {
        var tabsMenu = this.view.find('.tabs-menu li');
        var tabsContent = this.view.find('.tabs-content > div');
        var currentTab = tabsMenu.eq(0);
        var currentContent = tabsContent.eq(0);
        currentTab.addClass('active');
        currentContent.css('display', 'block');
        tabsMenu.click(function(e) {
            if (e.currentTarget === currentTab.get(0)) {
                return;
            }
            currentTab.removeClass('active');
            currentContent.hide();
            currentTab = $(e.currentTarget);
            currentContent = tabsContent.eq(currentTab.index());
            currentTab.addClass('active');
            currentContent.show();
        });
    },
    
    _editInstance$6: function Luxena_Travel_PartyViewForm$_editInstance$6() {
        LxnBase.UI.FormsRegistry.editObject(this._className$6, this.dto.Id, null, ss.Delegate.create(this, function(response) {
            this.setParty((response).Item);
        }), null);
    },
    
    _copyInstance$6: function Luxena_Travel_PartyViewForm$_copyInstance$6() {
        LxnBase.UI.FormsRegistry.editObject(this._className$6, this.dto.Id, null, ss.Delegate.create(this, function(response) {
            var dto = (response).Item;
            LxnBase.UI.FormsRegistry.viewObject(this._className$6, dto.Id);
        }), null, null, LxnBase.UI.LoadMode.remote, true);
    },
    
    _removeInstance$6: function Luxena_Travel_PartyViewForm$_removeInstance$6() {
        LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation, LxnBase.BaseRes.delete_Confirmation, ss.Delegate.create(this, function(button, text) {
            if (button !== 'yes') {
                return;
            }
            LxnBase.Services.GenericService.Delete(this._className$6, [ this.dto.Id ], null, ss.Delegate.create(this, function(result) {
                var response = result;
                if (response.Success) {
                    LxnBase.UI.Tabs.close(this);
                    LxnBase.MessageRegister.info(this.listCaption, LxnBase.BaseRes.deleted + ' ' + this.dto.Name);
                }
                else {
                    this.onDeleteFailed();
                }
            }), ss.Delegate.create(this, function() {
                this.onDeleteFailed();
            }));
        }));
    },
    
    addDetail: function Luxena_Travel_PartyViewForm$addDetail(className, masterField) {
        var party = LxnBase.Data.Reference.create(null, this.dto.Name, this.dto.Id);
        var dictionary = {};
        dictionary[masterField] = party;
        LxnBase.UI.FormsRegistry.editObject(className, null, dictionary, ss.Delegate.create(this, function() {
            this.getParty(this.dto.Id);
        }), null);
    },
    
    onDeleteFailed: function Luxena_Travel_PartyViewForm$onDeleteFailed() {
        LxnBase.UI.ReplaceForm.exec(this._className$6, this.dto.Id, this);
    },
    
    _uploadFile$6: function Luxena_Travel_PartyViewForm$_uploadFile$6() {
        var uploadForm = new Luxena.Travel.FileUploadForm(this.dto.Id);
        uploadForm.add_uploaded(ss.Delegate.create(this, function(fileDto) {
            var file = ko.mapping.fromJS(fileDto);
            this.model.Files.unshift(file);
        }));
        uploadForm.open();
    },
    
    _downloadFile$6: function Luxena_Travel_PartyViewForm$_downloadFile$6(file) {
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/party/{0}', file.FileName()), { file: file.Id() });
    },
    
    _deleteFile$6: function Luxena_Travel_PartyViewForm$_deleteFile$6(file) {
        LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation, String.format(Luxena.Travel.Res.partyView_Confirm_File_Delete, file.FileName()), ss.Delegate.create(this, function(button, text) {
            if (button !== 'yes') {
                return;
            }
            Luxena.Travel.Services.PartyService.DeleteFile(file.Id(), ss.Delegate.create(this, function() {
                this.model.Files.remove(file);
                LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.party_Files, String.format(Luxena.Travel.Res.file_Deleted, file.FileName()));
            }), null);
        }));
    },
    
    openAllProducts: function Luxena_Travel_PartyViewForm$openAllProducts() {
        var filter = new LxnBase.Data.PropertyFilter();
        filter.Property = 'Customer';
        var condition = new LxnBase.Data.PropertyFilterCondition();
        condition.Operator = LxnBase.Data.FilterOperator.equals;
        condition.Value = this.dto.Name;
        filter.Conditions = [ condition ];
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [filter];
        LxnBase.UI.FormsRegistry.listObjects('Product', request, false);
    },
    
    openAllOrders: function Luxena_Travel_PartyViewForm$openAllOrders() {
        var filter = new LxnBase.Data.PropertyFilter();
        filter.Property = 'Customer';
        var condition = new LxnBase.Data.PropertyFilterCondition();
        condition.Operator = LxnBase.Data.FilterOperator.equals;
        condition.Value = this.dto.Name;
        filter.Conditions = [ condition ];
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [filter];
        LxnBase.UI.FormsRegistry.listObjects('Order', request, false);
    },
    
    openAllInvoices: function Luxena_Travel_PartyViewForm$openAllInvoices() {
        var filter = new LxnBase.Data.PropertyFilter();
        filter.Property = 'Customer';
        var condition = new LxnBase.Data.PropertyFilterCondition();
        condition.Operator = LxnBase.Data.FilterOperator.equals;
        condition.Value = this.dto.Name;
        filter.Conditions = [ condition ];
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [filter];
        LxnBase.UI.FormsRegistry.listObjects('Invoice', request, false);
    },
    
    listCaption: null,
    dto: null,
    model: null,
    view: null,
    _className$6: null,
    _editButton$6: null,
    _copyButton$6: null,
    _deleteButton$6: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DepartmentViewForm

Luxena.Travel.DepartmentViewForm = function Luxena_Travel_DepartmentViewForm(tabId, departmentId) {
    Luxena.Travel.DepartmentViewForm.initializeBase(this, [ tabId, departmentId, 'Department' ]);
    this.listCaption = Luxena.Travel.DomainRes.department_Caption_List;
}
Luxena.Travel.DepartmentViewForm.viewObject = function Luxena_Travel_DepartmentViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.DepartmentViewForm(tabId, id);
    });
}
Luxena.Travel.DepartmentViewForm.prototype = {
    
    createModel: function Luxena_Travel_DepartmentViewForm$createModel() {
        return new Luxena.Travel.DepartmentModel();
    },
    
    getParty: function Luxena_Travel_DepartmentViewForm$getParty(id) {
        Luxena.Travel.Services.PartyService.GetDepartment(id, ss.Delegate.create(this, this.setParty), ss.Delegate.create(this, function() {
            this.close();
        }));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyFile

Luxena.Travel.PartyFile = function Luxena_Travel_PartyFile() {
}
Luxena.Travel.PartyFile.getFile = function Luxena_Travel_PartyFile$getFile(fileId, fileName) {
    LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/party/{0}', fileName), { file: fileId });
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FileUploadForm

Luxena.Travel.FileUploadForm = function Luxena_Travel_FileUploadForm(partyId) {
    this._partyId = partyId;
    this._uploadFormPanel = new Ext.form.FormPanel(new Ext.form.FormPanelConfig().bodyBorder(false).border(false).items([ new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'input', type: 'file', name: 'uploadedFile', size: 30 }).toDictionary()) ]).toDictionary());
    this._uploadFormPanel.getForm().fileUpload = true;
    this._uploadFormPanel.getForm().standardSubmit = false;
    this._uploadFormPanel.getForm().timeout = 50000;
    this._uploadFormPanel.getForm().waitTitle = Luxena.Travel.Res.file_WaitUpload;
    this._window = new Ext.Window(new Ext.WindowConfig().title(Luxena.Travel.Res.fileUpload_Title).baseCls('x-panel').cls('file-upload').items(this._uploadFormPanel).resizable(false).modal(true).buttons([ new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.file_UploadAction).handler(ss.Delegate.create(this, this._uploadFile)).toDictionary()), new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.close_Action).handler(ss.Delegate.create(this, this._close)).toDictionary()) ]).buttonAlign('center').toDictionary());
}
Luxena.Travel.FileUploadForm.prototype = {
    
    add_uploaded: function Luxena_Travel_FileUploadForm$add_uploaded(value) {
        this.__uploaded = ss.Delegate.combine(this.__uploaded, value);
    },
    remove_uploaded: function Luxena_Travel_FileUploadForm$remove_uploaded(value) {
        this.__uploaded = ss.Delegate.remove(this.__uploaded, value);
    },
    
    __uploaded: null,
    
    open: function Luxena_Travel_FileUploadForm$open() {
        this._window.addClass('file-form');
        this._window.show();
    },
    
    _uploadFile: function Luxena_Travel_FileUploadForm$_uploadFile() {
        this._uploadFormPanel.getForm().submit({ url: LxnBase.Net.WebService.root + 'PartyService.asmx/UploadFile', params: { partyId: this._partyId }, waitMsg: Luxena.Travel.Res.file_WaitUpload, success: ss.Delegate.create(this, this._fileUploaded), failure: ss.Delegate.create(this, this._uploadFailed) });
    },
    
    _close: function Luxena_Travel_FileUploadForm$_close() {
        this._window.close();
    },
    
    _fileUploaded: function Luxena_Travel_FileUploadForm$_fileUploaded(form, action) {
        var request = action.response;
        var result = JSON.parse(request.responseText).File;
        this._close();
        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.party_Files, String.format(Luxena.Travel.Res.file_Upload_Success, result.FileName));
        if (this.__uploaded != null) {
            this.__uploaded(result);
        }
    },
    
    _uploadFailed: function Luxena_Travel_FileUploadForm$_uploadFailed(form, action) {
        var result = action.result;
        LxnBase.MessageRegister.error(Luxena.Travel.DomainRes.party_Files, String.format(Luxena.Travel.Res.file_Upload_Failed, result.ErrorMessage));
    },
    
    _window: null,
    _uploadFormPanel: null,
    _partyId: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderGridView

Luxena.Travel.OrderGridView = function Luxena_Travel_OrderGridView() {
    Luxena.Travel.OrderGridView.initializeBase(this);
}
Luxena.Travel.OrderGridView.prototype = {
    
    getCustomRowClass: function Luxena_Travel_OrderGridView$getCustomRowClass(record) {
        if (record.get('IsVoid')) {
            return 'textColor-gray';
        }
        var balance = record.get('DeliveryBalance');
        if (balance < 0) {
            return 'rowColor-red';
        }
        var totalDue = record.get('TotalDue');
        if (ss.isValue(totalDue) && totalDue[0] > 0) {
            return 'rowColor-orange';
        }
        return (balance > 0) ? 'rowColor-green' : null;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ReportPrinter

Luxena.Travel.ReportPrinter = function Luxena_Travel_ReportPrinter() {
}
Luxena.Travel.ReportPrinter.getOrderDocument = function Luxena_Travel_ReportPrinter$getOrderDocument(invoiceId, number, type, fileExtension) {
    LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/invoice/{0}_{1}.{2}', type.toString(), number, fileExtension || 'xls'), { invoice: invoiceId });
}
Luxena.Travel.ReportPrinter.getCashOrder = function Luxena_Travel_ReportPrinter$getCashOrder(paymentId, number) {
    LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/payment/CashOrder_{0}.xls', number), { payment: paymentId });
}
Luxena.Travel.ReportPrinter.getLastIssuedConsignment = function Luxena_Travel_ReportPrinter$getLastIssuedConsignment(consignmentId, number) {
    LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/consignment/Consignment_{0}.xls', number), { consignment: consignmentId });
}
Luxena.Travel.ReportPrinter.getIssuedConsignment = function Luxena_Travel_ReportPrinter$getIssuedConsignment(fileId, number) {
    LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/consignment/Consignment_{0}.xls', number), { file: fileId });
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentEditForm

Luxena.Travel.PaymentEditForm = function Luxena_Travel_PaymentEditForm(args, config, paymentSystems) {
    Luxena.Travel.PaymentEditForm.initializeBase(this, [ args, config ]);
    this._paymentSystems$2 = paymentSystems;
    this.get_window().addClass('payment-edit');
}
Luxena.Travel.PaymentEditForm.editObject = function Luxena_Travel_PaymentEditForm$editObject(args) {
    LxnBase.Data.ConfigManager.getEditConfig(args.type, function(config) {
        Luxena.Travel.Services.PaymentService.GetPaymentSystems(function(data) {
            var form = new Luxena.Travel.PaymentEditForm(args, config, data);
            form.open();
        }, null);
    });
}
Luxena.Travel.PaymentEditForm._getMoney$2 = function Luxena_Travel_PaymentEditForm$_getMoney$2(money) {
    if (money == null) {
        return null;
    }
    if (!(Type.canCast(money, Array))) {
        return money;
    }
    var data = money;
    var dto = new Luxena.Travel.MoneyDto();
    dto.Amount = data[0];
    dto.Currency = new LxnBase.Data.Reference();
    dto.Currency.Name = data[1];
    dto.Currency.Id = data[2];
    dto.Currency.Type = 'Currency';
    return dto;
}
Luxena.Travel.PaymentEditForm._getStringValue$2 = function Luxena_Travel_PaymentEditForm$_getStringValue$2(field) {
    var value = field.getValue();
    if (String.isNullOrEmpty(value)) {
        return null;
    }
    return value;
}
Luxena.Travel.PaymentEditForm.prototype = {
    
    get__payment$2: function Luxena_Travel_PaymentEditForm$get__payment$2() {
        return this.get_instance();
    },
    
    loadInstance: function Luxena_Travel_PaymentEditForm$loadInstance(onLoaded) {
        Luxena.Travel.Services.DomainService.get(this.get_args().type, this.get_args().idToLoad, onLoaded, null);
    },
    
    addFields: function Luxena_Travel_PaymentEditForm$addFields() {
        this._dateField$2 = this.createEditor('Date');
        this._documentNumberField$2 = this.createEditor('DocumentNumber');
        this._documentNumberField$2.fieldLabel = this._getDocumentNumberFieldText$2();
        this._documentNumberField$2.width = 166;
        if (this.get_args().type === 'CashInOrderPayment') {
            this._documentNumberField$2.emptyText = Luxena.Travel.Res.auto;
            this._documentNumberField$2.emptyClass = 'auto-text';
        }
        else if (this.get_args().type === 'ElectronicPayment') {
            this._authorizationCodeField$2 = this.createEditor('AuthorizationCode');
            this._authorizationCodeField$2.width = 166;
            this._paymentSystemField$2 = new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Name' ]).data(this._paymentSystems$2).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel(Luxena.Travel.DomainRes.electronicPayment_PaymentSystem).allowBlank(true).toDictionary());
        }
        var label = (this.get_args().type === 'WireTransfer') ? Luxena.Travel.DomainRes.invoiceType_Invoice : Luxena.Travel.DomainRes.invoiceType_Receipt;
        this._invoiceSelector$2 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().valueProperties([ 'Order', 'BillTo', 'TotalDue', 'VatDue', 'Owner' ]).setDataProxy(Luxena.Travel.Services.OrderService.suggestInvoicesProxy(this.get_args().type)).customActions(this._getInvoiceActions$2()).fieldLabel(label));
        this._orderSelector$2 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Order').valueProperties([ 'Customer', 'BillTo', 'TotalDue', 'VatDue', 'Owner' ]).fieldLabel(Luxena.Travel.DomainRes.order));
        this._payerSelector$2 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.payment_Payer).width(230).allowBlank(false));
        this._amountField$2 = this.createEditor('Amount');
        this._amountField$2.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$2));
        this._vatField$2 = this.createEditor('Vat');
        if (this.get_args().type !== 'WireTransfer') {
            this._receivedFromField$2 = LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('ReceivedFrom'));
        }
        this._ownerField$2 = Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(230);
        this._assignedTo$2 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Person').allowCreate(false).setDataProxy(LxnBase.Services.GenericService.suggestProxy('Person')).fieldLabel(Luxena.Travel.DomainRes.common_AssignedTo).width(230));
        this._noteField$2 = LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('Note'));
        this._noteField$2.addClass('note');
        if (this.get_args().type === 'CashInOrderPayment') {
            this._savePostedCheckBox$2 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().labelSeparator('').boxLabel(Luxena.Travel.Res.cashInOrderPayment_SavePosted.toLowerCase()).toDictionary());
            this._savePostedCheckBox$2.setValue(true);
        }
        var fields = [];
        fields.addRange([ this._dateField$2, this._documentNumberField$2 ]);
        if (this.get_args().type === 'ElectronicPayment') {
            fields.addRange([ this._authorizationCodeField$2, this._paymentSystemField$2 ]);
        }
        fields.addRange([ this._invoiceSelector$2.get_widget(), this._orderSelector$2.get_widget(), this._payerSelector$2.get_widget(), this._amountField$2, this._vatField$2 ]);
        if (this._receivedFromField$2 != null) {
            fields.add(this._receivedFromField$2);
        }
        fields.addRange([ this._ownerField$2, this._assignedTo$2.get_widget(), this._noteField$2 ]);
        if (this._savePostedCheckBox$2 != null) {
            fields.add(this._savePostedCheckBox$2);
        }
        this.get_form().add(fields);
        return fields;
    },
    
    _getInvoiceActions$2: function Luxena_Travel_PaymentEditForm$_getInvoiceActions$2() {
        var invoices = this.getArgsValue('Invoices');
        if (!!!invoices || !invoices.length) {
            return null;
        }
        var actions = [];
        for (var i = 0; i < invoices.length; ++i) {
            actions.add(this._getInvoiceAction$2(invoices[i]));
        }
        return actions;
    },
    
    _getInvoiceAction$2: function Luxena_Travel_PaymentEditForm$_getInvoiceAction$2(invoice) {
        return new Ext.Action(new Ext.ActionConfig().text(invoice.Name).handler(ss.Delegate.create(this, function() {
            this._skipOrderChanges$2 = true;
            this._skipInvoiceChanges$2 = true;
            try {
                this._payerSelector$2.setValue(this.getArgsValue('Payer'));
                this._orderSelector$2.setValue(this.getArgsValue('Order'));
                this._invoiceSelector$2.setValue(invoice);
            }
            finally {
                this._skipOrderChanges$2 = false;
                this._skipInvoiceChanges$2 = false;
            }
        })).toDictionary());
    },
    
    initComponentSequence: function Luxena_Travel_PaymentEditForm$initComponentSequence(fields, buttons) {
        var list = [];
        list.addRange(fields);
        list.addRange(buttons);
        list.remove(this._noteField$2);
        this.set_componentSequence(list);
    },
    
    _onInvoiceChanged$2: function Luxena_Travel_PaymentEditForm$_onInvoiceChanged$2(objthis, newvalue, oldvalue) {
        if (newvalue == null || this._skipInvoiceChanges$2) {
            return;
        }
        var record = ((objthis).store).getById((newvalue)[LxnBase.Data.Reference.IdPos]);
        this._skipOrderChanges$2 = true;
        this._orderSelector$2.setValue(record.get('Order'));
        this._skipOrderChanges$2 = false;
        if (this.get__payment$2() == null) {
            this._setDataFromOrder$2(record);
        }
    },
    
    _onOrderChanged$2: function Luxena_Travel_PaymentEditForm$_onOrderChanged$2(objthis, newvalue, oldvalue) {
        if (newvalue == null || this._skipOrderChanges$2) {
            return;
        }
        if (oldvalue == null || (oldvalue)[0] !== (newvalue)[0]) {
            this._skipInvoiceChanges$2 = true;
            this._invoiceSelector$2.setValue(null);
            this._skipInvoiceChanges$2 = false;
        }
        if (this.get__payment$2() == null) {
            var record = ((objthis).store).getById((newvalue)[0]);
            this._setDataFromOrder$2(record);
        }
    },
    
    _setDataFromOrder$2: function Luxena_Travel_PaymentEditForm$_setDataFromOrder$2(record) {
        var customer = record.get('Customer');
        var billTo = record.get('BillTo');
        var totalDue = record.get('TotalDue');
        var vatDue = record.get('VatDue');
        var owner = record.get('Owner');
        this._payerSelector$2.setValue(billTo || customer);
        this._amountField$2.setValue(Luxena.Travel.PaymentEditForm._getMoney$2(totalDue));
        this._vatField$2.setValue(Luxena.Travel.PaymentEditForm._getMoney$2(vatDue));
        if (Luxena.Travel.AppManager.get_allowSetDocumentOwner()) {
            this._ownerField$2.setValue(owner);
        }
    },
    
    _getDocumentNumberFieldText$2: function Luxena_Travel_PaymentEditForm$_getDocumentNumberFieldText$2() {
        switch (this.get_args().type) {
            case 'WireTransfer':
                return Luxena.Travel.Res.wireTransfer_DocumentName;
            case 'CashInOrderPayment':
                return Luxena.Travel.Res.cashInOrderPayment_DocumentName;
            case 'CashOutOrderPayment':
                return Luxena.Travel.Res.cashOutOrderPayment_DocumentName;
            case 'CheckPayment':
                return Luxena.Travel.Res.checkPayment_DocumentName;
            case 'ElectronicPayment':
                return Luxena.Travel.Res.electronicPayment_DocumentName;
        }
        return null;
    },
    
    setFieldValues: function Luxena_Travel_PaymentEditForm$setFieldValues() {
        this._dateField$2.setValue(this.getInstancePropertyValue('Date') || Date.get_today());
        if (this.get__payment$2() != null || this.get_args().fieldValues != null) {
            this._documentNumberField$2.setValue(this.getInstancePropertyValue('DocumentNumber'));
            this._payerSelector$2.setValue(this.getInstancePropertyValue('Payer'));
            this._amountField$2.setValue(this.getInstancePropertyValue('Amount'));
            this._vatField$2.setValue(this.getInstancePropertyValue('Vat'));
            if (this._receivedFromField$2 != null) {
                this._receivedFromField$2.setValue(this.getInstancePropertyValue('ReceivedFrom'));
            }
            if (this._authorizationCodeField$2 != null) {
                this._authorizationCodeField$2.setValue(this.getInstancePropertyValue('AuthorizationCode'));
            }
            if (this._paymentSystemField$2 != null) {
                this._paymentSystemField$2.setValue(this.getInstancePropertyValue('PaymentSystem'));
            }
            this._invoiceSelector$2.setValue(this.getInstancePropertyValue('Invoice'));
            this._orderSelector$2.setValue(this.getInstancePropertyValue('Order'));
            this._ownerField$2.setValue(this.getInstancePropertyValue('Owner'));
            this._assignedTo$2.setValue(this.getInstancePropertyValue('AssignedTo'));
            this._noteField$2.setValue(this.getInstancePropertyValue('Note'));
        }
        else {
            this._dateField$2.setValue(Date.get_today());
        }
        this._orderSelector$2.get_widget().on('changeValue', ss.Delegate.create(this, this._onOrderChanged$2));
        this._invoiceSelector$2.get_widget().on('changeValue', ss.Delegate.create(this, this._onInvoiceChanged$2));
    },
    
    onSave: function Luxena_Travel_PaymentEditForm$onSave() {
        if (this.get__payment$2() == null || this.isModified()) {
            this.startSave();
            Luxena.Travel.Services.DomainService.update(this.get_args().type, this._getPayment$2(), this.get_args().rangeRequest, ss.Delegate.create(this, this.completeSave), ss.Delegate.create(this, this.failSave));
        }
        else {
            this.cancel();
        }
    },
    
    onSaved: function Luxena_Travel_PaymentEditForm$onSaved(result) {
        var dto = (result).Item;
        if (!this.get_localMode() && this.get__payment$2() == null && !ss.isNullOrUndefined(this.get_args().fieldValues)) {
            Luxena.Travel.MessageFactory.objectUpdatedMsg(this.get_instanceConfig().ListCaption, LxnBase.UI.Controls.ObjectLink.render(dto.Id, dto.Number, this.get_args().type), this.get_args().get_isNew());
        }
        Luxena.Travel.PaymentEditForm.callBaseMethod(this, 'onSaved', [ result ]);
    },
    
    _getPayment$2: function Luxena_Travel_PaymentEditForm$_getPayment$2() {
        var dto = new Luxena.Travel.PaymentDto();
        if (this.get__payment$2() != null) {
            dto.Id = this.get__payment$2().Id;
            dto.Version = this.get__payment$2().Version;
        }
        dto.Date = this._dateField$2.getValue();
        dto.DocumentNumber = Luxena.Travel.PaymentEditForm._getStringValue$2(this._documentNumberField$2);
        if (this._authorizationCodeField$2 != null) {
            dto.AuthorizationCode = Luxena.Travel.PaymentEditForm._getStringValue$2(this._authorizationCodeField$2);
        }
        if (this._paymentSystemField$2 != null) {
            dto.PaymentSystem = this._paymentSystemField$2.getObjectInfo();
        }
        dto.Payer = this._payerSelector$2.getObjectInfo();
        dto.Amount = this._amountField$2.getValue();
        dto.Vat = this._vatField$2.getValue();
        if (this._receivedFromField$2 != null) {
            dto.ReceivedFrom = Luxena.Travel.PaymentEditForm._getStringValue$2(this._receivedFromField$2);
        }
        dto.Note = Luxena.Travel.PaymentEditForm._getStringValue$2(this._noteField$2);
        dto.Invoice = this._invoiceSelector$2.getObjectInfo();
        dto.Order = this._orderSelector$2.getObjectInfo();
        dto.Owner = this._ownerField$2.getObjectInfo();
        dto.AssignedTo = this._assignedTo$2.getObjectInfo();
        if (this._savePostedCheckBox$2 == null || this._savePostedCheckBox$2.getValue()) {
            dto.SavePosted = true;
        }
        return dto;
    },
    
    _calculateVat$2: function Luxena_Travel_PaymentEditForm$_calculateVat$2() {
        var originalAmount = this.getArgsValue('Amount');
        var originalVat = this.getArgsValue('Vat');
        var currentAmount = this._amountField$2.getValue();
        if (originalAmount != null && originalVat != null && currentAmount != null) {
            var vat = Luxena.Travel.MoneyDto.getZeroMoney();
            vat.Amount = originalVat.Amount * currentAmount.Amount / originalAmount.Amount;
            return vat;
        }
        return null;
    },
    
    _onAmountChange$2: function Luxena_Travel_PaymentEditForm$_onAmountChange$2(decimalField, newValue, oldValue) {
        if (this.get__payment$2() != null) {
            return;
        }
        var vat = this._calculateVat$2();
        if (vat != null) {
            this._vatField$2.setValue(vat);
        }
    },
    
    _dateField$2: null,
    _documentNumberField$2: null,
    _payerSelector$2: null,
    _amountField$2: null,
    _vatField$2: null,
    _receivedFromField$2: null,
    _noteField$2: null,
    _ownerField$2: null,
    _assignedTo$2: null,
    _orderSelector$2: null,
    _invoiceSelector$2: null,
    _savePostedCheckBox$2: null,
    _skipOrderChanges$2: false,
    _skipInvoiceChanges$2: false,
    _authorizationCodeField$2: null,
    _paymentSystemField$2: null,
    _paymentSystems$2: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentListTab

Luxena.Travel.PaymentListTab = function Luxena_Travel_PaymentListTab(tabId, args) {
    Luxena.Travel.PaymentListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.PaymentListTab.prototype = {
    
    onInitGrid: function Luxena_Travel_PaymentListTab$onInitGrid(args, config) {
        Luxena.Travel.PaymentListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.forcedProperties = [ 'IsVoid', 'PostedOn' ];
        if (args.baseRequest == null) {
            args.baseRequest = new LxnBase.Data.RangeRequest();
        }
        if (args.baseRequest.sort == null) {
            args.baseRequest.sort = 'Date';
            args.baseRequest.dir = 'DESC';
        }
        config.view(new Luxena.Travel.PaymentGridView());
    },
    
    onAddToolbarButtons: function Luxena_Travel_PaymentListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        var pos = 0;
        if (this.get_listConfig().IsCreationAllowed.Visible) {
            toolbarItems.removeAt(pos++);
            var createCashInOrder = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashInOrder_Action).handler(ss.Delegate.create(this, function() {
                this._createPayment$8('CashInOrderPayment');
            })).toDictionary());
            var createCashOutOrder = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashOutOrder_Action).handler(ss.Delegate.create(this, function() {
                this._createPayment$8('CashOutOrderPayment');
            })).toDictionary());
            var createNonCashPayment = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateNonCashPayment_Action).handler(ss.Delegate.create(this, function() {
                this._createPayment$8('WireTransfer');
            })).toDictionary());
            var createCheckPayment = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCheckPayment_Action).handler(ss.Delegate.create(this, function() {
                this._createPayment$8('CheckPayment');
            })).toDictionary());
            var createCreditCardPayment = new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateElecronicPayment_Action).handler(ss.Delegate.create(this, function() {
                this._createPayment$8('ElectronicPayment');
            })).toDictionary());
            var registerPaymentButton = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.payment_CreatePayment_Action).custom('menu', new Ext.menu.Menu(new Ext.menu.MenuConfig().items([ createCashInOrder, createCashOutOrder, createNonCashPayment, createCheckPayment, createCreditCardPayment ]).toDictionary())).toDictionary());
            toolbarItems.insert(0, registerPaymentButton);
        }
        if (this.get_listConfig().IsEditAllowed.Visible) {
            ++pos;
        }
        toolbarItems.removeAt(pos);
        if (this.get_listConfig().IsEditAllowed.Visible) {
            this._voidButton$8 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.void_Action.toLowerCase()).handler(ss.Delegate.create(this, this._voidPayments$8)).disabled(true).toDictionary());
            this._postButton$8 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.posted_Action.toLowerCase()).handler(ss.Delegate.create(this, this._postedPayments$8)).disabled(true).toDictionary());
            toolbarItems.insert(0, this._voidButton$8);
            toolbarItems.insert(1, this._postButton$8);
            toolbarItems.insert(2, new Ext.Toolbar.Separator());
        }
    },
    
    onSelectionChange: function Luxena_Travel_PaymentListTab$onSelectionChange(selectionModel) {
        var model = selectionModel;
        var records = model.getSelections();
        if (!this.get_listConfig().IsEditAllowed.IsDisabled) {
            if (!records.length) {
                this._voidButton$8.disable();
                this._postButton$8.disable();
            }
            else {
                var isVoid = records[0].get('IsVoid');
                var isPosted = false;
                var canChange = true;
                for (var i = 0; i < records.length; i++) {
                    if ((isVoid ^ records[i].get('IsVoid')) === 1) {
                        canChange = false;
                    }
                    if (!ss.isNullOrUndefined(records[i].get('PostedOn'))) {
                        isPosted = true;
                    }
                }
                if (canChange) {
                    this._voidButton$8.setText((isVoid) ? Luxena.Travel.Res.restore_Action.toLowerCase() : Luxena.Travel.Res.void_Action.toLowerCase());
                    this._voidButton$8.enable();
                }
                else {
                    this._voidButton$8.disable();
                }
                if (isVoid || isPosted) {
                    this._postButton$8.disable();
                }
                else {
                    this._postButton$8.enable();
                }
            }
        }
    },
    
    _voidPayments$8: function Luxena_Travel_PaymentListTab$_voidPayments$8() {
        var selectionModel = this.get_autoGrid().get_selectionModel();
        if (!selectionModel.getSelections().length) {
            return;
        }
        var records = selectionModel.getSelections();
        var ids = [];
        for (var i = 0; i < records.length; i++) {
            ids.add(records[i].id);
        }
        Luxena.Travel.Services.PaymentService.CanUpdate(ids, ss.Delegate.create(this, function(res) {
            var status = res;
            if (!status.IsEnabled) {
                var msg = (ss.isNullOrUndefined(status.DisableInfo)) ? LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg : status.DisableInfo;
                LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.error, msg: msg, icon: Ext.MessageBox.ERROR, buttons: Ext.MessageBox.OK });
                return;
            }
            var isVoid = records[0].data.IsVoid;
            Luxena.Travel.MessageFactory.voidingConfirmation(Luxena.Travel.Res.document_Void_Confirmation1, Luxena.Travel.Res.document_Void_Confirmation2, Luxena.Travel.Res.document_Void_Confirmation3, Luxena.Travel.Res.document_Restore_Confirmation1, Luxena.Travel.Res.document_Restore_Confirmation2, Luxena.Travel.Res.document_Restore_Confirmation3, isVoid, records.length, ss.Delegate.create(this, function() {
                Luxena.Travel.Services.PaymentService.ChangeVoidStatus(ids, this.get_autoGrid().get_baseRequest(), ss.Delegate.create(this, this._onVoidComplete$8), null);
            }));
        }), null);
    },
    
    _onVoidComplete$8: function Luxena_Travel_PaymentListTab$_onVoidComplete$8(result) {
        var response = result;
        var dtos = response.Items;
        var rangeResponse = response.RangeResponse;
        (this.get_autoGrid().store.proxy).setResponse(rangeResponse);
        this.get_autoGrid().reload(false);
        Luxena.Travel.MessageFactory.voidCompletedMsg(Luxena.Travel.DomainRes.payment_Caption_List, Luxena.Travel.Res.document_VoidDocument_Msg, Luxena.Travel.Res.document_VoidDocuments_Msg, Luxena.Travel.Res.document_RestoreDocument_Msg, Luxena.Travel.Res.document_RestoreDocuments_Msg, dtos[0].IsVoid, dtos.length, dtos[0].Number, (ss.isNullOrUndefined(rangeResponse.SelectedRow)) ? LxnBase.BaseRes.autoGrid_NotDisplay_Msg : null);
        if (!ss.isNullOrUndefined(rangeResponse.SelectedRow)) {
            this.get_autoGrid().get_selectionModel().selectRow(rangeResponse.SelectedRow);
        }
    },
    
    _postedPayments$8: function Luxena_Travel_PaymentListTab$_postedPayments$8() {
        Luxena.Travel.Services.PaymentService.PostPayments(this.get_autoGrid().getSelectedIds(), this.get_autoGrid().get_baseRequest(), ss.Delegate.create(this, function(result) {
            var response = result;
            var rangeResponse = response.RangeResponse;
            (this.get_autoGrid().store.proxy).setResponse(rangeResponse);
            this.get_autoGrid().reload(false);
            LxnBase.MessageRegister.info(this.get_listConfig().Caption, String.format(Luxena.Travel.Res.paymentList_PostedDocuments, response.Items.length));
            if (!ss.isNullOrUndefined(rangeResponse.SelectedRow)) {
                this.get_autoGrid().get_selectionModel().selectRow(rangeResponse.SelectedRow);
            }
        }), null);
    },
    
    _createPayment$8: function Luxena_Travel_PaymentListTab$_createPayment$8(type) {
        LxnBase.UI.FormsRegistry.editObject(type, null, null, ss.Delegate.create(this, function(arg1) {
            var response = arg1;
            var dto = response.Item;
            var message = LxnBase.BaseRes.created + ' ' + dto.Number;
            if (ss.isNullOrUndefined(response.RangeResponse.SelectedRow)) {
                LxnBase.MessageRegister.info(this.get_listConfig().Caption, message, LxnBase.BaseRes.autoGrid_NotDisplay_Msg);
                return;
            }
            LxnBase.MessageRegister.info(this.get_listConfig().Caption, message);
            (this.get_autoGrid().store.proxy).setResponse(response.RangeResponse);
            this.get_autoGrid().reload(false);
            this.get_autoGrid().get_selectionModel().selectRow(response.RangeResponse.SelectedRow);
            if (type === 'CashInOrderPayment') {
                Luxena.Travel.ReportPrinter.getCashOrder(dto.Id, dto.DocumentNumber);
            }
        }), null, this.get_autoGrid().get_baseRequest());
    },
    
    _voidButton$8: null,
    _postButton$8: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentViewForm

Luxena.Travel.PaymentViewForm = function Luxena_Travel_PaymentViewForm(tabId, id, type) {
    Luxena.Travel.PaymentViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.PaymentViewForm.viewObject = function Luxena_Travel_PaymentViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.PaymentViewForm(tabId, id, type);
    });
}
Luxena.Travel.PaymentViewForm._getPaymentAmountControl$7 = function Luxena_Travel_PaymentViewForm$_getPaymentAmountControl$7() {
    var config = new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_PaymentForm, 'PaymentForm').setPropertyType(6).setEnumType(Luxena.Travel.PaymentForm), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Amount, 'Amount').setPropertyType(4).setCssClass('amount-value'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Vat, 'Vat').setPropertyType(4).setCssClass('amount-value') ]).setCssClass('payment-amount');
    return new Luxena.Travel.Controls.PropertyListControl(config);
}
Luxena.Travel.PaymentViewForm.prototype = {
    
    get__payment$7: function Luxena_Travel_PaymentViewForm$get__payment$7() {
        return this.get_instance();
    },
    
    onInitToolBar: function Luxena_Travel_PaymentViewForm$onInitToolBar(toolbarItems) {
        toolbarItems.removeAt(1);
        this._voidAction$7 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.void_Action.toLowerCase()).handler(ss.Delegate.create(this, this._voidPayment$7)).toDictionary());
        this._postAction$7 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.posted_Action.toLowerCase()).handler(ss.Delegate.create(this, this._postPayment$7)).toDictionary());
        toolbarItems.insert(0, this._voidAction$7);
        toolbarItems.insert(1, this._postAction$7);
        toolbarItems.insert(2, new Ext.Toolbar.Separator());
    },
    
    initComponent: function Luxena_Travel_PaymentViewForm$initComponent() {
        this.cls = 'payment-view';
        this.layout = null;
        Luxena.Travel.PaymentViewForm.callBaseMethod(this, 'initComponent');
        this._titleLabel$7 = new Ext.form.Label(new Ext.form.LabelConfig().cls('title').toDictionary());
        this._paymentPropertiesControl$7 = this._getPaymentPropertiesControl$7();
        this._paymentAmountControl$7 = Luxena.Travel.PaymentViewForm._getPaymentAmountControl$7();
        var contentPanel = new Ext.Panel(new Ext.PanelConfig().items([ this._titleLabel$7, this._paymentPropertiesControl$7, this._paymentAmountControl$7 ]).border(false).cls('content-panel').toDictionary());
        this.add(contentPanel);
    },
    
    updateActionsStatus: function Luxena_Travel_PaymentViewForm$updateActionsStatus() {
        LxnBase.UI.BaseClassViewForm.setActionStatus(this._voidAction$7, this.get__payment$7().Permissions.CanUpdate);
        LxnBase.UI.BaseClassViewForm.setActionStatus(this._postAction$7, this.get__payment$7().Permissions.CanUpdate);
        this._voidAction$7.setText((this.get__payment$7().IsVoid) ? Luxena.Travel.Res.restore_Action.toLowerCase() : Luxena.Travel.Res.void_Action.toLowerCase());
        if (!ss.isNullOrUndefined(this.get__payment$7().PostedOn) || this.get__payment$7().IsVoid) {
            this._postAction$7.disable();
        }
        else {
            this._postAction$7.enable();
        }
        Luxena.Travel.PaymentViewForm.callBaseMethod(this, 'updateActionsStatus');
    },
    
    getInstance: function Luxena_Travel_PaymentViewForm$getInstance() {
        Luxena.Travel.Services.DomainService.get(this._type, this.get_id(), ss.Delegate.create(this, this.load), ss.Delegate.create(this, function() {
            LxnBase.UI.Tabs.close(this);
        }));
    },
    
    onLoad: function Luxena_Travel_PaymentViewForm$onLoad() {
        this.setTitle(this.get__payment$7().Number);
        this._titleLabel$7.removeClass('voided');
        this._titleLabel$7.removeClass('nonposted');
        var text = Luxena.Travel.DomainRes.payment;
        if (this.get__payment$7().IsVoid) {
            this._titleLabel$7.addClass('voided');
            text = String.format('{0} ({1})', text, Luxena.Travel.Res.payment_Voided);
        }
        else if (ss.isNullOrUndefined(this.get__payment$7().PostedOn)) {
            this._titleLabel$7.addClass('nonposted');
            text = String.format('{0} ({1})', text, Luxena.Travel.Res.payment_NonPosted);
        }
        this._titleLabel$7.setText(text);
        this._paymentPropertiesControl$7.loadInstance(this.get__payment$7());
        this._paymentAmountControl$7.loadInstance(this.get__payment$7());
        var element = this._paymentPropertiesControl$7.body.select('.doc-number .fieldLabel');
        if (!!element.getCount()) {
            element.first().dom.innerHTML = this._getDocumentNumberText$7();
        }
    },
    
    _voidPayment$7: function Luxena_Travel_PaymentViewForm$_voidPayment$7() {
        Luxena.Travel.MessageFactory.voidingConfirmation(Luxena.Travel.Res.payment_Void_Confirmation, null, null, Luxena.Travel.Res.payment_Restore_Confirmation, null, null, this.get__payment$7().IsVoid, 1, ss.Delegate.create(this, function() {
            Luxena.Travel.Services.PaymentService.ChangeVoidStatus([ this.get__payment$7().Id ], null, ss.Delegate.create(this, function(result) {
                var response = result;
                var dto = response.Items[0];
                this.load(dto);
                Luxena.Travel.MessageFactory.voidCompletedMsg(Luxena.Travel.DomainRes.payment, Luxena.Travel.Res.document_VoidDocument_Msg, null, Luxena.Travel.Res.document_RestoreDocument_Msg, null, dto.IsVoid, 1, dto.Number, null);
            }), null);
        }));
    },
    
    _postPayment$7: function Luxena_Travel_PaymentViewForm$_postPayment$7() {
        Luxena.Travel.Services.PaymentService.PostPayments([ this.get__payment$7().Id ], null, ss.Delegate.create(this, function(result) {
            var response = result;
            var dto = response.Items[0];
            this.load(dto);
            LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.payment_Caption_List, String.format(Luxena.Travel.Res.paymentView_Posted, this.get__payment$7().Number));
        }), null);
    },
    
    _getPaymentPropertiesControl$7: function Luxena_Travel_PaymentViewForm$_getPaymentPropertiesControl$7() {
        var config = new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([ new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Number, 'Number'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Date, 'Date').setPropertyType(2), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_PostedOn, 'PostedOn').setPropertyType(2), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Payer, 'Payer').setPropertyType(5), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_AssignedTo, 'AssignedTo'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_RegisteredBy, 'RegisteredBy'), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_ReceivedFrom, 'ReceivedFrom').setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.payment_Invoice, 'Invoice').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order, 'Order').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.paymentView_Document, 'DocumentNumber').setCssClass('doc-number').setHideIsEmpty(true).setRenderer(ss.Delegate.create(this, function(propertyItem, value, container) {
            var payment = this.get__payment$7();
            if (value == null) {
                return;
            }
            var text = payment.DocumentNumber;
            if (!!payment.PaymentForm && payment.PaymentForm !== 4) {
                container.append(text);
            }
            else {
                var div = $("<div class='cashorder-link'></div>");
                var link = $('<span></span>').html(text);
                var func = function(id, number) {
                    link.click(function() {
                        Luxena.Travel.ReportPrinter.getCashOrder(id, number);
                    });
                };
                func(payment.Id, payment.DocumentNumber);
                container.append(div.append(link));
            }
        })), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.electronicPayment_AuthorizationCode, 'AuthorizationCode').setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.electronicPayment_PaymentSystem, 'PaymentSystem').setPropertyType(5).setHideIsEmpty(true), new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Note, 'Note').setHideIsEmpty(true) ]).setCssClass('payment-properties');
        return new Luxena.Travel.Controls.PropertyListControl(config);
    },
    
    _getDocumentNumberText$7: function Luxena_Travel_PaymentViewForm$_getDocumentNumberText$7() {
        var text = null;
        switch (this.get__payment$7().PaymentForm) {
            case 1:
                text = Luxena.Travel.Res.wireTransfer_DocumentName;
                break;
            case 2:
                text = Luxena.Travel.Res.checkPayment_DocumentName;
                break;
            case 0:
                text = Luxena.Travel.Res.cashInOrderPayment_DocumentName;
                break;
            case 4:
                text = Luxena.Travel.Res.cashOutOrderPayment_DocumentName;
                break;
            case 3:
                text = Luxena.Travel.Res.electronicPayment_DocumentName;
                break;
        }
        return text + ':';
    },
    
    _paymentPropertiesControl$7: null,
    _paymentAmountControl$7: null,
    _titleLabel$7: null,
    _voidAction$7: null,
    _postAction$7: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CashPaymentRegisterFormArgs

Luxena.Travel.CashPaymentRegisterFormArgs = function Luxena_Travel_CashPaymentRegisterFormArgs(payer, amount, vat, documentIds) {
    this.payer = payer;
    this.amount = amount;
    this.vat = vat;
    this.documentIds = documentIds;
}
Luxena.Travel.CashPaymentRegisterFormArgs.prototype = {
    payer: null,
    amount: null,
    vat: null,
    documentIds: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CashPaymentRegisterForm

Luxena.Travel.CashPaymentRegisterForm = function Luxena_Travel_CashPaymentRegisterForm(args) {
    Luxena.Travel.CashPaymentRegisterForm.initializeBase(this);
    this._args$1 = args;
}
Luxena.Travel.CashPaymentRegisterForm.prototype = {
    
    open: function Luxena_Travel_CashPaymentRegisterForm$open() {
        Luxena.Travel.Services.AppService.GetDocumentOwners(ss.Delegate.create(this, function(result) {
            this._owners$1 = result;
            this._init$1();
            this.get_window().show();
        }), null);
    },
    
    _init$1: function Luxena_Travel_CashPaymentRegisterForm$_init$1() {
        this._saveButton$1 = this.get_form().addButton(LxnBase.BaseRes.save, ss.Delegate.create(this, this.save));
        this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
        this.set_fields(this._addFields$1());
        var list = [];
        list.addRange(this.get_fields());
        list.add(this._saveButton$1);
        list.add(this._cancelButton$1);
        this.set_componentSequence(list);
        this.get_window().setTitle(Luxena.Travel.Res.cashPaymentRegisterForm_Title);
        this.get_window().addClass('cashPaymentForm');
    },
    
    _addFields$1: function Luxena_Travel_CashPaymentRegisterForm$_addFields$1() {
        this._date$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.DomainRes.common_Date).format('d.m.Y').selectOnFocus(true).allowBlank(false).toDictionary());
        this._payerField$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').selectOnFocus(true).allowBlank(false).width(230).fieldLabel(Luxena.Travel.DomainRes.payment_Payer));
        this._numberField$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.cashInOrderPayment_DocumentName).selectOnFocus(true).allowBlank(true).width(230).toDictionary());
        this._amountField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.payment_Amount, true).setAllowBlank(false));
        this._amountField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._vatField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.payment_Vat, true));
        this._receivedFromField$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.DomainRes.payment_ReceivedFrom).selectOnFocus(true).allowBlank(true).width(230).toDictionary());
        if (Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption === 2) {
            this._separateServiceFee$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.order_SeparateServiceFee).toDictionary());
            this._separateServiceFee$1.setValue(true);
        }
        if (this._owners$1.length > 1) {
            this._ownerSelector$1 = new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().name('Office').store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().data(this._owners$1).fields([ 'Id', 'Name' ]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel(Luxena.Travel.DomainRes.common_Owner).width(170).allowBlank(false).toDictionary());
        }
        this._noteField$1 = new Ext.form.TextArea(new Ext.form.TextAreaConfig().name('Note').fieldLabel(Luxena.Travel.DomainRes.common_Note).selectOnFocus(true).allowBlank(true).height(70).width(230).toDictionary());
        this._date$1.setValue(Date.get_today());
        this._payerField$1.setValue(this._args$1.payer);
        this._amountField$1.setValue(this._args$1.amount);
        this._vatField$1.setValue(this._args$1.vat);
        this._createConsignment$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.cashPaymentRegisterForm_DoCreateConsignment.toLowerCase()).toDictionary());
        this._savePosted$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().labelSeparator('').boxLabel(Luxena.Travel.Res.cashInOrderPayment_SavePosted.toLowerCase()).value(true).toDictionary());
        this._savePosted$1.setValue(true);
        var fields = [];
        fields.add(this._date$1);
        fields.add(this._payerField$1.get_widget());
        fields.add(this._numberField$1);
        fields.add(this._amountField$1);
        fields.add(this._vatField$1);
        fields.add(this._receivedFromField$1);
        var formItems = [];
        formItems.addRange(fields);
        if (this._ownerSelector$1 != null) {
            fields.add(this._ownerSelector$1);
            formItems.add(this._ownerSelector$1);
        }
        formItems.add(this._noteField$1);
        if (this._separateServiceFee$1 != null) {
            fields.add(this._separateServiceFee$1);
            formItems.add(this._separateServiceFee$1);
        }
        fields.add(this._createConsignment$1);
        formItems.add(this._createConsignment$1);
        fields.add(this._savePosted$1);
        formItems.add(this._savePosted$1);
        this.get_form().add(new Ext.Panel(new Ext.PanelConfig().items(formItems).layout('form').toDictionary()));
        return fields;
    },
    
    onValidate: function Luxena_Travel_CashPaymentRegisterForm$onValidate() {
        if (this._amountField$1.getValue() == null) {
            return false;
        }
        return true;
    },
    
    onSave: function Luxena_Travel_CashPaymentRegisterForm$onSave() {
        Luxena.Travel.Services.PaymentService.CreateCashPayment(this._getRequest$1(), ss.Delegate.create(this, this.completeSave), null);
    },
    
    onSaved: function Luxena_Travel_CashPaymentRegisterForm$onSaved(result) {
        var response = result;
        var payment = response.Payment;
        var consignment = response.Consignment;
        var msg = String.format(Luxena.Travel.Res.quickCashPayment_Msg, LxnBase.UI.Controls.ObjectLink.render(payment.Id, payment.Number, 'CashInOrderPayment'), LxnBase.UI.Controls.ObjectLink.renderInfo(payment.Order));
        if (!ss.isNullOrUndefined(consignment)) {
            msg += String.format(Luxena.Travel.Res.quickCashPayment_Consiment_Msg, LxnBase.UI.Controls.ObjectLink.render(consignment.Id, consignment.Number, 'Consignment'));
        }
        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.payment_Caption_List, msg);
        Luxena.Travel.ReportPrinter.getCashOrder(payment.Id, payment.Number);
        if (!ss.isNullOrUndefined(consignment)) {
            Luxena.Travel.ReportPrinter.getLastIssuedConsignment(consignment.Id, consignment.Number);
        }
        Luxena.Travel.CashPaymentRegisterForm.callBaseMethod(this, 'onSaved', [ result ]);
    },
    
    _getRequest$1: function Luxena_Travel_CashPaymentRegisterForm$_getRequest$1() {
        var request = new Luxena.Travel.CashInOrderPaymentRequest();
        request.Date = this._date$1.getValue();
        request.Payer = this._payerField$1.getObjectInfo();
        var number = this._numberField$1.getValue();
        request.Number = (!String.isNullOrEmpty(number)) ? number : null;
        request.Amount = this._amountField$1.getValue();
        request.PaymentVat = this._vatField$1.getValue();
        request.Owner = (this._owners$1.length === 1) ? LxnBase.Data.Reference.copy(this._owners$1[0]) : this._ownerSelector$1.getObjectInfo();
        var text = this._receivedFromField$1.getValue();
        if (!!text) {
            request.ReceivedFrom = text;
        }
        text = this._noteField$1.getValue();
        if (!!text) {
            request.Note = text;
        }
        request.IsPosted = this._savePosted$1.getValue();
        switch (Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption) {
            case 1:
                request.SeparateServiceFee = true;
                break;
            case 0:
                request.SeparateServiceFee = false;
                break;
            case 2:
                request.SeparateServiceFee = this._separateServiceFee$1.getValue();
                break;
        }
        request.DocumentIds = this._args$1.documentIds;
        request.CreateConsignment = this._createConsignment$1.getValue();
        return request;
    },
    
    _onAmountChange$1: function Luxena_Travel_CashPaymentRegisterForm$_onAmountChange$1(decimalField, newValue, oldValue) {
        if (!ss.isNullOrUndefined(this._amountField$1.getValue())) {
            this._vatField$1.setValue(this._calculateVat$1());
        }
    },
    
    _calculateVat$1: function Luxena_Travel_CashPaymentRegisterForm$_calculateVat$1() {
        if (this._args$1.vat == null || this._args$1.amount == null || this._amountField$1.getValue() == null) {
            return null;
        }
        var recalculatedVat = new Luxena.Travel.MoneyDto();
        recalculatedVat.Amount = (this._amountField$1.getValue().Amount * this._args$1.vat.Amount) / this._args$1.amount.Amount;
        recalculatedVat.Currency = this._args$1.vat.Currency;
        return recalculatedVat;
    },
    
    _args$1: null,
    _date$1: null,
    _payerField$1: null,
    _numberField$1: null,
    _amountField$1: null,
    _vatField$1: null,
    _receivedFromField$1: null,
    _separateServiceFee$1: null,
    _ownerSelector$1: null,
    _noteField$1: null,
    _createConsignment$1: null,
    _owners$1: null,
    _saveButton$1: null,
    _cancelButton$1: null,
    _savePosted$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ServerEvents

Luxena.Travel.ServerEvents = function Luxena_Travel_ServerEvents() {
}
Luxena.Travel.ServerEvents.prototype = {
    
    add_versionChanged: function Luxena_Travel_ServerEvents$add_versionChanged(value) {
        this.__versionChanged = ss.Delegate.combine(this.__versionChanged, value);
    },
    remove_versionChanged: function Luxena_Travel_ServerEvents$remove_versionChanged(value) {
        this.__versionChanged = ss.Delegate.remove(this.__versionChanged, value);
    },
    
    __versionChanged: null,
    
    add_newAviaDocumentImported: function Luxena_Travel_ServerEvents$add_newAviaDocumentImported(value) {
        this.__newAviaDocumentImported = ss.Delegate.combine(this.__newAviaDocumentImported, value);
    },
    remove_newAviaDocumentImported: function Luxena_Travel_ServerEvents$remove_newAviaDocumentImported(value) {
        this.__newAviaDocumentImported = ss.Delegate.remove(this.__newAviaDocumentImported, value);
    },
    
    __newAviaDocumentImported: null,
    
    add_newTaskAssigned: function Luxena_Travel_ServerEvents$add_newTaskAssigned(value) {
        this.__newTaskAssigned = ss.Delegate.combine(this.__newTaskAssigned, value);
    },
    remove_newTaskAssigned: function Luxena_Travel_ServerEvents$remove_newTaskAssigned(value) {
        this.__newTaskAssigned = ss.Delegate.remove(this.__newTaskAssigned, value);
    },
    
    __newTaskAssigned: null,
    
    add_userRolesChanged: function Luxena_Travel_ServerEvents$add_userRolesChanged(value) {
        this.__userRolesChanged = ss.Delegate.combine(this.__userRolesChanged, value);
    },
    remove_userRolesChanged: function Luxena_Travel_ServerEvents$remove_userRolesChanged(value) {
        this.__userRolesChanged = ss.Delegate.remove(this.__userRolesChanged, value);
    },
    
    __userRolesChanged: null,
    
    setup: function Luxena_Travel_ServerEvents$setup(timeout) {
        this._timeout = timeout;
        this._failureTimeout = timeout;
        this.refresh();
    },
    
    refresh: function Luxena_Travel_ServerEvents$refresh() {
        if (this._isWaitingForResponse) {
            this._refreshData = true;
        }
        else {
            this._clearTimeout();
            this._checkAppStateChanges();
        }
    },
    
    _checkAppStateChanges: function Luxena_Travel_ServerEvents$_checkAppStateChanges() {
        var request = new Luxena.Travel.AppStateRequest();
        request.ClearUserData = this._isFirstCall;
        request.CheckImportedDocuments = !ss.isNullOrUndefined(this.__newAviaDocumentImported);
        request.CheckNewTasks = !ss.isNullOrUndefined(this.__newTaskAssigned);
        request.CheckUserRoleChanges = !ss.isNullOrUndefined(this.__userRolesChanged);
        this._isWaitingForResponse = true;
        Luxena.Travel.Services.AppService.GetAppStateChanges(request, ss.Delegate.create(this, this._load), ss.Delegate.create(this, this._onFailure));
    },
    
    _load: function Luxena_Travel_ServerEvents$_load(result) {
        this._isFirstCall = false;
        this._isWaitingForResponse = false;
        this._failureTimeout = this._timeout;
        var response = result;
        if (Luxena.Travel.AppManager.get_version() !== response.Version && this.__versionChanged != null) {
            this.__versionChanged();
        }
        if (response.ImportedDocuments != null && response.ImportedDocuments.length > 0 && this.__newAviaDocumentImported != null) {
            this.__newAviaDocumentImported(response.ImportedDocuments);
        }
        if (response.AssignedTasks != null && response.AssignedTasks.length > 0 && this.__newTaskAssigned != null) {
            this.__newTaskAssigned(response.AssignedTasks);
        }
        if (response.IsUserRolesChanged && this.__userRolesChanged != null) {
            this.__userRolesChanged();
        }
        if (this._refreshData) {
            this._refreshData = false;
            this._checkAppStateChanges();
        }
        else {
            this._setTimeout(this._timeout);
        }
    },
    
    _setTimeout: function Luxena_Travel_ServerEvents$_setTimeout(timeout) {
        if (!!timeout) {
            this._timeoutId = window.setTimeout(ss.Delegate.create(this, this._checkAppStateChanges), timeout);
        }
    },
    
    _clearTimeout: function Luxena_Travel_ServerEvents$_clearTimeout() {
        if (!this._timeoutId) {
            return;
        }
        window.clearTimeout(this._timeoutId);
        this._timeoutId = 0;
    },
    
    _onFailure: function Luxena_Travel_ServerEvents$_onFailure(args) {
        args.set_handled(true);
        this._failureTimeout *= 2;
        this._setTimeout(this._failureTimeout);
    },
    
    _timeout: 0,
    _failureTimeout: 0,
    _timeoutId: 0,
    _isFirstCall: true,
    _refreshData: false,
    _isWaitingForResponse: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AppManager

Luxena.Travel.AppManager = function Luxena_Travel_AppManager() {
}
Luxena.Travel.AppManager.get_appParameters = function Luxena_Travel_AppManager$get_appParameters() {
    return Luxena.Travel.AppManager._appParameters;
}
Luxena.Travel.AppManager.get_systemConfiguration = function Luxena_Travel_AppManager$get_systemConfiguration() {
    return Luxena.Travel.AppManager._appParameters.SystemConfiguration;
}
Luxena.Travel.AppManager.get_currentPerson = function Luxena_Travel_AppManager$get_currentPerson() {
    return Luxena.Travel.AppManager._appParameters.UserPerson;
}
Luxena.Travel.AppManager.get_currentUser = function Luxena_Travel_AppManager$get_currentUser() {
    return Luxena.Travel.AppManager._appParameters.CurrentUser;
}
Luxena.Travel.AppManager.get_mainPageSettings = function Luxena_Travel_AppManager$get_mainPageSettings() {
    return Luxena.Travel.AppManager._appParameters.MainPageSettings;
}
Luxena.Travel.AppManager.get_allowedActions = function Luxena_Travel_AppManager$get_allowedActions() {
    return Luxena.Travel.AppManager._appParameters.AllowedActions;
}
Luxena.Travel.AppManager.get_departments = function Luxena_Travel_AppManager$get_departments() {
    return Luxena.Travel.AppManager._appParameters.Departments;
}
Luxena.Travel.AppManager.get_bankAccounts = function Luxena_Travel_AppManager$get_bankAccounts() {
    return Luxena.Travel.AppManager._appParameters.BankAccounts;
}
Luxena.Travel.AppManager.get_allowSetDocumentOwner = function Luxena_Travel_AppManager$get_allowSetDocumentOwner() {
    return Luxena.Travel.AppManager._appParameters.Departments.length > 1;
}
Luxena.Travel.AppManager.get_version = function Luxena_Travel_AppManager$get_version() {
    return Luxena.Travel.AppManager._appParameters.Version;
}
Luxena.Travel.AppManager.init = function Luxena_Travel_AppManager$init(parameters) {
    Luxena.Travel.AppManager._appParameters = parameters;
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AirlineListTab

Luxena.Travel.AirlineListTab = function Luxena_Travel_AirlineListTab(tabId, args) {
    Luxena.Travel.AirlineListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AirlineListTab.listObject = function Luxena_Travel_AirlineListTab$listObject(args, newTab) {
    LxnBase.UI.Tabs.open(newTab, args.type, function(tabId) {
        return new Luxena.Travel.AirlineListTab(tabId, args);
    }, args.baseRequest);
}
Luxena.Travel.AirlineListTab.prototype = {
    
    onAddToolbarButtons: function Luxena_Travel_AirlineListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this._applyAirlineStatus$8 = this.getOperationStatus('ApplyAirlineToDocuments');
        if (!this._applyAirlineStatus$8.Visible) {
            return;
        }
        this._applyAirlineAction$8 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.applyToDocuments_Text).handler(ss.Delegate.create(this, this._apply$8)).disabled(this._applyAirlineStatus$8.IsDisabled).custom('tooltip', this._applyAirlineStatus$8.DisableInfo).toDictionary());
        toolbarItems.add(new Ext.Toolbar.Separator());
        toolbarItems.add(this._applyAirlineAction$8);
    },
    
    onSelectionChange: function Luxena_Travel_AirlineListTab$onSelectionChange(model) {
        if (!this._applyAirlineStatus$8.Visible || this._applyAirlineStatus$8.IsDisabled) {
            return;
        }
        if ((model).getCount() === 1) {
            this._applyAirlineAction$8.enable();
        }
        else {
            this._applyAirlineAction$8.disable();
        }
    },
    
    _apply$8: function Luxena_Travel_AirlineListTab$_apply$8() {
        var records = this.get_autoGrid().get_selectionModel().getSelections();
        var ids = [];
        for (var i = 0; i < records.length; i++) {
            ids.add(records[i].id);
        }
        var form = new Luxena.Travel.SetDataToDocumentsForm(Luxena.Travel.Res.applyAirline_Title, 'Airline');
        form.add_saved(function(result) {
            if (!result) {
                return;
            }
            var msg = LxnBase.StringUtility.getNumberText(result, Luxena.Travel.Res.appliedDataToDocuments_Text1, Luxena.Travel.Res.appliedDataToDocuments_Text2, Luxena.Travel.Res.appliedDataToDocuments_Text3);
            LxnBase.MessageRegister.info(Luxena.Travel.Res.applyAirline_Title, msg);
        });
        form.open(ids);
    },
    
    _applyAirlineAction$8: null,
    _applyAirlineStatus$8: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentListTab

Luxena.Travel.AviaDocumentListTab = function Luxena_Travel_AviaDocumentListTab(tabId, args) {
    Luxena.Travel.AviaDocumentListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.AviaDocumentListTab.listObject = function Luxena_Travel_AviaDocumentListTab$listObject(args, newTab) {
    Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType(Luxena.Travel.AviaDocumentListTab, args, newTab);
}
Luxena.Travel.AviaDocumentListTab.baseTryProcess = function Luxena_Travel_AviaDocumentListTab$baseTryProcess(autoGrid, baseParams, saveAndContinueAction) {
    var record = autoGrid.get_selectionModel().getSelected();
    var type = record.data[LxnBase.Data.ObjectPropertyNames.objectClass];
    Luxena.Travel.Services.AviaService.CanProcess(record.id, type, function(result) {
        var response = result;
        var canProcess = new LxnBase.Data.OperationStatus();
        if (Object.keyExists(response.CustomActionPermissions, 'CanProcess')) {
            canProcess = response.CustomActionPermissions['CanProcess'];
        }
        if (!response.CanUpdate.IsEnabled) {
            LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.error, msg: response.CanUpdate.DisableInfo || LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg, icon: Ext.MessageBox.ERROR, buttons: Ext.MessageBox.OK });
            return;
        }
        if (!canProcess.IsEnabled) {
            LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.warning, msg: canProcess.DisableInfo, icon: Ext.MessageBox.WARNING, buttons: Ext.MessageBox.YESNO, fn: function(button, text) {
                if (button !== 'yes') {
                    return;
                }
                LxnBase.UI.FormsRegistry.editObject(type, record.id, null, function(arg1) {
                    var itemResponse = (arg1);
                    var obj = itemResponse.Item;
                    var rangeResponse = itemResponse.RangeResponse;
                    var message = LxnBase.BaseRes.updated + ' ' + obj[LxnBase.Data.ObjectPropertyNames.reference];
                    if (ss.isNullOrUndefined(rangeResponse.SelectedRow)) {
                        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List, message, LxnBase.BaseRes.autoGrid_NotDisplay_Msg);
                        return;
                    }
                    LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List, message);
                    (autoGrid.store.proxy).setResponse(rangeResponse);
                    autoGrid.reload(false);
                    autoGrid.get_selectionModel().selectRow(rangeResponse.SelectedRow);
                }, null, baseParams);
            } });
            return;
        }
        Luxena.Travel.AviaDocumentListTab._process$11(autoGrid, record.id, type, response.Args, saveAndContinueAction);
    }, null);
}
Luxena.Travel.AviaDocumentListTab._process$11 = function Luxena_Travel_AviaDocumentListTab$_process$11(AutoGrid, docId, type, args, saveAndContinueAction) {
    var store = AutoGrid.store;
    args.AllowSaveAndContinue = saveAndContinueAction != null;
    var form = new Luxena.Travel.AviaDocumentProcessForm(args);
    form.add_saved(function(response) {
        var dtos = response;
        var ids = [];
        var $enum1 = ss.IEnumerator.getEnumerator(dtos);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            ids.add(dto.Id);
        }
        if (saveAndContinueAction != null && form.get_saveAndContinue()) {
            saveAndContinueAction(form, store.indexOf(AutoGrid.get_selectionModel().getSelected()), ids);
        }
        AutoGrid.reload(false);
    });
    form.open(docId, type);
}
Luxena.Travel.AviaDocumentListTab.prototype = {
    
    handleAltEnterPress: function Luxena_Travel_AviaDocumentListTab$handleAltEnterPress() {
        if (!!this.get_autoGrid().get_selectionModel().getSelections().length) {
            this._tryProcess$11();
        }
    },
    
    handleInsertPress: function Luxena_Travel_AviaDocumentListTab$handleInsertPress() {
        this.create('AviaTicket');
    },
    
    onAddToolbarButtons: function Luxena_Travel_AviaDocumentListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        if (this.get_listConfig().IsEditAllowed.Visible) {
            this._handleButton$11 = this.action(Luxena.Travel.Res.aviaDocument_Handle_Action.toLowerCase(), ss.Delegate.create(this, this._tryProcess$11), true, this.get_listConfig().IsEditAllowed.DisableInfo);
            this.createVoidAction(ss.Delegate.create(this, this._voidDocuments$11));
        }
        this._printButton$11 = this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(), ss.Delegate.create(this, this._printDocuments$11), true);
        if (this.get_listConfig().IsEditAllowed.Visible) {
            this.menuAction(LxnBase.BaseRes.createItem_Lower, [ this.menuItem(Luxena.Travel.DomainRes.aviaTicket, ss.Delegate.create(this, function() {
                this.create('AviaTicket');
            })), this.menuItem(Luxena.Travel.DomainRes.aviaMco, ss.Delegate.create(this, function() {
                this.create('AviaMco');
            })), this.menuItem(Luxena.Travel.DomainRes.aviaRefund, ss.Delegate.create(this, function() {
                this.create('AviaRefund');
            })), Luxena.Travel.AppActions.aviaConsoleParser ]);
        }
        this.createStdToolbarActions();
        if (autoGrid != null) {
            if (toolbarItems.contains(autoGrid.get_createAction())) {
                toolbarItems.remove(autoGrid.get_createAction());
            }
            if (toolbarItems.contains(autoGrid.get_exportAction())) {
                toolbarItems.remove(autoGrid.get_exportAction());
            }
        }
        toolbarItems.insertRange(0, this.toolbarActions);
    },
    
    onRowChange: function Luxena_Travel_AviaDocumentListTab$onRowChange(selections) {
        Luxena.Travel.AviaDocumentListTab.callBaseMethod(this, 'onRowChange', [ selections ]);
        if (this._handleButton$11 != null && !this.get_listConfig().IsEditAllowed.IsDisabled) {
            this._handleButton$11.setDisabled(selections.length !== 1);
        }
        this._printButton$11.setDisabled(!selections.length || !this.isTickets);
    },
    
    createColumnConfigs: function Luxena_Travel_AviaDocumentListTab$createColumnConfigs() {
        var v = new Luxena.Travel.SemanticDomain(this).AviaDocument;
        this.addColumns([ v.IssueDate, this.columnCfg('Type'), v.Producer.toColumn(true), v.AirlinePrefixCode.toColumn(false, 50, Luxena.Travel.CellRenderers.right), v.Number.toColumn(false, 70, v.getNumberRenderer()), v.ReissueFor.toColumn(true), v.PassengerName.toColumn(false, 165, Luxena.Travel.ProductSemantic.onePassengerNameRenderer), v.Customer, v.PaymentType, v.EqualFare, v.Commission, v.Total, v.ServiceFee, v.FeesTotal.toColumn(true), v.Vat.toColumn(true), v.GrandTotal, v.Order, v.Seller, v.IsPaid, v.PnrCode.toColumn(true, 70), this.columnCfg('ConjunctionNumbers', true), v.GdsPassportStatus.toColumn(true, 100), this.columnCfg('GdsPassport', true, 135), this.columnCfg('Itinerary', true, 80), v.Intermediary.toColumn(true) ]);
        if (Luxena.Travel.ProductListTab.get_useHandling()) {
            this.addColumns([ v.Handling.toColumn(true), v.CommissionDiscount.toColumn(true) ]);
        }
        this.addColumns([ v.Discount.toColumn(true), v.BonusDiscount.toColumn(true), v.BonusAccumulation.toColumn(true), v.BookerOffice.toColumn(true), v.BookerCode.toColumn(true), v.Booker.toColumn(true), v.TicketerOffice.toColumn(true), v.TicketerCode.toColumn(true), v.Ticketer.toColumn(true), v.TicketingIataOffice.toColumn(true), v.Owner.toColumn(true), v.Originator.toColumn(true), this.columnCfg('Origin', true), this.columnCfg('AirlinePnrCode', true), v.TourCode.toColumn(true), v.IsProcessed.toColumn(true), v.IsVoid.toColumn(true), v.RequiresProcessing.toColumn(true), v.Note.toColumn(true), v.CreatedOn.toColumn(true), v.CreatedBy.toColumn(true), v.ModifiedOn.toColumn(true), v.ModifiedBy.toColumn(true) ]);
    },
    
    _tryProcess$11: function Luxena_Travel_AviaDocumentListTab$_tryProcess$11() {
        Luxena.Travel.AviaDocumentListTab.baseTryProcess(this.get_autoGrid(), this._baseParams, ss.Delegate.create(this, function(form, index, ids) {
            this._form$11 = form;
            this._selectedIndex$11 = index;
            this._processedDocumentIds$11 = ids;
        }));
    },
    
    _voidDocuments$11: function Luxena_Travel_AviaDocumentListTab$_voidDocuments$11() {
        this.voidObjects(Luxena.Travel.Services.AviaService.CanUpdate, Luxena.Travel.Services.AviaService.ChangeVoidStatus);
    },
    
    _printDocuments$11: function Luxena_Travel_AviaDocumentListTab$_printDocuments$11() {
        var value = JSON.stringify(this.getSelectedIds());
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/ticket/Tickets_{0}.pdf', Date.get_now().format('Y-m-d_H-i-s')), { tickets: value });
    },
    
    onStoreLoad: function Luxena_Travel_AviaDocumentListTab$onStoreLoad(sender, records, options) {
        if (ss.isNullOrUndefined(this._form$11)) {
            return;
        }
        this._findUnprocessedDocument$11(records);
    },
    
    _findUnprocessedDocument$11: function Luxena_Travel_AviaDocumentListTab$_findUnprocessedDocument$11(records) {
        while (this._selectedIndex$11 < records.length) {
            var record = records[this._selectedIndex$11];
            if ((record.get('RequiresProcessing')) && !this._processedDocumentIds$11.contains(record.id)) {
                LxnBase.Services.GenericService.CanUpdate('AviaDocument', record.id, ss.Delegate.create(this, function(res) {
                    if (!res) {
                        ++this._selectedIndex$11;
                        this._findUnprocessedDocument$11(records);
                        return;
                    }
                    this._form$11.set_saveAndContinue(true);
                    this.get_autoGrid().get_selectionModel().selectRow(this._selectedIndex$11);
                    this._form$11.open(record.id, record.data[LxnBase.Data.ObjectPropertyNames.objectClass]);
                    this._form$11 = null;
                }), null);
                return;
            }
            ++this._selectedIndex$11;
        }
        this._form$11.closeWindow();
        this._form$11 = null;
    },
    
    _handleButton$11: null,
    _printButton$11: null,
    _form$11: null,
    _selectedIndex$11: 0,
    _processedDocumentIds$11: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentSelectForm

Luxena.Travel.AviaDocumentSelectForm = function Luxena_Travel_AviaDocumentSelectForm(args, config) {
    Luxena.Travel.AviaDocumentSelectForm.initializeBase(this, [ args, config ]);
    this.set_width(850);
    this.set_height(450);
}
Luxena.Travel.AviaDocumentSelectForm._selectObject$1 = function Luxena_Travel_AviaDocumentSelectForm$_selectObject$1(args) {
    LxnBase.Data.ConfigManager.getListConfig(args.type, function(config) {
        new Luxena.Travel.AviaDocumentSelectForm(args, config).open();
    });
}
Luxena.Travel.AviaDocumentSelectForm.prototype = {
    
    onInitGrid: function Luxena_Travel_AviaDocumentSelectForm$onInitGrid(args, config) {
        args.forcedProperties = [ 'RequiresProcessing', 'IsVoid' ];
        args.columnsConfig = this._createColumnsConfig$1();
        config.view(new Luxena.Travel.ProductGridView(args.columnsConfig));
    },
    
    _createColumnsConfig$1: function Luxena_Travel_AviaDocumentSelectForm$_createColumnsConfig$1() {
        var columns = [];
        columns.add(this._getColumnConfig$1('IssueDate', false, 70));
        columns.add(this._getColumnConfig$1('Type', false, 45));
        columns.add(this._getColumnConfig$1('Producer', true));
        columns.add(this._getColumnConfig$1('AirlinePrefixCode', false, 55));
        columns.add(this._getColumnConfig$1('Number', false, 70, function(value) {
            return value;
        }));
        columns.add(this._getColumnConfig$1('ConjunctionNumbers', true));
        columns.add(this._getColumnConfig$1('PassengerName', false, 145));
        columns.add(this._getColumnConfig$1('Intermediary', true));
        columns.add(this._getColumnConfig$1('Customer', false, 140));
        columns.add(this._getColumnConfig$1('PaymentForm', true));
        columns.add(this._getColumnConfig$1('EqualFare', false, 85));
        columns.add(this._getColumnConfig$1('FeesTotal', false, 85));
        columns.add(this._getColumnConfig$1('Total', false, 85));
        columns.add(this._getColumnConfig$1('ServiceFee', true));
        columns.add(this._getColumnConfig$1('Discount', true));
        columns.add(this._getColumnConfig$1('GrandTotal', true, 95));
        columns.add(this._getColumnConfig$1('Commission', true));
        columns.add(this._getColumnConfig$1('BookerOffice', true));
        columns.add(this._getColumnConfig$1('BookerCode', true));
        columns.add(this._getColumnConfig$1('Booker', true));
        columns.add(this._getColumnConfig$1('TicketerOffice', true));
        columns.add(this._getColumnConfig$1('TicketerCode', true));
        columns.add(this._getColumnConfig$1('Ticketer', true));
        columns.add(this._getColumnConfig$1('Seller', true, 110));
        columns.add(this._getColumnConfig$1('Originator', true));
        columns.add(this._getColumnConfig$1('Origin', true));
        columns.add(this._getColumnConfig$1('PnrCode', true));
        columns.add(this._getColumnConfig$1('AirlinePnrCode', true));
        columns.add(this._getColumnConfig$1('TourCode', true));
        columns.add(this._getColumnConfig$1('IsProcessed', true, 70));
        columns.add(this._getColumnConfig$1('IsVoid', true, 70));
        columns.add(this._getColumnConfig$1('RequiresProcessing', true, 70));
        columns.add({ id: LxnBase.Data.ObjectPropertyNames.id, header: 'Id', sortable: false, dataIndex: LxnBase.Data.ObjectPropertyNames.id, hidden: true });
        columns.add(this._getColumnConfig$1('CreatedOn', true));
        columns.add(this._getColumnConfig$1('CreatedBy', true));
        columns.add(this._getColumnConfig$1('ModifiedOn', true));
        columns.add(this._getColumnConfig$1('ModifiedBy', true));
        return columns;
    },
    
    _getColumnConfig$1: function Luxena_Travel_AviaDocumentSelectForm$_getColumnConfig$1(name, hidden, width, renderer) {
        var columnConfig = this._getColumnConfigByName$1(name);
        var config = new Ext.grid.ColumnConfig().id(columnConfig.Name).header(columnConfig.Caption).sortable(columnConfig.IsPersistent).dataIndex(columnConfig.Name).hidden(hidden);
        if ((renderer = renderer || LxnBase.UI.AutoControls.ControlFactory.createRenderer(columnConfig)) != null) {
            config.renderer(renderer);
        }
        if (!ss.isNullOrUndefined(width)) {
            config.width(width);
        }
        return config.toDictionary();
    },
    
    _getColumnConfigByName$1: function Luxena_Travel_AviaDocumentSelectForm$_getColumnConfigByName$1(name) {
        var columnConfigs = this.get_listConfig().Columns;
        for (var i = 0; i < columnConfigs.length; i++) {
            if (columnConfigs[i].Name === name) {
                return columnConfigs[i];
            }
        }
        throw new Error('Unknown column ' + name);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PenalizeOperationEditForm

Luxena.Travel.PenalizeOperationEditForm = function Luxena_Travel_PenalizeOperationEditForm(operations, allowAfterDeparturePenalties) {
    this._changesBeforeCombobox$1 = new Ext.form.ComboBox();
    this._changesBeforeTextField$1 = new Ext.form.TextField();
    this._refundBeforeCombobox$1 = new Ext.form.ComboBox();
    this._refundBeforeTextField$1 = new Ext.form.TextField();
    this._noshowBeforeCombobox$1 = new Ext.form.ComboBox();
    this._noshowBeforeTextField$1 = new Ext.form.TextField();
    this._changesAfterCombobox$1 = new Ext.form.ComboBox();
    this._changesAfterTextField$1 = new Ext.form.TextField();
    this._refundAfterCombobox$1 = new Ext.form.ComboBox();
    this._refundAfterTextField$1 = new Ext.form.TextField();
    this._noshowAfterCombobox$1 = new Ext.form.ComboBox();
    this._noshowAfterTextField$1 = new Ext.form.TextField();
    Luxena.Travel.PenalizeOperationEditForm.initializeBase(this);
    this._operations$1 = operations || [];
    this._allowAfterDeparturePenalties$1 = allowAfterDeparturePenalties;
    this._createFormItems$1();
    this._setPenalizeOperations$1();
    this.get_window().addClass('penalize-operation');
    this.get_window().setTitle(Luxena.Travel.Res.penalizeOperationEditForm_Caption);
}
Luxena.Travel.PenalizeOperationEditForm.prototype = {
    
    open: function Luxena_Travel_PenalizeOperationEditForm$open() {
        this.get_window().show();
    },
    
    onSave: function Luxena_Travel_PenalizeOperationEditForm$onSave() {
        this.completeSave(this._getPenalizeOperations$1());
    },
    
    _createFormItems$1: function Luxena_Travel_PenalizeOperationEditForm$_createFormItems$1() {
        var beforePanel = new Ext.Panel(new Ext.PanelConfig().layout('form').items([ new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'div', html: Luxena.Travel.Res.aviaTicket_BeforeDeparture }).cls('penalties-caption').toDictionary()), this._penaltyRow$1(Luxena.Travel.Res.aviaTicket_ChangesPenalty, 0), this._penaltyRow$1(Luxena.Travel.Res.aviaTicket_RefundPenalty, 2), this._penaltyRow$1(Luxena.Travel.Res.aviaTicket_NoShowPenalty_Short, 4) ]).toDictionary());
        this.get_form().add(beforePanel);
        if (this._allowAfterDeparturePenalties$1) {
            var afterPanel = new Ext.Panel(new Ext.PanelConfig().layout('form').cls('afterDeparture-panel').items([ new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'div', html: Luxena.Travel.Res.aviaTicket_AfterDeparture }).cls('penalties-caption').toDictionary()), this._penaltyRow$1(Luxena.Travel.Res.aviaTicket_ChangesPenalty, 1), this._penaltyRow$1(Luxena.Travel.Res.aviaTicket_RefundPenalty, 3), this._penaltyRow$1(Luxena.Travel.Res.aviaTicket_NoShowPenalty_Short, 5) ]).toDictionary());
            this.get_form().add(afterPanel);
        }
        this._saveButton$1 = this.get_form().addButton(LxnBase.BaseRes.save, ss.Delegate.create(this, this.save));
        this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
        var fields = [];
        fields.addRange([ this._changesBeforeCombobox$1, this._changesBeforeTextField$1, this._refundBeforeCombobox$1, this._refundBeforeTextField$1, this._noshowBeforeCombobox$1, this._noshowBeforeTextField$1 ]);
        if (this._allowAfterDeparturePenalties$1) {
            fields.addRange([ this._changesAfterCombobox$1, this._changesAfterTextField$1, this._refundAfterCombobox$1, this._refundAfterTextField$1, this._noshowAfterCombobox$1, this._noshowAfterTextField$1 ]);
        }
        this.set_fields(fields);
        var components = [];
        components.addRange(fields);
        components.add(this._saveButton$1);
        components.add(this._cancelButton$1);
        this.set_componentSequence(components);
    },
    
    _penaltyRow$1: function Luxena_Travel_PenalizeOperationEditForm$_penaltyRow$1(fieldText, type) {
        var comboBox = this._getPenaltyStatusCombo$1(type);
        var field = this._getPenaltyDescriptionField$1(type);
        var items = [];
        items.add([ 0, Luxena.Travel.DomainRes.penalizeOperationStatus_NotAllowed ]);
        items.add([ 1, Luxena.Travel.DomainRes.penalizeOperationStatus_NotChargeable ]);
        items.add([ 2, Luxena.Travel.DomainRes.penalizeOperationStatus_Chargeable ]);
        var store = new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data(items).toDictionary());
        comboBox.store = store;
        comboBox.fieldLabel = fieldText.toLowerCase();
        comboBox.typeAhead = true;
        comboBox.mode = 'local';
        comboBox.forceSelection = true;
        comboBox.displayField = 'Name';
        comboBox.valueField = 'Id';
        comboBox.triggerAction = 'all';
        comboBox.selectOnFocus = true;
        comboBox.width = 100;
        field.hideLabel = true;
        field.labelSeparator = '';
        field.addClass('description');
        field.setDisabled(true);
        field.selectOnFocus = true;
        field.width = 170;
        var changeField = function(status) {
            if (status !== 2) {
                field.setValue('');
                field.setDisabled(true);
            }
            else {
                field.setDisabled(false);
            }
        };
        comboBox.on('select', function(combo, record, index) {
            changeField(record.get('Id'));
        });
        comboBox.on('change', function(objthis, newValue, oldValue) {
            changeField(newValue);
        });
        return new Ext.Panel(new Ext.form.FormPanelConfig().layout('form').itemCls('float-left').labelAlign('left').labelWidth(80).items([ comboBox, field ]).toDictionary());
    },
    
    _setPenalizeOperations$1: function Luxena_Travel_PenalizeOperationEditForm$_setPenalizeOperations$1() {
        this._setPenalizeOperation$1(0);
        this._setPenalizeOperation$1(1);
        this._setPenalizeOperation$1(2);
        this._setPenalizeOperation$1(3);
        this._setPenalizeOperation$1(4);
        this._setPenalizeOperation$1(5);
    },
    
    _setPenalizeOperation$1: function Luxena_Travel_PenalizeOperationEditForm$_setPenalizeOperation$1(type) {
        var comboBox = this._getPenaltyStatusCombo$1(type);
        var textField = this._getPenaltyDescriptionField$1(type);
        var operation = this._findOperation$1(type);
        if (operation == null) {
            return;
        }
        comboBox.setValue(operation.Status);
        if (operation.Status === 2) {
            textField.setValue(operation.Description);
            textField.setDisabled(false);
        }
        else {
            textField.setDisabled(true);
        }
    },
    
    _getPenalizeOperations$1: function Luxena_Travel_PenalizeOperationEditForm$_getPenalizeOperations$1() {
        var list = [];
        this._tryAddPenalizeOperation$1(list, 0);
        this._tryAddPenalizeOperation$1(list, 1);
        this._tryAddPenalizeOperation$1(list, 2);
        this._tryAddPenalizeOperation$1(list, 3);
        this._tryAddPenalizeOperation$1(list, 4);
        this._tryAddPenalizeOperation$1(list, 5);
        return list;
    },
    
    _tryAddPenalizeOperation$1: function Luxena_Travel_PenalizeOperationEditForm$_tryAddPenalizeOperation$1(list, operationType) {
        var comboBox = this._getPenaltyStatusCombo$1(operationType);
        var field = this._getPenaltyDescriptionField$1(operationType);
        var value = comboBox.getValue();
        if (ss.isNullOrUndefined(value) || value === '') {
            return;
        }
        var operation = new Luxena.Travel.PenalizeOperationDto();
        operation.Type = operationType;
        operation.Status = value;
        if (operation.Status === 2) {
            operation.Description = field.getValue();
        }
        list.add(operation);
    },
    
    _findOperation$1: function Luxena_Travel_PenalizeOperationEditForm$_findOperation$1(type) {
        var $enum1 = ss.IEnumerator.getEnumerator(this._operations$1);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            if (dto.Type === type) {
                return dto;
            }
        }
        return null;
    },
    
    _getPenaltyStatusCombo$1: function Luxena_Travel_PenalizeOperationEditForm$_getPenaltyStatusCombo$1(operationType) {
        switch (operationType) {
            case 0:
                return this._changesBeforeCombobox$1;
            case 1:
                return this._changesAfterCombobox$1;
            case 2:
                return this._refundBeforeCombobox$1;
            case 3:
                return this._refundAfterCombobox$1;
            case 4:
                return this._noshowBeforeCombobox$1;
            case 5:
                return this._noshowAfterCombobox$1;
        }
        return null;
    },
    
    _getPenaltyDescriptionField$1: function Luxena_Travel_PenalizeOperationEditForm$_getPenaltyDescriptionField$1(operationType) {
        switch (operationType) {
            case 0:
                return this._changesBeforeTextField$1;
            case 1:
                return this._changesAfterTextField$1;
            case 2:
                return this._refundBeforeTextField$1;
            case 3:
                return this._refundAfterTextField$1;
            case 4:
                return this._noshowBeforeTextField$1;
            case 5:
                return this._noshowAfterTextField$1;
        }
        return null;
    },
    
    _operations$1: null,
    _allowAfterDeparturePenalties$1: false,
    _saveButton$1: null,
    _cancelButton$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.HomeSettingsForm

Luxena.Travel.HomeSettingsForm = function Luxena_Travel_HomeSettingsForm() {
    Luxena.Travel.HomeSettingsForm.initializeBase(this);
    this.get_window().cls += ' home-settings-form';
    this.get_window().setTitle(Luxena.Travel.Res.homeSettingsForm_Title);
    this.get_form().labelWidth = 150;
    this._createFormItems$1();
    this._applyButton$1 = this.get_form().addButton(Luxena.Travel.Res.apply, ss.Delegate.create(this, this.save));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this.set_fields([ this._fromField$1, this._toField$1 ]);
    this.set_componentSequence([ this._fromField$1, this._toField$1, this._applyButton$1, this._cancelButton$1 ]);
}
Luxena.Travel.HomeSettingsForm.prototype = {
    
    open: function Luxena_Travel_HomeSettingsForm$open() {
        this.get_window().show();
    },
    
    get_from: function Luxena_Travel_HomeSettingsForm$get_from() {
        return this._fromField$1.getValue();
    },
    set_from: function Luxena_Travel_HomeSettingsForm$set_from(value) {
        this._fromField$1.setValue(value);
        return value;
    },
    
    get_to: function Luxena_Travel_HomeSettingsForm$get_to() {
        return this._toField$1.getValue();
    },
    set_to: function Luxena_Travel_HomeSettingsForm$set_to(value) {
        this._toField$1.setValue(value);
        return value;
    },
    
    _createFormItems$1: function Luxena_Travel_HomeSettingsForm$_createFormItems$1() {
        this._fromField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.homeSettingsForm_Reports).format('d.m.Y').toDictionary());
        this._toField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().hideLabel(true).format('d.m.Y').toDictionary());
        var separator = new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'div', html: '&nbsp;-&nbsp;' }).cls('x-form-item float-left box-label').toDictionary());
        var panel = new Ext.Panel(new Ext.PanelConfig().layout('form').itemCls('float-left').items([ this._fromField$1, separator, this._toField$1 ]).toDictionary());
        this.get_form().add(panel);
    },
    
    onValidate: function Luxena_Travel_HomeSettingsForm$onValidate() {
        if (!!this._fromField$1.getRawValue() && !!this._toField$1.getRawValue()) {
            var days = (this._toField$1.getValue() - this._fromField$1.getValue()) / Luxena.Travel.HomeSettingsForm._msecsInDay$1 + 1;
            if (days > 10) {
                this._fromField$1.markInvalid(Luxena.Travel.Res.homeSettingsForm_IntervalTooBig);
                return false;
            }
            if (days < 0) {
                this._fromField$1.markInvalid(Luxena.Travel.Res.homeSettingsForm_IntervalTooSmall);
                return false;
            }
        }
        return true;
    },
    
    onSave: function Luxena_Travel_HomeSettingsForm$onSave() {
        this.completeSave(null);
    },
    
    _fromField$1: null,
    _toField$1: null,
    _applyButton$1: null,
    _cancelButton$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductListTab

Luxena.Travel.ProductListTab = function Luxena_Travel_ProductListTab(tabId, args) {
    Luxena.Travel.ProductListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.ProductListTab._getVoidingConfirmationText$10 = function Luxena_Travel_ProductListTab$_getVoidingConfirmationText$10(isVoid, number) {
    var msg1 = (isVoid) ? Luxena.Travel.Res.document_Restore_Confirmation1 : Luxena.Travel.Res.document_Void_Confirmation1;
    var msg2 = (isVoid) ? Luxena.Travel.Res.document_Restore_Confirmation2 : Luxena.Travel.Res.document_Void_Confirmation2;
    var msg3 = (isVoid) ? Luxena.Travel.Res.document_Restore_Confirmation3 : Luxena.Travel.Res.document_Void_Confirmation3;
    return LxnBase.StringUtility.getNumberText(number, msg1, msg2, msg3);
}
Luxena.Travel.ProductListTab.get_useHandling = function Luxena_Travel_ProductListTab$get_useHandling() {
    return Luxena.Travel.AppManager.get_systemConfiguration().UseAviaHandling;
}
Luxena.Travel.ProductListTab.prototype = {
    _voidButton: null,
    _createOrderButton: null,
    _createPaymentButton: null,
    _separateServiceFee: null,
    isTickets: false,
    isVoid: false,
    
    isRefund: function Luxena_Travel_ProductListTab$isRefund() {
        return false;
    },
    
    useManyPassengers: function Luxena_Travel_ProductListTab$useManyPassengers() {
        return false;
    },
    
    onInitGrid: function Luxena_Travel_ProductListTab$onInitGrid(args, config) {
        Luxena.Travel.ProductListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        args.listConfig.IsCreationAllowed.Visible = true;
        args.forcedProperties = [ 'Name', 'RequiresProcessing', 'IsRefund', 'IsVoid', (this.useManyPassengers()) ? 'PassengerDtos' : 'Passenger' ];
        args.baseRequest.setDefaultSort('IssueDate');
        config.view(new Luxena.Travel.ProductGridView(null));
    },
    
    onAddToolbarButtons: function Luxena_Travel_ProductListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        this.createVoidAction(ss.Delegate.create(this, this.voidProducts));
        this.createStdToolbarActions();
        toolbarItems.insertRange(0, this.toolbarActions);
    },
    
    createVoidAction: function Luxena_Travel_ProductListTab$createVoidAction(voidAction) {
        if (this.get_listConfig().IsEditAllowed.Visible) {
            this._voidButton = this.action(Luxena.Travel.Res.void_Action.toLowerCase(), voidAction, true, this.get_listConfig().IsEditAllowed.DisableInfo);
        }
    },
    
    createStdToolbarActions: function Luxena_Travel_ProductListTab$createStdToolbarActions() {
        var createOrderMenuItems = [];
        createOrderMenuItems.addRange([ this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderNew.toLowerCase(), ss.Delegate.create(this, function() {
            this._createNewOrder$10();
        })), this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderExist.toLowerCase(), ss.Delegate.create(this, function() {
            this._tryAddToExistingOrder$10();
        })) ]);
        if (Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption === 2) {
            this._separateServiceFee = new Ext.menu.CheckItem(new Ext.menu.CheckItemConfig().hideOnClick(false).checked_(true).text(Luxena.Travel.Res.order_SeparateServiceFee).toDictionary());
            createOrderMenuItems.addRange([ '-', this._separateServiceFee ]);
        }
        this._createOrderButton = this.menuAction(Luxena.Travel.Res.aviaDocument_AddToOrder.toLowerCase(), createOrderMenuItems, true);
        this._createPaymentButton = this.action(Luxena.Travel.Res.aviaDocumentList_CreateCashPayment, ss.Delegate.create(this, this._tryCreateCashPayment$10), true);
    },
    
    createCustomColumnConfigs: function Luxena_Travel_ProductListTab$createCustomColumnConfigs() {
        throw new Error('NotImplemented');
    },
    
    createColumnConfigs: function Luxena_Travel_ProductListTab$createColumnConfigs() {
        var se = new Luxena.Travel.SemanticDomain(this).Product;
        this.addColumns([ se.IssueDate, this.columnCfg('Type') ]);
        this.createCustomColumnConfigs();
        this.addColumns([ se.ReissueFor.toColumn(true), se.Customer, se.PaymentType, se.Fare, se.EqualFare, se.ConsolidatorCommission.toColumn(true), se.Commission, se.Total, se.ServiceFee, se.BookingFee.toColumn(true) ]);
        if (this.isRefund()) {
            this.addColumns([ se.CancelFee ]);
        }
        this.addColumns([ se.FeesTotal.toColumn(true), se.Vat.toColumn(true), se.GrandTotal, se.Order, se.Seller, se.Booker.toColumn(true), se.BookerCode.toColumn(true), se.BookerOffice.toColumn(true), se.Ticketer.toColumn(true), se.TicketerCode.toColumn(true), se.TicketerOffice.toColumn(true), se.IsPaid ]);
        if (Luxena.Travel.ProductListTab.get_useHandling()) {
            this.addColumns([ se.Handling.toColumn(true), se.CommissionDiscount.toColumn(true) ]);
        }
        this.addColumns([ se.Discount.toColumn(true), se.BonusDiscount.toColumn(true), se.BonusAccumulation.toColumn(true), se.Owner.toColumn(false), se.LegalEntity.toColumn(true), se.IsProcessed.toColumn(true), se.IsVoid.toColumn(true), se.RequiresProcessing.toColumn(true), se.Note.toColumn(true), se.CreatedOn.toColumn(true), se.CreatedBy.toColumn(true), se.ModifiedOn.toColumn(true), se.ModifiedBy.toColumn(true), new Ext.grid.ColumnConfig().header('Id').dataIndex('Id').hidden(true).toDictionary() ]);
    },
    
    onSelectionChange: function Luxena_Travel_ProductListTab$onSelectionChange(selectionModel) {
        var model = selectionModel;
        var selections = model.getSelections();
        if (this._voidButton != null && !this.get_listConfig().IsEditAllowed.IsDisabled) {
            if (!selections.length) {
                this._voidButton.disable();
            }
            else {
                var isVoid = selections[0].data.IsVoid;
                var voidDisable = false;
                var $enum1 = ss.IEnumerator.getEnumerator(selections);
                while ($enum1.moveNext()) {
                    var row = $enum1.current;
                    if (!voidDisable && row.data.IsVoid !== isVoid) {
                        voidDisable = true;
                    }
                }
                if (!voidDisable) {
                    this._voidButton.enable();
                    this._voidButton.setText((isVoid) ? Luxena.Travel.Res.restore_Action.toLowerCase() : Luxena.Travel.Res.void_Action.toLowerCase());
                }
                else {
                    this._voidButton.disable();
                }
            }
        }
        if (!selections.length) {
            this._createOrderButton.disable();
            this._createPaymentButton.disable();
        }
        else {
            this.isTickets = true;
            this.isVoid = false;
            var isRefund = false;
            var $enum2 = ss.IEnumerator.getEnumerator(selections);
            while ($enum2.moveNext()) {
                var row = $enum2.current;
                if (row.data[LxnBase.Data.ObjectPropertyNames.objectClass] !== 'AviaTicket') {
                    this.isTickets = false;
                }
                if (row.data.IsRefund) {
                    isRefund = true;
                }
                if (row.data.IsVoid) {
                    this.isVoid = true;
                }
            }
            if (this.isVoid) {
                this._createOrderButton.disable();
            }
            else {
                this._createOrderButton.enable();
            }
            if (this.isVoid || isRefund) {
                this._createPaymentButton.disable();
            }
            else {
                this._createPaymentButton.enable();
            }
        }
        this.onRowChange(selections);
    },
    
    onRowChange: function Luxena_Travel_ProductListTab$onRowChange(selections) {
    },
    
    voidProducts: function Luxena_Travel_ProductListTab$voidProducts() {
        this.voidObjects(Luxena.Travel.Services.ProductService.CanUpdate, Luxena.Travel.Services.ProductService.ChangeVoidStatus);
    },
    
    voidObjects: function Luxena_Travel_ProductListTab$voidObjects(canUpdate, changeVoidStatus) {
        var selectionModel = this.get_autoGrid().get_selectionModel();
        if (!selectionModel.getSelections().length) {
            return;
        }
        var records = selectionModel.getSelections();
        var ids = [];
        var $enum1 = ss.IEnumerator.getEnumerator(records);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            ids.add(r.id);
        }
        canUpdate(ids, ss.Delegate.create(this, function(res) {
            var status = res;
            if (!status.IsEnabled) {
                var msg = (ss.isNullOrUndefined(status.DisableInfo)) ? LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg : status.DisableInfo;
                LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.error, msg: msg, icon: Ext.MessageBox.ERROR, buttons: Ext.MessageBox.OK });
                return;
            }
            var isVoid = records[0].data.IsVoid;
            LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation, Luxena.Travel.ProductListTab._getVoidingConfirmationText$10(isVoid, records.length), ss.Delegate.create(this, function(button, text) {
                if (button !== 'yes') {
                    return;
                }
                changeVoidStatus(ids, this._baseParams, ss.Delegate.create(this, function(result) {
                    var dtos = (result)[0];
                    var response = (result)[1];
                    (this.get_autoGrid().store.proxy).setResponse(response);
                    this.get_autoGrid().reload(false);
                    var message;
                    if (dtos[0].IsVoid) {
                        this._voidButton.setText(Luxena.Travel.Res.restore_Action.toLowerCase());
                        message = (dtos.length === 1) ? String.format(Luxena.Travel.Res.document_VoidDocument_Msg, dtos[0].Name) : String.format(Luxena.Travel.Res.document_VoidDocuments_Msg, dtos.length);
                    }
                    else {
                        this._voidButton.setText(Luxena.Travel.Res.void_Action.toLowerCase());
                        message = (dtos.length === 1) ? String.format(Luxena.Travel.Res.document_RestoreDocument_Msg, dtos[0].Name) : String.format(Luxena.Travel.Res.document_RestoreDocuments_Msg, dtos.length);
                    }
                    if (ss.isNullOrUndefined(response.SelectedRow)) {
                        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List, message, LxnBase.BaseRes.autoGrid_NotDisplay_Msg);
                    }
                    else {
                        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List, message);
                        this.get_autoGrid().get_selectionModel().selectRow(response.SelectedRow);
                    }
                }), null);
            }));
        }), null);
    },
    
    _createNewOrder$10: function Luxena_Travel_ProductListTab$_createNewOrder$10() {
        var values = { AviaDocuments: this.get_autoGrid().getSelectedIds() };
        if (this._separateServiceFee != null) {
            values['SeparateServiceFee'] = this._separateServiceFee.checked;
        }
        LxnBase.UI.FormsRegistry.editObject('Order', null, values, ss.Delegate.create(this, function(arg) {
            this.get_autoGrid().reload(false);
            var response = arg;
            LxnBase.UI.FormsRegistry.viewObject('Order', (response.Item).Id);
        }), null);
    },
    
    _tryCreateCashPayment$10: function Luxena_Travel_ProductListTab$_tryCreateCashPayment$10() {
        var documentIds = this.getSelectedIds();
        Luxena.Travel.Services.PaymentService.CanCreatePayment(documentIds, ss.Delegate.create(this, function(result) {
            var response = result;
            if (response.OrderItems == null || !response.OrderItems.length) {
                this._createCashPayment$10(response.DocumentIds, response.Payer, response.Total, response.Vat);
            }
            else {
                if (response.DocumentIds != null && response.DocumentIds.length > 0) {
                    Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocumentList_CreateCashPayment_Title, Luxena.Travel.Res.aviaDocumentList_CannotCreatePayment, response.OrderItems, Luxena.Travel.Res.aviaDocumentList_AddToPayment, ss.Delegate.create(this, function() {
                        this._createCashPayment$10(response.DocumentIds, response.Payer, response.Total, response.Vat);
                    }));
                }
                else {
                    Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocumentList_CreateCashPayment_Title, Luxena.Travel.Res.aviaDocumentList_CannotCreatePayment, response.OrderItems);
                }
            }
        }), null);
    },
    
    _createCashPayment$10: function Luxena_Travel_ProductListTab$_createCashPayment$10(documents, payer, amount, vat) {
        var form = new Luxena.Travel.CashPaymentRegisterForm(new Luxena.Travel.CashPaymentRegisterFormArgs(payer, amount, vat, documents));
        form.open();
    },
    
    _tryAddToExistingOrder$10: function Luxena_Travel_ProductListTab$_tryAddToExistingOrder$10() {
        var records = this.get_selectedRecords();
        var documents = {};
        var $enum1 = ss.IEnumerator.getEnumerator(records);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            documents[r.id] = (r.data).Name;
        }
        Luxena.Travel._productDto.tryAddToExistingOrder(documents, this._separateServiceFee != null && this._separateServiceFee.checked, this.get_listConfig().Caption, ss.Delegate.create(this, function() {
            this.get_autoGrid().reload(false);
        }));
    },
    
    getSelectedIds: function Luxena_Travel_ProductListTab$getSelectedIds() {
        return this.get_autoGrid().getSelectedIds();
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel._productDto

Luxena.Travel._productDto = function Luxena_Travel__productDto() {
}
Luxena.Travel._productDto.isCanDelete = function Luxena_Travel__productDto$isCanDelete(r) {
    return !ss.isValue(r.CanDelete) || (r.CanDelete.Visible && !r.CanDelete.IsDisabled);
}
Luxena.Travel._productDto.isCanUpdate = function Luxena_Travel__productDto$isCanUpdate(r) {
    return !ss.isValue(r.CanUpdate) || (r.CanUpdate.Visible && !r.CanUpdate.IsDisabled);
}
Luxena.Travel._productDto.tryAddToExistingOrder = function Luxena_Travel__productDto$tryAddToExistingOrder(documents, separateServiceFee, messageTitle, onAdded) {
    if (!Object.getKeyCount(documents)) {
        return;
    }
    var request = new LxnBase.Data.RangeRequest();
    request.sort = 'IssueDate';
    request.dir = 'DESC';
    request.VisibleProperties = [ 'Number', 'IssueDate', 'Customer', 'AssignedTo', 'Total', 'Note' ];
    LxnBase.UI.FormsRegistry.selectObjects('Order', request, true, function(arg1) {
        if ((arg1).length !== 1) {
            return;
        }
        var order = (arg1)[0];
        var docIds = Luxena.Travel.Controls.AutoListTabExt2.getDictionaryKeys(documents);
        Luxena.Travel.Services.OrderService.GetOrdersByAviaDocuments(docIds, function(result) {
            var addedDocuments = result;
            if (addedDocuments == null || !addedDocuments.length) {
                Luxena.Travel._productDto.addToExistingOrder(documents, order, separateServiceFee, messageTitle, onAdded);
                return;
            }
            Luxena.Travel._productDto.confirmDocumentsAddition(addedDocuments, documents, order, separateServiceFee, messageTitle, onAdded);
        }, null);
    }, null);
}
Luxena.Travel._productDto.confirmDocumentsAddition = function Luxena_Travel__productDto$confirmDocumentsAddition(addedDocuments, documents, orderId, separateServiceFee, messageTitle, onAdded) {
    var $enum1 = ss.IEnumerator.getEnumerator(addedDocuments);
    while ($enum1.moveNext()) {
        var link = $enum1.current;
        delete documents[link.Product.Id];
    }
    if (Object.getKeyCount(documents) > 0) {
        Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title, Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg, addedDocuments, Luxena.Travel.Res.aviaDocument_ContinueAddToOrder_Msg, function() {
            Luxena.Travel._productDto.addToExistingOrder(documents, orderId, separateServiceFee, messageTitle, onAdded);
        });
    }
    else {
        Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title, Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg, addedDocuments);
    }
}
Luxena.Travel._productDto.addToExistingOrder = function Luxena_Travel__productDto$addToExistingOrder(documents, orderId, separateServiceFee, messageTitle, onAdded) {
    Luxena.Travel.Services.OrderService.AddAviaDocuments(orderId, Luxena.Travel.Controls.AutoListTabExt2.getDictionaryKeys(documents), separateServiceFee, function(result) {
        var response = result;
        if (response.Errors != null) {
            Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title, Luxena.Travel.Res.order_CannotRestoreOrder_Msg, response.Errors);
        }
        else {
            var message = String.format(Luxena.Travel.Res.aviaDocument_Was_Added, Luxena.Travel.Controls.AutoListTabExt2.getDictionaryValues(documents).join(', '), LxnBase.UI.Controls.ObjectLink.renderInfo(response.Item));
            LxnBase.MessageRegister.info(messageTitle, message);
            onAdded();
            LxnBase.UI.FormsRegistry.viewObject('Order', (response.Item).Id);
        }
    }, null);
}
Luxena.Travel._productDto.prototype = {
    Id: null,
    Version: 0,
    IsRefund: false,
    ReissueFor: null,
    RefundedProduct: null,
    Refund: null,
    IssueDate: null,
    RequiresProcessing: false,
    IsVoid: false,
    Customer: null,
    Intermediary: null,
    Note: null,
    Originator: 0,
    OriginString: null,
    OriginalDocument: null,
    BookerOffice: null,
    BookerCode: null,
    Booker: null,
    TicketerOffice: null,
    TicketerCode: null,
    Ticketer: null,
    Seller: null,
    Owner: null,
    Country: null,
    PnrCode: null,
    TourCode: null,
    Fare: null,
    EqualFare: null,
    FeesTotal: null,
    Total: null,
    Vat: null,
    Commission: null,
    CommissionDiscount: null,
    CommissionPercent: 0,
    Discount: null,
    ServiceFee: null,
    Handling: null,
    GrandTotal: null,
    PaymentType: 0,
    Name: null,
    Order: null,
    CanUpdate: null,
    CanDelete: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SetDataToDocumentsForm

Luxena.Travel.SetDataToDocumentsForm = function Luxena_Travel_SetDataToDocumentsForm(title, type) {
    Luxena.Travel.SetDataToDocumentsForm.initializeBase(this);
    this._type$1 = type;
    this.get_window().cls += ' apply-to-documents';
    this.get_window().setTitle(title);
    this._createFormItems$1();
    this._applyReportButton$1 = this.get_form().addButton(Luxena.Travel.Res.apply_Text, ss.Delegate.create(this, this.save));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this.set_fields([ this._dateFrom$1, this._dateTo$1 ]);
    this.set_componentSequence([ this._dateFrom$1, this._dateTo$1, this._applyReportButton$1, this._cancelButton$1 ]);
}
Luxena.Travel.SetDataToDocumentsForm._getDate$1 = function Luxena_Travel_SetDataToDocumentsForm$_getDate$1(field) {
    var value = field.getValue();
    if (!value) {
        return null;
    }
    return value;
}
Luxena.Travel.SetDataToDocumentsForm.prototype = {
    
    open: function Luxena_Travel_SetDataToDocumentsForm$open(ids) {
        this._ids$1 = ids;
        this._checkDocumentCount$1();
        this.get_window().show();
    },
    
    _createFormItems$1: function Luxena_Travel_SetDataToDocumentsForm$_createFormItems$1() {
        var text = new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'div', html: Luxena.Travel.Res.applyAirline_SelectDates_Text }).cls('x-form-item box-label').toDictionary());
        this._dateFrom$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.fromDate_Text).value(Date.get_today()).format('d.m.Y').listeners({ change: ss.Delegate.create(this, this._onDateChange$1) }).toDictionary());
        this._dateTo$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).value(Date.get_today()).format('d.m.Y').listeners({ change: ss.Delegate.create(this, this._onDateChange$1) }).toDictionary());
        this._totalCountBox$1 = new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'div', html: String.format(Luxena.Travel.Res.customerReportForm_DocumentCount_Text, 0) }).cls('total-count').toDictionary());
        this.get_form().add(text);
        this.get_form().add(this._dateFrom$1);
        this.get_form().add(this._dateTo$1);
        this.get_form().add(this._totalCountBox$1);
    },
    
    _onDateChange$1: function Luxena_Travel_SetDataToDocumentsForm$_onDateChange$1(field, newvalue, oldvalue) {
        if (field === this._dateFrom$1 && this._dateFrom$1.getValue() > this._dateTo$1.getValue()) {
            this._dateFrom$1.setValue(this._dateTo$1.getValue());
        }
        else if (field === this._dateTo$1 && this._dateTo$1.getValue() < this._dateFrom$1.getValue()) {
            this._dateTo$1.setValue(this._dateFrom$1.getValue());
        }
        this._checkDocumentCount$1();
    },
    
    _checkDocumentCount$1: function Luxena_Travel_SetDataToDocumentsForm$_checkDocumentCount$1() {
        Luxena.Travel.Services.AviaService.GetDocumentCountForUpdate(this._type$1, this._ids$1, Luxena.Travel.SetDataToDocumentsForm._getDate$1(this._dateFrom$1), Luxena.Travel.SetDataToDocumentsForm._getDate$1(this._dateTo$1), ss.Delegate.create(this, function(result) {
            this._totalCountBox$1.getEl().update(String.format(Luxena.Travel.Res.customerReportForm_DocumentCount_Text, result));
        }), null);
    },
    
    onSave: function Luxena_Travel_SetDataToDocumentsForm$onSave() {
        Luxena.Travel.Services.AviaService.ApplyDataToDocuments(this._type$1, this._ids$1, Luxena.Travel.SetDataToDocumentsForm._getDate$1(this._dateFrom$1), Luxena.Travel.SetDataToDocumentsForm._getDate$1(this._dateTo$1), ss.Delegate.create(this, function(result) {
            var count = result;
            if (!count) {
                LxnBase.MessageRegister.info(Luxena.Travel.Res.applyAirline_Msg_Title, Luxena.Travel.Res.airlineApplied_NotFound_Msg);
            }
            this.completeSave(result);
        }), null);
    },
    
    _applyReportButton$1: null,
    _cancelButton$1: null,
    _dateFrom$1: null,
    _dateTo$1: null,
    _totalCountBox$1: null,
    _ids$1: null,
    _type$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsFileViewForm

Luxena.Travel.GdsFileViewForm = function Luxena_Travel_GdsFileViewForm(tabId, id, type) {
    Luxena.Travel.GdsFileViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.GdsFileViewForm.viewObject = function Luxena_Travel_GdsFileViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.GdsFileViewForm(tabId, id, type);
    });
}
Luxena.Travel.GdsFileViewForm.prototype = {
    
    onInitToolBar: function Luxena_Travel_GdsFileViewForm$onInitToolBar(toolbarItems) {
        this._reimportAction$8 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.gdsFile_Reimport_Text).handler(ss.Delegate.create(this, this._reimport$8)).toDictionary());
        this._separator$8 = new Ext.Toolbar.Separator();
        toolbarItems.add(this._separator$8);
        toolbarItems.add(this._reimportAction$8);
    },
    
    onLoadConfig: function Luxena_Travel_GdsFileViewForm$onLoadConfig() {
        if (!ss.isValue(this.get_itemConfig().CustomActionPermissions)) {
            return;
        }
        var status = this.get_itemConfig().CustomActionPermissions['ReimportGdsDocuments'];
        LxnBase.UI.BaseClassViewForm.setActionStatus(this._reimportAction$8, status);
        this._separator$8.setVisible(status.Visible);
        Luxena.Travel.GdsFileViewForm.callBaseMethod(this, 'onLoadConfig');
    },
    
    updateActionsStatus: function Luxena_Travel_GdsFileViewForm$updateActionsStatus() {
        if (!ss.isValue(this.get_permissions().CustomActionPermissions)) {
            return;
        }
        var status = this.get_permissions().CustomActionPermissions['ReimportGdsDocuments'];
        LxnBase.UI.BaseClassViewForm.setActionStatus(this._reimportAction$8, status);
        this._separator$8.setVisible(status.Visible);
        Luxena.Travel.GdsFileViewForm.callBaseMethod(this, 'updateActionsStatus');
    },
    
    onLoad: function Luxena_Travel_GdsFileViewForm$onLoad() {
        var columns = this.get_itemConfig().Columns;
        var caption = null;
        var template = new ss.StringBuilder();
        template.append('<table>');
        var $enum1 = ss.IEnumerator.getEnumerator(columns);
        while ($enum1.moveNext()) {
            var col = $enum1.current;
            var val = this.get_instance()[col.Name];
            if (ss.isNullOrUndefined(val)) {
                continue;
            }
            if (col.IsReference) {
                caption = val;
            }
            var renderer = LxnBase.UI.AutoControls.ControlFactory.createRenderer(col);
            var text = ((renderer == null) ? val : renderer(val));
            if (col.Name === 'Content') {
                text = '<pre>' + Ext.util.Format.htmlEncode(text) + '</pre>';
            }
            template.append('<tr>');
            template.append(String.format("<td valign='top'class='gsdFileViewCaption'>{0}</td>", col.Caption + ':'));
            template.append(String.format("<td class='gsdFileViewValue'><pre>{0}</pre></td>", text));
            template.append('</tr>');
        }
        template.append('</table>');
        if (caption == null) {
            caption = this.get_itemConfig().Caption;
        }
        this.setTitle(caption);
        new Ext.Template(template.toString()).overwrite(this.body, this.get_instance());
        this.doLayout();
    },
    
    _reimport$8: function Luxena_Travel_GdsFileViewForm$_reimport$8() {
        Luxena.Travel.Services.GdsFileService.Reimport([ this.get_id() ], null, ss.Delegate.create(this, function(result) {
            var columnConfig = null;
            var message = '';
            var $enum1 = ss.IEnumerator.getEnumerator(this.get_itemConfig().Columns);
            while ($enum1.moveNext()) {
                var col = $enum1.current;
                if (col.Name === 'ImportResult') {
                    columnConfig = col;
                    break;
                }
            }
            var $enum2 = ss.IEnumerator.getEnumerator(columnConfig.Items);
            while ($enum2.moveNext()) {
                var col = $enum2.current;
                var obj = col;
                if (obj[LxnBase.Data.Reference.IdPos] === result[columnConfig.Name]) {
                    message = (obj[LxnBase.Data.Reference.NamePos]).toLowerCase();
                    break;
                }
            }
            message = String.format('{0} {1}. {2} - {3}.', Luxena.Travel.Res.imported, result[LxnBase.Data.ObjectPropertyNames.reference], columnConfig.Caption, message);
            LxnBase.MessageRegister.info(this.get_itemConfig().ListCaption, message);
            this.load(result);
        }), null);
    },
    
    _reimportAction$8: null,
    _separator$8: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderTransferDto

Luxena.Travel.OrderTransferDto = function Luxena_Travel_OrderTransferDto() {
}
Luxena.Travel.OrderTransferDto.prototype = {
    Transfer: null,
    Date: null,
    Party: null,
    Order: null,
    Amount: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.QuickReceiptRequest

Luxena.Travel.QuickReceiptRequest = function Luxena_Travel_QuickReceiptRequest() {
}
Luxena.Travel.QuickReceiptRequest.prototype = {
    Customer: null,
    NotaxedAmount: null,
    TaxedAmount: null,
    Owner: null,
    Note: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.QuickReceiptResponse

Luxena.Travel.QuickReceiptResponse = function Luxena_Travel_QuickReceiptResponse() {
}
Luxena.Travel.QuickReceiptResponse.prototype = {
    Order: null,
    Receipt: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaPaymentResponse

Luxena.Travel.AviaPaymentResponse = function Luxena_Travel_AviaPaymentResponse() {
}
Luxena.Travel.AviaPaymentResponse.prototype = {
    Payer: null,
    Total: null,
    Vat: null,
    DocumentIds: null,
    OrderItems: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CashInOrderPaymentRequest

Luxena.Travel.CashInOrderPaymentRequest = function Luxena_Travel_CashInOrderPaymentRequest() {
}
Luxena.Travel.CashInOrderPaymentRequest.prototype = {
    Date: null,
    Payer: null,
    Number: null,
    Amount: null,
    OrderVat: null,
    PaymentVat: null,
    ReceivedFrom: null,
    Owner: null,
    Note: null,
    IsPosted: false,
    SeparateServiceFee: false,
    DocumentIds: null,
    IsAdditionalPayment: false,
    CreateConsignment: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ConsignmentItemsDto

Luxena.Travel.ConsignmentItemsDto = function Luxena_Travel_ConsignmentItemsDto() {
}
Luxena.Travel.ConsignmentItemsDto.prototype = {
    IssueDate: null,
    Supplier: null,
    Acquirer: null,
    Discount: null,
    Items: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenerateOrderItemsResponse

Luxena.Travel.GenerateOrderItemsResponse = function Luxena_Travel_GenerateOrderItemsResponse() {
}
Luxena.Travel.GenerateOrderItemsResponse.prototype = {
    Customer: null,
    Items: null,
    OrderItems: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ClosedPeriodDto

Luxena.Travel.ClosedPeriodDto = function Luxena_Travel_ClosedPeriodDto() {
}
Luxena.Travel.ClosedPeriodDto.prototype = {
    Id: null,
    Version: 0,
    DateFrom: null,
    DateTo: null,
    PeriodState: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CashPaymentResponse

Luxena.Travel.CashPaymentResponse = function Luxena_Travel_CashPaymentResponse() {
}
Luxena.Travel.CashPaymentResponse.prototype = {
    Payment: null,
    Consignment: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ConsignmentDto

Luxena.Travel.ConsignmentDto = function Luxena_Travel_ConsignmentDto() {
}
Luxena.Travel.ConsignmentDto.prototype = {
    Id: null,
    Version: 0,
    Number: null,
    IssueDate: null,
    Supplier: null,
    Acquirer: null,
    Vat: null,
    GrandTotal: null,
    Total: null,
    Discount: null,
    TotalSupplied: null,
    Items: null,
    IssuedConsignments: null,
    Permissions: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IssuedConsignmentDto

Luxena.Travel.IssuedConsignmentDto = function Luxena_Travel_IssuedConsignmentDto() {
}
Luxena.Travel.IssuedConsignmentDto.prototype = {
    Id: null,
    Number: null,
    TimeStamp: null,
    Consignment: null,
    IssuedBy: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderItemDto

Luxena.Travel.OrderItemDto = function Luxena_Travel_OrderItemDto() {
}
Luxena.Travel.OrderItemDto.prototype = {
    Id: null,
    Version: 0,
    Order: null,
    LinkType: null,
    Product: null,
    Text: null,
    ProductText: null,
    Price: null,
    Quantity: 0,
    Total: null,
    Discount: null,
    GrandTotal: null,
    GivenVat: null,
    TaxedTotal: null,
    HasVat: false,
    Consignment: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PaymentDto

Luxena.Travel.PaymentDto = function Luxena_Travel_PaymentDto() {
}
Luxena.Travel.PaymentDto.prototype = {
    Id: null,
    Version: 0,
    PaymentForm: 0,
    Date: null,
    Number: null,
    DocumentNumber: null,
    AuthorizationCode: null,
    PaymentSystem: null,
    Payer: null,
    Amount: null,
    Vat: null,
    ReceivedFrom: null,
    PostedOn: null,
    SavePosted: false,
    AssignedTo: null,
    RegisteredBy: null,
    Note: null,
    IsVoid: false,
    Invoice: null,
    Order: null,
    Owner: null,
    Permissions: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InvoiceDto

Luxena.Travel.InvoiceDto = function Luxena_Travel_InvoiceDto() {
}
Luxena.Travel.InvoiceDto.prototype = {
    Id: null,
    Number: null,
    IssueDate: null,
    TimeStamp: null,
    IssuedBy: null,
    Total: null,
    Type: 0,
    FileExtension: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderDto

Luxena.Travel.OrderDto = function Luxena_Travel_OrderDto() {
}
Luxena.Travel.OrderDto.prototype = {
    Type: null,
    Id: null,
    Text: null,
    Version: 0,
    Number: null,
    IssueDate: null,
    Customer: null,
    BillTo: null,
    ShipTo: null,
    Intermediary: null,
    IsVoid: false,
    Discount: null,
    Vat: null,
    Total: null,
    Paid: null,
    TotalDue: null,
    VatDue: null,
    UseServiceFeeOnlyInVat: false,
    ServiceFee: null,
    DeliveryBalance: 0,
    AssignedTo: null,
    Owner: null,
    BankAccount: null,
    BonusDate: null,
    BonusSpentAmount: null,
    BonusRecipient: null,
    Note: null,
    IsPublic: false,
    AllowAddProductsInClosedPeriod: false,
    IsSubjectOfPaymentsControl: false,
    Items: null,
    Invoices: null,
    Payments: null,
    Tasks: null,
    Transfers: null,
    Permissions: null,
    CanCreateTransfer: false,
    CanChangeAssignedTo: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductProviderDto

Luxena.Travel.ProductProviderDto = function Luxena_Travel_ProductProviderDto() {
}
Luxena.Travel.ProductProviderDto.prototype = {
    Id: null,
    Version: 0,
    Name: null,
    UseForAccommodation: false,
    UseForCarRental: false,
    UseForInsurance: false,
    UseForPasteboard: false,
    UseForTransfer: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductPassengerDto

Luxena.Travel.ProductPassengerDto = function Luxena_Travel_ProductPassengerDto() {
}
Luxena.Travel.ProductPassengerDto.prototype = {
    Id: null,
    Version: 0,
    PassengerName: null,
    Passenger: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductTypeDto

Luxena.Travel.GenericProductTypeDto = function Luxena_Travel_GenericProductTypeDto() {
}
Luxena.Travel.GenericProductTypeDto.prototype = {
    Id: null,
    Version: 0,
    Name: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GenericProductDto

Luxena.Travel.GenericProductDto = function Luxena_Travel_GenericProductDto() {
    Luxena.Travel.GenericProductDto.initializeBase(this);
}
Luxena.Travel.GenericProductDto.prototype = {
    Passengers: null,
    Provider: null,
    GenericType: null,
    Number: null,
    StartDate: null,
    FinishDate: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PasteboardDto

Luxena.Travel.PasteboardDto = function Luxena_Travel_PasteboardDto() {
    Luxena.Travel.PasteboardDto.initializeBase(this);
}
Luxena.Travel.PasteboardDto.prototype = {
    PassengerName: null,
    Passenger: null,
    Number: null,
    DeparturePlace: null,
    DepartureDate: null,
    DepartureTime: null,
    ArrivalPlace: null,
    ArrivalDate: null,
    ArrivalTime: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SimCardDto

Luxena.Travel.SimCardDto = function Luxena_Travel_SimCardDto() {
    Luxena.Travel.SimCardDto.initializeBase(this);
}
Luxena.Travel.SimCardDto.prototype = {
    PassengerName: null,
    Passenger: null,
    Number: null,
    Operator: 0,
    IsSale: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.IsicDto

Luxena.Travel.IsicDto = function Luxena_Travel_IsicDto() {
    Luxena.Travel.IsicDto.initializeBase(this);
}
Luxena.Travel.IsicDto.prototype = {
    PassengerName: null,
    Passenger: null,
    CardType: 0,
    Number1: null,
    Number2: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.BusTicketDto

Luxena.Travel.BusTicketDto = function Luxena_Travel_BusTicketDto() {
    Luxena.Travel.BusTicketDto.initializeBase(this);
}
Luxena.Travel.BusTicketDto.prototype = {
    PassengerName: null,
    Passenger: null,
    DeparturePlace: null,
    DepartureDate: null,
    DepartureTime: null,
    ArrivalPlace: null,
    ArrivalDate: null,
    ArrivalTime: null,
    SeatNumber: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ExcursionDto

Luxena.Travel.ExcursionDto = function Luxena_Travel_ExcursionDto() {
    Luxena.Travel.ExcursionDto.initializeBase(this);
}
Luxena.Travel.ExcursionDto.prototype = {
    Passengers: null,
    StartDate: null,
    FinishDate: null,
    TourName: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TourDto

Luxena.Travel.TourDto = function Luxena_Travel_TourDto() {
    Luxena.Travel.TourDto.initializeBase(this);
}
Luxena.Travel.TourDto.prototype = {
    Passengers: null,
    StartDate: null,
    FinishDate: null,
    HotelName: null,
    HotelOffice: null,
    HotelCode: null,
    HotelRoom: null,
    PlacementName: null,
    PlacementOffice: null,
    PlacementCode: null,
    Diet: null,
    AviaDescription: null,
    TransferDescription: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AccommodationDto

Luxena.Travel.AccommodationDto = function Luxena_Travel_AccommodationDto() {
    Luxena.Travel.AccommodationDto.initializeBase(this);
}
Luxena.Travel.AccommodationDto.prototype = {
    Passengers: null,
    Provider: null,
    StartDate: null,
    FinishDate: null,
    HotelName: null,
    HotelOffice: null,
    HotelCode: null,
    HotelRoom: null,
    PlacementName: null,
    PlacementOffice: null,
    PlacementCode: null,
    Diet: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TransferDto

Luxena.Travel.TransferDto = function Luxena_Travel_TransferDto() {
    Luxena.Travel.TransferDto.initializeBase(this);
}
Luxena.Travel.TransferDto.prototype = {
    Passengers: null,
    Provider: null,
    StartDate: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.InsuranceDto

Luxena.Travel.InsuranceDto = function Luxena_Travel_InsuranceDto() {
    Luxena.Travel.InsuranceDto.initializeBase(this);
}
Luxena.Travel.InsuranceDto.prototype = {
    Passengers: null,
    Provider: null,
    StartDate: null,
    FinishDate: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.CarRentalDto

Luxena.Travel.CarRentalDto = function Luxena_Travel_CarRentalDto() {
    Luxena.Travel.CarRentalDto.initializeBase(this);
}
Luxena.Travel.CarRentalDto.prototype = {
    Passengers: null,
    Provider: null,
    StartDate: null,
    FinishDate: null,
    CarBrand: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentProcessDto

Luxena.Travel.AviaDocumentProcessDto = function Luxena_Travel_AviaDocumentProcessDto() {
}
Luxena.Travel.AviaDocumentProcessDto.prototype = {
    Id: null,
    Type: 0,
    AirlinePrefixCode: null,
    Number: 0,
    Originator: 0,
    PassengerName: null,
    Customer: null,
    Intermediary: null,
    Seller: null,
    Commission: null,
    CommissionDiscount: null,
    CommissionPercent: 0,
    Fare: null,
    EqualFare: null,
    Total: null,
    ServiceFee: null,
    Handling: null,
    Discount: null,
    GrandTotal: null,
    PaymentType: 0,
    RequiresProcessing: false,
    IsVoid: false,
    Note: null,
    Order: null,
    Name: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaMcoProcessDto

Luxena.Travel.AviaMcoProcessDto = function Luxena_Travel_AviaMcoProcessDto() {
    Luxena.Travel.AviaMcoProcessDto.initializeBase(this);
}
Luxena.Travel.AviaMcoProcessDto.prototype = {
    Description: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentProcessArgs

Luxena.Travel.AviaDocumentProcessArgs = function Luxena_Travel_AviaDocumentProcessArgs() {
}
Luxena.Travel.AviaDocumentProcessArgs.prototype = {
    AllowSaveAndContinue: false,
    AllowEditParty: false,
    HasAccessToDocumentList: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaTicketProcessDto

Luxena.Travel.AviaTicketProcessDto = function Luxena_Travel_AviaTicketProcessDto() {
    Luxena.Travel.AviaTicketProcessDto.initializeBase(this);
}
Luxena.Travel.AviaTicketProcessDto.prototype = {
    PenalizeOperations: null,
    SegmentCount: 0,
    Passenger: null,
    GdsPassport: null,
    GdsPassportStatus: 0,
    Passport: null,
    PassportRequired: false,
    PassportValidationResult: 0,
    SuggestPassenger: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportValidationResponse

Luxena.Travel.PassportValidationResponse = function Luxena_Travel_PassportValidationResponse() {
}
Luxena.Travel.PassportValidationResponse.prototype = {
    Passport: null,
    PassportValidationResult: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PenalizeOperationDto

Luxena.Travel.PenalizeOperationDto = function Luxena_Travel_PenalizeOperationDto() {
}
Luxena.Travel.PenalizeOperationDto.prototype = {
    Type: 0,
    Status: 0,
    Description: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProcessOperationPermissionsResponse

Luxena.Travel.ProcessOperationPermissionsResponse = function Luxena_Travel_ProcessOperationPermissionsResponse() {
    Luxena.Travel.ProcessOperationPermissionsResponse.initializeBase(this);
}
Luxena.Travel.ProcessOperationPermissionsResponse.prototype = {
    Args: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsAgentDto

Luxena.Travel.GdsAgentDto = function Luxena_Travel_GdsAgentDto() {
}
Luxena.Travel.GdsAgentDto.prototype = {
    Origin: null,
    OfficeCode: null,
    AgentCode: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaMcoDto

Luxena.Travel.AviaMcoDto = function Luxena_Travel_AviaMcoDto() {
    Luxena.Travel.AviaMcoDto.initializeBase(this);
}
Luxena.Travel.AviaMcoDto.prototype = {
    Description: null,
    InConnectionWith: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaRefundDto

Luxena.Travel.AviaRefundDto = function Luxena_Travel_AviaRefundDto() {
    Luxena.Travel.AviaRefundDto.initializeBase(this);
}
Luxena.Travel.AviaRefundDto.prototype = {
    CancelFee: null,
    ServiceFeePenalty: null,
    RefundServiceFee: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaRefundProcessDto

Luxena.Travel.AviaRefundProcessDto = function Luxena_Travel_AviaRefundProcessDto() {
    Luxena.Travel.AviaRefundProcessDto.initializeBase(this);
}
Luxena.Travel.AviaRefundProcessDto.prototype = {
    ServiceFeePenalty: null,
    RefundServiceFee: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentFeeDto

Luxena.Travel.AviaDocumentFeeDto = function Luxena_Travel_AviaDocumentFeeDto() {
}
Luxena.Travel.AviaDocumentFeeDto.prototype = {
    Code: null,
    Amount: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaTicketDto

Luxena.Travel.AviaTicketDto = function Luxena_Travel_AviaTicketDto() {
    Luxena.Travel.AviaTicketDto.initializeBase(this);
}
Luxena.Travel.AviaTicketDto.prototype = {
    Segments: null,
    PenalizeOperations: null,
    PassportRequired: false,
    PassportValidationResult: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FlightSegmentDto

Luxena.Travel.FlightSegmentDto = function Luxena_Travel_FlightSegmentDto() {
}
Luxena.Travel.FlightSegmentDto.prototype = {
    Id: null,
    Position: 0,
    FromAirport: null,
    FromAirportName: null,
    ToAirport: null,
    ToAirportName: null,
    CarrierCode: null,
    Carrier: null,
    FlightNumber: null,
    ServiceClassCode: null,
    ServiceClass: null,
    ServiceClassName: null,
    DepartureTime: null,
    ArrivalTime: null,
    MealValue: null,
    MealString: null,
    NumberOfStops: null,
    Luggage: null,
    CheckInTerminal: null,
    CheckInTime: null,
    Duration: null,
    ArrivalTerminal: null,
    Seat: null,
    FareBasis: null,
    Stopover: false,
    Type: 0,
    CouponAmount: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DayStats

Luxena.Travel.DayStats = function Luxena_Travel_DayStats() {
}
Luxena.Travel.DayStats.prototype = {
    Date: null,
    DateText: null,
    Unprocessed: 0,
    Total: 0,
    Void: 0,
    ReportUrl: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ItemListResponse

Luxena.Travel.ItemListResponse = function Luxena_Travel_ItemListResponse() {
}
Luxena.Travel.ItemListResponse.prototype = {
    Items: null,
    RangeResponse: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.SystemConfigurationDto

Luxena.Travel.SystemConfigurationDto = function Luxena_Travel_SystemConfigurationDto() {
}
Luxena.Travel.SystemConfigurationDto.prototype = {
    Id: null,
    CompanyName: null,
    VatRate: 0,
    DefaultCurrency: null,
    UseDefaultCurrencyForInput: false,
    UseConsolidatorCommission: false,
    UseAviaHandling: false,
    UseBonuses: false,
    AviaOrderItemGenerationOption: 0,
    IsOrganizationCodeRequired: false,
    IsOrderRequiredForProcessedDocument: false,
    ReservationsInOfficeMetrics: false,
    Order_UseServiceFeeOnlyInVat: false,
    Ticket_NoPrintReservations: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AppParameters

Luxena.Travel.AppParameters = function Luxena_Travel_AppParameters() {
}
Luxena.Travel.AppParameters.prototype = {
    UserPerson: null,
    CurrentUser: null,
    AllowedActions: null,
    MainPageSettings: null,
    SystemConfiguration: null,
    Departments: null,
    BankAccounts: null,
    Version: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AppStateResponse

Luxena.Travel.AppStateResponse = function Luxena_Travel_AppStateResponse() {
}
Luxena.Travel.AppStateResponse.prototype = {
    ImportedDocuments: null,
    AssignedTasks: null,
    IsUserRolesChanged: false,
    Version: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AppStateRequest

Luxena.Travel.AppStateRequest = function Luxena_Travel_AppStateRequest() {
}
Luxena.Travel.AppStateRequest.prototype = {
    ClearUserData: false,
    CheckImportedDocuments: false,
    CheckNewTasks: false,
    CheckUserRoleChanges: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ObjectStateInfo

Luxena.Travel.ObjectStateInfo = function Luxena_Travel_ObjectStateInfo() {
    Luxena.Travel.ObjectStateInfo.initializeBase(this);
}
Luxena.Travel.ObjectStateInfo.prototype = {
    State: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProfileDto

Luxena.Travel.ProfileDto = function Luxena_Travel_ProfileDto() {
}
Luxena.Travel.ProfileDto.prototype = {
    Person: null,
    Login: null,
    Roles: null,
    GdsAgents: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MoneyDto

Luxena.Travel.MoneyDto = function Luxena_Travel_MoneyDto() {
}
Luxena.Travel.MoneyDto.create = function Luxena_Travel_MoneyDto$create(money) {
    if (money == null) {
        return null;
    }
    if (!(Type.canCast(money, Array))) {
        return money;
    }
    var data = money;
    var dto = new Luxena.Travel.MoneyDto();
    dto.Amount = data[0];
    dto.Currency = LxnBase.Data.Reference.create('Currency', data[1], data[2]);
    return dto;
}
Luxena.Travel.MoneyDto.copyMoney = function Luxena_Travel_MoneyDto$copyMoney(source) {
    if (source == null || source.Currency == null) {
        return null;
    }
    var dto = new Luxena.Travel.MoneyDto();
    dto.Amount = source.Amount;
    dto.Currency = LxnBase.Data.Reference.copy(source.Currency);
    return dto;
}
Luxena.Travel.MoneyDto.decimalToMoneyString = function Luxena_Travel_MoneyDto$decimalToMoneyString(val) {
    return (ss.isNullOrUndefined(val)) ? null : val.format('N2');
}
Luxena.Travel.MoneyDto.toMoneyString = function Luxena_Travel_MoneyDto$toMoneyString(dto) {
    return (dto == null) ? null : dto.Amount.format('N2');
}
Luxena.Travel.MoneyDto.toMoneyFullString = function Luxena_Travel_MoneyDto$toMoneyFullString(dto) {
    return (dto == null) ? null : String.format('{0} {1}', Luxena.Travel.MoneyDto.toMoneyString(dto), dto.Currency.Name);
}
Luxena.Travel.MoneyDto.getZeroMoney = function Luxena_Travel_MoneyDto$getZeroMoney(currency) {
    var dto = new Luxena.Travel.MoneyDto();
    dto.Amount = 0;
    dto.Currency = LxnBase.Data.Reference.copy((ss.isNullOrUndefined(currency)) ? Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency : currency);
    return dto;
}
Luxena.Travel.MoneyDto.prototype = {
    Amount: 0,
    Currency: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.FileDto

Luxena.Travel.FileDto = function Luxena_Travel_FileDto() {
}
Luxena.Travel.FileDto.prototype = {
    Id: null,
    FileName: null,
    TimeStamp: null,
    UploadedBy: null,
    Party: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyDto

Luxena.Travel.PartyDto = function Luxena_Travel_PartyDto() {
}
Luxena.Travel.PartyDto.prototype = {
    Type: null,
    Id: null,
    Text: null,
    Version: 0,
    Name: null,
    LegalName: null,
    Phone1: null,
    Phone2: null,
    Fax: null,
    Email1: null,
    Email2: null,
    WebAddress: null,
    IsCustomer: false,
    IsSupplier: false,
    ReportsTo: null,
    LegalAddress: null,
    ActualAddress: null,
    Note: null,
    Files: null,
    Permissions: null,
    Balance: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.DepartmentDto

Luxena.Travel.DepartmentDto = function Luxena_Travel_DepartmentDto() {
    Luxena.Travel.DepartmentDto.initializeBase(this);
}
Luxena.Travel.DepartmentDto.prototype = {
    Organization: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OpeningBalanceDto

Luxena.Travel.OpeningBalanceDto = function Luxena_Travel_OpeningBalanceDto() {
}
Luxena.Travel.OpeningBalanceDto.prototype = {
    Id: null,
    Text: null,
    Type: null,
    Date: null,
    Balance: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrderBalance

Luxena.Travel.OrderBalance = function Luxena_Travel_OrderBalance() {
}
Luxena.Travel.OrderBalance.prototype = {
    Order: null,
    Owner: null,
    FirstDocumentDate: null,
    LastDocumentDate: null,
    Delivered: 0,
    Paid: 0,
    Balance: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyBalance

Luxena.Travel.PartyBalance = function Luxena_Travel_PartyBalance() {
}
Luxena.Travel.PartyBalance.prototype = {
    Party: null,
    OpeningBalance: null,
    FirstDocumentDate: null,
    LastDocumentDate: null,
    Delivered: 0,
    Paid: 0,
    Overall: 0,
    ByOrders: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TaskDto

Luxena.Travel.TaskDto = function Luxena_Travel_TaskDto() {
}
Luxena.Travel.TaskDto.prototype = {
    Type: null,
    Id: null,
    Text: null,
    Version: 0,
    Number: null,
    Subject: null,
    Description: null,
    RelatedTo: null,
    Order: null,
    AssignedTo: null,
    Status: 0,
    DueDate: null,
    Overdue: false,
    CanModify: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.UploadFileResponse

Luxena.Travel.UploadFileResponse = function Luxena_Travel_UploadFileResponse() {
}
Luxena.Travel.UploadFileResponse.prototype = {
    success: false,
    File: null,
    ErrorMessage: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MilesCardDto

Luxena.Travel.MilesCardDto = function Luxena_Travel_MilesCardDto() {
}
Luxena.Travel.MilesCardDto.prototype = {
    Id: null,
    Version: null,
    Owner: null,
    Number: null,
    Organization: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportDto

Luxena.Travel.PassportDto = function Luxena_Travel_PassportDto() {
}
Luxena.Travel.PassportDto.prototype = {
    Id: null,
    Version: null,
    FirstName: null,
    MiddleName: null,
    LastName: null,
    Owner: null,
    Gender: 0,
    GenderString: null,
    Number: null,
    Citizenship: null,
    IssuedBy: null,
    IssuedByCode: null,
    Birthday: null,
    ExpiredOn: null,
    Note: null,
    AmadeusString: null,
    GalileoString: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PersonDto

Luxena.Travel.PersonDto = function Luxena_Travel_PersonDto() {
    Luxena.Travel.PersonDto.initializeBase(this);
}
Luxena.Travel.PersonDto.prototype = {
    Birthday: null,
    BonusCardNumber: null,
    Passports: null,
    MilesCards: null,
    Organization: null,
    Title: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrganizationDto

Luxena.Travel.OrganizationDto = function Luxena_Travel_OrganizationDto() {
    Luxena.Travel.OrganizationDto.initializeBase(this);
}
Luxena.Travel.OrganizationDto.prototype = {
    Code: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AppActions

Luxena.Travel.AppActions = function Luxena_Travel_AppActions() {
}
Luxena.Travel.AppActions.init = function Luxena_Travel_AppActions$init() {
    Luxena.Travel.AppActions.consignmentList = LxnBase.UI.ActionFactory.createListAction('Consignment', Luxena.Travel.DomainRes.consignment_Caption_List);
    Luxena.Travel.AppActions.updateAnalytics = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.updateAnalytics_Action).handler(function() {
        var timeOut = Luxena.Travel.Services.AppService.service.get_timeOut();
        Luxena.Travel.Services.AppService.service.set_timeOut(300000);
        Luxena.Travel.Services.AppService.UpdateAnalytics(function() {
            LxnBase.MessageRegister.info(Luxena.Travel.Res.updateAnalytics_Success);
        }, function(args) {
            LxnBase.MessageRegister.error(Luxena.Travel.Res.updateAnalytics_Error + args.get_error().Message);
            args.set_handled(true);
        });
        Luxena.Travel.Services.AppService.service.set_timeOut(timeOut);
        LxnBase.MessageRegister.info(Luxena.Travel.Res.updateAnalytics_Info);
    }).toDictionary());
    Luxena.Travel.AppActions.newOrder = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.newOrder_Action).handler(function() {
        LxnBase.UI.FormsRegistry.editObject('Order', null, null, function(arg) {
            var response = arg;
            LxnBase.UI.FormsRegistry.viewObject('Order', (response.Item).Id);
        }, null);
    }).toDictionary());
    Luxena.Travel.AppActions.quickReceipt = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.quickReceipt_Action).handler(function() {
        var form = new Luxena.Travel.QuickReceiptEditForm();
        form.add_saved(function(arg) {
            var result = arg;
            LxnBase.UI.FormsRegistry.viewObject('Order', result.Order.Id);
            Luxena.Travel.ReportPrinter.getOrderDocument(result.Receipt.Id, result.Receipt.Name, 1, null);
        });
        form.open();
    }).toDictionary());
    Luxena.Travel.AppActions.newTask = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.newTask_Action).handler(function() {
        LxnBase.UI.FormsRegistry.editObject('Task', null, null, function(arg) {
            var response = arg;
            LxnBase.UI.FormsRegistry.viewObject('Task', (response.Item).Id);
        }, null);
    }).toDictionary());
    Luxena.Travel.AppActions.aviaConsoleParser = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.aviaConsoleParser_Action).handler(Luxena.Travel.AppActions._createAviaConsoleParser).toDictionary());
}
Luxena.Travel.AppActions.listPositioning = function Luxena_Travel_AppActions$listPositioning(type, id, newTab) {
    var request = new LxnBase.Data.RangeRequest();
    request.PositionableObjectId = id;
    LxnBase.UI.FormsRegistry.listObjects(type, request, newTab);
}
Luxena.Travel.AppActions._createAviaConsoleParser = function Luxena_Travel_AppActions$_createAviaConsoleParser() {
    var form = new Luxena.Travel.AviaConsoleParserForm();
    form.open();
}
Luxena.Travel.AppActions.signOut = function Luxena_Travel_AppActions$signOut() {
    $('<form action="LogOut" method="post"></form>').appendTo(document.body).submit();
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.LocalStorageProvider

Luxena.Travel.LocalStorageProvider = function Luxena_Travel_LocalStorageProvider() {
    Luxena.Travel.LocalStorageProvider.initializeBase(this);
}
Luxena.Travel.LocalStorageProvider.isSupported = function Luxena_Travel_LocalStorageProvider$isSupported() {
    return !ss.isNullOrUndefined(Luxena.Travel.LocalStorageProvider._storage$2);
}
Luxena.Travel.LocalStorageProvider.prototype = {
    
    set: function Luxena_Travel_LocalStorageProvider$set(name, value) {
        if (ss.isNullOrUndefined(value)) {
            this.clear(name);
            return;
        }
        Luxena.Travel.LocalStorageProvider._storage$2.setItem(name, JSON.stringify(value));
        Luxena.Travel.LocalStorageProvider.callBaseMethod(this, 'set', [ name, value ]);
    },
    
    clear: function Luxena_Travel_LocalStorageProvider$clear(name) {
        Luxena.Travel.LocalStorageProvider._storage$2.removeItem(name);
        Luxena.Travel.LocalStorageProvider.callBaseMethod(this, 'clear', [ name ]);
    },
    
    get: function Luxena_Travel_LocalStorageProvider$get(name) {
        return JSON.parse(Luxena.Travel.LocalStorageProvider._storage$2.getItem(name));
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MessageFactory

Luxena.Travel.MessageFactory = function Luxena_Travel_MessageFactory() {
}
Luxena.Travel.MessageFactory.error = function Luxena_Travel_MessageFactory$error(msg) {
    LxnBase.UI.MessageBoxWrap.show(LxnBase.BaseRes.error, msg, Ext.MessageBox.ERROR, Ext.MessageBox.OK);
}
Luxena.Travel.MessageFactory.warn = function Luxena_Travel_MessageFactory$warn(msg) {
    LxnBase.UI.MessageBoxWrap.show(LxnBase.BaseRes.warning, msg, Ext.MessageBox.WARNING, Ext.MessageBox.OK);
}
Luxena.Travel.MessageFactory.actionNotPermittedMsg = function Luxena_Travel_MessageFactory$actionNotPermittedMsg() {
    LxnBase.UI.MessageBoxWrap.show(LxnBase.BaseRes.error, LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg, Ext.MessageBox.ERROR, Ext.MessageBox.OK);
}
Luxena.Travel.MessageFactory.voidingConfirmation = function Luxena_Travel_MessageFactory$voidingConfirmation(voidMsg1, voidMsg2, voidMsg3, restoreMsg1, restoreMsg2, restoreMsg3, isVoid, count, onConfirm) {
    LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation, Luxena.Travel.MessageFactory._getVoidingConfirmationText(voidMsg1, voidMsg2, voidMsg3, restoreMsg1, restoreMsg2, restoreMsg3, isVoid, count), function(button, text) {
        if (button !== 'yes') {
            return;
        }
        onConfirm();
    });
}
Luxena.Travel.MessageFactory.voidCompletedMsg = function Luxena_Travel_MessageFactory$voidCompletedMsg(title, voidMsg1, voidMsg2, restoreMsg1, restoreMsg2, isVoid, count, objectDisplayString, details) {
    var message = (isVoid) ? ((count === 1) ? String.format(voidMsg1, objectDisplayString) : String.format(voidMsg2, count)) : ((count === 1) ? String.format(restoreMsg1, objectDisplayString) : String.format(restoreMsg2, count));
    LxnBase.MessageRegister.info(title, message, details);
}
Luxena.Travel.MessageFactory.objectUpdatedMsg = function Luxena_Travel_MessageFactory$objectUpdatedMsg(caption, objectDisplayString, isCreated) {
    LxnBase.MessageRegister.info(caption, ((isCreated) ? LxnBase.BaseRes.created : LxnBase.BaseRes.updated) + ' ' + objectDisplayString);
}
Luxena.Travel.MessageFactory.continueOperationConfirmation = function Luxena_Travel_MessageFactory$continueOperationConfirmation(title, errorMsg, invalidItems, continueOperationMsg, onConfirm) {
    var newLine = '<br/>';
    var builder = new ss.StringBuilder();
    builder.append(errorMsg);
    builder.append(newLine);
    for (var i = 0; i < invalidItems.length; i++) {
        var item = invalidItems[i];
        builder.append(newLine);
        builder.append(item);
    }
    if (String.isNullOrEmpty(continueOperationMsg)) {
        LxnBase.UI.MessageBoxWrap.show(title, builder.toString(), Ext.MessageBox.WARNING, Ext.MessageBox.OK, null);
    }
    else {
        builder.append(newLine);
        builder.append(newLine);
        builder.append(continueOperationMsg);
        LxnBase.UI.MessageBoxWrap.confirm(title, builder.toString(), function(button, text) {
            if (button === 'yes') {
                onConfirm();
            }
        });
    }
}
Luxena.Travel.MessageFactory.invoiceAddedToPayment = function Luxena_Travel_MessageFactory$invoiceAddedToPayment(title, payment, invoice) {
    var text = String.format('{0} {1} {2}', Luxena.Travel.DomainRes.order.toLowerCase(), invoice.Name, Luxena.Travel.Res.payment_AddedToPayment_Msg1);
    LxnBase.MessageRegister.info(title, String.format('{0} {1}', text, LxnBase.UI.Controls.ObjectLink.renderInfo(payment)));
}
Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder = function Luxena_Travel_MessageFactory$documentsAlreadyAddedToOrder(title, msg, sources, confirmation, onConfirm) {
    var separator = '<br/>';
    var builder = new ss.StringBuilder(msg);
    builder.append(separator);
    builder.append(separator);
    var $enum1 = ss.IEnumerator.getEnumerator(sources);
    while ($enum1.moveNext()) {
        var link = $enum1.current;
        builder.append(String.format(Luxena.Travel.Res.order_DocumentAlreadyAddedToOrder_Msg, link.Product.Name, link.Order.Name));
        builder.append(separator);
    }
    if (!ss.isNullOrUndefined(confirmation) && !ss.isNullOrUndefined(onConfirm)) {
        builder.append(separator);
        builder.append(confirmation);
        LxnBase.UI.MessageBoxWrap.confirm(title, builder.toString(), function(button, text) {
            if (button !== 'yes') {
                return;
            }
            onConfirm();
        });
    }
    else {
        LxnBase.UI.MessageBoxWrap.show(title, builder.toString(), Ext.MessageBox.WARNING, Ext.MessageBox.OK);
    }
}
Luxena.Travel.MessageFactory.postedPaymentsInInvoice = function Luxena_Travel_MessageFactory$postedPaymentsInInvoice(title, msg, payments) {
    var separator = '<br/>';
    var builder = new ss.StringBuilder(msg);
    builder.append(separator);
    builder.append(separator);
    var $enum1 = ss.IEnumerator.getEnumerator(payments);
    while ($enum1.moveNext()) {
        var payment = $enum1.current;
        builder.append(String.format(Luxena.Travel.Res.order_PostedPaymentInOrder_Msg, payment.Number, payment.Order.Name));
        builder.append(separator);
    }
    LxnBase.UI.MessageBoxWrap.show(title, builder.toString(), Ext.MessageBox.WARNING, Ext.MessageBox.OK);
}
Luxena.Travel.MessageFactory._getVoidingConfirmationText = function Luxena_Travel_MessageFactory$_getVoidingConfirmationText(voidMsg1, voidMsg2, voidMsg3, restoreMsg1, restoreMsg2, restoreMsg3, isVoid, count) {
    var msg1 = (isVoid) ? restoreMsg1 : voidMsg1;
    var msg2 = (isVoid) ? restoreMsg2 : voidMsg2;
    var msg3 = (isVoid) ? restoreMsg3 : voidMsg3;
    return LxnBase.StringUtility.getNumberText(count, msg1, msg2, msg3);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PartyModel

Luxena.Travel.PartyModel = function Luxena_Travel_PartyModel() {
    this.Id = ko.observable();
    this.Version = ko.observable();
    this.Name = ko.observable();
    this.LegalName = ko.observable();
    this.Phone1 = ko.observable();
    this.Phone2 = ko.observable();
    this.Fax = ko.observable();
    this.Email1 = ko.observable();
    this.Email2 = ko.observable();
    this.WebAddress = ko.observable();
    this.IsCustomer = ko.observable();
    this.IsSupplier = ko.observable();
    this.ReportsTo = ko.observable();
    this.LegalAddress = ko.observable();
    this.ActualAddress = ko.observable();
    this.Note = ko.observable();
    this.Balance = ko.observable();
    this.Files = ko.observableArray();
    this.orders = ko.observableArray();
    this.invoices = ko.observableArray();
    this.Permissions = ko.observable();
}
Luxena.Travel.PartyModel.prototype = {
    IsPerson: false,
    IsOrganization: false,
    IsDepartment: false,
    InfoTitle: null,
    InfoPrompt: null,
    Edit: null,
    AddFile: null,
    DownloadFile: null,
    DeleteFile: null,
    AddOrder: null,
    OpenAllProducts: null,
    OpenAllOrders: null,
    OpenAllInvoices: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PersonModel

Luxena.Travel.PersonModel = function Luxena_Travel_PersonModel() {
    this.Birthday = ko.observable();
    this.Passports = ko.observableArray();
    this.MilesCards = ko.observableArray();
    this.Organization = ko.observable();
    this.Title = ko.observable();
    this.BonusCardNumber = ko.observable();
    Luxena.Travel.PersonModel.initializeBase(this);
    this.IsPerson = true;
    this.InfoTitle = Luxena.Travel.Res.personView_Personal_Info;
    this.InfoPrompt = ko.dependentObservable(ss.Delegate.create(this, function() {
        return this.Phone1() == null && this.Phone2() == null && this.Email1() == null && this.Email2() == null && this.WebAddress() == null && this.ActualAddress() == null && this.LegalAddress() == null && (this.MilesCards() == null || !this.MilesCards().length) && (this.Passports() == null || !this.Passports().length);
    }));
    this.Organization(new Luxena.Travel.OrganizationModel());
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PassportGridControl

Luxena.Travel.PassportGridControl = function Luxena_Travel_PassportGridControl() {
    this.initialize();
}
Luxena.Travel.PassportGridControl._initColumnModel = function Luxena_Travel_PassportGridControl$_initColumnModel() {
    var columnModelConfig = [];
    columnModelConfig.add({ id: 'Number', header: Luxena.Travel.DomainRes.passport, sortable: false, dataIndex: 'Number', width: 70, editor: new Ext.form.TextField(new Ext.form.TextFieldConfig().allowBlank(false).toDictionary()) });
    columnModelConfig.add({ id: 'LastName', header: Luxena.Travel.DomainRes.passport_LastName, sortable: false, dataIndex: 'LastName', width: 90, editor: new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary()) });
    columnModelConfig.add({ id: 'FirstName', header: Luxena.Travel.DomainRes.passport_FirstName, sortable: false, dataIndex: 'FirstName', width: 75, editor: new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary()) });
    columnModelConfig.add({ id: 'MiddleName', header: Luxena.Travel.DomainRes.passport_MiddleName, sortable: false, dataIndex: 'MiddleName', width: 80, editor: new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary()) });
    var countryConfig = new LxnBase.Services.ClassColumnConfig();
    countryConfig.Type = LxnBase.Services.TypeEnum.object;
    countryConfig.IsRequired = false;
    (countryConfig).Clazz = 'Country';
    columnModelConfig.add({ id: 'Citizenship', header: Luxena.Travel.DomainRes.passport_Citizenship, sortable: false, dataIndex: 'Citizenship', width: 82, editor: LxnBase.UI.AutoControls.ControlFactory.createEditor(countryConfig), renderer: LxnBase.UI.AutoControls.ControlFactory.createRenderer(countryConfig) });
    var dateTimeConfig = new LxnBase.Services.DateTimeColumnConfig();
    dateTimeConfig.Type = LxnBase.Services.TypeEnum.date;
    columnModelConfig.add({ id: 'Birthday', header: Luxena.Travel.DomainRes.passport_Birthday, sortable: false, dataIndex: 'Birthday', width: 90, editor: LxnBase.UI.AutoControls.ControlFactory.createEditor(dateTimeConfig), renderer: LxnBase.UI.AutoControls.ControlFactory.createRenderer(dateTimeConfig) });
    var listColumnConfig = new LxnBase.Services.ListColumnConfig();
    listColumnConfig.Type = LxnBase.Services.TypeEnum.list;
    listColumnConfig.IsRequired = true;
    listColumnConfig.Items = [ [ 0, Luxena.Travel.Res.personEditForm_Male ], [ 1, Luxena.Travel.Res.personEditForm_Female ] ];
    columnModelConfig.add({ id: 'Gender', header: Luxena.Travel.DomainRes.passport_Gender, sortable: false, dataIndex: 'Gender', width: 40, editor: LxnBase.UI.AutoControls.ControlFactory.createEditor(listColumnConfig), renderer: function(value) {
        var items = listColumnConfig.Items;
        if (Type.canCast(value, Number)) {
            var $enum1 = ss.IEnumerator.getEnumerator(items);
            while ($enum1.moveNext()) {
                var item = $enum1.current;
                if (item[0] === value) {
                    return item[1];
                }
            }
        }
        return value;
    } });
    columnModelConfig.add({ id: 'IssuedBy', header: Luxena.Travel.DomainRes.passport_IssuedBy, sortable: false, dataIndex: 'IssuedBy', width: 105, editor: LxnBase.UI.AutoControls.ControlFactory.createEditor(countryConfig), renderer: LxnBase.UI.AutoControls.ControlFactory.createRenderer(countryConfig) });
    columnModelConfig.add({ id: 'ExpiredOn', header: Luxena.Travel.DomainRes.passport_ExpiredOn, sortable: false, dataIndex: 'ExpiredOn', width: 100, editor: LxnBase.UI.AutoControls.ControlFactory.createEditor(dateTimeConfig), renderer: LxnBase.UI.AutoControls.ControlFactory.createRenderer(dateTimeConfig) });
    columnModelConfig.add({ id: 'Note', header: Luxena.Travel.DomainRes.common_Note, sortable: false, dataIndex: 'Note', width: 80, editor: new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary()) });
    return new Ext.grid.ColumnModel(columnModelConfig);
}
Luxena.Travel.PassportGridControl._getPassport = function Luxena_Travel_PassportGridControl$_getPassport(record) {
    var dto = new Luxena.Travel.PassportDto();
    dto.Id = record.get('Id');
    dto.Version = record.get('Version');
    dto.Number = record.get('Number');
    dto.FirstName = record.get('FirstName');
    dto.MiddleName = record.get('MiddleName');
    dto.LastName = record.get('LastName');
    var citizenship = record.get('Citizenship');
    if (citizenship != null && Type.canCast(citizenship, Array)) {
        dto.Citizenship = Luxena.Travel.PassportGridControl._createObjectInfo(citizenship);
    }
    else {
        dto.Citizenship = citizenship;
    }
    dto.Birthday = record.get('Birthday');
    dto.Gender = record.get('Gender');
    var issuedBy = record.get('IssuedBy');
    if (issuedBy != null && Type.canCast(issuedBy, Array)) {
        dto.IssuedBy = Luxena.Travel.PassportGridControl._createObjectInfo(issuedBy);
    }
    else {
        dto.IssuedBy = issuedBy;
    }
    dto.ExpiredOn = record.get('ExpiredOn');
    dto.Note = record.get('Note');
    return dto;
}
Luxena.Travel.PassportGridControl._createObjectInfo = function Luxena_Travel_PassportGridControl$_createObjectInfo(data) {
    var obj = new LxnBase.Data.Reference();
    obj.Id = data[LxnBase.Data.Reference.IdPos];
    obj.Name = data[LxnBase.Data.Reference.NamePos];
    obj.Type = data[LxnBase.Data.Reference.TypePos];
    return obj;
}
Luxena.Travel.PassportGridControl.prototype = {
    
    get_widget: function Luxena_Travel_PassportGridControl$get_widget() {
        return this._grid;
    },
    
    loadData: function Luxena_Travel_PassportGridControl$loadData(data) {
        this._passports = data;
        if (this._passports != null && this._passports.length > 0) {
            this._grid.getStore().loadData(this._passports);
        }
    },
    
    initialize: function Luxena_Travel_PassportGridControl$initialize() {
        this._grid = new Ext.grid.EditorGridPanel(new Ext.grid.EditorGridPanelConfig().store(this.initStore()).cls('passport-grid').sm(this._initSelectionModel()).cm(Luxena.Travel.PassportGridControl._initColumnModel()).tbar(this._initToolbar()).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).height(115).clicksToEdit(2).collapsible(false).frame(false).toDictionary());
    },
    
    isModified: function Luxena_Travel_PassportGridControl$isModified() {
        return this._isModified;
    },
    
    getData: function Luxena_Travel_PassportGridControl$getData() {
        return this.getPassports();
    },
    
    getPassports: function Luxena_Travel_PassportGridControl$getPassports() {
        var count = this._store.getCount();
        if (!count) {
            return new Array(0);
        }
        var dtos = new Array(count);
        for (var i = 0; i < count; i++) {
            dtos[i] = Luxena.Travel.PassportGridControl._getPassport(this._store.getAt(i));
        }
        return dtos;
    },
    
    initStore: function Luxena_Travel_PassportGridControl$initStore() {
        this._store = new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Version', 'Number', 'FirstName', 'LastName', 'MiddleName', 'Citizenship', 'Birthday', 'Gender', 'IssuedBy', 'ExpiredOn', 'Note' ]).listeners({ update: ss.Delegate.create(this, function(store, record, operation) {
            if (operation === Ext.data.Record.EDIT) {
                record.commit();
                this._isModified = true;
            }
        }) }).toDictionary());
        return this._store;
    },
    
    _initToolbar: function Luxena_Travel_PassportGridControl$_initToolbar() {
        this._createAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.createItem_Lower).handler(ss.Delegate.create(this, this._createItem)));
        this._editAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this, this._editItem)).disabled(true));
        this._copyAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.copy_Lower).handler(ss.Delegate.create(this, this._copyItem)).disabled(true));
        this._deleteAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeItem)).disabled(true));
        return new Ext.Toolbar([ '->', this._createAction, this._editAction, this._copyAction, this._deleteAction ]);
    },
    
    _initSelectionModel: function Luxena_Travel_PassportGridControl$_initSelectionModel() {
        this._selectionModel = new Ext.grid.CheckboxSelectionModel();
        this._selectionModel.singleSelect = false;
        this._selectionModel.on('selectionchange', ss.Delegate.create(this, function() {
            if (!this._selectionModel.getCount()) {
                this._deleteAction.disable();
            }
            else {
                this._deleteAction.enable();
            }
            if (this._selectionModel.getCount() !== 1) {
                this._editAction.disable();
                this._copyAction.disable();
            }
            else {
                this._editAction.enable();
                this._copyAction.enable();
            }
        }));
        return this._selectionModel;
    },
    
    _createItem: function Luxena_Travel_PassportGridControl$_createItem() {
        LxnBase.UI.FormsRegistry.editObject('Passport', null, null, ss.Delegate.create(this, function(result) {
            var record = new Ext.data.Record();
            record.data = (result).Item;
            record.fields = this._store.fields;
            this._store.add([ record ]);
            this._isModified = true;
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _editItem: function Luxena_Travel_PassportGridControl$_editItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var record = this._selectionModel.getSelected();
        var data = record.data;
        LxnBase.UI.FormsRegistry.editObject('Passport', data['Id'], data, ss.Delegate.create(this, function(result) {
            this._updateRecord((result).Item, record);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _copyItem: function Luxena_Travel_PassportGridControl$_copyItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var srcRecord = this._selectionModel.getSelected();
        var data = srcRecord.data;
        LxnBase.UI.FormsRegistry.editObject('Passport', null, data, ss.Delegate.create(this, function(result) {
            var record = new Ext.data.Record();
            record.data = (result).Item;
            record.fields = this._store.fields;
            this._store.add([ record ]);
            this._isModified = true;
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _removeItem: function Luxena_Travel_PassportGridControl$_removeItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var selected = this._selectionModel.getSelections();
        var $enum1 = ss.IEnumerator.getEnumerator(selected);
        while ($enum1.moveNext()) {
            var a = $enum1.current;
            this._store.remove(a);
        }
        this._isModified = true;
    },
    
    _updateRecord: function Luxena_Travel_PassportGridControl$_updateRecord(obj, record) {
        var recordFields = record.fields.getRange();
        var $enum1 = ss.IEnumerator.getEnumerator(recordFields);
        while ($enum1.moveNext()) {
            var field = $enum1.current;
            var name = field.name;
            var value = obj[name];
            if (!ss.isUndefined(value)) {
                record.data[name] = value;
            }
        }
        record.commit();
        this._isModified = true;
    },
    
    handleKeyEvent: function Luxena_Travel_PassportGridControl$handleKeyEvent(keyEvent) {
        var eventDictionary = Ext.EventObject;
        var key = keyEvent.keyCode;
        var isAdditionalKey = keyEvent.ctrlKey || keyEvent.shiftKey || keyEvent.altKey;
        var isCtrlKey = keyEvent.ctrlKey && !keyEvent.shiftKey && !keyEvent.altKey;
        if (key === eventDictionary['UP']) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['DOWN'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['F2'] && !isAdditionalKey) {
            if (this._selectionModel.getSelections().length !== 1) {
                return true;
            }
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._grid.startEditing(this._store.indexOf(this._selectionModel.getSelected()), 1);
            return true;
        }
        if (key === eventDictionary['ESC']) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['INSERT'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._createItem();
            return true;
        }
        if (key === eventDictionary['ENTER'] && !keyEvent.ctrlKey && keyEvent.shiftKey && !keyEvent.altKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            if (!this._selectionModel.getSelections().length) {
                return true;
            }
            this._editItem();
            return true;
        }
        if (key === eventDictionary['DELETE'] && isCtrlKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._removeItem();
            return true;
        }
        if (key === eventDictionary['HOME'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._selectionModel.selectRow(0);
            return true;
        }
        if (key === eventDictionary['END'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._selectionModel.selectRow(this._store.getCount() - 1);
            return true;
        }
        return false;
    },
    
    _setFocus: function Luxena_Travel_PassportGridControl$_setFocus() {
        this._grid.getView().focusRow(0);
    },
    
    _passports: null,
    _grid: null,
    _store: null,
    _selectionModel: null,
    _createAction: null,
    _editAction: null,
    _copyAction: null,
    _deleteAction: null,
    _isModified: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.MilesCardGridControl

Luxena.Travel.MilesCardGridControl = function Luxena_Travel_MilesCardGridControl() {
    this.initialize();
}
Luxena.Travel.MilesCardGridControl._initColumnModel = function Luxena_Travel_MilesCardGridControl$_initColumnModel() {
    var columnModelConfig = [];
    columnModelConfig.add({ id: 'Number', header: Luxena.Travel.DomainRes.milesCard, dataIndex: 'Number', width: 110, editor: new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary()) });
    var config = new LxnBase.Services.ClassColumnConfig();
    config.Type = LxnBase.Services.TypeEnum.object;
    config.IsRequired = true;
    (config).Clazz = 'Airline';
    columnModelConfig.add({ id: 'Organization', header: Luxena.Travel.DomainRes.milesCard_Organization, dataIndex: 'Organization', width: 200, editor: LxnBase.UI.AutoControls.ControlFactory.createEditor(config), renderer: LxnBase.UI.AutoControls.ControlFactory.createRenderer(config) });
    return new Ext.grid.ColumnModel(columnModelConfig);
}
Luxena.Travel.MilesCardGridControl._getMilesCard = function Luxena_Travel_MilesCardGridControl$_getMilesCard(record) {
    var dto = new Luxena.Travel.MilesCardDto();
    dto.Id = record.get('Id');
    dto.Version = record.get('Version');
    dto.Number = record.get('Number');
    var organization = record.get('Organization');
    if (organization != null && Type.canCast(organization, Array)) {
        var arr = organization;
        dto.Organization = new LxnBase.Data.Reference();
        dto.Organization.Id = arr[LxnBase.Data.Reference.IdPos];
        dto.Organization.Name = arr[LxnBase.Data.Reference.NamePos];
        dto.Organization.Type = arr[LxnBase.Data.Reference.TypePos];
    }
    else {
        dto.Organization = organization;
    }
    return dto;
}
Luxena.Travel.MilesCardGridControl.prototype = {
    
    get_widget: function Luxena_Travel_MilesCardGridControl$get_widget() {
        return this._grid;
    },
    
    loadData: function Luxena_Travel_MilesCardGridControl$loadData(data) {
        this._milesCards = data;
        if (this._milesCards != null && this._milesCards.length > 0) {
            this._grid.getStore().loadData(this._milesCards);
        }
    },
    
    initialize: function Luxena_Travel_MilesCardGridControl$initialize() {
        this._grid = new Ext.grid.EditorGridPanel(new Ext.grid.EditorGridPanelConfig().store(this.initStore()).cls('miles-card-grid').sm(this._initSelectionModel()).cm(Luxena.Travel.MilesCardGridControl._initColumnModel()).tbar(this._initToolbar()).stripeRows(true).enableHdMenu(false).enableColumnResize(false).enableColumnMove(false).autoScroll(true).clicksToEdit(2).collapsible(false).frame(false).height(115).toDictionary());
    },
    
    isModified: function Luxena_Travel_MilesCardGridControl$isModified() {
        return this._isModified;
    },
    
    getData: function Luxena_Travel_MilesCardGridControl$getData() {
        return this.getCards();
    },
    
    getCards: function Luxena_Travel_MilesCardGridControl$getCards() {
        var count = this._store.getCount();
        if (!count) {
            return null;
        }
        var dtos = new Array(count);
        for (var i = 0; i < count; i++) {
            dtos[i] = Luxena.Travel.MilesCardGridControl._getMilesCard(this._store.getAt(i));
        }
        return dtos;
    },
    
    initStore: function Luxena_Travel_MilesCardGridControl$initStore() {
        this._store = new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Version', 'Number', 'Organization' ]).listeners({ update: ss.Delegate.create(this, function(store, record, operation) {
            if (operation === 'edit') {
                record.commit();
                this._isModified = true;
            }
        }) }).toDictionary());
        return this._store;
    },
    
    _initToolbar: function Luxena_Travel_MilesCardGridControl$_initToolbar() {
        this._createAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.createItem_Lower).handler(ss.Delegate.create(this, this._createItem)));
        this._editAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this, this._editItem)).disabled(true));
        this._deleteAction = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this, this._removeItem)).disabled(true));
        return new Ext.Toolbar([ '->', this._createAction, this._editAction, this._deleteAction ]);
    },
    
    _initSelectionModel: function Luxena_Travel_MilesCardGridControl$_initSelectionModel() {
        this._selectionModel = new Ext.grid.CheckboxSelectionModel();
        this._selectionModel.singleSelect = false;
        this._selectionModel.on('selectionchange', ss.Delegate.create(this, function() {
            if (!this._selectionModel.getCount()) {
                this._deleteAction.disable();
            }
            else {
                this._deleteAction.enable();
            }
            if (this._selectionModel.getCount() !== 1) {
                this._editAction.disable();
            }
            else {
                this._editAction.enable();
            }
        }));
        return this._selectionModel;
    },
    
    _createItem: function Luxena_Travel_MilesCardGridControl$_createItem() {
        LxnBase.UI.FormsRegistry.editObject('MilesCard', null, null, ss.Delegate.create(this, function(result) {
            var record = new Ext.data.Record();
            record.data = (result).Item;
            record.fields = this._store.fields;
            this._store.add([ record ]);
            this._isModified = true;
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _editItem: function Luxena_Travel_MilesCardGridControl$_editItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var record = this._selectionModel.getSelected();
        var data = record.data;
        LxnBase.UI.FormsRegistry.editObject('MilesCard', data['Id'], data, ss.Delegate.create(this, function(result) {
            this._updateRecord((result).Item, record);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _removeItem: function Luxena_Travel_MilesCardGridControl$_removeItem() {
        if (!this._selectionModel.getCount()) {
            return;
        }
        var selected = this._selectionModel.getSelections();
        var $enum1 = ss.IEnumerator.getEnumerator(selected);
        while ($enum1.moveNext()) {
            var a = $enum1.current;
            this._store.remove(a);
        }
        this._isModified = true;
    },
    
    _updateRecord: function Luxena_Travel_MilesCardGridControl$_updateRecord(obj, record) {
        var recordFields = record.fields.getRange();
        var $enum1 = ss.IEnumerator.getEnumerator(recordFields);
        while ($enum1.moveNext()) {
            var recordField = $enum1.current;
            var name = recordField.name;
            var value = obj[name];
            if (!ss.isNullOrUndefined(value)) {
                record.data[name] = value;
            }
        }
        record.commit();
        this._isModified = true;
    },
    
    handleKeyEvent: function Luxena_Travel_MilesCardGridControl$handleKeyEvent(keyEvent) {
        var eventDictionary = Ext.EventObject;
        var key = keyEvent.keyCode;
        var isAdditionalKey = keyEvent.ctrlKey || keyEvent.shiftKey || keyEvent.altKey;
        var isCtrlKey = keyEvent.ctrlKey && !keyEvent.shiftKey && !keyEvent.altKey;
        if (key === eventDictionary['UP']) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['DOWN'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['F2'] && !isAdditionalKey) {
            if (this._selectionModel.getSelections().length !== 1) {
                return true;
            }
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._grid.startEditing(this._store.indexOf(this._selectionModel.getSelected()), 1);
            return true;
        }
        if (key === eventDictionary['ESC']) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._setFocus();
            return true;
        }
        if (key === eventDictionary['INSERT'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._createItem();
            return true;
        }
        if (key === eventDictionary['ENTER'] && !keyEvent.ctrlKey && keyEvent.shiftKey && !keyEvent.altKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            if (!this._selectionModel.getSelections().length) {
                return true;
            }
            this._editItem();
            return true;
        }
        if (key === eventDictionary['DELETE'] && isCtrlKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._removeItem();
            return true;
        }
        if (key === eventDictionary['HOME'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._selectionModel.selectRow(0);
            return true;
        }
        if (key === eventDictionary['END'] && !isAdditionalKey) {
            keyEvent.cancelBubble = true;
            keyEvent.returnValue = false;
            this._selectionModel.selectRow(this._store.getCount() - 1);
            return true;
        }
        return false;
    },
    
    _setFocus: function Luxena_Travel_MilesCardGridControl$_setFocus() {
        this._grid.getView().focusRow(0);
    },
    
    _milesCards: null,
    _grid: null,
    _store: null,
    _selectionModel: null,
    _createAction: null,
    _editAction: null,
    _deleteAction: null,
    _isModified: false
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.PersonViewForm

Luxena.Travel.PersonViewForm = function Luxena_Travel_PersonViewForm(tabId, personId) {
    Luxena.Travel.PersonViewForm.initializeBase(this, [ tabId, personId, 'Person' ]);
    this.listCaption = Luxena.Travel.DomainRes.person_Caption_List;
}
Luxena.Travel.PersonViewForm.viewObject = function Luxena_Travel_PersonViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.PersonViewForm(tabId, id);
    });
}
Luxena.Travel.PersonViewForm.prototype = {
    
    createModel: function Luxena_Travel_PersonViewForm$createModel() {
        return new Luxena.Travel.PersonModel();
    },
    
    getParty: function Luxena_Travel_PersonViewForm$getParty(id) {
        Luxena.Travel.Services.PartyService.GetPerson(id, ss.Delegate.create(this, this.setParty), ss.Delegate.create(this, function() {
            this.close();
        }));
    },
    
    initView: function Luxena_Travel_PersonViewForm$initView() {
        Luxena.Travel.PersonViewForm.callBaseMethod(this, 'initView');
        this.view.find('.pass-copy a').live('click', function(e) {
            $(e.currentTarget).next().fadeIn().focus().select();
        });
        this.view.find('.pass-copy input').live('blur', function(e) {
            $(e.currentTarget).fadeOut();
        }).live('keydown', function(e) {
            if (e.which === Ext.EventObject.ESC || (e.which === Ext.EventObject.C && e.ctrlKey)) {
                $(e.currentTarget).fadeOut();
            }
        });
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.TaskViewForm

Luxena.Travel.TaskViewForm = function Luxena_Travel_TaskViewForm(tabId, id, type) {
    Luxena.Travel.TaskViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.TaskViewForm.viewObject = function Luxena_Travel_TaskViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.TaskViewForm(tabId, id, type);
    });
}
Luxena.Travel.TaskViewForm.prototype = {
    
    onInitToolBar: function Luxena_Travel_TaskViewForm$onInitToolBar(toolbarItems) {
        this._changeStatusAction$8 = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.common_Status.toLowerCase()).custom('menu', [ new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_Open).handler(ss.Delegate.create(this, function() {
            this._changeStatus$8(0, Luxena.Travel.DomainRes.taskStatus_Open);
        })).toDictionary()), new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_InProgress).handler(ss.Delegate.create(this, function() {
            this._changeStatus$8(1, Luxena.Travel.DomainRes.taskStatus_InProgress);
        })).toDictionary()), new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_WaitForResponse).handler(ss.Delegate.create(this, function() {
            this._changeStatus$8(2, Luxena.Travel.DomainRes.taskStatus_WaitForResponse);
        })).toDictionary()), new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_Closed).handler(ss.Delegate.create(this, function() {
            this._changeStatus$8(3, Luxena.Travel.DomainRes.taskStatus_Closed);
        })).toDictionary()) ]).toDictionary());
        this._applyButtonSeparator$8 = new Ext.Toolbar.Separator();
        toolbarItems.add(this._applyButtonSeparator$8);
        toolbarItems.add(this._changeStatusAction$8);
    },
    
    onLoadConfig: function Luxena_Travel_TaskViewForm$onLoadConfig() {
        var status = this.get_itemConfig().CustomActionPermissions['ChangeTaskStatus'];
        LxnBase.UI.BaseClassViewForm.setActionStatus(this._changeStatusAction$8, status);
        this._applyButtonSeparator$8.setVisible(status.Visible);
        Luxena.Travel.TaskViewForm.callBaseMethod(this, 'onLoadConfig');
    },
    
    updateActionsStatus: function Luxena_Travel_TaskViewForm$updateActionsStatus() {
        var status = this.get_permissions().CustomActionPermissions['ChangeTaskStatus'];
        LxnBase.UI.BaseClassViewForm.setActionStatus(this._changeStatusAction$8, status);
        this._applyButtonSeparator$8.setVisible(status.Visible);
        Luxena.Travel.TaskViewForm.callBaseMethod(this, 'updateActionsStatus');
    },
    
    _changeStatus$8: function Luxena_Travel_TaskViewForm$_changeStatus$8(status, statusStr) {
        var ids = [ this.get_instance().Id ];
        Luxena.Travel.Services.TaskService.ChangeStatus(ids, status, null, ss.Delegate.create(this, function(result) {
            this.load(result);
            var message = String.format(Luxena.Travel.Res.task_StatusChange_Msg, statusStr, result[LxnBase.Data.ObjectPropertyNames.reference]);
            LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List, message);
        }), null);
    },
    
    _changeStatusAction$8: null,
    _applyButtonSeparator$8: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ReportProvider

Luxena.Travel.ReportProvider = function Luxena_Travel_ReportProvider() {
    $(ss.Delegate.create(this, function() {
        this._frames = $("<div style='display:none'><iframe></iframe><iframe></iframe></div>");
        this._frames.appendTo(document.body);
        this._frames = this._frames.find('iframe');
    }));
}
Luxena.Travel.ReportProvider.prototype = {
    
    loadReport: function Luxena_Travel_ReportProvider$loadReport(url, parameters) {
        url = window.location.pathname + encodeURI(url);
        var form = $("<form action='" + url + "' method='post'></form>");
        if (ss.isValue(parameters)) {
            var $dict1 = parameters;
            for (var $key2 in $dict1) {
                var entry = { key: $key2, value: $dict1[$key2] };
                $("<input type='hidden' name='" + entry.key + "' />").val(entry.value).appendTo(form);
            }
        }
        form.appendTo((this._frames[++this._current % this._frames.length]).contentWindow.document.body);
        form.submit().remove();
    },
    
    _frames: null,
    _current: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Application

Luxena.Travel.Application = function Luxena_Travel_Application(parameters) {
    if (Luxena.Travel.LocalStorageProvider.isSupported()) {
        Ext.state.Manager.setProvider(new Luxena.Travel.LocalStorageProvider());
    }
    Luxena.Travel.AppManager.init(parameters);
    Luxena.Travel.Application._registerForms();
    Luxena.Travel.Application._registerExtentions();
    Luxena.Travel.Application._initAppActions();
    Ext.QuickTips.init();
    LxnBase.MessageRegister.add_newMessage(Luxena.Travel.Application._onError);
    var header = new Luxena.Travel.Header({ id: 'header', region: 'north', margins: '0 0 0 0' });
    LxnBase.UI.Tabs.init({ id: 'content', region: 'center' });
    LxnTravel.App.HomeTab.init();
    var messages = new LxnBase.UI.Messages({ region: 'south', split: true, height: 100, minSize: 100, maxSize: 200, collapsible: true, margins: '0 0 0 0', collapsed: true, autoScroll: true });
    LxnBase.UI.Infos.init();
    LxnBase.UI.AutoControls.ReportLoader.set_instance(new Luxena.Travel.ReportProvider());
    Luxena.Travel.Application._setupServerEvents();
    $('#app-loading').remove();
    var viewport = new Ext.Viewport(new Ext.ViewportConfig().layout('border').items([ header.get_widget(), LxnBase.UI.Tabs.get_widget(), messages.get_widget() ]).toDictionary());
    messages.setLayoutRegion(viewport.getLayout().south);
    $(window).bind('beforeunload', function() {
        return Luxena.Travel.Res.unloadApplication_Confirm_Msg;
    });
}
Luxena.Travel.Application._registerForms = function Luxena_Travel_Application$_registerForms() {
    LxnBase.UI.AutoForms.AutoFormCallbacks.registerAsDefaults();
    LxnBase.UI.FormsRegistry.registerDefaultList(Luxena.Travel.Controls.AutoListTabExt.listObjects);
    LxnBase.UI.FormsRegistry.registerView('Organization', Luxena.Travel.OrganizationViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Department', Luxena.Travel.DepartmentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Airline', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('Person', Luxena.Travel.PersonViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerList('Product', Luxena.Travel.AllProductListTab.listObject);
    LxnBase.UI.FormsRegistry.registerList('AviaDocument', Luxena.Travel.AviaDocumentListTab.listObject);
    LxnBase.UI.FormsRegistry.registerView('AviaTicket', Luxena.Travel.AviaDocumentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('AviaMco', Luxena.Travel.AviaDocumentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('AviaRefund', Luxena.Travel.AviaDocumentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Accommodation', Luxena.Travel.AccommodationViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Isic', Luxena.Travel.IsicViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Excursion', Luxena.Travel.ExcursionViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Pasteboard', Luxena.Travel.PasteboardViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('PasteboardRefund', Luxena.Travel.PasteboardRefundViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('SimCard', Luxena.Travel.SimCardViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Tour', Luxena.Travel.TourViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Transfer', Luxena.Travel.TransferViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Insurance', Luxena.Travel.InsuranceViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('InsuranceRefund', Luxena.Travel.InsuranceRefundViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('CarRental', Luxena.Travel.CarRentalViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('BusTicket', Luxena.Travel.BusTicketViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('BusTicketRefund', Luxena.Travel.BusTicketRefundViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('GenericProduct', Luxena.Travel.GenericProductViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('AirFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('SirenaFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('MirFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('TktFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('PrintFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('GalileoXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('GalileoRailXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('GalileoBusXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('AmadeusXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('SabreFilFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('LuxenaXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('TravelPointXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('CrazyllamaPnrFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('DrctXmlFile', Luxena.Travel.GdsFileViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('Task', Luxena.Travel.TaskViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('AirlineServiceClass', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('Airport', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('Currency', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('Invoice', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('PaymentSystem', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('AirlineCommissionPercents', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('DocumentOwner', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('DocumentAccess', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('GdsAgent', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('OpeningBalance', Luxena.Travel.AppActions.listPositioning, false);
    LxnBase.UI.FormsRegistry.registerView('InternalTransfer', Luxena.Travel.AppActions.listPositioning, false);
}
Luxena.Travel.Application._registerExtentions = function Luxena_Travel_Application$_registerExtentions() {
    Luxena.Travel.Controls.ControlFactoryExt.init();
    Luxena.Travel.Controls.GridFilterPluginExtention.init();
    LxnBase.Knockout.ResBindingHandler.get_resources().addRange([ Luxena.Travel.Res, Luxena.Travel.DomainRes, LxnBase.BaseRes ]);
}
Luxena.Travel.Application._onError = function Luxena_Travel_Application$_onError(sender, e) {
    if (e.get_type() === LxnBase.MessageType.error && !e.get_handled()) {
        LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.error, msg: e.get_message(), buttons: Ext.MessageBox.OK, icon: Ext.MessageBox.ERROR });
    }
}
Luxena.Travel.Application._setupServerEvents = function Luxena_Travel_Application$_setupServerEvents() {
    Luxena.Travel.ServerEvents.instance.add_versionChanged(Luxena.Travel.Application._onVersionChanged);
    Luxena.Travel.ServerEvents.instance.add_newAviaDocumentImported(Luxena.Travel.Application._onNewDocument);
    Luxena.Travel.ServerEvents.instance.add_newTaskAssigned(Luxena.Travel.Application._onNewTask);
    Luxena.Travel.ServerEvents.instance.add_userRolesChanged(Luxena.Travel.Application._onUserRolesChanged);
    Luxena.Travel.ServerEvents.instance.setup(30000);
}
Luxena.Travel.Application._initAppActions = function Luxena_Travel_Application$_initAppActions() {
    Luxena.Travel.AppActions.init();
}
Luxena.Travel.Application._onVersionChanged = function Luxena_Travel_Application$_onVersionChanged() {
    LxnBase.MessageRegister.info(Luxena.Travel.Res.attention, Luxena.Travel.Res.applicationVersionChanged);
}
Luxena.Travel.Application._onNewDocument = function Luxena_Travel_Application$_onNewDocument(arg) {
    var docs = arg;
    if (ss.isNullOrUndefined(docs) || !docs.length) {
        return;
    }
    for (var i = 0; i < docs.length; i++) {
        var document = docs[i];
        var documentLink = LxnBase.UI.Controls.ObjectLink.renderInfo(document);
        var typeString = null;
        switch (document.Type) {
            case 'AviaTicket':
                typeString = Luxena.Travel.DomainRes.aviaTicket.toLowerCase();
                break;
            case 'AviaMco':
                typeString = Luxena.Travel.DomainRes.aviaMco.toLowerCase();
                break;
            case 'AviaRefund':
                typeString = Luxena.Travel.DomainRes.aviaRefund.toLowerCase();
                break;
        }
        var message = null;
        switch (document.State) {
            case 0:
                message = String.format(Luxena.Travel.Res.importAviaDocument_Msg.toLowerCase(), typeString, documentLink);
                break;
            case 2:
                message = String.format(Luxena.Travel.Res.restoreAviaDocument_Msg, typeString, documentLink);
                break;
            case 1:
                message = String.format(Luxena.Travel.Res.voidAviaDocument_Msg, typeString, documentLink);
                break;
        }
        if (!ss.isNullOrUndefined(message)) {
            LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List, message);
        }
    }
}
Luxena.Travel.Application._onNewTask = function Luxena_Travel_Application$_onNewTask(arg) {
    var tasks = arg;
    if (ss.isNullOrUndefined(tasks) || !tasks.length) {
        return;
    }
    for (var i = 0; i < tasks.length; i++) {
        var task = tasks[i];
        LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List, String.format(Luxena.Travel.Res.newTask_Msg.toLowerCase(), LxnBase.UI.Controls.ObjectLink.renderInfo(task)));
    }
}
Luxena.Travel.Application._onUserRolesChanged = function Luxena_Travel_Application$_onUserRolesChanged() {
    LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.warning, msg: Luxena.Travel.Res.userRolesChanged_Msg, buttons: Ext.MessageBox.OK, icon: Ext.MessageBox.WARNING });
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.ProductGridView

Luxena.Travel.ProductGridView = function Luxena_Travel_ProductGridView(config) {
    Luxena.Travel.ProductGridView.initializeBase(this, [ config ]);
}
Luxena.Travel.ProductGridView.prototype = {
    
    getCustomRowClass: function Luxena_Travel_ProductGridView$getCustomRowClass(record) {
        if (record.get('IsVoid')) {
            return 'textColor-gray';
        }
        if (record.get('RequiresProcessing')) {
            return 'rowColor-red';
        }
        return null;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentViewForm

Luxena.Travel.AviaDocumentViewForm = function Luxena_Travel_AviaDocumentViewForm(tabId, id, type) {
    Luxena.Travel.AviaDocumentViewForm.initializeBase(this, [ tabId, id, type, 'aviaDocumentView' ]);
}
Luxena.Travel.AviaDocumentViewForm.viewObject = function Luxena_Travel_AviaDocumentViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.AviaDocumentViewForm(tabId, id, type);
    });
}
Luxena.Travel.AviaDocumentViewForm.showFees = function Luxena_Travel_AviaDocumentViewForm$showFees() {
    var button = document.getElementById('showFeesButton');
    if (button.className.indexOf('feesClosed') >= 0) {
        button.className = button.className.replaceAll('feesClosed', 'feesOpened');
    }
    else if (button.className.indexOf('feesOpened') >= 0) {
        button.className = button.className.replaceAll('feesOpened', 'feesClosed');
    }
    var collection = document.getElementsByTagName('tr');
    for (var i = 0; i < collection.length; i++) {
        var element = collection[i];
        if (collection[i].className === 'feeRow') {
            element.style.display = (element.style.display !== 'none') ? 'none' : '';
        }
    }
}
Luxena.Travel.AviaDocumentViewForm._voidings$7 = function Luxena_Travel_AviaDocumentViewForm$_voidings$7(voidings) {
    if (voidings == null || !voidings.length) {
        return '';
    }
    var html = '';
    var $enum1 = ss.IEnumerator.getEnumerator(voidings);
    while ($enum1.moveNext()) {
        var voiding = $enum1.current;
        html += String.format('<div>{0}</div>', voiding);
    }
    return html;
}
Luxena.Travel.AviaDocumentViewForm.prototype = {
    
    loadInstance: function Luxena_Travel_AviaDocumentViewForm$loadInstance() {
        Luxena.Travel.Services.AviaService.GetAviaDocument(this._id, this._type, false, ss.Delegate.create(this, this.load), ss.Delegate.create(this, function() {
            LxnBase.UI.Tabs.close(this);
        }));
    },
    
    createToolbarItems: function Luxena_Travel_AviaDocumentViewForm$createToolbarItems() {
        return [ this._handleButton$7 = this.action(Luxena.Travel.Res.aviaDocument_Handle_Action.toLowerCase(), ss.Delegate.create(this, this._tryProcess$7)), this._printButton$7 = this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(), ss.Delegate.create(this, this._print$7), true), this._blankButton$7 = this.action(Luxena.Travel.Res.aviaDocument_Blank_Action, ss.Delegate.create(this, this._blank$7), true), this._voidButton$7 = this.action(Luxena.Travel.Res.void_Action.toLowerCase(), ss.Delegate.create(this, this._voidDocument$7)), this._addRefundButton$7 = this.action(Luxena.Travel.Res.aviaDocument_AddRefund_Action.toLowerCase(), ss.Delegate.create(this, this._addRefund$7)), new Ext.Toolbar.Separator(), this._createOrderButton$7 = this.menuAction(Luxena.Travel.Res.aviaDocument_AddToOrder.toLowerCase(), [ this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderNew.toLowerCase(), ss.Delegate.create(this, function() {
            this._createNewOrder$7();
        })), this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderExist.toLowerCase(), ss.Delegate.create(this, function() {
            this._tryAddToExistingOrder$7();
        })) ]), new Ext.Toolbar.Separator(), this._copyButton$7 = this.action(LxnBase.BaseRes.copy.toLowerCase(), ss.Delegate.create(this, this.copyEntity)), this._editButton$7 = this.action(LxnBase.BaseRes.edit.toLowerCase(), ss.Delegate.create(this, this._editEntity)), this._deleteButton$7 = this.action(LxnBase.BaseRes.remove.toLowerCase(), ss.Delegate.create(this, this.removeEntity)) ];
    },
    
    load: function Luxena_Travel_AviaDocumentViewForm$load(response) {
        this._document$7 = response;
        this._render$7();
    },
    
    _prepareButtons$7: function Luxena_Travel_AviaDocumentViewForm$_prepareButtons$7() {
        if (this._type === 'AviaTicket') {
            this._ticket$7 = this._document$7;
            this._printButton$7.setDisabled(false);
            this._blankButton$7.setDisabled(false);
            if (this._ticket$7.Refund != null) {
                this._addRefundButton$7.hide();
            }
        }
        else if (this._type === 'AviaMco') {
            this._mco$7 = this._document$7;
            if (this._mco$7.Refund != null) {
                this._addRefundButton$7.hide();
            }
        }
        else {
            this._refund$7 = this._document$7;
            this._addRefundButton$7.hide();
            this._printButton$7.hide();
            this._blankButton$7.hide();
        }
        if (!ss.isNullOrUndefined(this._document$7.CanDelete) && (!this._document$7.CanDelete.Visible || this._document$7.CanDelete.IsDisabled)) {
            this._deleteButton$7.hide();
        }
        if (!ss.isNullOrUndefined(this._document$7.CanUpdate) && (!this._document$7.CanUpdate.Visible || this._document$7.CanUpdate.IsDisabled)) {
            this._handleButton$7.setDisabled(true);
            this._voidButton$7.setDisabled(true);
            this._addRefundButton$7.setDisabled(true);
            this._editButton$7.setDisabled(true);
            this._copyButton$7.setDisabled(true);
            this._createOrderButton$7.setDisabled(true);
        }
        else {
            this._createOrderButton$7.setDisabled(this._document$7.IsVoid);
        }
    },
    
    _render$7: function Luxena_Travel_AviaDocumentViewForm$_render$7() {
        this._setTabCaption$7();
        this._prepareButtons$7();
        this._titleLabel.setText(this.getTitle());
        this._titleLabel.removeClass('processed');
        this._titleLabel.removeClass('unprocessed');
        this._titleLabel.removeClass('voided');
        this._voidButton$7.setText(Luxena.Travel.Res.void_Action.toLowerCase());
        if (this._document$7.RequiresProcessing) {
            this._titleLabel.addClass('unprocessed');
        }
        else if (this._document$7.IsVoid) {
            this._titleLabel.addClass('voided');
            this._voidButton$7.setText(Luxena.Travel.Res.restore_Action.toLowerCase());
        }
        else {
            this._titleLabel.addClass('processed');
        }
        this._contentPanel.body.dom.innerHTML = this._getFullHtml$7();
    },
    
    _setTabCaption$7: function Luxena_Travel_AviaDocumentViewForm$_setTabCaption$7() {
        var str = this._document$7.Name;
        var prefix = 'T';
        if (this._refund$7 != null) {
            prefix = 'R';
        }
        else if (this._mco$7 != null) {
            prefix = 'M';
        }
        else if (this._ticket$7 != null && this._ticket$7.ReissueFor != null) {
            prefix = 'RI';
        }
        this.setTitle(String.format('{0} {1}', prefix, str));
    },
    
    getTitle: function Luxena_Travel_AviaDocumentViewForm$getTitle() {
        var caption = Luxena.Travel.DomainRes.aviaTicket;
        if (this._refund$7 != null) {
            caption = Luxena.Travel.DomainRes.aviaRefund;
        }
        else if (this._mco$7 != null) {
            caption = Luxena.Travel.DomainRes.aviaMco;
        }
        var status = (this._document$7.RequiresProcessing) ? Luxena.Travel.Res.aviaDocument_Unprocessed : ((this._document$7.IsVoid) ? Luxena.Travel.Res.aviaDocument_Voided : Luxena.Travel.Res.aviaDocument_Processed);
        caption = String.format('{0} ({1})', caption, status.toLowerCase());
        if (ss.isNullOrUndefined(this._document$7.Number)) {
            caption = String.format('{0} - {1}', caption, Luxena.Travel.Res.aviaDocument_NotIssued);
        }
        return caption;
    },
    
    _getFullHtml$7: function Luxena_Travel_AviaDocumentViewForm$_getFullHtml$7() {
        var sb = new ss.StringBuilder();
        sb.append(this._getCommonDataHtml$7());
        sb.append(this._getFinanceDataHtml$7());
        if (this._ticket$7 != null) {
            if (this._ticket$7.Segments != null && this._ticket$7.Segments.length > 0) {
                sb.append(String.format("<div class='segments'><h2>{0}</h2><div style='padding-top: 5px'>{1}</div></div>", Luxena.Travel.DomainRes.aviaTicket_FlightSegment, this._renderSegments$7()));
            }
            if (this._ticket$7.PenalizeOperations != null && this._ticket$7.PenalizeOperations.length > 0) {
                sb.append(String.format("<div class='penalizeOperations'><h2>{0}</h2><div style='padding-top: 5px'>{1}</div></div>", Luxena.Travel.DomainRes.aviaTicket_PenalizeOperations, this._renderPenalizeOperations$7()));
            }
        }
        sb.append(LxnBase.UI.BasicViewForm.hasValue(this._document$7.Note, ss.Delegate.create(this, function() {
            return String.format("<div class='note'><h2>{0}</h2><pre>{1}</pre></div>", Luxena.Travel.DomainRes.common_Note, this._document$7.Note);
        })));
        return sb.toString();
    },
    
    _getCommonDataHtml$7: function Luxena_Travel_AviaDocumentViewForm$_getCommonDataHtml$7() {
        var v = new Luxena.Travel.SemanticDomain(this).AviaDocument;
        var r = this._document$7;
        var commonDataHtml = "<div class='commonData'><table><col style='width: 135px' />" + v.IssueDate.toHtmlTr2(r, true) + "<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.common_Number + ' / ' + Luxena.Travel.DomainRes.airline + ':</td>' + "<td class='fieldValue'>" + this._getNumber$7() + ' / ' + LxnBase.UI.BasicViewForm.hasValue(this._document$7.Producer, ss.Delegate.create(this, function() {
            return LxnBase.UI.BasicViewForm.link(this._document$7.Producer);
        }), this._document$7.AirlinePrefixCode) + '</td></tr>' + v.ReissueFor.toHtmlTr2(r) + v.ReissuedBy.toHtmlTr2(r) + v.Refund.toHtmlTr2(r) + v.RefundedProduct.toHtmlTr2(r) + this._getPassengerHtml$7() + this._getGdsPassportStatus$7() + v.Provider.toHtmlTr2(r) + "<tr name='Customer'><td class='fieldLabel " + ((this._document$7.Customer == null) ? 'error' : '') + "'>" + Luxena.Travel.DomainRes.common_Customer + ' / ' + Luxena.Travel.DomainRes.common_Intermediary + ':</td>' + LxnBase.UI.BasicViewForm.hasValue([ this._document$7.Customer, this._document$7.Intermediary ], ss.Delegate.create(this, function() {
            return "\r\n\t\t\t\t\t<td class='fieldValue'>" + LxnBase.UI.BasicViewForm.link(this._document$7.Customer) + ' / ' + LxnBase.UI.BasicViewForm.link(this._document$7.Intermediary) + '</td></tr>';
        }), '<td/></tr>') + Luxena.Travel.ProductViewForm.getOriginHtml(r) + LxnBase.UI.BasicViewForm.hasValue([ r.PnrCode, r.AirlinePnrCode, r.TourCode ], function() {
            return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>" + v.PnrCode._title + ' / ' + v.TourCode._title + ":</td>\r\n\t\t\t\t\t<td class='fieldValue'>" + LxnBase.UI.BasicViewForm.notEmpty(r.PnrCode) + LxnBase.UI.BasicViewForm.hasValue(r.AirlinePnrCode, function() {
                return String.format(' ({0})', r.AirlinePnrCode);
            }) + ' / ' + LxnBase.UI.BasicViewForm.notEmpty(r.TourCode) + '</td></tr>';
        }) + Luxena.Travel.ProductViewForm.getBookerAndTicketerHtml(v, r) + v.TicketingIataOffice.toHtmlTr2(r, true) + v.Seller.toHtmlTr2(r, true) + v.Owner.toHtmlTr2(r, true) + v.LegalEntity.toHtmlTr2(r) + v.Order.toHtmlTr2(r, true) + LxnBase.UI.BasicViewForm.hasValue(this._document$7.Voidings, ss.Delegate.create(this, function() {
            return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>" + Luxena.Travel.Res.aviaDocument_Voidings + ":</td>\r\n\t\t\t\t\t<td class='fieldValue'>" + Luxena.Travel.AviaDocumentViewForm._voidings$7(this._document$7.Voidings) + '</td></tr>';
        })) + '</table></div>';
        return commonDataHtml;
    },
    
    _getNumber$7: function Luxena_Travel_AviaDocumentViewForm$_getNumber$7() {
        if (ss.isNullOrUndefined(this._document$7.Number)) {
            return '';
        }
        return String.format('{0}-{1}{2}', this._document$7.AirlinePrefixCode, Luxena.Travel.AviaDocumentDto.numberToString(this._document$7.Number), (!String.isNullOrEmpty(this._document$7.Conjunction)) ? '-' + this._document$7.Conjunction : '');
    },
    
    _getPassengerHtml$7: function Luxena_Travel_AviaDocumentViewForm$_getPassengerHtml$7() {
        var passenger = (ss.isValue(this._document$7.Passenger)) ? String.format('{0} ({1})', LxnBase.UI.BasicViewForm.link(this._document$7.Passenger), this._document$7.PassengerName) : this._document$7.PassengerName;
        if (this._ticket$7 != null && this._ticket$7.Passenger != null) {
            var warn = null;
            var cssStyle = 'passengerPassport-warn';
            switch (this._ticket$7.PassportValidationResult) {
                case 0:
                    var text;
                    if (String.isNullOrEmpty(this._ticket$7.GdsPassport)) {
                        text = String.format(Luxena.Travel.Res.passenger_NoPassport_Warning, this._document$7.Originator);
                    }
                    else {
                        text = String.format(Luxena.Travel.Res.passenger_NoGdsPassport_Warning, (!this._document$7.Originator) ? 'GDS' : LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator, this._document$7.Originator));
                    }
                    warn = text;
                    break;
                case 2:
                    warn = Luxena.Travel.Res.passenger_PassportExpired_Warning;
                    break;
                case 1:
                    var originator = (!this._document$7.Originator) ? 'GDS' : LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator, this._document$7.Originator);
                    warn = String.format(Luxena.Travel.Res.passenger_PassportDataDoesntMatch_Warning, originator);
                    cssStyle = 'passengerPassport-error';
                    break;
            }
            if (warn != null) {
                passenger += "<div class='" + cssStyle + "'>" + warn + '</div>';
            }
        }
        return "<tr><td class='fieldLabel'>" + Luxena.Travel.DomainRes.aviaDocument_Passenger + ":</td><td class='fieldValue'>" + passenger + '</td></tr>';
    },
    
    _getGdsPassportStatus$7: function Luxena_Travel_AviaDocumentViewForm$_getGdsPassportStatus$7() {
        if (this._ticket$7 == null) {
            return '';
        }
        var statusText = '<div>' + LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus, this._ticket$7.GdsPassportStatus, Luxena.Travel.DomainRes) + '</div>';
        if (!String.isNullOrEmpty(this._document$7.GdsPassport)) {
            statusText += '<div>' + this._ticket$7.GdsPassport + '</div>';
        }
        if (this._ticket$7.GdsPassportStatus !== 1 && this._ticket$7.PassportRequired) {
            statusText += "<div class='gdsPassportStatus-error'>" + Luxena.Travel.Res.aviaTicket_PassengerPassportRequired + '</div>';
        }
        var gdsPassport = "\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class='fieldLabel'>" + Luxena.Travel.DomainRes.aviaDocument_GdsPassportStatus + ":</td>\r\n\t\t\t\t\t\t<td class='fieldValue' style='width: 390px;'>" + statusText + '</td>\r\n\t\t\t\t\t</tr>';
        return gdsPassport;
    },
    
    _getFinanceDataHtml$7: function Luxena_Travel_AviaDocumentViewForm$_getFinanceDataHtml$7() {
        var v = new Luxena.Travel.SemanticDomain(this).AviaDocument;
        var r = this._document$7;
        return "<div class='financeData'><table>" + v.Fare.toHtmlTr4(r, true) + v.EqualFare.toHtmlTr4(r, false, true) + v.FeesTotal.toHtmlTr4(r, true, false, false, (ss.isNullOrUndefined(r.Fees)) ? null : (Luxena.Travel.AviaDocumentViewForm).get_fullName() + '.showFees()') + this._fees$7() + v.ConsolidatorCommission.toHtmlTr4(r, false) + v.CancelFee.toHtmlTr4(r, false) + v.Total.toHtmlTr4(r, true, false, true) + v.Vat.toHtmlTr4(r, false) + v.Commission.toHtmlTr4(r, false, false, false, LxnBase.UI.BasicViewForm.hasValue(r.CommissionPercent, function() {
            return "<td class='fieldValue gray'>(" + r.CommissionPercent.format('N2') + '%)</td>';
        })) + v.ServiceFee.toHtmlTr4(r, true, false, true) + v.CommissionDiscount.toHtmlTr4(r) + v.Handling.toHtmlTr4(r) + v.HandlingN.toHtmlTr4(r) + v.Discount.toHtmlTr4(r) + v.BonusDiscount.toHtmlTr4(r) + v.BonusAccumulation.toHtmlTr4(r) + v.RefundServiceFee.toHtmlTr4(r, ss.isValue(this._refund$7)) + v.ServiceFeePenalty.toHtmlTr4(r, ss.isValue(this._refund$7)) + v.CancelCommission.toHtmlTr4(r) + v.PaymentType.toHtmlTr4(r) + ((String.isNullOrEmpty(r.PaymentDetails)) ? '' : "<tr><td class='fieldValue gray rightAlign' colspan='2'>" + r.PaymentDetails + '</td><td/><td/></tr>') + v.GrandTotal.toHtmlTr4(r, true) + '</table></div>';
    },
    
    _renderSegments$7: function Luxena_Travel_AviaDocumentViewForm$_renderSegments$7() {
        if (this._ticket$7.Segments == null || !this._ticket$7.Segments.length) {
            return '';
        }
        var newLine = '<br/>';
        var segments = "\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr class='alternate'>\r\n\t\t\t\t\t\t<th>" + Luxena.Travel.DomainRes.flightSegment_FromAirportName + '</th>\r\n\t\t\t\t\t\t<th>' + Luxena.Travel.DomainRes.flightSegment_ToAirportName + '</th>\r\n\t\t\t\t\t\t<th>' + Luxena.Travel.DomainRes.flightSegment_Carrier + "</th>\r\n\t\t\t\t\t\t<th style='width: 40px'>" + Luxena.Travel.DomainRes.flightSegment_FlightNumber + "</th>\r\n\t\t\t\t\t\t<th style='width: 60px'>" + Luxena.Travel.DomainRes.flightSegment_ServiceClass + newLine + Luxena.Travel.DomainRes.flightSegment_Seat + "</th>\r\n\t\t\t\t\t\t<th style='width: 130px'>" + Luxena.Travel.Res.flightSegment_Departure + ',' + newLine + Luxena.Travel.Res.flightSegment_Registration + "</th>\r\n\t\t\t\t\t\t<th style='width: 120px'>" + Luxena.Travel.Res.flightSegment_Arrival + "</th>\r\n\t\t\t\t\t\t<th style='width: 60px'>" + Luxena.Travel.Res.flightSegment_Duration + newLine + Luxena.Travel.Res.flightSegment_Stops + "</th>\r\n\t\t\t\t\t\t<th style='width: 60px'>" + Luxena.Travel.DomainRes.flightSegment_FareBasis + "</th>\r\n\t\t\t\t\t\t<th style='width: 80px'>" + Luxena.Travel.DomainRes.flightSegment_Luggage + newLine + Luxena.Travel.DomainRes.flightSegment_Meal + "</th>\r\n\t\t\t\t\t\t<th style='width: 20px'></th>\r\n\t\t\t\t\t\t<th style='width: 60px'>Coupon Amount</th>\r\n\t\t\t\t\t<tr>";
        for (var i = 0; i < this._ticket$7.Segments.length; i++) {
            var seg = this._ticket$7.Segments[i];
            var cssClass = (!(i % 2)) ? '' : "class='alternate'";
            segments += "\r\n\t\t\t\t\t<tr valign='top' " + cssClass + '>\r\n\t\t\t\t\t\t<td>' + LxnBase.UI.BasicViewForm.notEmpty((seg.FromAirport != null) ? seg.FromAirport.Name : null) + newLine + LxnBase.UI.BasicViewForm.link(seg.FromAirport, seg.FromAirportName) + '</td>\r\n\t\t\t\t\t\t<td>' + LxnBase.UI.BasicViewForm.notEmpty((seg.ToAirport != null) ? seg.ToAirport.Name : null) + newLine + LxnBase.UI.BasicViewForm.link(seg.ToAirport, seg.ToAirportName) + '</td>\r\n\t\t\t\t\t\t<td>' + LxnBase.UI.BasicViewForm.notEmpty(seg.CarrierCode) + newLine + LxnBase.UI.BasicViewForm.link(seg.Carrier) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.notEmpty(seg.FlightNumber) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.hasValue(seg.ServiceClassName, function() {
                return seg.ServiceClassName;
            }, seg.ServiceClassCode) + newLine + LxnBase.UI.BasicViewForm.notEmpty(seg.Seat) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.hasValue(seg.DepartureTime, function() {
                return Ext.util.Format.date(seg.DepartureTime, 'd.m.y H:i');
            }) + newLine + LxnBase.UI.BasicViewForm.hasValue(seg.CheckInTerminal, function() {
                return Luxena.Travel.Res.terminal_Text + ' ' + seg.CheckInTerminal + ((!String.isNullOrEmpty(seg.CheckInTime)) ? ', ' : '');
            }) + LxnBase.UI.BasicViewForm.notEmpty(seg.CheckInTime) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.hasValue(seg.ArrivalTime, function() {
                return Ext.util.Format.date(seg.ArrivalTime, 'd.m.y H:i');
            }) + newLine + LxnBase.UI.BasicViewForm.hasValue(seg.ArrivalTerminal, function() {
                return Luxena.Travel.Res.terminal_Text + ' ' + seg.ArrivalTerminal;
            }) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.notEmpty(seg.Duration) + newLine + LxnBase.UI.BasicViewForm.notEmpty(seg.NumberOfStops) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.notEmpty(seg.FareBasis) + "</td>\r\n\t\t\t\t\t\t<td align='center'>" + LxnBase.UI.BasicViewForm.notEmpty(seg.Luggage) + newLine + LxnBase.UI.BasicViewForm.notEmpty(seg.MealString) + "</td>\r\n\t\t\t\t\t\t<td align='center'><div class='" + ((!seg.Type) ? 'ticketed-segment' : 'unticketed-segment') + "'/></td>\r\n\t\t\t\t\t\t<td align='right'>" + LxnBase.UI.BasicViewForm.notEmpty(Luxena.Travel.MoneyDto.toMoneyFullString(seg.CouponAmount)) + '</td>\r\n\t\t\t\t\t</tr>';
        }
        segments += '</table>';
        return segments;
    },
    
    _renderPenalizeOperations$7: function Luxena_Travel_AviaDocumentViewForm$_renderPenalizeOperations$7() {
        if (this._ticket$7.PenalizeOperations == null || !this._ticket$7.PenalizeOperations.length) {
            return '';
        }
        var builder = new ss.StringBuilder();
        builder.append("\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr class='header'>\r\n\t\t\t\t\t\t<td/>\r\n\t\t\t\t\t\t<th>" + Luxena.Travel.Res.aviaTicket_ChangesPenalty + '</th>\r\n\t\t\t\t\t\t<th>' + Luxena.Travel.Res.aviaTicket_RefundPenalty + '</th>\r\n\t\t\t\t\t\t<th>' + Luxena.Travel.Res.aviaTicket_NoShowPenalty + '</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t');
        builder.append("\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class='caption'>" + Luxena.Travel.Res.aviaTicket_BeforeDeparture + '</td>\r\n\t\t\t\t\t<td>' + this._tryGetPenalizeOperationString$7(0) + '</td>\r\n\t\t\t\t\t<td>' + this._tryGetPenalizeOperationString$7(2) + '</td>\r\n\t\t\t\t\t<td>' + this._tryGetPenalizeOperationString$7(4) + '</td>\r\n\t\t\t\t</tr>');
        if (this._ticket$7.Segments != null && this._ticket$7.Segments.length > 1) {
            builder.append("\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class='caption'>" + Luxena.Travel.Res.aviaTicket_AfterDeparture + '</td>\r\n\t\t\t\t\t\t<td>' + this._tryGetPenalizeOperationString$7(1) + '</td>\r\n\t\t\t\t\t\t<td>' + this._tryGetPenalizeOperationString$7(3) + '</td>\r\n\t\t\t\t\t\t<td>' + this._tryGetPenalizeOperationString$7(5) + '</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t');
        }
        builder.append('</table>');
        return builder.toString();
    },
    
    _tryGetPenalizeOperationString$7: function Luxena_Travel_AviaDocumentViewForm$_tryGetPenalizeOperationString$7(operationType) {
        var operation = null;
        var $enum1 = ss.IEnumerator.getEnumerator(this._ticket$7.PenalizeOperations);
        while ($enum1.moveNext()) {
            var dto = $enum1.current;
            if (dto.Type === operationType) {
                operation = dto;
                break;
            }
        }
        if (operation == null) {
            return '';
        }
        var res = LxnBase.EnumUtility.localize(Luxena.Travel.PenalizeOperationStatus, operation.Status, Luxena.Travel.DomainRes);
        if (operation.Status === 2 && !String.isNullOrEmpty(operation.Description)) {
            res = String.format('{0} {1}', res, operation.Description);
        }
        return res;
    },
    
    _fees$7: function Luxena_Travel_AviaDocumentViewForm$_fees$7() {
        if (this._document$7.Fees == null || !this._document$7.Fees.length) {
            return '';
        }
        var fees = new ss.StringBuilder();
        for (var i = 0; i < this._document$7.Fees.length; i++) {
            var fee = this._document$7.Fees[i];
            fees.append(String.format("\r\n\t\t\t\t\t<tr name='{0}' id='{1}' style='display: none' class='feeRow'><td/>\r\n\t\t\t\t\t\t<td class='fieldValue gray rightAlign'>{2}</td>\r\n\t\t\t\t\t\t<td class='fieldValue gray'>{3}</td>\r\n\t\t\t\t\t\t<td class='fieldValue gray'>{4}</td>\r\n\t\t\t\t\t</tr>", 'aviaDocumentFee', 'aviaDocumentFee' + i, (fee.Amount != null) ? fee.Amount.Amount.format('N2') : '0.00', (fee.Amount != null) ? fee.Amount.Currency.Name : '', fee.Code));
        }
        return fees.toString();
    },
    
    _tryProcess$7: function Luxena_Travel_AviaDocumentViewForm$_tryProcess$7() {
        Luxena.Travel.Services.AviaService.CanProcess(this._id, this._type, ss.Delegate.create(this, function(result) {
            var response = result;
            var canProcess = new LxnBase.Data.OperationStatus();
            if (Object.keyExists(response.CustomActionPermissions, 'CanProcess')) {
                canProcess = response.CustomActionPermissions['CanProcess'];
            }
            if (!response.CanUpdate.IsEnabled) {
                LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.error, msg: response.CanUpdate.DisableInfo || LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg, icon: Ext.MessageBox.ERROR, buttons: Ext.MessageBox.OK });
                return;
            }
            if (!canProcess.IsEnabled) {
                LxnBase.UI.MessageBoxWrap.show({ title: LxnBase.BaseRes.warning, msg: canProcess.DisableInfo, icon: Ext.MessageBox.WARNING, buttons: Ext.MessageBox.YESNO, fn: ss.Delegate.create(this, function(button, text) {
                    if (button === 'yes') {
                        this._editEntity();
                    }
                }) });
            }
            else {
                var form = new Luxena.Travel.AviaDocumentProcessForm(response.Args);
                form.add_saved(ss.Delegate.create(this, function(res) {
                    var processDto = (res)[0];
                    this._document$7.Customer = processDto.Customer;
                    this._document$7.Intermediary = processDto.Intermediary;
                    this._document$7.ServiceFee = processDto.ServiceFee;
                    this._document$7.Handling = processDto.Handling;
                    this._document$7.CommissionDiscount = processDto.CommissionDiscount;
                    this._document$7.Discount = processDto.Discount;
                    this._document$7.GrandTotal = processDto.GrandTotal;
                    this._document$7.PaymentType = processDto.PaymentType;
                    this._document$7.RequiresProcessing = processDto.RequiresProcessing;
                    this._document$7.Note = processDto.Note;
                    this._document$7.Order = processDto.Order;
                    if (this._ticket$7 != null) {
                        var dto = processDto;
                        this._ticket$7.PenalizeOperations = dto.PenalizeOperations;
                        this._ticket$7.Passenger = dto.Passenger;
                        this._ticket$7.GdsPassport = dto.GdsPassport;
                        this._ticket$7.GdsPassportStatus = dto.GdsPassportStatus;
                    }
                    if (this._refund$7 != null) {
                        var dto = processDto;
                        this._refund$7.RefundServiceFee = dto.RefundServiceFee;
                        this._refund$7.ServiceFeePenalty = dto.ServiceFeePenalty;
                    }
                    this._render$7();
                }));
                form.open(this._id, this._type);
            }
        }), null);
    },
    
    _createNewOrder$7: function Luxena_Travel_AviaDocumentViewForm$_createNewOrder$7() {
        var values = { AviaDocuments: [ this._document$7.Id ] };
        values['SeparateServiceFee'] = true;
        LxnBase.UI.FormsRegistry.editObject('Order', null, values, ss.Delegate.create(this, function(arg) {
            this.loadInstance();
            var response = arg;
            LxnBase.UI.FormsRegistry.viewObject('Order', (response.Item).Id);
        }), null);
    },
    
    _tryAddToExistingOrder$7: function Luxena_Travel_AviaDocumentViewForm$_tryAddToExistingOrder$7() {
        var documents = {};
        documents[this._document$7.Id] = this._document$7.Name;
        Luxena.Travel._productDto.tryAddToExistingOrder(documents, true, this._document$7.Name, ss.Delegate.create(this, this.loadInstance));
    },
    
    _addRefund$7: function Luxena_Travel_AviaDocumentViewForm$_addRefund$7() {
        var dictionary = {};
        dictionary['IssueDate'] = Date.get_now();
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'AirlinePrefixCode');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Number');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Producer');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Provider');
        var obj = LxnBase.Data.Reference.create(this._type, Luxena.Travel.AviaDocumentDto.numberToString(this._document$7.Number), this._document$7.Id);
        dictionary['RefundedDocument'] = obj;
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'PassengerName');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Customer');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Intermediary');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Originator');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Order');
        dictionary['Seller'] = Luxena.Travel.AppManager.get_currentPerson();
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Fare');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'EqualFare');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'FeesTotal');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Total');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Vat');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Commission');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'ServiceFee');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Discount');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'GrandTotal');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'Discount');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'TaxRateOfProduct');
        LxnBase.UI.BasicViewForm.addValue(dictionary, this._document$7, 'TaxRateOfServiceFee');
        LxnBase.UI.FormsRegistry.editObject('AviaRefund', null, dictionary, ss.Delegate.create(this, function(arg) {
            if (arg == null) {
                return;
            }
            var refund = (arg).Item;
            var info = LxnBase.Data.Reference.create('AviaRefund', refund.Number.toString(), refund.Id);
            if (this._ticket$7 != null) {
                this._ticket$7.Refund = info;
            }
            else if (this._mco$7 != null) {
                this._mco$7.Refund = info;
            }
            this.load(this._document$7);
            LxnBase.UI.FormsRegistry.viewObject('AviaRefund', refund.Id);
        }), null);
    },
    
    _voidDocument$7: function Luxena_Travel_AviaDocumentViewForm$_voidDocument$7() {
        LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation, (this._document$7.IsVoid) ? Luxena.Travel.Res.document_Restore_Confirmation : Luxena.Travel.Res.document_Void_Confirmation, ss.Delegate.create(this, function(button, text) {
            if (button !== 'yes') {
                return;
            }
            Luxena.Travel.Services.AviaService.ChangeVoidStatus([ this._document$7.Id ], null, ss.Delegate.create(this, function(result) {
                var dto = (result)[0];
                this._document$7.IsVoid = dto.IsVoid;
                this._document$7.RequiresProcessing = dto.RequiresProcessing;
                this._document$7.Voidings = dto.Voidings;
                this._document$7.Order = dto.Order;
                this._createOrderButton$7.setDisabled(this._document$7.IsVoid);
                this._render$7();
            }), null);
        }));
    },
    
    _print$7: function Luxena_Travel_AviaDocumentViewForm$_print$7() {
        if (Luxena.Travel.AppManager.get_systemConfiguration().Ticket_NoPrintReservations) {
            this._printTicket$7();
            return;
        }
        Luxena.Travel.Services.AviaService.GetReservationDocumentCount(this._document$7.Id, ss.Delegate.create(this, function(result) {
            if (result === 1) {
                this._printTicket$7();
                return;
            }
            LxnBase.UI.MessageBoxWrap.show({ msg: String.format(Luxena.Travel.Res.printReservation_Msg, result), title: Luxena.Travel.Res.printReservation_Msg_Title, buttons: Ext.MessageBox.YESNOCANCEL, icon: Ext.MessageBox.QUESTION, cls: 'print-ticket-message-box', fn: ss.Delegate.create(this, function(button, text) {
                if (button === 'yes') {
                    this._printReservation$7();
                }
                else if (button === 'no') {
                    this._printTicket$7();
                }
            }) });
        }), null);
    },
    
    _blank$7: function Luxena_Travel_AviaDocumentViewForm$_blank$7() {
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/blank/Blank_{0}-{1}.pdf', this._ticket$7.AirlinePrefixCode, this._ticket$7.Number), { ticketId: this._id });
    },
    
    _printTicket$7: function Luxena_Travel_AviaDocumentViewForm$_printTicket$7() {
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/ticket/Ticket_{0}-{1}.pdf', this._ticket$7.AirlinePrefixCode, this._ticket$7.Number), { tickets: JSON.stringify([ this._id ]) });
    },
    
    _printReservation$7: function Luxena_Travel_AviaDocumentViewForm$_printReservation$7() {
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/reservation/Tickets_{0}.pdf', Date.get_now().format('Y-m-d_H-i')), { ticket: this._id });
    },
    
    _document$7: null,
    _ticket$7: null,
    _mco$7: null,
    _refund$7: null,
    _handleButton$7: null,
    _printButton$7: null,
    _blankButton$7: null,
    _voidButton$7: null,
    _addRefundButton$7: null,
    _createOrderButton$7: null,
    _editButton$7: null,
    _copyButton$7: null,
    _deleteButton$7: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Header

Luxena.Travel.Header = function Luxena_Travel_Header(config) {
    config['tbar'] = [];
    var sd = new Luxena.Travel.SemanticDomain(null);
    this._addMainMenuItem(config, '\u041f\u0440\u043e\u0434\u0430\u0436\u0438', [ Luxena.Travel.AppActions.quickReceipt, '-', Luxena.Travel.AppActions.newOrder, Luxena.Travel.AppActions.newTask, '-', sd.Contract, sd.Order, sd.Invoice, sd.Payment, this._newAction(Luxena.Travel.AppActions.consignmentList, 'Consignment'), sd.Task, '-', sd.ClosedPeriod, sd.OpeningBalance, sd.InternalTransfer ]);
    this._addMainMenuItem(config, '\u0423\u0441\u043b\u0443\u0433\u0438', [ this._newAction(Luxena.Travel.AppActions.productList, 'Product'), '-', sd.AviaDocument, sd.FlightSegment, sd.BusTicket, sd.CarRental, sd.Pasteboard, sd.Accommodation, sd.Insurance, sd.Isic, sd.SimCard, sd.Transfer, sd.Tour, sd.Excursion, sd.GenericProduct, '-', Luxena.Travel.AppActions.aviaConsoleParser ]);
    this._addMainMenuItem(config, Luxena.Travel.Res.menu_Reports, [ this._newAction(Luxena.Travel.Header._getCustomerReportAction(), 'CustomerReport'), this._newAction(Luxena.Travel.Header._getRegistryReportAction(), 'RegistryReport'), '-', this._newAction(Luxena.Travel.Header._getUnbalancedReportAction(), 'UnbalancedReport') ]);
    this._addMainMenuItem(config, Luxena.Travel.Res.menu_Dictionaries, [ sd.Person, sd.Organization, sd.Department, '-', sd.MilesCard, sd.Passport, '-', sd.AirlineServiceClass, sd.AirlineMonthCommission, sd.Airport, sd.AirplaneModel, '-', sd.Country, sd.Currency, sd.CurrencyDailyRate, sd.PaymentSystem, '-', sd.GenericProductType, sd.AccommodationType, sd.CateringType ]);
    this._addMainMenuItem(config, Luxena.Travel.Res.menu_Administration, [ sd.User, sd.UserVisit, sd.Modification, sd.SystemConfiguration.toViewAction(Luxena.Travel.AppManager.get_systemConfiguration().Id), this._newAction(Luxena.Travel.AppActions.updateAnalytics, 'UpdateAnalytics'), '-', sd.BankAccount, sd.AirlineCommissionPercents, sd.DocumentOwner, sd.DocumentAccess, '-', sd.GdsAgent, sd.GdsFile ]);
    (config['tbar']).addRange([ '->', new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({ tag: 'div' }).cls('icon-filter').toDictionary()), this._createGlobalSearch(), '-', Luxena.Travel.Header._profileViewAction(), '-', Luxena.Travel.AppActions.signOutAction ]);
    this._panel = new Ext.Panel(config);
}
Luxena.Travel.Header._profileViewAction = function Luxena_Travel_Header$_profileViewAction() {
    return new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.AppManager.get_currentUser().Name).handler(function() {
        Luxena.Travel.Configuration.ProfileViewForm.viewObject(Luxena.Travel.AppManager.get_currentUser().Id, false);
    }).toDictionary());
}
Luxena.Travel.Header._getCustomerReportAction = function Luxena_Travel_Header$_getCustomerReportAction() {
    return new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.customerReport_Text).handler(function() {
        var form = new Luxena.Travel.Reports.CustomerReportForm();
        form.open();
    }).toDictionary());
}
Luxena.Travel.Header._getRegistryReportAction = function Luxena_Travel_Header$_getRegistryReportAction() {
    return new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.registryReport_Text).handler(function() {
        var form = new Luxena.Travel.Reports.RegistryReportForm();
        form.open();
    }).toDictionary());
}
Luxena.Travel.Header._getUnbalancedReportAction = function Luxena_Travel_Header$_getUnbalancedReportAction() {
    return new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.unbalancedReport).handler(function() {
        var form = new Luxena.Travel.Reports.UnbalancedReportForm();
        form.open();
    }).toDictionary());
}
Luxena.Travel.Header.prototype = {
    
    _createGlobalSearch: function Luxena_Travel_Header$_createGlobalSearch() {
        Luxena.Travel.Header.globalSearch = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().allowCreate(false).setClass('GlobalSearchEntity').selectOnFocus(true).forceSelection(true).autoShow(true).emptyText('\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043f\u043e\u0438\u0441\u043a').listeners({ changeValue: ss.Delegate.create(this, function(sender, data) {
            if (!ss.isValue(data)) {
                return;
            }
            this.viewObject(data[2].toString(), data[0]);
            Luxena.Travel.Header.globalSearch.clearValue();
        }) }).width(200).listWidth(200)).get_widget();
        return Luxena.Travel.Header.globalSearch;
    },
    
    viewObject: function Luxena_Travel_Header$viewObject(className, id) {
        var permissions = Luxena.Travel.AppManager.get_allowedActions()[className];
        var status = (permissions != null) ? permissions.CanList : null;
        if (status == null || (!status.Visible && String.isNullOrEmpty(status.DisableInfo))) {
            return;
        }
        LxnBase.UI.FormsRegistry.viewObject(className, id);
    },
    
    get_widget: function Luxena_Travel_Header$get_widget() {
        return this._panel;
    },
    
    _addMainMenuItem: function Luxena_Travel_Header$_addMainMenuItem(config, title, items) {
        var list = [];
        var $enum1 = ss.IEnumerator.getEnumerator(items);
        while ($enum1.moveNext()) {
            var item = $enum1.current;
            if (item == null) {
                continue;
            }
            if (item.toString() === '-') {
                if (list.length > 0 && ss.isValue(list[list.length - 1]) && list[list.length - 1].toString() !== '-') {
                    list.add('-');
                }
                continue;
            }
            var entity = Type.safeCast(item, Luxena.Travel.SemanticEntity);
            if (entity != null) {
                var action = entity.toListAction();
                if (ss.isValue(action)) {
                    list.add(action);
                }
                continue;
            }
            list.add(item);
        }
        if (list.length > 0 && list[list.length - 1].toString() === '-') {
            list.removeAt(list.length - 1);
        }
        if (list.length > 0) {
            (config['tbar']).add({ text: title, menu: list });
        }
    },
    
    _newAction: function Luxena_Travel_Header$_newAction(action, className) {
        var permissions = Luxena.Travel.AppManager.get_allowedActions()[className];
        var status = (permissions != null) ? permissions.CanList : null;
        if (status == null || (!status.Visible && String.isNullOrEmpty(status.DisableInfo))) {
            return null;
        }
        if (ss.isValue(status.DisableInfo)) {
            action.disable();
        }
        return action;
    },
    
    _panel: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentProcessForm

Luxena.Travel.AviaDocumentProcessForm = function Luxena_Travel_AviaDocumentProcessForm(args) {
    Luxena.Travel.AviaDocumentProcessForm.initializeBase(this);
    this._args$1 = args;
    this.get_window().addClass(' process-document');
    this.get_window().keys = [ { key: 13, fn: ss.Delegate.create(this, this._onKeyEnterPress$1), scope: this } ];
    this.get_form().labelWidth = 160;
    this._createFormItems$1();
    if (this._args$1.AllowSaveAndContinue) {
        this._saveAndContinueButton$1 = this.get_form().addButton(Luxena.Travel.Res.saveAndContinue, ss.Delegate.create(this, function() {
            this._saveAndContinue$1 = true;
            if (this._menu$1.isVisible()) {
                this._invokeSave$1 = true;
            }
            else {
                this.save();
            }
        }));
    }
    this._saveButton$1 = this.get_form().addButton(LxnBase.BaseRes.save, ss.Delegate.create(this, function() {
        this._saveAndContinue$1 = false;
        if (this._menu$1.isVisible()) {
            this._invokeSave$1 = true;
        }
        else {
            this.save();
        }
    }));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this.set_fields([ this._passengerField$1.get_widget(), this._gdsPassportStatus$1, this._orderSelector$1.get_widget(), this._customerSelector$1.get_widget(), this._intermediarySelector$1.get_widget(), this._equalFareField$1, this._commissionField$1, this._serviceFeeField$1, this._handlingField$1, this._commissionDiscountField$1, this._discountField$1, this._refundServiceFeeField$1, this._serviceFeePenaltyField$1, this._grandTotalField$1, this._paymentType$1, this._descriptionField$1, this._noteField$1, this._applyDataCheckbox$1 ]);
    var components = [];
    components.addRange([ this._passengerField$1.get_widget(), this._gdsPassportStatus$1, this._orderSelector$1.get_widget(), this._customerSelector$1.get_widget(), this._intermediarySelector$1.get_widget(), this._equalFareField$1, this._commissionField$1, this._serviceFeeField$1, this._handlingField$1, this._commissionDiscountField$1, this._discountField$1, this._refundServiceFeeField$1, this._serviceFeePenaltyField$1, this._grandTotalField$1, this._paymentType$1, this._editPenaltiesButton$1, this._applyDataCheckbox$1 ]);
    if (this._args$1.AllowSaveAndContinue) {
        components.add(this._saveAndContinueButton$1);
    }
    components.add(this._saveButton$1);
    components.add(this._cancelButton$1);
    this.set_componentSequence(components);
}
Luxena.Travel.AviaDocumentProcessForm._getPassportData$1 = function Luxena_Travel_AviaDocumentProcessForm$_getPassportData$1(passport) {
    return { LastName: passport.LastName, FirstName: passport.FirstName, MiddleName: passport.MiddleName, Citizenship: (passport.Citizenship != null) ? [ passport.Citizenship.Id, passport.Citizenship.Name, passport.Citizenship.Type ] : null, Birthday: passport.Birthday, Gender: passport.Gender, ExpiredOn: passport.ExpiredOn };
}
Luxena.Travel.AviaDocumentProcessForm._getIntermediarySelectorActions$1 = function Luxena_Travel_AviaDocumentProcessForm$_getIntermediarySelectorActions$1(store, records, query) {
    if (String.isNullOrEmpty(query)) {
        return null;
    }
    if (records != null) {
        for (var i = 0; i < records.length; i++) {
            var text = records[i].get('Name');
            if (String.equals(text, query, true)) {
                return null;
            }
        }
    }
    return [ new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPerson_Action_Title).handler(function(selector1, text1) {
        Luxena.Travel.AviaDocumentProcessForm._addParty$1(selector1, text1, 'Person');
    }).toDictionary()), new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addOrganization_Action_Title).handler(function(selector2, text2) {
        Luxena.Travel.AviaDocumentProcessForm._addParty$1(selector2, text2, 'Organization');
    }).toDictionary()) ];
}
Luxena.Travel.AviaDocumentProcessForm._addParty$1 = function Luxena_Travel_AviaDocumentProcessForm$_addParty$1(selector, text, type) {
    if (String.isNullOrEmpty(text)) {
        return;
    }
    if (Luxena.Travel.AppManager.get_systemConfiguration().IsOrganizationCodeRequired && type === 'Organization') {
        var nameDictionary = { Name: text, IsCustomer: true };
        LxnBase.UI.FormsRegistry.editObject(type, null, nameDictionary, function(result) {
            var dto = (result).Item;
            var data = new LxnBase.Data.Reference();
            data.Id = dto.Id;
            data.Name = dto.Name;
            data.Type = 'Organization';
            selector.setValue(data);
        }, null, null);
    }
    else {
        Luxena.Travel.Services.PartyService.CreateCustomer(type, text, function(result) {
            var party = result;
            var data = new LxnBase.Data.Reference();
            data.Id = party[LxnBase.Data.ObjectPropertyNames.id];
            data.Name = party[LxnBase.Data.ObjectPropertyNames.reference];
            data.Type = party[LxnBase.Data.ObjectPropertyNames.objectClass];
            selector.setValue(data);
            var caption = null;
            switch (data.Type) {
                case 'Person':
                    caption = Luxena.Travel.DomainRes.person_Caption_List;
                    break;
                case 'Organization':
                    caption = Luxena.Travel.DomainRes.organization_Caption_List;
                    break;
                case 'Department':
                    caption = Luxena.Travel.DomainRes.department_Caption_List;
                    break;
            }
            LxnBase.MessageRegister.info(caption, LxnBase.BaseRes.created + ' ' + data.Name);
        }, null);
    }
}
Luxena.Travel.AviaDocumentProcessForm._getPersonName$1 = function Luxena_Travel_AviaDocumentProcessForm$_getPersonName$1(gdsPassengerName) {
    if (String.isNullOrEmpty(gdsPassengerName)) {
        return null;
    }
    var lastname = gdsPassengerName.split('/')[0].toLowerCase();
    var name = '';
    if (gdsPassengerName.split('/').length > 1) {
        name = gdsPassengerName.split('/')[1].toLowerCase();
    }
    if (!String.isNullOrEmpty(name) && (name.length > 1)) {
        lastname = lastname.substring(0, 1).toUpperCase() + lastname.substring(1, lastname.length);
        name = name.substring(0, 1).toUpperCase() + name.substring(1, name.length);
        name = name.replace(new RegExp('(mr|mrs|mstr|miss)$'), '');
    }
    return (lastname + ' ' + name).trim();
}
Luxena.Travel.AviaDocumentProcessForm.prototype = {
    
    get_saveAndContinue: function Luxena_Travel_AviaDocumentProcessForm$get_saveAndContinue() {
        return this._saveAndContinue$1;
    },
    set_saveAndContinue: function Luxena_Travel_AviaDocumentProcessForm$set_saveAndContinue(value) {
        this._saveAndContinue$1 = value;
        return value;
    },
    
    get__showEqualFare$1: function Luxena_Travel_AviaDocumentProcessForm$get__showEqualFare$1() {
        return this._document$1.EqualFare == null && Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput;
    },
    
    get__useHandling$1: function Luxena_Travel_AviaDocumentProcessForm$get__useHandling$1() {
        return Luxena.Travel.AppManager.get_systemConfiguration().UseAviaHandling && this._type$1 !== 'AviaMco';
    },
    
    open: function Luxena_Travel_AviaDocumentProcessForm$open(ticketId, type) {
        this._type$1 = type;
        Luxena.Travel.Services.AviaService.GetAviaReservationForProcess(ticketId, this._type$1, ss.Delegate.create(this, this._ticketsLoaded$1), null);
    },
    
    closeWindow: function Luxena_Travel_AviaDocumentProcessForm$closeWindow() {
        this.get_window().close();
    },
    
    _createFormItems$1: function Luxena_Travel_AviaDocumentProcessForm$_createFormItems$1() {
        this._passengerNameField$1 = new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().fieldLabel(Luxena.Travel.DomainRes.aviaDocument_Passenger).cls('passenger-name').toDictionary());
        this._passengerField$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Person').allowEdit(this._args$1.AllowEditParty).customActionsDelegate(ss.Delegate.create(this, this._getPassengerSelectorActions$1)).width(200).selectOnFocus(true).listeners({ changeValue: ss.Delegate.create(this, function(objthis, newValue, oldValue) {
            if (oldValue == null || newValue == null) {
                this._customerSelector$1.updateTriggerStatus();
            }
        }) }).hideTrigger(false).selectOnFocus(true));
        this.applyActions(this._passengerField$1.get_widget(), ss.Delegate.create(this, this._getPassengerActions$1));
        this._passportWarnField$1 = new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().cls('passport-error-label').toDictionary());
        this._copyPassportButton$1 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.aviaDocumentProcessForm_CopyPassportGdsString).handler(ss.Delegate.create(this, this._copyPassportData$1)));
        var passportPanel = new Ext.Panel(new Ext.PanelConfig().items([ this._copyPassportButton$1 ]).cls('copy-passport-button').toDictionary());
        this._gdsPassportStatus$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.aviaDocument_GdsPassportStatus).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data([ [ 0, LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus, 0, Luxena.Travel.DomainRes) ], [ 1, LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus, 1, Luxena.Travel.DomainRes) ], [ 2, LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus, 2, Luxena.Travel.DomainRes) ], [ 3, LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus, 3, Luxena.Travel.DomainRes) ] ]).toDictionary())).listeners({ select: ss.Delegate.create(this, function() {
            this._updateGdsPassportStatusWarn$1((this._gdsPassportStatus$1.getValue()));
            this.refreshWindowShadow();
        }) }).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).width(100).toDictionary());
        this._gdsPassportStatusWarnField$1 = new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().cls('passport-error-label').value(Luxena.Travel.Res.aviaTicket_PassengerPassportRequired).toDictionary());
        var orderLabel = (Luxena.Travel.AppManager.get_systemConfiguration().IsOrderRequiredForProcessedDocument) ? '<b>' + Luxena.Travel.DomainRes.order + '</b>' : Luxena.Travel.DomainRes.order;
        this._orderSelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Order').valueProperties([ 'Customer' ]).fieldLabel(orderLabel));
        this._orderSelector$1.get_widget().on('changeValue', ss.Delegate.create(this, this._onOrderChanged$1));
        this._customerSelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(this._args$1.AllowEditParty).allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).customActionsDelegate(ss.Delegate.create(this, this._getCustomerSelectorActions$1)).fieldLabel('<b>' + Luxena.Travel.DomainRes.common_Customer + '</b>').width(200).selectOnFocus(true).forceSelection(true));
        this._customerSelector$1.get_widget().on('changeValue', ss.Delegate.create(this, this._onCustomerChanged$1));
        this._intermediarySelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(this._args$1.AllowEditParty).customActionsDelegate(Luxena.Travel.AviaDocumentProcessForm._getIntermediarySelectorActions$1).fieldLabel(Luxena.Travel.DomainRes.common_Intermediary).width(200).selectOnFocus(true).forceSelection(true));
        this._totalBox$1 = new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('x-form-item total').toDictionary());
        this._equalFareField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_EqualFare));
        if (Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput) {
            this._equalFareField$1.labelStyle = 'font-weight: bold;';
        }
        this._fareLabel$1 = new Ext.form.Label(new Ext.form.LabelConfig().cls('fare').toDictionary());
        this._equalFarePanel$1 = new Ext.Panel(new Ext.PanelConfig().items([ this._equalFareField$1, this._fareLabel$1 ]).layout('form').itemCls('float-left').toDictionary());
        this._commissionField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Commission));
        this._serviceFeeField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_ServiceFee));
        this._serviceFeeField$1.labelStyle = 'font-weight: bold;';
        this._serviceFeeField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._handlingField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Handling));
        this._handlingField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._commissionDiscountField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_CommissionDiscount));
        this._commissionDiscountField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._discountField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Discount));
        this._discountField$1.labelStyle = 'font-weight: bold;';
        this._discountField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._refundServiceFeeField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_RefundServiceFee));
        this._refundServiceFeeField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._serviceFeePenaltyField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_ServiceFeePenalty));
        this._serviceFeePenaltyField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._grandTotalField$1 = new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.product_GrandTotal));
        this._grandTotalField$1.labelStyle = 'font-weight: bold;';
        this._grandTotalField$1.get_decimalField().on('change', ss.Delegate.create(this, this._onAmountChange$1));
        this._paymentType$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.paymentType).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data([ [ 0, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 0) ], [ 1, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 1) ], [ 2, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 2) ], [ 3, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 3) ], [ 4, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 4) ], [ 5, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 5) ], [ 6, Luxena.Travel.DomainRes.paymentType_WithoutPayment ] ]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).toDictionary());
        this._descriptionField$1 = new Ext.form.TextArea();
        this._descriptionField$1.fieldLabel = Luxena.Travel.DomainRes.common_Description;
        this._descriptionField$1.height = 48;
        this._descriptionField$1.width = 260;
        this._noteField$1 = new Ext.form.TextArea();
        this._noteField$1.fieldLabel = Luxena.Travel.DomainRes.common_Note;
        this._noteField$1.height = 48;
        this._noteField$1.width = 260;
        this._editPenaltiesButton$1 = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().handler(ss.Delegate.create(this, this._editPenalizeOperations$1)).cls('edit-penalties').text(Luxena.Travel.Res.aviaDocumentProcessForm_EditPenalizeOperations));
        this._reservationCount$1 = new Ext.BoxComponent();
        this._documentList$1 = new Ext.Panel(new Ext.PanelConfig().cls('document-list').toDictionary());
        var menuItems = [];
        menuItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_GetByNumber).handler(ss.Delegate.create(this, function() {
            LxnBase.UI.MessageBoxWrap.prompt(Luxena.Travel.Res.addDocument_Title, Luxena.Travel.Res.enterDocumentNumber_Text, ss.Delegate.create(this, function(button, text) {
                if (button === 'ok' && !String.isNullOrEmpty(text)) {
                    this._addDocumentByNumber$1(text);
                }
            }));
        })).toDictionary()));
        menuItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_MyUnprocessed).handler(ss.Delegate.create(this, this._addUnprocessedDocuments$1)).toDictionary()));
        menuItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_AllMyDocuments).handler(ss.Delegate.create(this, this._addAgentDocuments$1)).toDictionary()));
        if (this._args$1.HasAccessToDocumentList) {
            menuItems.add(new Ext.menu.Item(new Ext.menu.ItemConfig().handler(ss.Delegate.create(this, this._addDocumentsFromFullList$1)).text(Luxena.Travel.Res.menu_FromList).toDictionary()));
        }
        var menu = new Ext.menu.Menu(new Ext.menu.MenuConfig().cls('simple-menu').items(menuItems).listeners({ beforeshow: function(sender) {
            (sender).tryActivate(0);
        } }).toDictionary());
        var addButton = new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add).menu(menu));
        var panel = new Ext.Panel(new Ext.PanelConfig().items([ this._documentList$1, addButton ]).cls('documents-container').toDictionary());
        panel.setVisible(false);
        this._applyDataCheckbox$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.processForm_ApplyToDocuments_Text).handler(ss.Delegate.create(this, function(checkbox, isChecked) {
            panel.setVisible(isChecked);
            if (isChecked) {
                this._documentList$1.doLayout();
            }
            this.get_window().getEl().enableShadow(true);
        })).listeners({ render: ss.Delegate.create(this, function() {
            var el = this._applyDataCheckbox$1.wrap;
            el.addClass('applyDataCheckbox');
        }) }).toDictionary());
        this._documentsPanel$1 = new Ext.Panel(new Ext.PanelConfig().cls('documents').items([ this._reservationCount$1, this._applyDataCheckbox$1, panel ]).toDictionary());
        var mainPanel = new Ext.Panel(new Ext.PanelConfig().cls('main-panel').layout('form').items([ this._passengerNameField$1, this._passengerField$1.get_widget(), this._passportWarnField$1, passportPanel, this._gdsPassportStatus$1, this._gdsPassportStatusWarnField$1, this._orderSelector$1.get_widget(), this._customerSelector$1.get_widget(), this._intermediarySelector$1.get_widget(), this._totalBox$1, this._equalFarePanel$1, this._commissionField$1, this._serviceFeeField$1, this._handlingField$1, this._commissionDiscountField$1, this._discountField$1, this._refundServiceFeeField$1, this._serviceFeePenaltyField$1, this._grandTotalField$1, this._paymentType$1, this._descriptionField$1, this._noteField$1, this._editPenaltiesButton$1 ]).toDictionary());
        this.get_form().add(mainPanel);
        this.get_form().add(this._documentsPanel$1);
    },
    
    onSave: function Luxena_Travel_AviaDocumentProcessForm$onSave() {
        if (this._ticket$1 != null) {
            this._ticket$1.Passenger = this._passengerField$1.getObjectInfo();
            if (!ss.isNullOrUndefined(this._gdsPassportStatus$1.getValue())) {
                this._ticket$1.GdsPassportStatus = (this._gdsPassportStatus$1.value);
            }
        }
        this._document$1.Order = this._orderSelector$1.getObjectInfo();
        this._document$1.Customer = this._customerSelector$1.getObjectInfo();
        this._document$1.Intermediary = this._intermediarySelector$1.getObjectInfo();
        if (this.get__showEqualFare$1()) {
            this._document$1.EqualFare = this._equalFareField$1.getValue();
        }
        this._document$1.Commission = this._commissionField$1.getValue();
        this._document$1.ServiceFee = this._serviceFeeField$1.getValue();
        this._document$1.Discount = this._discountField$1.getValue();
        this._document$1.GrandTotal = this._grandTotalField$1.getValue();
        if (this.get__useHandling$1()) {
            this._document$1.Handling = this._handlingField$1.getValue();
            this._document$1.CommissionDiscount = this._commissionDiscountField$1.getValue();
        }
        if (this._refund$1 != null) {
            this._refund$1.RefundServiceFee = this._refundServiceFeeField$1.getValue();
            this._refund$1.ServiceFeePenalty = this._serviceFeePenaltyField$1.getValue();
        }
        else if (this._mco$1 != null) {
            this._mco$1.Description = this._descriptionField$1.getValue();
        }
        this._document$1.PaymentType = this._paymentType$1.getValue();
        this._document$1.Note = this._noteField$1.getValue();
        var dtos = [ this._document$1 ];
        if (this._applyDataCheckbox$1.getValue()) {
            var $enum1 = ss.IEnumerator.getEnumerator(this._selectedDocuments$1);
            while ($enum1.moveNext()) {
                var selectedDocument = $enum1.current;
                var dto = selectedDocument;
                dto.Order = this._document$1.Order;
                dto.Customer = this._document$1.Customer;
                dto.Intermediary = this._document$1.Intermediary;
                dto.PaymentType = this._document$1.PaymentType;
                if (this._ticket$1 != null) {
                    var ticketDto = dto;
                    if (ticketDto.PassengerName === this._document$1.PassengerName) {
                        ticketDto.Passenger = this._ticket$1.Passenger;
                    }
                    var list = [];
                    var $enum2 = ss.IEnumerator.getEnumerator(this._ticket$1.PenalizeOperations);
                    while ($enum2.moveNext()) {
                        var operation = $enum2.current;
                        if (ticketDto.SegmentCount === 1 && (operation.Type === 1 || operation.Type === 3 || operation.Type === 5)) {
                            continue;
                        }
                        list.add(operation);
                    }
                    ticketDto.PenalizeOperations = list;
                }
                dtos[dtos.length] = dto;
            }
        }
        if (this._ticket$1 != null) {
            Luxena.Travel.Services.AviaService.ProcessAviaTickets(dtos, ss.Delegate.create(this, this.completeSave), null);
        }
        else if (this._refund$1 != null) {
            Luxena.Travel.Services.AviaService.ProcessAviaRefunds(dtos, ss.Delegate.create(this, this.completeSave), null);
        }
        else {
            Luxena.Travel.Services.AviaService.ProcessAviaMcos(dtos, ss.Delegate.create(this, this.completeSave), null);
        }
    },
    
    onSaved: function Luxena_Travel_AviaDocumentProcessForm$onSaved(result) {
        if (!this._saveAndContinue$1) {
            Luxena.Travel.AviaDocumentProcessForm.callBaseMethod(this, 'onSaved', [ result ]);
        }
    },
    
    _ticketsLoaded$1: function Luxena_Travel_AviaDocumentProcessForm$_ticketsLoaded$1(result) {
        this._documents$1 = result;
        this._document$1 = this._documents$1[0];
        this._selectedDocuments$1 = [];
        this._addedDocuments$1 = [];
        this._grandTotalComponentList$1 = [];
        this._financeComponentList$1 = [];
        this._refund$1 = (this._type$1 === 'AviaRefund') ? this._document$1 : null;
        this._ticket$1 = (this._type$1 === 'AviaTicket') ? this._document$1 : null;
        this._mco$1 = (this._type$1 === 'AviaMco') ? this._document$1 : null;
        this._update$1();
        this._recalculatedField$1 = null;
        if (!this.get_window().rendered) {
            this.get_window().show();
        }
        else {
            this.refreshWindowShadow();
            if (!this._passengerField$1.get_widget().hidden) {
                this._passengerField$1.focus();
            }
            else {
                this._orderSelector$1.focus();
            }
        }
    },
    
    _update$1: function Luxena_Travel_AviaDocumentProcessForm$_update$1() {
        this._updating$1 = true;
        try {
            this._updateTitle$1();
            this._updateFields$1();
            this._createGrandTotalMenu$1();
            this._updateFinanceData$1();
            this._updateDocumentList$1();
        }
        finally {
            this._updating$1 = false;
        }
        this._setInitialValues$1();
    },
    
    _updateTitle$1: function Luxena_Travel_AviaDocumentProcessForm$_updateTitle$1() {
        var text;
        switch (this._type$1) {
            case 'AviaTicket':
                text = Luxena.Travel.Res.aviaTicket_Handle_Title;
                break;
            case 'AviaRefund':
                text = Luxena.Travel.Res.aviaRefund_Handle_Title;
                break;
            default:
                text = Luxena.Travel.Res.aviaMco_Handle_Title;
                break;
        }
        this.get_window().setTitle(String.format(text, this._document$1.Name));
    },
    
    _updateFields$1: function Luxena_Travel_AviaDocumentProcessForm$_updateFields$1() {
        this._passengerNameField$1.setValue(this._document$1.PassengerName);
        if (this._ticket$1 != null) {
            this._passengerField$1.setValue(this._ticket$1.Passenger);
            this._passengerField$1.updateTriggerStatus();
            this._gdsPassportStatus$1.setValue(this._ticket$1.GdsPassportStatus);
            this.get_form().showItem(this._passengerField$1.get_widget());
            this.get_form().showItem(this._gdsPassportStatus$1);
            this._updateCopyPassportButton$1(this._ticket$1.PassportValidationResult);
            this._updatePassportWarning$1(this._ticket$1.PassportValidationResult);
            this._updateGdsPassportStatusWarn$1(this._ticket$1.GdsPassportStatus);
        }
        else {
            this.get_form().hideItem(this._passengerField$1.get_widget());
            this.get_form().hideItem(this._gdsPassportStatus$1);
            this.get_form().hideItem(this._passportWarnField$1);
            this.get_form().hideItem(this._gdsPassportStatusWarnField$1);
            this._copyPassportButton$1.hide();
        }
        if (this._mco$1 != null) {
            this.get_form().showItem(this._descriptionField$1);
            this._descriptionField$1.setValue(this._mco$1.Description);
        }
        else {
            this.get_form().hideItem(this._descriptionField$1);
        }
        this._orderSelector$1.setValue(this._document$1.Order);
        this._customerSelector$1.setValue(this._document$1.Customer);
        this._intermediarySelector$1.setValue(this._document$1.Intermediary);
        this._paymentType$1.setValue(this._document$1.PaymentType);
        this._noteField$1.setValue(this._document$1.Note);
    },
    
    _updatePassportWarning$1: function Luxena_Travel_AviaDocumentProcessForm$_updatePassportWarning$1(result) {
        if (this._passengerField$1.getObjectInfo() == null || result === 3) {
            this.get_form().hideItem(this._passportWarnField$1);
            return;
        }
        var text = null;
        var error = false;
        switch (result) {
            case 0:
                if (String.isNullOrEmpty(this._ticket$1.GdsPassport)) {
                    text = String.format(Luxena.Travel.Res.passenger_NoPassport_Warning, this._document$1.Originator);
                }
                else {
                    text = String.format(Luxena.Travel.Res.passenger_NoGdsPassport_Warning, (!this._document$1.Originator) ? 'GDS' : LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator, this._document$1.Originator));
                }
                break;
            case 2:
                text = Luxena.Travel.Res.passenger_PassportExpired_Warning;
                break;
            case 1:
                var originator = (!this._document$1.Originator) ? 'GDS' : LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator, this._document$1.Originator);
                text = String.format(Luxena.Travel.Res.passenger_PassportDataDoesntMatch_Warning, originator);
                error = true;
                break;
        }
        var errorClass = 'passport-error-label';
        var warnClass = 'passport-warn-label';
        var removeCss = (error) ? warnClass : errorClass;
        var addCss = (error) ? errorClass : warnClass;
        if (!this._passportWarnField$1.rendered) {
            this._passportWarnField$1.cls = addCss;
        }
        else {
            this._passportWarnField$1.removeClass(removeCss);
            this._passportWarnField$1.addClass(addCss);
        }
        this._passportWarnField$1.setValue(text);
        this.get_form().showItem(this._passportWarnField$1);
    },
    
    _updateGdsPassportStatusWarn$1: function Luxena_Travel_AviaDocumentProcessForm$_updateGdsPassportStatusWarn$1(status) {
        if (this._ticket$1.PassportRequired && status !== 1) {
            this.get_form().showItem(this._gdsPassportStatusWarnField$1);
        }
        else {
            this.get_form().hideItem(this._gdsPassportStatusWarnField$1);
        }
    },
    
    _updateCopyPassportButton$1: function Luxena_Travel_AviaDocumentProcessForm$_updateCopyPassportButton$1(validationResult) {
        if (this._passengerField$1.getObjectInfo() != null && validationResult === 3) {
            this._copyPassportButton$1.show();
        }
        else {
            this._copyPassportButton$1.hide();
        }
    },
    
    _createGrandTotalMenu$1: function Luxena_Travel_AviaDocumentProcessForm$_createGrandTotalMenu$1() {
        var items = [];
        items.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFee_Text).handler(ss.Delegate.create(this, function() {
            this._onGrandTotalFieldChanged$1(this._serviceFeeField$1);
        })).toDictionary()));
        if (this.get__useHandling$1()) {
            items.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateHandling_Text).handler(ss.Delegate.create(this, function() {
                this._onGrandTotalFieldChanged$1(this._handlingField$1);
            })).toDictionary()));
            items.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateCommissionDiscount_Text).handler(ss.Delegate.create(this, function() {
                this._onGrandTotalFieldChanged$1(this._commissionDiscountField$1);
            })).toDictionary()));
        }
        items.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateDiscount_Text).handler(ss.Delegate.create(this, function() {
            this._onGrandTotalFieldChanged$1(this._discountField$1);
        })).toDictionary()));
        if (this._refund$1 != null) {
            items.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateRefundServiceFee_Text).handler(ss.Delegate.create(this, function() {
                this._onGrandTotalFieldChanged$1(this._refundServiceFeeField$1);
            })).toDictionary()));
            items.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFeePenalty_Text).handler(ss.Delegate.create(this, function() {
                this._onGrandTotalFieldChanged$1(this._serviceFeePenaltyField$1);
            })).toDictionary()));
        }
        this._menu$1 = new Ext.menu.Menu(new Ext.menu.MenuConfig().cls('simple-menu').listeners({ beforeshow: ss.Delegate.create(this, function() {
            this._menu$1.tryActivate(0);
        }), beforehide: ss.Delegate.create(this, function() {
            if (!this._updating$1) {
                this._onGrandTotalFieldChanged$1(this._serviceFeeField$1);
            }
            this._updating$1 = false;
        }) }).items(items).toDictionary());
    },
    
    _updateFinanceData$1: function Luxena_Travel_AviaDocumentProcessForm$_updateFinanceData$1() {
        if (this._totalBox$1.rendered) {
            this._totalBox$1.getEl().update(this._renderTotal$1());
        }
        else {
            this._totalBox$1.autoEl = { html: this._renderTotal$1() };
        }
        this._commissionField$1.setValue(this._document$1.Commission || Luxena.Travel.MoneyDto.getZeroMoney());
        this._serviceFeeField$1.setValue(this._document$1.ServiceFee || Luxena.Travel.MoneyDto.getZeroMoney());
        this._discountField$1.setValue(this._document$1.Discount || Luxena.Travel.MoneyDto.getZeroMoney());
        this._grandTotalField$1.setValue(this._document$1.GrandTotal || Luxena.Travel.MoneyDto.getZeroMoney());
        if (this.get__showEqualFare$1()) {
            this._equalFarePanel$1.setVisible(true);
            this._equalFareField$1.setVisible(true);
            if (this._document$1.Fare != null) {
                this._fareLabel$1.setText(String.format(Luxena.Travel.Res.aviaDocumentProcessForm_Fare_Text, Luxena.Travel.MoneyDto.toMoneyFullString(this._document$1.Fare)));
            }
        }
        else {
            this._equalFarePanel$1.setVisible(false);
            this._equalFareField$1.setVisible(false);
        }
        if (this.get__useHandling$1()) {
            this.get_form().showItem(this._handlingField$1);
            this._handlingField$1.setValue(this._document$1.Handling || Luxena.Travel.MoneyDto.getZeroMoney());
            this.get_form().showItem(this._commissionDiscountField$1);
            this._commissionDiscountField$1.setValue(this._document$1.CommissionDiscount || Luxena.Travel.MoneyDto.getZeroMoney());
        }
        else {
            this.get_form().hideItem(this._handlingField$1);
            (this._handlingField$1).setValue(null);
            this.get_form().hideItem(this._commissionDiscountField$1);
            (this._commissionDiscountField$1).setValue(null);
        }
        if (this._refund$1 != null) {
            this.get_form().showItem(this._refundServiceFeeField$1);
            this.get_form().showItem(this._serviceFeePenaltyField$1);
            this._refundServiceFeeField$1.setValue(this._refund$1.RefundServiceFee || Luxena.Travel.MoneyDto.getZeroMoney());
            this._serviceFeePenaltyField$1.setValue(this._refund$1.ServiceFeePenalty || Luxena.Travel.MoneyDto.getZeroMoney());
        }
        else {
            this.get_form().hideItem(this._refundServiceFeeField$1);
            this.get_form().hideItem(this._serviceFeePenaltyField$1);
            this._refundServiceFeeField$1.setValue(null);
            this._serviceFeePenaltyField$1.setValue(null);
        }
        this._editPenaltiesButton$1.setVisible(this._ticket$1 != null);
    },
    
    _updateDocumentList$1: function Luxena_Travel_AviaDocumentProcessForm$_updateDocumentList$1() {
        var text;
        if (!ss.isNullOrUndefined(this._documentList$1.items)) {
            this._documentList$1.removeAll(true);
        }
        this._applyDataCheckbox$1.setValue(false);
        var unprocessedCount = 0;
        for (var i = 1; i < this._documents$1.length; i++) {
            this._addDocument$1(this._documents$1[i]);
            unprocessedCount += (this._documents$1[i].RequiresProcessing) ? 1 : 0;
        }
        if (this._ticket$1 != null) {
            text = Luxena.Travel.Res.reservationTicketCount_Text;
        }
        else if (this._refund$1 != null) {
            text = Luxena.Travel.Res.reservationRefundCount_Text;
        }
        else {
            text = Luxena.Travel.Res.reservationMcoCount_Text;
        }
        text = '<div>' + String.format(text, this._documents$1.length - 1) + "&nbsp;<span style='color: gray'>" + String.format(Luxena.Travel.Res.reservationUnprocessedDocCount_Text, unprocessedCount) + '</span></div>';
        if (this._reservationCount$1.rendered) {
            this._reservationCount$1.getEl().update(text);
        }
        else {
            this._reservationCount$1.autoEl = { html: text };
        }
    },
    
    _setInitialValues$1: function Luxena_Travel_AviaDocumentProcessForm$_setInitialValues$1() {
        if (this._canRecalculate$1()) {
            if (this._document$1.GrandTotal == null) {
                this._recalculateField$1(this._grandTotalField$1);
            }
            else if (this._document$1.ServiceFee == null) {
                this._recalculateField$1(this._serviceFeeField$1);
            }
            else if (this.get__useHandling$1() && this._document$1.Handling == null) {
                this._recalculateField$1(this._handlingField$1);
            }
            else if (this.get__useHandling$1() && this._document$1.CommissionDiscount == null) {
                this._recalculateField$1(this._commissionDiscountField$1);
            }
            else if (this._refund$1 != null) {
                if (this._refund$1.ServiceFeePenalty == null) {
                    this._recalculateField$1(this._serviceFeePenaltyField$1);
                }
                else if (this._refund$1.RefundServiceFee == null) {
                    this._recalculateField$1(this._refundServiceFeeField$1);
                }
            }
            else if (this._document$1.Discount == null) {
                this._recalculateField$1(this._discountField$1);
            }
        }
    },
    
    _renderTotal$1: function Luxena_Travel_AviaDocumentProcessForm$_renderTotal$1() {
        var commission = '';
        if (this._document$1.Commission != null) {
            commission = String.format(' ({0} {1} {2})', Luxena.Travel.DomainRes.common_Commission.toLowerCase(), this._document$1.Commission.Amount.format('N2'), this._document$1.Commission.Currency.Name);
        }
        return String.format("<label class='x-form-item-label'>{0}:</label>" + "<div class='x-form-element'><div class='text'><div class='amount'>{1}</div><div class='currency'>{2}</div><div class='commission'>{3}</div></div></div>" + "<div class='x-form-clear-left'></div>", Luxena.Travel.DomainRes.product_Total, (ss.isValue(this._document$1.Total)) ? this._document$1.Total.Amount.format('N2') : '0.00', (ss.isValue(this._document$1.Total)) ? this._document$1.Total.Currency.Name : '', commission);
    },
    
    _getPassengerActions$1: function Luxena_Travel_AviaDocumentProcessForm$_getPassengerActions$1(field, actionCallbackDelegate) {
        var passenger = this._passengerField$1.getObjectInfo();
        if (passenger == null) {
            this._updateCopyPassportButton$1(0);
            this._updatePassportWarning$1(0);
            this.refreshWindowShadow();
            return;
        }
        Luxena.Travel.Services.AviaService.ValidatePassengerPassport(this._document$1.Id, passenger.Id, ss.isNull(this._ticket$1.GdsPassport), ss.Delegate.create(this, function(result) {
            var response = result;
            var actions = [];
            switch (response.PassportValidationResult) {
                case 0:
                    actions.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPassport_Action_Title).handler(ss.Delegate.create(this, this._addPassport$1)).toDictionary()));
                    break;
                case 2:
                    actions.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPassport_Action_Title).handler(ss.Delegate.create(this, this._addPassport$1)).toDictionary()));
                    break;
                case 1:
                    actions.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.comparePassports).handler(ss.Delegate.create(this, function() {
                        var form = new Luxena.Travel.PassportCompareForm(response.Passport, this._ticket$1.Passport);
                        form.add_saved(ss.Delegate.create(this, function(arg1) {
                            if (arg1) {
                                this._setIncorrectPassport$1();
                            }
                            else {
                                LxnBase.Services.GenericService.Update('Passport', response.Passport.Id, response.Passport.Version, Luxena.Travel.AviaDocumentProcessForm._getPassportData$1(this._ticket$1.Passport), null, ss.Delegate.create(this, function() {
                                    this._setCorrectPassport$1();
                                }), null);
                            }
                        }));
                        form.open();
                    })).toDictionary()));
                    break;
            }
            this._updateCopyPassportButton$1(response.PassportValidationResult);
            this._updatePassportWarning$1(response.PassportValidationResult);
            this.refreshWindowShadow();
            actionCallbackDelegate(actions);
        }), null);
    },
    
    _getPassengerSelectorActions$1: function Luxena_Travel_AviaDocumentProcessForm$_getPassengerSelectorActions$1(store, records, query) {
        if (this._ticket$1 == null) {
            return null;
        }
        var passengerName = Luxena.Travel.AviaDocumentProcessForm._getPersonName$1(this._document$1.PassengerName);
        var addNewPassenger = this._ticket$1.SuggestPassenger == null;
        var setPassenger = !addNewPassenger;
        var addNewPerson = !String.isNullOrEmpty(query) && !String.equals(passengerName, query, true);
        if (records != null) {
            for (var i = 0; i < records.length; i++) {
                var text = records[i].get('Name');
                if (String.equals(text, query, true)) {
                    addNewPerson = false;
                }
                if (String.equals(text, passengerName, true)) {
                    addNewPassenger = false;
                    setPassenger = false;
                }
            }
        }
        var actions = [];
        if (addNewPassenger) {
            actions.add(new Ext.Action(new Ext.ActionConfig().text(String.format(Luxena.Travel.Res.addPassenger_Action_Title, passengerName)).handler(ss.Delegate.create(this, function() {
                this._addPassenger$1(passengerName);
            })).toDictionary()));
        }
        if (setPassenger) {
            actions.add(new Ext.Action(new Ext.ActionConfig().text(String.format(Luxena.Travel.Res.setPassenger_Action_Title, this._ticket$1.SuggestPassenger.Name)).handler(ss.Delegate.create(this, function() {
                this._passengerField$1.setValue(this._ticket$1.SuggestPassenger);
            })).toDictionary()));
        }
        if (addNewPerson) {
            actions.add(new Ext.Action(new Ext.ActionConfig().text(String.format(Luxena.Travel.Res.addPassenger_Action_Title, query)).handler(ss.Delegate.create(this, function() {
                this._addPassenger$1(query);
            })).toDictionary()));
        }
        return (!actions.length) ? null : actions;
    },
    
    _getCustomerSelectorActions$1: function Luxena_Travel_AviaDocumentProcessForm$_getCustomerSelectorActions$1(store, records, query) {
        var actions = [];
        var passenger = this._passengerField$1.getObjectInfo();
        var customer = this._customerSelector$1.getObjectInfo();
        if (passenger != null && !String.equals(passenger.Name, query, true)) {
            actions.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.setPassengerAsCustomer_Action_Title).handler(ss.Delegate.create(this, function() {
                this._customerSelector$1.setValue(passenger);
            })).toDictionary()));
        }
        if (customer == null || !String.equals(customer.Name, query, true)) {
            var items = Luxena.Travel.AviaDocumentProcessForm._getIntermediarySelectorActions$1(store, records, query);
            if (items != null) {
                actions.addRange(items);
            }
        }
        return actions;
    },
    
    _addPassenger$1: function Luxena_Travel_AviaDocumentProcessForm$_addPassenger$1(text) {
        if (String.isNullOrEmpty(text)) {
            return;
        }
        LxnBase.Services.GenericService.Update('Person', null, null, { Name: text }, null, ss.Delegate.create(this, function(result) {
            var response = result;
            var person = response.Item;
            var obj = new LxnBase.Data.Reference();
            obj.Id = person['Id'];
            obj.Name = person['Name'];
            obj.Type = 'Person';
            this._passengerField$1.setValue(obj);
            this._addPassport$1();
            LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.person_Caption_List, LxnBase.BaseRes.created + ' ' + person['Name']);
        }), null);
    },
    
    _addPassport$1: function Luxena_Travel_AviaDocumentProcessForm$_addPassport$1() {
        var passport = null;
        if (this._ticket$1.Passport != null) {
            passport = this._ticket$1.Passport;
        }
        else if (!String.isNullOrEmpty(this._ticket$1.PassengerName)) {
            var passengerName = Luxena.Travel.AviaDocumentProcessForm._getPersonName$1(this._document$1.PassengerName).split(' ');
            passport = { LastName: passengerName[0] };
            if (passengerName.length > 1) {
                passport['FirstName'] = passengerName[1];
            }
        }
        this._editPassport$1(null, null, passport);
    },
    
    _editPassport$1: function Luxena_Travel_AviaDocumentProcessForm$_editPassport$1(id, version, value) {
        LxnBase.UI.FormsRegistry.editObject('Passport', id, value, ss.Delegate.create(this, function(result) {
            var dto = (result).Item;
            dto.Owner = this._passengerField$1.getObjectInfo();
            LxnBase.Services.GenericService.Update('Passport', id, version, dto, null, ss.Delegate.create(this, function() {
                LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.passport_Caption_List, ((dto.Id == null) ? LxnBase.BaseRes.created : LxnBase.BaseRes.updated) + ' ' + dto.Number);
                this._passengerField$1.focus();
                this.refreshActions();
            }), null);
        }), null, null, LxnBase.UI.LoadMode.local);
    },
    
    _setIncorrectPassport$1: function Luxena_Travel_AviaDocumentProcessForm$_setIncorrectPassport$1() {
        if (this._ticket$1 == null) {
            return;
        }
        this._ticket$1.GdsPassport = null;
        this._ticket$1.GdsPassportStatus = 3;
        this._gdsPassportStatus$1.setValue(3);
        this._passportWarnField$1.setValue('');
        this.get_form().hideItem(this._passportWarnField$1);
        this._updateGdsPassportStatusWarn$1((this._gdsPassportStatus$1.getValue()));
        this.refreshActions();
    },
    
    _setCorrectPassport$1: function Luxena_Travel_AviaDocumentProcessForm$_setCorrectPassport$1() {
        if (this._ticket$1 == null) {
            return;
        }
        this._ticket$1.GdsPassportStatus = 1;
        this._gdsPassportStatus$1.setValue(1);
        this._passportWarnField$1.setValue('');
        this._gdsPassportStatusWarnField$1.setValue('');
        this.get_form().hideItem(this._passportWarnField$1);
        this.get_form().hideItem(this._gdsPassportStatusWarnField$1);
        this.refreshActions();
    },
    
    _copyPassportData$1: function Luxena_Travel_AviaDocumentProcessForm$_copyPassportData$1() {
        var passenger = this._passengerField$1.getObjectInfo();
        if (passenger == null) {
            return;
        }
        var form = new Luxena.Travel.PassportListForm(this._ticket$1.Originator, passenger.Id);
        form.add_close(ss.Delegate.create(this, function() {
            this._gdsPassportStatus$1.focus();
        }));
        form.open();
    },
    
    _onAmountChange$1: function Luxena_Travel_AviaDocumentProcessForm$_onAmountChange$1(decimalField, newValue, oldValue) {
        if (this._updating$1) {
            return;
        }
        if (newValue == null) {
            decimalField.value = 0;
        }
        if (this._updating$1 || !this._canRecalculate$1()) {
            return;
        }
        for (var i = 0; i < this._addedDocuments$1.length; i++) {
            var document = this._addedDocuments$1[i];
            if (!this._canRecalculateDocument$1(document)) {
                continue;
            }
            if (decimalField === this._serviceFeeField$1.get_decimalField()) {
                document.ServiceFee.Amount = newValue;
            }
            else if (decimalField === this._handlingField$1.get_decimalField()) {
                document.Handling.Amount = newValue;
            }
            else if (decimalField === this._commissionDiscountField$1.get_decimalField()) {
                document.CommissionDiscount.Amount = newValue;
            }
            else if (decimalField === this._discountField$1.get_decimalField()) {
                document.Discount.Amount = newValue;
            }
            else if (decimalField === this._refundServiceFeeField$1.get_decimalField()) {
                (document).RefundServiceFee.Amount = newValue;
            }
            else if (decimalField === this._serviceFeePenaltyField$1.get_decimalField()) {
                (document).ServiceFeePenalty.Amount = newValue;
            }
            else if (decimalField === this._grandTotalField$1.get_decimalField()) {
                document.GrandTotal.Amount = newValue;
            }
            if (decimalField !== this._grandTotalField$1.get_decimalField()) {
                this._recalculateDocument$1(document, this._grandTotalField$1);
                this._refreshFinanceDataText$1(i);
            }
        }
        if (decimalField !== this._grandTotalField$1.get_decimalField()) {
            this._recalculateField$1(this._grandTotalField$1);
        }
        else {
            this._menu$1.show(this._grandTotalField$1.getEl());
        }
    },
    
    _canRecalculate$1: function Luxena_Travel_AviaDocumentProcessForm$_canRecalculate$1() {
        var res = this._serviceFeeField$1.getValue() != null && this._discountField$1.getValue() != null && this._grandTotalField$1.getValue() != null;
        if (this.get__useHandling$1()) {
            res = res && this._handlingField$1.getValue() != null && this._commissionDiscountField$1.getValue() != null;
        }
        if (this._refund$1 != null) {
            res = res && this._serviceFeePenaltyField$1.getValue() != null && this._refundServiceFeeField$1.getValue() != null;
        }
        return res && this._areCurrenciesEqual$1();
    },
    
    _areCurrenciesEqual$1: function Luxena_Travel_AviaDocumentProcessForm$_areCurrenciesEqual$1() {
        var currency = this._document$1.Total.Currency;
        var res = LxnBase.Data.Reference.equals(this._serviceFeeField$1.get_currency(), currency) && LxnBase.Data.Reference.equals(this._discountField$1.get_currency(), currency) && LxnBase.Data.Reference.equals(this._grandTotalField$1.get_currency(), currency);
        if (this.get__useHandling$1()) {
            res = res && LxnBase.Data.Reference.equals(this._handlingField$1.get_currency(), currency) && LxnBase.Data.Reference.equals(this._commissionDiscountField$1.get_currency(), currency);
        }
        if (this._refund$1 != null) {
            res = res && LxnBase.Data.Reference.equals(this._refundServiceFeeField$1.get_currency(), currency) && LxnBase.Data.Reference.equals(this._serviceFeePenaltyField$1.get_currency(), currency);
        }
        return res;
    },
    
    _onGrandTotalFieldChanged$1: function Luxena_Travel_AviaDocumentProcessForm$_onGrandTotalFieldChanged$1(field) {
        this._recalculateField$1(field);
        for (var i = 0; i < this._addedDocuments$1.length; i++) {
            var document = this._addedDocuments$1[i];
            if (this._canRecalculateDocument$1(document)) {
                this._recalculateDocument$1(document, field);
                this._refreshFinanceDataText$1(i);
            }
        }
        this._paymentType$1.focus();
        this._updating$1 = true;
        if (this._invokeSave$1) {
            this._invokeSave$1 = false;
            this.save();
        }
    },
    
    _recalculateField$1: function Luxena_Travel_AviaDocumentProcessForm$_recalculateField$1(field) {
        this._recalculatedField$1 = field;
        if (field === this._serviceFeeField$1) {
            this._serviceFeeField$1.set_amount(this._grandTotalField$1.get_amount() - this._document$1.Total.Amount - this._handlingField$1.get_amount() + this._discountField$1.get_amount() + this._serviceFeePenaltyField$1.get_amount() + this._refundServiceFeeField$1.get_amount() + this._commissionDiscountField$1.get_amount());
        }
        else if (field === this._handlingField$1) {
            this._handlingField$1.set_amount(this._grandTotalField$1.get_amount() - this._document$1.Total.Amount - this._serviceFeeField$1.get_amount() + this._discountField$1.get_amount() + this._serviceFeePenaltyField$1.get_amount() + this._refundServiceFeeField$1.get_amount() + this._commissionDiscountField$1.get_amount());
        }
        else if (field === this._commissionDiscountField$1) {
            this._commissionDiscountField$1.set_amount(this._document$1.Total.Amount + this._serviceFeeField$1.get_amount() + this._handlingField$1.get_amount() - this._grandTotalField$1.get_amount() - this._serviceFeePenaltyField$1.get_amount() - this._refundServiceFeeField$1.get_amount() - this._discountField$1.get_amount());
        }
        else if (field === this._discountField$1) {
            this._discountField$1.set_amount(this._document$1.Total.Amount + this._serviceFeeField$1.get_amount() + this._handlingField$1.get_amount() - this._grandTotalField$1.get_amount() - this._serviceFeePenaltyField$1.get_amount() - this._refundServiceFeeField$1.get_amount() - this._commissionDiscountField$1.get_amount());
        }
        else if (field === this._refundServiceFeeField$1) {
            this._refundServiceFeeField$1.set_amount(this._document$1.Total.Amount + this._serviceFeeField$1.get_amount() + this._handlingField$1.get_amount() - this._grandTotalField$1.get_amount() - this._discountField$1.get_amount() - this._serviceFeePenaltyField$1.get_amount() - this._commissionDiscountField$1.get_amount());
        }
        else if (field === this._serviceFeePenaltyField$1) {
            this._serviceFeePenaltyField$1.set_amount(this._document$1.Total.Amount + this._serviceFeeField$1.get_amount() + this._handlingField$1.get_amount() - this._grandTotalField$1.get_amount() - this._discountField$1.get_amount() - this._refundServiceFeeField$1.get_amount() - this._commissionDiscountField$1.get_amount());
        }
        else if (field === this._grandTotalField$1) {
            this._grandTotalField$1.set_amount(this._document$1.Total.Amount + this._serviceFeeField$1.get_amount() + this._handlingField$1.get_amount() - this._discountField$1.get_amount() - this._serviceFeePenaltyField$1.get_amount() - this._refundServiceFeeField$1.get_amount() - this._commissionDiscountField$1.get_amount());
        }
    },
    
    _canRecalculateDocument$1: function Luxena_Travel_AviaDocumentProcessForm$_canRecalculateDocument$1(document) {
        var currency = this._document$1.Total.Currency;
        var res = LxnBase.Data.Reference.equals(document.ServiceFee.Currency, currency) && LxnBase.Data.Reference.equals(document.Discount.Currency, currency) && LxnBase.Data.Reference.equals(document.GrandTotal.Currency, currency);
        if (this._refund$1 != null) {
            var refund = document;
            res = res && LxnBase.Data.Reference.equals(refund.RefundServiceFee.Currency, currency) && LxnBase.Data.Reference.equals(refund.ServiceFeePenalty.Currency, currency);
        }
        return res;
    },
    
    _recalculateDocument$1: function Luxena_Travel_AviaDocumentProcessForm$_recalculateDocument$1(document, field) {
        var value = 0;
        var refund = null;
        if (this._refund$1 != null) {
            refund = document;
            value = refund.ServiceFeePenalty.Amount + refund.RefundServiceFee.Amount;
        }
        var handling = 0;
        var commissionDiscount = 0;
        if (this.get__useHandling$1()) {
            handling = document.Handling.Amount;
            commissionDiscount = document.CommissionDiscount.Amount;
        }
        if (field === this._serviceFeeField$1) {
            document.ServiceFee.Amount = document.GrandTotal.Amount - document.Total.Amount - handling + commissionDiscount + document.Discount.Amount + value;
        }
        if (field === this._handlingField$1) {
            document.Handling.Amount = document.GrandTotal.Amount - document.Total.Amount - document.ServiceFee.Amount + commissionDiscount + document.Discount.Amount + value;
        }
        if (field === this._commissionDiscountField$1) {
            document.CommissionDiscount.Amount = document.GrandTotal.Amount - document.Total.Amount - handling - document.ServiceFee.Amount + document.Discount.Amount + value;
        }
        else if (field === this._discountField$1) {
            document.Discount.Amount = document.Total.Amount + document.ServiceFee.Amount + handling - commissionDiscount - document.GrandTotal.Amount - value;
        }
        else if (refund != null && field === this._refundServiceFeeField$1) {
            refund.RefundServiceFee.Amount = refund.Total.Amount + refund.ServiceFee.Amount + handling - commissionDiscount - refund.GrandTotal.Amount - refund.Discount.Amount - refund.ServiceFeePenalty.Amount;
        }
        else if (refund != null && field === this._serviceFeePenaltyField$1) {
            refund.ServiceFeePenalty.Amount = refund.Total.Amount + refund.ServiceFee.Amount + handling - commissionDiscount - refund.GrandTotal.Amount - refund.Discount.Amount - refund.RefundServiceFee.Amount;
        }
        else if (field === this._grandTotalField$1) {
            document.GrandTotal.Amount = document.Total.Amount + document.ServiceFee.Amount + handling - commissionDiscount - document.Discount.Amount - value;
        }
    },
    
    _addDocument$1: function Luxena_Travel_AviaDocumentProcessForm$_addDocument$1(dto) {
        if (this._document$1.Id === dto.Id) {
            return false;
        }
        var refund = (this._refund$1 != null) ? dto : null;
        for (var i = 0; i < this._addedDocuments$1.length; i++) {
            if (this._addedDocuments$1[i].Id === dto.Id) {
                return false;
            }
        }
        this._addedDocuments$1[this._addedDocuments$1.length] = dto;
        var currency = dto.Total.Currency;
        if (ss.isNullOrUndefined(dto.ServiceFee)) {
            dto.ServiceFee = Luxena.Travel.MoneyDto.getZeroMoney(currency);
        }
        if (this.get__useHandling$1() && ss.isNullOrUndefined(dto.Handling)) {
            dto.Handling = Luxena.Travel.MoneyDto.getZeroMoney(currency);
        }
        if (this.get__useHandling$1() && ss.isNullOrUndefined(dto.CommissionDiscount)) {
            dto.CommissionDiscount = Luxena.Travel.MoneyDto.getZeroMoney(currency);
        }
        if (ss.isNullOrUndefined(dto.Discount)) {
            dto.Discount = Luxena.Travel.MoneyDto.getZeroMoney(currency);
        }
        if (refund != null) {
            if (ss.isNullOrUndefined(refund.RefundServiceFee)) {
                refund.RefundServiceFee = Luxena.Travel.MoneyDto.getZeroMoney(currency);
            }
            if (ss.isNullOrUndefined(refund.ServiceFeePenalty)) {
                refund.ServiceFeePenalty = Luxena.Travel.MoneyDto.getZeroMoney(currency);
            }
        }
        if (ss.isNullOrUndefined(dto.GrandTotal)) {
            dto.GrandTotal = Luxena.Travel.MoneyDto.getZeroMoney(currency);
            dto.GrandTotal.Amount = dto.Total.Amount;
            if (this._canRecalculateDocument$1(dto)) {
                dto.GrandTotal.Amount += dto.ServiceFee.Amount - dto.Discount.Amount;
                if (this.get__useHandling$1()) {
                    dto.GrandTotal.Amount += dto.Handling.Amount;
                }
                if (refund != null) {
                    dto.GrandTotal.Amount -= refund.RefundServiceFee.Amount - refund.ServiceFeePenalty.Amount;
                }
            }
        }
        if (this._recalculatedField$1 != null && this._canRecalculateDocument$1(dto)) {
            if (this._serviceFeeField$1 !== this._recalculatedField$1) {
                dto.ServiceFee = this._serviceFeeField$1.getValue();
            }
            if (this._handlingField$1 !== this._recalculatedField$1) {
                dto.Handling = this._handlingField$1.getValue();
            }
            if (this._commissionDiscountField$1 !== this._recalculatedField$1) {
                dto.CommissionDiscount = this._commissionDiscountField$1.getValue();
            }
            if (this._discountField$1 !== this._recalculatedField$1) {
                dto.Discount = this._discountField$1.getValue();
            }
            if (this._grandTotalField$1 !== this._recalculatedField$1) {
                dto.GrandTotal = this._grandTotalField$1.getValue();
            }
            if (refund != null) {
                if (this._refundServiceFeeField$1 !== this._recalculatedField$1) {
                    refund.RefundServiceFee = this._refundServiceFeeField$1.getValue();
                }
                if (this._serviceFeePenaltyField$1 !== this._recalculatedField$1) {
                    refund.ServiceFeePenalty = this._serviceFeePenaltyField$1.getValue();
                }
            }
            this._recalculateDocument$1(dto, this._recalculatedField$1);
        }
        var cssClass = (dto.RequiresProcessing) ? 'textColor-red' : ((dto.IsVoid) ? 'textColor-gray' : '');
        var text = (ss.isNullOrUndefined(dto.Number)) ? dto.Name : String.format('{0}&nbsp;&nbsp;&nbsp;{1}', dto.Name, dto.PassengerName);
        var checkbox = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(text).checked_(dto.RequiresProcessing).handler(ss.Delegate.create(this, function(sender, isChecked) {
            if (isChecked) {
                this._selectedDocuments$1.add(dto);
            }
            else {
                this._selectedDocuments$1.remove(dto);
            }
        })).listeners({ render: function(sender) {
            (sender).getEl().addClass(cssClass);
        } }).toDictionary());
        var grandTotal = new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('totals ' + cssClass).toDictionary());
        var financeData = new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('finance').toDictionary());
        this._grandTotalComponentList$1[this._grandTotalComponentList$1.length] = grandTotal;
        this._financeComponentList$1[this._financeComponentList$1.length] = financeData;
        this._refreshFinanceDataText$1(this._addedDocuments$1.length - 1);
        this._documentList$1.add(checkbox);
        this._documentList$1.add(grandTotal);
        this._documentList$1.add(financeData);
        if (dto.RequiresProcessing) {
            this._selectedDocuments$1.add(dto);
        }
        return true;
    },
    
    _refreshFinanceDataText$1: function Luxena_Travel_AviaDocumentProcessForm$_refreshFinanceDataText$1(index) {
        var dto = this._addedDocuments$1[index];
        var component = this._grandTotalComponentList$1[index];
        var html = String.format('<div>{0}</div>', Luxena.Travel.MoneyDto.toMoneyFullString(dto.GrandTotal));
        if (component.rendered) {
            component.getEl().update(html);
        }
        else {
            component.autoEl = { html: html };
        }
        component = this._financeComponentList$1[index];
        html = (this._refund$1 == null) ? String.format(Luxena.Travel.Res.addedAviaDocumentFinanceData_Format, Luxena.Travel.MoneyDto.toMoneyFullString(dto.Total), Luxena.Travel.MoneyDto.toMoneyFullString(dto.ServiceFee), Luxena.Travel.MoneyDto.toMoneyFullString(dto.Discount)) : String.format(Luxena.Travel.Res.addedAviaRefundFinanceData_Format, Luxena.Travel.MoneyDto.toMoneyFullString(dto.Total), Luxena.Travel.MoneyDto.toMoneyFullString(dto.ServiceFee), Luxena.Travel.MoneyDto.toMoneyFullString(dto.Discount), Luxena.Travel.MoneyDto.toMoneyFullString((dto).RefundServiceFee), Luxena.Travel.MoneyDto.toMoneyFullString((dto).ServiceFeePenalty));
        html = '<div>' + html + '</div>';
        if (component.rendered) {
            component.getEl().update(html);
        }
        else {
            component.autoEl = { html: html };
        }
    },
    
    _addDocumentByNumber$1: function Luxena_Travel_AviaDocumentProcessForm$_addDocumentByNumber$1(number) {
        Luxena.Travel.Services.AviaService.GetAviaDocumentForHandlingByNumber(number, this._type$1, ss.Delegate.create(this, function(result) {
            if (result == null) {
                LxnBase.UI.MessageBoxWrap.show({ msg: String.format(Luxena.Travel.Res.noDocumentFound_Text, number), buttons: Ext.MessageBox.OK, icon: Ext.MessageBox.WARNING });
                return;
            }
            if (this._addDocument$1(result)) {
                this._documentList$1.doLayout();
                this.get_window().getEl().enableShadow(true);
            }
        }), null);
    },
    
    _addUnprocessedDocuments$1: function Luxena_Travel_AviaDocumentProcessForm$_addUnprocessedDocuments$1() {
        var list = [];
        list.add(LxnBase.UI.PropertyFilterExtention.createFilter('Type', LxnBase.Data.FilterOperator.isIn, [ this._document$1.Type ], false));
        list.add(LxnBase.UI.PropertyFilterExtention.createFilter('RequiresProcessing', LxnBase.Data.FilterOperator.equals, true, false));
        if (Luxena.Travel.AppManager.get_currentPerson().Name != null) {
            list.add(LxnBase.UI.PropertyFilterExtention.createFilter('Seller', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false));
        }
        var request = new LxnBase.Data.RangeRequest();
        request.sort = 'IssueDate';
        request.dir = 'DESC';
        request.Filters = list;
        LxnBase.UI.FormsRegistry.selectObjects('AviaDocument', request, false, ss.Delegate.create(this, function(arg1) {
            var ids = arg1;
            Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess(ids, this._type$1, ss.Delegate.create(this, function(result) {
                var dtos = result;
                for (var i = 0; i < dtos.length; i++) {
                    this._addDocument$1(dtos[i]);
                }
                this._documentList$1.doLayout();
                this.get_window().getEl().enableShadow(true);
            }), null);
        }), null);
    },
    
    _addAgentDocuments$1: function Luxena_Travel_AviaDocumentProcessForm$_addAgentDocuments$1() {
        var list = [];
        list.add(LxnBase.UI.PropertyFilterExtention.createFilter('Type', LxnBase.Data.FilterOperator.isIn, [ this._document$1.Type ], false));
        if (Luxena.Travel.AppManager.get_currentPerson().Name != null) {
            list.add(LxnBase.UI.PropertyFilterExtention.createFilter('Seller', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false));
        }
        var request = new LxnBase.Data.RangeRequest();
        request.sort = 'IssueDate';
        request.dir = 'DESC';
        request.Filters = list;
        LxnBase.UI.FormsRegistry.selectObjects('AviaDocument', request, false, ss.Delegate.create(this, function(arg1) {
            var ids = arg1;
            Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess(ids, this._type$1, ss.Delegate.create(this, function(result) {
                var dtos = result;
                for (var i = 0; i < dtos.length; i++) {
                    this._addDocument$1(dtos[i]);
                }
                this._documentList$1.doLayout();
                this.get_window().getEl().enableShadow(true);
            }), null);
        }), null);
    },
    
    _addDocumentsFromFullList$1: function Luxena_Travel_AviaDocumentProcessForm$_addDocumentsFromFullList$1() {
        var request = new LxnBase.Data.RangeRequest();
        request.sort = 'IssueDate';
        request.dir = 'DESC';
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Type', LxnBase.Data.FilterOperator.isIn, [ this._document$1.Type ], false) ];
        LxnBase.UI.FormsRegistry.selectObjects('AviaDocument', request, false, ss.Delegate.create(this, function(arg1) {
            var ids = arg1;
            Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess(ids, this._type$1, ss.Delegate.create(this, function(result) {
                var dtos = result;
                for (var i = 0; i < dtos.length; i++) {
                    this._addDocument$1(dtos[i]);
                }
                this._documentList$1.doLayout();
                this.get_window().getEl().enableShadow(true);
            }), null);
        }), null);
    },
    
    _onKeyEnterPress$1: function Luxena_Travel_AviaDocumentProcessForm$_onKeyEnterPress$1(key, e) {
        if (!e.shiftKey && e.ctrlKey && !e.altKey) {
            e.stopEvent();
            this._saveAndContinue$1 = false;
            this._saveButton$1.focus();
            if (this._menu$1.isVisible()) {
                this._invokeSave$1 = true;
            }
            else {
                this.save();
            }
            return;
        }
        if (!e.shiftKey && !e.ctrlKey && e.altKey) {
            e.stopEvent();
            this._saveAndContinue$1 = true;
            this._saveAndContinueButton$1.focus();
            if (this._menu$1.isVisible()) {
                this._invokeSave$1 = true;
            }
            else {
                this.save();
            }
        }
    },
    
    _editPenalizeOperations$1: function Luxena_Travel_AviaDocumentProcessForm$_editPenalizeOperations$1() {
        var form = new Luxena.Travel.PenalizeOperationEditForm(this._ticket$1.PenalizeOperations, this._ticket$1.SegmentCount > 1);
        form.add_saved(ss.Delegate.create(this, function(result) {
            var dtos = result;
            this._ticket$1.PenalizeOperations = dtos;
        }));
        form.add_close(ss.Delegate.create(this, function() {
            this._applyDataCheckbox$1.focus();
        }));
        form.open();
    },
    
    _onOrderChanged$1: function Luxena_Travel_AviaDocumentProcessForm$_onOrderChanged$1(objthis, newvalue, oldvalue) {
        if (this._updating$1) {
            return;
        }
        var val = newvalue;
        if (val != null) {
            var record = ((objthis).store).getById(val[LxnBase.Data.Reference.IdPos]);
            var customer = record.get('Customer');
            this._updating$1 = true;
            this._customerSelector$1.setValue(customer);
            this._updating$1 = false;
        }
    },
    
    _onCustomerChanged$1: function Luxena_Travel_AviaDocumentProcessForm$_onCustomerChanged$1(objthis, newvalue, oldvalue) {
        if (this._updating$1 || newvalue === oldvalue || this._orderSelector$1.getValue() == null) {
            return;
        }
        var oldArray = oldvalue;
        var newArray = newvalue;
        if (oldArray != null && newArray != null && oldArray[0] === newArray[0]) {
            return;
        }
        LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation, Luxena.Travel.Res.aviaDocumentProcessForm_CustomerChanged, ss.Delegate.create(this, function(button, text) {
            this._updating$1 = true;
            if (button === 'yes') {
                this._orderSelector$1.setValue(null);
            }
            else {
                this._customerSelector$1.setValue(oldvalue);
            }
            this._updating$1 = false;
        }));
    },
    
    _args$1: null,
    _document$1: null,
    _documents$1: null,
    _addedDocuments$1: null,
    _grandTotalComponentList$1: null,
    _financeComponentList$1: null,
    _selectedDocuments$1: null,
    _refund$1: null,
    _ticket$1: null,
    _mco$1: null,
    _type$1: null,
    _passengerNameField$1: null,
    _passengerField$1: null,
    _passportWarnField$1: null,
    _copyPassportButton$1: null,
    _gdsPassportStatus$1: null,
    _gdsPassportStatusWarnField$1: null,
    _customerSelector$1: null,
    _intermediarySelector$1: null,
    _totalBox$1: null,
    _commissionField$1: null,
    _serviceFeeField$1: null,
    _handlingField$1: null,
    _commissionDiscountField$1: null,
    _discountField$1: null,
    _refundServiceFeeField$1: null,
    _serviceFeePenaltyField$1: null,
    _grandTotalField$1: null,
    _paymentType$1: null,
    _saveAndContinueButton$1: null,
    _saveButton$1: null,
    _cancelButton$1: null,
    _menu$1: null,
    _saveAndContinue$1: false,
    _updating$1: false,
    _invokeSave$1: false,
    _reservationCount$1: null,
    _documentList$1: null,
    _documentsPanel$1: null,
    _applyDataCheckbox$1: null,
    _recalculatedField$1: null,
    _descriptionField$1: null,
    _noteField$1: null,
    _equalFareField$1: null,
    _equalFarePanel$1: null,
    _fareLabel$1: null,
    _editPenaltiesButton$1: null,
    _orderSelector$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.GdsFileListTab

Luxena.Travel.GdsFileListTab = function Luxena_Travel_GdsFileListTab(tabId, args) {
    Luxena.Travel.GdsFileListTab.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.GdsFileListTab.prototype = {
    
    preInitialize: function Luxena_Travel_GdsFileListTab$preInitialize() {
        Luxena.Travel.GdsFileListTab.callBaseMethod(this, 'preInitialize');
        this.entity = this._se$10 = this.dsm.GdsFile;
    },
    
    _se$10: null,
    
    onInitGrid: function Luxena_Travel_GdsFileListTab$onInitGrid(args, config) {
        Luxena.Travel.GdsFileListTab.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        if (args.baseRequest == null) {
            args.baseRequest = new LxnBase.Data.RangeRequest();
        }
        if (args.baseRequest.sort == null) {
            args.baseRequest.sort = 'TimeStamp';
            args.baseRequest.dir = 'DESC';
            args.baseRequest.HiddenProperties = [ 'Content' ];
        }
    },
    
    createColumnConfigs: function Luxena_Travel_GdsFileListTab$createColumnConfigs() {
        this.addColumns([ this._se$10.TimeStamp, this._se$10.Name, this._se$10.FileType, this._se$10.ImportResult, this._se$10.ImportOutput, this._se$10.Content.toColumn(true), this._se$10.CreatedOn, this._se$10.CreatedBy, this._se$10.ModifiedOn, this._se$10.ModifiedBy ]);
    },
    
    onAddToolbarButtons: function Luxena_Travel_GdsFileListTab$onAddToolbarButtons(toolbarItems, autoGrid) {
        var applyActionStatus = this.getOperationStatus('ReimportGdsDocuments');
        if (!applyActionStatus.Visible) {
            return;
        }
        this._reimportButton$10 = new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.gdsFile_Reimport_Text).handler(ss.Delegate.create(this, this._reimport$10)).disabled(applyActionStatus.IsDisabled).custom('tooltip', applyActionStatus.DisableInfo).toDictionary());
        toolbarItems.add(new Ext.Toolbar.Separator());
        toolbarItems.add(this._reimportButton$10);
    },
    
    _reimport$10: function Luxena_Travel_GdsFileListTab$_reimport$10() {
        var records = this.get_autoGrid().get_selectionModel().getSelections();
        var ids = [];
        for (var i = 0; i < records.length; i++) {
            ids.add(records[i].id);
        }
        Luxena.Travel.Services.GdsFileService.Reimport(ids, this.get_autoGrid().store.baseParams, ss.Delegate.create(this, function(result) {
            var response = (result)[1];
            (this.get_autoGrid().store.proxy).setResponse(response);
            this.get_autoGrid().reload(false);
            var data = (result)[0];
            var message = LxnBase.StringUtility.getNumberText(data.length, Luxena.Travel.Res.gdsFile_Imported1, Luxena.Travel.Res.gdsFile_Imported2, Luxena.Travel.Res.gdsFile_Imported3);
            if (ss.isNullOrUndefined(response.SelectedRow)) {
                LxnBase.MessageRegister.info(this.get_autoGrid().get_listConfig().Caption, message, LxnBase.BaseRes.autoGrid_NotDisplay_Msg);
            }
            else {
                LxnBase.MessageRegister.info(this.get_autoGrid().get_listConfig().Caption, message);
                this.get_autoGrid().get_selectionModel().selectRow(response.SelectedRow);
            }
        }), null);
    },
    
    _reimportButton$10: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.AviaDocumentEditForm

Luxena.Travel.AviaDocumentEditForm = function Luxena_Travel_AviaDocumentEditForm() {
    Luxena.Travel.AviaDocumentEditForm.initializeBase(this);
}
Luxena.Travel.AviaDocumentEditForm.prototype = {
    
    open: function Luxena_Travel_AviaDocumentEditForm$open() {
        if (ss.isValue(this._args.idToLoad)) {
            Luxena.Travel.Services.AviaService.GetAviaDocument(this._args.idToLoad, this._args.type, true, ss.Delegate.create(this, this.onLoad), null);
        }
        else {
            this.onLoad(null);
        }
    },
    
    getNameBy: function Luxena_Travel_AviaDocumentEditForm$getNameBy(data) {
        var dto = data;
        return String.format('{0}-{1}', dto.AirlinePrefixCode, dto.Number);
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.OrganizationViewForm

Luxena.Travel.OrganizationViewForm = function Luxena_Travel_OrganizationViewForm(tabId, organizationId) {
    Luxena.Travel.OrganizationViewForm.initializeBase(this, [ tabId, organizationId, 'Organization' ]);
    this.listCaption = Luxena.Travel.DomainRes.organization_Caption_List;
}
Luxena.Travel.OrganizationViewForm.viewObject = function Luxena_Travel_OrganizationViewForm$viewObject(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.OrganizationViewForm(tabId, id);
    });
}
Luxena.Travel.OrganizationViewForm.prototype = {
    
    createModel: function Luxena_Travel_OrganizationViewForm$createModel() {
        return new Luxena.Travel.OrganizationModel();
    },
    
    initModel: function Luxena_Travel_OrganizationViewForm$initModel() {
        Luxena.Travel.OrganizationViewForm.callBaseMethod(this, 'initModel');
        (this.model).AddEmployee = ss.Delegate.create(this, function() {
            this.addDetail('Person', 'Organization');
        });
        (this.model).AddDepartment = ss.Delegate.create(this, function() {
            this.addDetail('Department', 'Organization');
        });
    },
    
    getParty: function Luxena_Travel_OrganizationViewForm$getParty(id) {
        Luxena.Travel.Services.PartyService.getObject1('Organization', id, ss.Delegate.create(this, this.setParty), ss.Delegate.create(this, function() {
            this.close();
        }));
    }
}


Type.registerNamespace('Luxena.Travel.Controls');

////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.PropertyType

Luxena.Travel.Controls.PropertyType = function() { };
Luxena.Travel.Controls.PropertyType.prototype = {
    string: 0, 
    bool: 1, 
    date: 2, 
    number: 3, 
    money: 4, 
    objectInfo: 5, 
    enumType: 6
}
Luxena.Travel.Controls.PropertyType.registerEnum('Luxena.Travel.Controls.PropertyType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.MoneyControlArgs

Luxena.Travel.Controls.$create_MoneyControlArgs = function Luxena_Travel_Controls_MoneyControlArgs() { return {}; }


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.AutoListTabExt2

Luxena.Travel.Controls.AutoListTabExt2 = function Luxena_Travel_Controls_AutoListTabExt2(tabId, args) {
    this.columnConfigs = [];
    this.toolbarActions = [];
    Luxena.Travel.Controls.AutoListTabExt2.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.Controls.AutoListTabExt2.registerList = function Luxena_Travel_Controls_AutoListTabExt2$registerList(className, tabType) {
    LxnBase.UI.FormsRegistry.registerList(className, function(args, newTab) {
        Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType(tabType, args, newTab);
    });
}
Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType = function Luxena_Travel_Controls_AutoListTabExt2$listObjectsOfType(type, args, newTab) {
    LxnBase.UI.Tabs.open(newTab, args.type, function(tabId) {
        return new type(tabId, args);
    }, args.baseRequest);
}
Luxena.Travel.Controls.AutoListTabExt2.getDictionaryKeys = function Luxena_Travel_Controls_AutoListTabExt2$getDictionaryKeys(dictionary) {
    if (dictionary == null) {
        return null;
    }
    var keys = [];
    var $dict1 = dictionary;
    for (var $key2 in $dict1) {
        var entry = { key: $key2, value: $dict1[$key2] };
        keys.add(entry.key);
    }
    return keys;
}
Luxena.Travel.Controls.AutoListTabExt2.getDictionaryValues = function Luxena_Travel_Controls_AutoListTabExt2$getDictionaryValues(dictionary) {
    if (dictionary == null) {
        return null;
    }
    var values = [];
    var $dict1 = dictionary;
    for (var $key2 in $dict1) {
        var entry = { key: $key2, value: $dict1[$key2] };
        values.add(entry.value);
    }
    return values;
}
Luxena.Travel.Controls.AutoListTabExt2.prototype = {
    
    onLoad: function Luxena_Travel_Controls_AutoListTabExt2$onLoad() {
        this.get_autoGrid().on('beforerender', ss.Delegate.create(this, this._gridBeforeRender$8));
        this._baseParams = this.get_autoGrid().store.baseParams;
        Luxena.Travel.Controls.AutoListTabExt2.callBaseMethod(this, 'onLoad');
    },
    
    _gridBeforeRender$8: function Luxena_Travel_Controls_AutoListTabExt2$_gridBeforeRender$8(objthis) {
        this.get_autoGrid().store.on('load', ss.Delegate.create(this, this.onStoreLoad));
    },
    
    onStoreLoad: function Luxena_Travel_Controls_AutoListTabExt2$onStoreLoad(sender, records, options) {
    },
    
    onInitGrid: function Luxena_Travel_Controls_AutoListTabExt2$onInitGrid(args, config) {
        Luxena.Travel.Controls.AutoListTabExt2.callBaseMethod(this, 'onInitGrid', [ args, config ]);
        if (args.baseRequest == null) {
            args.baseRequest = new LxnBase.Data.RangeRequest();
        }
        this.preInitialize();
        this.initialize();
        this.postInitialize();
        this.createColumnConfigs();
        args.columnsConfig = this.columnConfigs;
    },
    
    preInitialize: function Luxena_Travel_Controls_AutoListTabExt2$preInitialize() {
    },
    
    initialize: function Luxena_Travel_Controls_AutoListTabExt2$initialize() {
    },
    
    postInitialize: function Luxena_Travel_Controls_AutoListTabExt2$postInitialize() {
    },
    
    addColumns: function Luxena_Travel_Controls_AutoListTabExt2$addColumns(views) {
        var $enum1 = ss.IEnumerator.getEnumerator(views);
        while ($enum1.moveNext()) {
            var col = $enum1.current;
            var semantic = Type.safeCast(col, Luxena.Travel.SemanticMember);
            this.columnConfigs.add((semantic != null) ? semantic.toColumn() : col);
        }
    },
    
    create: function Luxena_Travel_Controls_AutoListTabExt2$create(type) {
        this.get_autoGrid().create(type);
    },
    
    handleKeyEvent: function Luxena_Travel_Controls_AutoListTabExt2$handleKeyEvent(keyEvent) {
        var key = keyEvent.which;
        var isAdditionalKey = keyEvent.ctrlKey || keyEvent.shiftKey || keyEvent.altKey;
        var eventDictionary = Ext.EventObject;
        if (key === eventDictionary['ENTER'] && !keyEvent.ctrlKey && !keyEvent.shiftKey && keyEvent.altKey) {
            keyEvent.preventDefault();
            keyEvent.stopPropagation();
            this.handleAltEnterPress();
            return true;
        }
        if (key === eventDictionary['INSERT'] && !isAdditionalKey) {
            keyEvent.preventDefault();
            keyEvent.stopPropagation();
            this.handleInsertPress();
            return true;
        }
        return Luxena.Travel.Controls.AutoListTabExt2.callBaseMethod(this, 'handleKeyEvent', [ keyEvent ]);
    },
    
    handleAltEnterPress: function Luxena_Travel_Controls_AutoListTabExt2$handleAltEnterPress() {
    },
    
    handleInsertPress: function Luxena_Travel_Controls_AutoListTabExt2$handleInsertPress() {
    },
    
    _addToToolbar$8: function Luxena_Travel_Controls_AutoListTabExt2$_addToToolbar$8(action) {
        this.toolbarActions.add(action);
        return action;
    },
    
    action: function Luxena_Travel_Controls_AutoListTabExt2$action(title_, handler, disabled_, tooltip) {
        var config = new Ext.ActionConfig().text(title_).handler(handler);
        if (ss.isValue(disabled_)) {
            config = config.disabled(disabled_);
        }
        if (ss.isValue(tooltip)) {
            config = config.custom('tooltip', tooltip);
        }
        return this._addToToolbar$8(new Ext.Action(config.toDictionary()));
    },
    
    menuAction: function Luxena_Travel_Controls_AutoListTabExt2$menuAction(title_, items_, disabled_) {
        var config = new Ext.ActionConfig().text(title_).custom('menu', new Ext.menu.Menu(new Ext.menu.MenuConfig().items(items_).toDictionary()));
        if (!ss.isNullOrUndefined(disabled_)) {
            config = config.disabled(disabled_);
        }
        return this._addToToolbar$8(new Ext.Action(config.toDictionary()));
    },
    
    menuItem: function Luxena_Travel_Controls_AutoListTabExt2$menuItem(title_, handler) {
        return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(handler).toDictionary());
    },
    
    menuCreateItem: function Luxena_Travel_Controls_AutoListTabExt2$menuCreateItem(title_, type) {
        return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(ss.Delegate.create(this, function() {
            this.create(type);
        })).toDictionary());
    },
    
    menuCreateItem2: function Luxena_Travel_Controls_AutoListTabExt2$menuCreateItem2(title_, create, type) {
        return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(function() {
            create(type);
        }).toDictionary());
    },
    
    toolbarSeparator: function Luxena_Travel_Controls_AutoListTabExt2$toolbarSeparator() {
        this.toolbarActions.add(new Ext.Toolbar.Separator());
    },
    
    _baseParams: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.PropertyListControl

Luxena.Travel.Controls.PropertyListControl = function Luxena_Travel_Controls_PropertyListControl(config) {
    Luxena.Travel.Controls.PropertyListControl.initializeBase(this, [ config.setCssClass('property-list-control').border(false).toDictionary() ]);
    this._propertyListItems$5 = config.get_propertyListItems();
}
Luxena.Travel.Controls.PropertyListControl._renderValue$5 = function Luxena_Travel_Controls_PropertyListControl$_renderValue$5(propertyItem, value, container) {
    var text = '';
    if (!ss.isNullOrUndefined(propertyItem.renderer)) {
        var renderDelegate = propertyItem.renderer;
        renderDelegate(propertyItem, value, container);
    }
    else {
        if (ss.isNullOrUndefined(propertyItem.type)) {
            propertyItem.type = (ss.isNullOrUndefined(propertyItem.enumType)) ? 0 : 6;
        }
        switch (propertyItem.type) {
            case 0:
                text = (ss.isNullOrUndefined((value).Name)) ? value.toString() : (value).Name;
                break;
            case 1:
                text = (value) ? "<div class='checkBoxDisabled checked'></div>" : "<div class='checkBoxDisabled'></div>";
                break;
            case 2:
                text = (value).format(propertyItem.format || 'd.m.Y');
                break;
            case 3:
                text = (value).format(propertyItem.format || 'N2');
                break;
            case 4:
                text = Luxena.Travel.MoneyDto.toMoneyFullString(value);
                break;
            case 5:
                text = Luxena.Travel.Controls.PropertyListControl._link$5(value);
                break;
            case 6:
                text = LxnBase.EnumUtility.localize(propertyItem.enumType, value, Luxena.Travel.DomainRes);
                break;
        }
        if (!String.isNullOrEmpty(text)) {
            container.html(text);
        }
    }
}
Luxena.Travel.Controls.PropertyListControl._link$5 = function Luxena_Travel_Controls_PropertyListControl$_link$5(obj) {
    if (ss.isNullOrUndefined(obj)) {
        return '';
    }
    if (ss.isNullOrUndefined(obj.Id)) {
        return obj.Name;
    }
    return LxnBase.UI.Controls.ObjectLink.renderInfo(obj);
}
Luxena.Travel.Controls.PropertyListControl.prototype = {
    
    loadInstance: function Luxena_Travel_Controls_PropertyListControl$loadInstance(instance) {
        this._instance$5 = instance;
        for (var i = this.body.dom.children.length - 1; i >= 0; i--) {
            this.body.dom.removeChild(this.body.dom.children[i]);
        }
        this.body.dom.appendChild(this._getContent$5());
    },
    
    _getContent$5: function Luxena_Travel_Controls_PropertyListControl$_getContent$5() {
        var table = $('<table></table>');
        for (var index = 0; index < this._propertyListItems$5.length; index++) {
            var item = this._propertyListItems$5[index];
            var value = (String.isNullOrEmpty(item.fieldName)) ? null : this._instance$5[item.fieldName];
            if (!String.isNullOrEmpty(item.fieldName) && ((ss.isNullOrUndefined(value) || Type.canCast(value, Array) && !(value).length) && item.hideIsEmpty)) {
                continue;
            }
            var row = $('<tr></tr>');
            var css = item.getRowCssClass(value);
            if (!String.isNullOrEmpty(css)) {
                row.addClass(css);
            }
            row.append(String.format("<td class='fieldLabel'>{0}:</td>", item.fieldLabel));
            var itemCell = $("<td class='fieldValue'></td>");
            Luxena.Travel.Controls.PropertyListControl._renderValue$5(item, value, itemCell);
            row.append(itemCell);
            table.append(row);
        }
        var cont = $("<div class='item-list'></div>").append(table);
        return cont.get(0);
    },
    
    _propertyListItems$5: null,
    _instance$5: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.AutoListTabExt

Luxena.Travel.Controls.AutoListTabExt = function Luxena_Travel_Controls_AutoListTabExt(tabId, args) {
    Luxena.Travel.Controls.AutoListTabExt.initializeBase(this, [ tabId, args ]);
}
Luxena.Travel.Controls.AutoListTabExt.listObjects = function Luxena_Travel_Controls_AutoListTabExt$listObjects(args, newTab) {
    LxnBase.UI.Tabs.open(newTab, args.type, function(tabId) {
        return new Luxena.Travel.Controls.AutoListTabExt(tabId, args);
    }, args.baseRequest);
}
Luxena.Travel.Controls.AutoListTabExt.prototype = {
    
    get_listConfig: function Luxena_Travel_Controls_AutoListTabExt$get_listConfig() {
        return this._listConfig$7;
    },
    
    get_gridArgs: function Luxena_Travel_Controls_AutoListTabExt$get_gridArgs() {
        return this._args$7;
    },
    
    get_selectedRecord: function Luxena_Travel_Controls_AutoListTabExt$get_selectedRecord() {
        return (this.get_autoGrid().getSelectionModel()).getSelected();
    },
    
    onInitGrid: function Luxena_Travel_Controls_AutoListTabExt$onInitGrid(args, config) {
        this._args$7 = args;
        this._listConfig$7 = args.listConfig;
        config.stateful(true).stateId(String.format('{0}_{1}_List', Luxena.Travel.AppManager.get_currentUser().Name, this.get_listArgs().type)).listeners({ beforestaterestore: ss.Delegate.create(this, this._onBeforeStateRestore$7) });
        args.add_createActionToolbar(ss.Delegate.create(this, this._onCreateActionToolbar$7));
    },
    
    _onCreateActionToolbar$7: function Luxena_Travel_Controls_AutoListTabExt$_onCreateActionToolbar$7(arg1, arg2) {
        var actions = arg1;
        var grid = arg2;
        this.onAddToolbarButtons(actions, grid);
    },
    
    _onBeforeStateRestore$7: function Luxena_Travel_Controls_AutoListTabExt$_onBeforeStateRestore$7(component, state) {
        if (ss.isNullOrUndefined(state)) {
            return;
        }
        var columns = state.columns;
        if (ss.isValue(columns)) {
            for (var i = columns.length - 1; i >= 0; i--) {
                var col = columns[i];
                if (col.id !== 'checker' && col.id !== 'Id' && ss.isNullOrUndefined(this.tryGetColumnConfigByName(col.id))) {
                    columns.removeAt(i);
                }
                else if (ss.isNullOrUndefined(col.sortable)) {
                    col.sortable = true;
                }
            }
        }
        var sort = state.sort;
        if (ss.isValue(sort)) {
            var field = sort.field;
            if (ss.isValue(field) && ss.isNullOrUndefined(this.tryGetColumnConfigByName(field))) {
                state.sort = null;
            }
        }
    },
    
    onLoad: function Luxena_Travel_Controls_AutoListTabExt$onLoad() {
        this.get_autoGrid().get_selectionModel().on('selectionchange', ss.Delegate.create(this, this.onSelectionChange));
    },
    
    onAddToolbarButtons: function Luxena_Travel_Controls_AutoListTabExt$onAddToolbarButtons(toolbarItems, autoGrid) {
    },
    
    onSelectionChange: function Luxena_Travel_Controls_AutoListTabExt$onSelectionChange(selectionModel) {
    },
    
    getOperationStatus: function Luxena_Travel_Controls_AutoListTabExt$getOperationStatus(actionName) {
        var permissions = this._listConfig$7.CustomActionPermissions;
        if (ss.isValue(permissions) && Object.keyExists(permissions, actionName)) {
            return permissions[actionName];
        }
        var publicStatus = new LxnBase.Data.OperationStatus();
        publicStatus.Visible = true;
        publicStatus.IsDisabled = false;
        return publicStatus;
    },
    
    tryGetColumnConfigByName: function Luxena_Travel_Controls_AutoListTabExt$tryGetColumnConfigByName(name) {
        var columnConfigs = this._listConfig$7.Columns;
        var $enum1 = ss.IEnumerator.getEnumerator(columnConfigs);
        while ($enum1.moveNext()) {
            var col = $enum1.current;
            if (col.Name === name) {
                return col;
            }
        }
        return null;
    },
    
    getColumnConfigByName: function Luxena_Travel_Controls_AutoListTabExt$getColumnConfigByName(name) {
        var cfg = this.tryGetColumnConfigByName(name);
        if (ss.isNullOrUndefined(cfg)) {
            throw new Error('Unknown column "' + name + '"');
        }
        return cfg;
    },
    
    columnCfg: function Luxena_Travel_Controls_AutoListTabExt$columnCfg(name, isHidden, elWidth, renderer, initAction) {
        return this.columnCfg_(name, isHidden, elWidth, renderer, initAction).toDictionary();
    },
    
    columnCfg_: function Luxena_Travel_Controls_AutoListTabExt$columnCfg_(name, isHidden, elWidth, renderer, initAction) {
        var config = this.getColumnConfigByName(name);
        var cfg = new Ext.grid.ColumnConfig().id(config.Name).header((!String.isNullOrEmpty(config.Caption)) ? config.Caption : config.Name).sortable(config.IsPersistent).dataIndex(config.Name).hidden(isHidden);
        if (ss.isNullOrUndefined(renderer)) {
            renderer = LxnBase.UI.AutoControls.ControlFactory.createRenderer(config);
        }
        if (renderer != null) {
            cfg.renderer(renderer);
        }
        if (ss.isValue(elWidth)) {
            cfg.width(elWidth);
        }
        if (ss.isValue(initAction)) {
            initAction(cfg);
        }
        return cfg;
    },
    
    createReferenceCfg: function Luxena_Travel_Controls_AutoListTabExt$createReferenceCfg(name, isHidden, elWidth) {
        return this.columnCfg(name, isHidden, elWidth, LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(this.get_gridArgs().type));
    },
    
    _listConfig$7: null,
    _args$7: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.MoneyControlCalculator

Luxena.Travel.Controls.MoneyControlCalculator = function Luxena_Travel_Controls_MoneyControlCalculator() {
    this._controls = [];
    this._multipliers = [];
}
Luxena.Travel.Controls.MoneyControlCalculator.prototype = {
    
    add: function Luxena_Travel_Controls_MoneyControlCalculator$add(control, multiplier) {
        if (control != null) {
            this._controls.add(control);
            this._multipliers.add(multiplier);
        }
        return this;
    },
    
    recalculate: function Luxena_Travel_Controls_MoneyControlCalculator$recalculate(field) {
        var control = field;
        if (!this.has(control) && !Luxena.Travel.Controls.MoneyControl.canCalculate(this._controls)) {
            return;
        }
        var sum = 0;
        var multiplier = 1;
        for (var i = 0; i < this._controls.length; i++) {
            if (this._controls[i] === control) {
                multiplier = this._multipliers[i];
                continue;
            }
            sum += (this._controls[i]).get_amount() * this._multipliers[i];
        }
        sum /= -multiplier;
        control.set_amount(sum);
    },
    
    has: function Luxena_Travel_Controls_MoneyControlCalculator$has(control) {
        var $enum1 = ss.IEnumerator.getEnumerator(this._controls);
        while ($enum1.moveNext()) {
            var t = $enum1.current;
            if (control === t) {
                return true;
            }
        }
        return false;
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.MoneyControlConfig

Luxena.Travel.Controls.MoneyControlConfig = function Luxena_Travel_Controls_MoneyControlConfig() {
    Luxena.Travel.Controls.MoneyControlConfig.initializeBase(this);
    this._args$5 = Luxena.Travel.Controls.$create_MoneyControlArgs();
    this._args$5.allowBlank = true;
    this.o['_args'] = this._args$5;
}
Luxena.Travel.Controls.MoneyControlConfig.defaultConfig = function Luxena_Travel_Controls_MoneyControlConfig$defaultConfig(fieldLabel, useDefautZero) {
    var config = new Luxena.Travel.Controls.MoneyControlConfig().setDefaultCurrency(Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency).fieldLabel(fieldLabel);
    if (Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput) {
        config.setIsCurrencyReadOnly(true);
    }
    if (!ss.isNullOrUndefined(useDefautZero)) {
        config.setInitValue(Luxena.Travel.MoneyDto.getZeroMoney());
    }
    return config;
}
Luxena.Travel.Controls.MoneyControlConfig.prototype = {
    
    setInitValue: function Luxena_Travel_Controls_MoneyControlConfig$setInitValue(money) {
        this._args$5.initValue = Luxena.Travel.MoneyDto.copyMoney(money);
        return this;
    },
    
    setDefaultCurrency: function Luxena_Travel_Controls_MoneyControlConfig$setDefaultCurrency(currency) {
        this._args$5.defaultCurrency = LxnBase.Data.Reference.copy(currency);
        return this;
    },
    
    setIsCurrencyReadOnly: function Luxena_Travel_Controls_MoneyControlConfig$setIsCurrencyReadOnly(readOnly) {
        this._args$5.isCurrencyReadonly = readOnly;
        return this;
    },
    
    setOnChangeMenu: function Luxena_Travel_Controls_MoneyControlConfig$setOnChangeMenu(config) {
        this._args$5.menuConfig = config;
        return this;
    },
    
    setAmountChangeHandler: function Luxena_Travel_Controls_MoneyControlConfig$setAmountChangeHandler(onChange) {
        this._args$5.amountChangeHandler = onChange;
        return this;
    },
    
    setAllowBlank: function Luxena_Travel_Controls_MoneyControlConfig$setAllowBlank(allowBlank) {
        this._args$5.allowBlank = allowBlank;
        return this;
    },
    
    _args$5: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.MoneyControl

Luxena.Travel.Controls.MoneyControl = function Luxena_Travel_Controls_MoneyControl(config) {
    Luxena.Travel.Controls.MoneyControl.initializeBase(this, [ config.toDictionary() ]);
}
Luxena.Travel.Controls.MoneyControl.canCalculate = function Luxena_Travel_Controls_MoneyControl$canCalculate(controls) {
    if (controls == null || !controls.length) {
        return false;
    }
    var currency = controls[0].get_currency();
    for (var i = 1; i < controls.length; i++) {
        var control = controls[i];
        if (!LxnBase.Data.Reference.equals(control.get_currency(), currency)) {
            return false;
        }
    }
    return true;
}
Luxena.Travel.Controls.MoneyControl.prototype = {
    
    initComponent: function Luxena_Travel_Controls_MoneyControl$initComponent() {
        if (!ss.isValue(this._args.defaultCurrency)) {
            if (ss.isValue(this._args.initValue)) {
                this._args.defaultCurrency = LxnBase.Data.Reference.copy(this._args.initValue.Currency);
            }
            else {
                this._args.defaultCurrency = LxnBase.Data.Reference.copy(Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency);
            }
        }
        this._decimalField$4 = new LxnBase.UI.Controls.DecimalField(new Ext.form.NumberFieldConfig().cls('money-amount').decimalSeparator(',').baseChars('0123456789.').selectOnFocus(true).value(0).listeners({ focus: ss.Delegate.create(this, function() {
            this.fireEvent('focus');
        }), change: ss.Delegate.create(this, this._onAmountChange$4) }).allowBlank(this._args.allowBlank).toDictionary());
        if (this.get__isCurrencyReadOnly$4()) {
            this._currencyLabel$4 = new Ext.form.Label(new Ext.form.LabelConfig().text(this._args.defaultCurrency.Name).cls('money-currency').toDictionary());
        }
        else {
            this._currencySelector$4 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Currency').hideLabel(true).cls('money-currency').selectOnFocus(true).allowBlank(this._args.allowBlank).forceSelection(true));
        }
        if (ss.isValue(this._args.initValue)) {
            this.setValue(this._args.initValue);
        }
        else if (!this.get__isCurrencyReadOnly$4() && this._args.defaultCurrency != null) {
            this._currencySelector$4.setValue(this._args.defaultCurrency);
        }
        if (this._args.menuConfig != null) {
            this._args.menuConfig.cls('simple-menu').listeners({ beforeshow: ss.Delegate.create(this, function() {
                this._menu$4.tryActivate(0);
            }) });
            this._menu$4 = new Ext.menu.Menu(this._args.menuConfig.toDictionary());
        }
        Luxena.Travel.Controls.MoneyControl.callBaseMethod(this, 'initComponent');
    },
    
    get_decimalField: function Luxena_Travel_Controls_MoneyControl$get_decimalField() {
        return this._decimalField$4;
    },
    
    get_currencySelector: function Luxena_Travel_Controls_MoneyControl$get_currencySelector() {
        return this._currencySelector$4;
    },
    
    get_amount: function Luxena_Travel_Controls_MoneyControl$get_amount() {
        var dto = this.getValue();
        return (dto != null) ? dto.Amount : 0;
    },
    set_amount: function Luxena_Travel_Controls_MoneyControl$set_amount(value) {
        this._decimalField$4.setValue(value);
        return value;
    },
    
    get_currency: function Luxena_Travel_Controls_MoneyControl$get_currency() {
        var dto = this.getValue();
        return (dto != null) ? dto.Currency : null;
    },
    set_currency: function Luxena_Travel_Controls_MoneyControl$set_currency(value) {
        if (!this.get__isCurrencyReadOnly$4()) {
            this._currencySelector$4.setValue(value);
        }
        else {
            this._currency$4 = LxnBase.Data.Reference.copy(value);
            this._currencyLabel$4.setText(value.Name);
        }
        return value;
    },
    
    get__isCurrencyReadOnly$4: function Luxena_Travel_Controls_MoneyControl$get__isCurrencyReadOnly$4() {
        return this._args.isCurrencyReadonly && this._args.defaultCurrency != null;
    },
    
    onRender: function Luxena_Travel_Controls_MoneyControl$onRender(container, position) {
        var pos = (ss.isUndefined(position)) ? null : position;
        if (ss.isNullOrUndefined(this.el)) {
            var items = [];
            items.add(this._decimalField$4);
            if (this.get__isCurrencyReadOnly$4()) {
                items.add(this._currencyLabel$4);
            }
            else {
                items.add(this._currencySelector$4.get_widget());
            }
            var config = new Ext.PanelConfig().id(this.id).renderTo(container).items(items).cls('money-control').layout('column');
            if (this.get__isCurrencyReadOnly$4()) {
                config.width(120);
            }
            this._panel$4 = new Ext.Panel(config.toDictionary());
            this.el = this._panel$4.getEl();
        }
        Luxena.Travel.Controls.MoneyControl.callBaseMethod(this, 'onRender', [ container, pos ]);
    },
    
    focus: function Luxena_Travel_Controls_MoneyControl$focus() {
        this._decimalField$4.focus();
    },
    
    setVisible: function Luxena_Travel_Controls_MoneyControl$setVisible(visible) {
        this._decimalField$4.setVisible(visible);
        if (!this.get__isCurrencyReadOnly$4()) {
            this._currencySelector$4.get_widget().setVisible(visible);
            if (this._currencySelector$4.get_widget().rendered) {
                new Ext.Element(this._currencySelector$4.get_widget().getEl().findParent('.x-form-field-trigger-wrap')).setStyle('width', '');
            }
        }
        Luxena.Travel.Controls.MoneyControl.callBaseMethod(this, 'setVisible', [ visible ]);
    },
    
    setValue: function Luxena_Travel_Controls_MoneyControl$setValue(money) {
        if (ss.isNullOrUndefined(money)) {
            this._decimalField$4.setValue(null);
            if (!this.get__isCurrencyReadOnly$4()) {
                this._currencySelector$4.setValue(null);
            }
            return;
        }
        this.set_amount(money.Amount);
        this.set_currency(money.Currency);
    },
    
    getValue: function Luxena_Travel_Controls_MoneyControl$getValue() {
        var dto = new Luxena.Travel.MoneyDto();
        if (String.isNullOrEmpty(this._decimalField$4.getValue().toString()) || (!this.get__isCurrencyReadOnly$4() && this._currencySelector$4.getObjectInfo() == null)) {
            return null;
        }
        dto.Amount = this._decimalField$4.getValue();
        if (this.get__isCurrencyReadOnly$4()) {
            this._currency$4 = this._currency$4 || LxnBase.Data.Reference.copy(this._args.defaultCurrency);
            dto.Currency = this._currency$4;
        }
        else {
            dto.Currency = this._currencySelector$4.getObjectInfo();
        }
        return dto;
    },
    
    _onAmountChange$4: function Luxena_Travel_Controls_MoneyControl$_onAmountChange$4(objthis, newvalue, oldvalue) {
        if (this._menu$4 != null) {
            this._menu$4.show(this._decimalField$4.getEl());
        }
        if (this._args.amountChangeHandler != null) {
            this._args.amountChangeHandler(objthis, newvalue, oldvalue);
        }
    },
    
    isDirty: function Luxena_Travel_Controls_MoneyControl$isDirty() {
        return this._decimalField$4.isDirty() || (!this.get__isCurrencyReadOnly$4() && this._currencySelector$4.get_widget().isDirty());
    },
    
    _args: null,
    _decimalField$4: null,
    _currencySelector$4: null,
    _panel$4: null,
    _currencyLabel$4: null,
    _menu$4: null,
    _currency$4: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.PropertyGridControl

Luxena.Travel.Controls.PropertyGridControl = function Luxena_Travel_Controls_PropertyGridControl(config) {
    Luxena.Travel.Controls.PropertyGridControl.initializeBase(this, [ config.setCssClass('property-grid-control').border(false).toDictionary() ]);
    this._gridConfig$5 = config;
}
Luxena.Travel.Controls.PropertyGridControl._renderValue$5 = function Luxena_Travel_Controls_PropertyGridControl$_renderValue$5(propertyItem, instance, value, rowNumber, cell) {
    if (!ss.isNullOrUndefined(propertyItem.renderer)) {
        var render = propertyItem.renderer;
        render(instance, value, rowNumber, cell);
    }
    else {
        if (ss.isNullOrUndefined(propertyItem.type)) {
            propertyItem.type = (!ss.isNullOrUndefined(propertyItem.enumType)) ? 6 : 0;
        }
        var text;
        switch (propertyItem.type) {
            case 0:
                if (!ss.isNullOrUndefined(value.Name)) {
                    text = value.Name.toString();
                }
                else {
                    text = value.toString();
                }
                break;
            case 2:
                text = (value).format(propertyItem.format || 'd.m.Y');
                break;
            case 3:
                text = (value).format(propertyItem.format || 'N2');
                break;
            case 4:
                text = Luxena.Travel.MoneyDto.toMoneyFullString(value);
                break;
            case 5:
                text = Luxena.Travel.Controls.PropertyGridControl._link$5(value);
                break;
            case 6:
                text = LxnBase.EnumUtility.localize(propertyItem.enumType, value, Luxena.Travel.DomainRes);
                break;
            case 1:
                var renderer = LxnBase.UI.AutoControls.ControlFactory.createBooleanRenderer();
                text = renderer(value);
                break;
            default:
                text = value.toString();
                break;
        }
        cell.append(text);
    }
}
Luxena.Travel.Controls.PropertyGridControl._link$5 = function Luxena_Travel_Controls_PropertyGridControl$_link$5(obj) {
    if (ss.isNullOrUndefined(obj)) {
        return '';
    }
    if (ss.isNullOrUndefined(obj.Id)) {
        return obj.Name;
    }
    return LxnBase.UI.Controls.ObjectLink.renderInfo(obj);
}
Luxena.Travel.Controls.PropertyGridControl.prototype = {
    
    loadCollection: function Luxena_Travel_Controls_PropertyGridControl$loadCollection(list) {
        this._list$5 = list;
        for (var i = this.body.dom.children.length - 1; i >= 0; i--) {
            this.body.dom.removeChild(this.body.dom.children[i]);
        }
        if (this._list$5 == null || !this._list$5.length) {
            return;
        }
        this._loadContent$5(this.body.dom);
    },
    
    _loadContent$5: function Luxena_Travel_Controls_PropertyGridControl$_loadContent$5(cont) {
        var container = $(cont);
        if (this._gridConfig$5.get_gridTitle() != null) {
            container.append(String.format("<div class='grid-title'>{0}</div>", this._gridConfig$5.get_gridTitle()));
        }
        var div = $("<div class='item-list'></div>");
        var table = $("<table style='width: 100%'></table>");
        var headerRow = $("<tr class='alternate'></tr>");
        if (this._gridConfig$5.get_isUseListCountColumn()) {
            headerRow.append(String.format('<th {1}>{0}</th>', Luxena.Travel.Res.common_ListNumber, 20));
        }
        for (var index = 0; index < this._gridConfig$5.get_propertyListItems().length; index++) {
            var item = this._gridConfig$5.get_propertyListItems()[index];
            var colWidth = '';
            if (!!item.width) {
                colWidth = String.format("style='width:{0}px'", item.width);
            }
            headerRow.append(String.format('<th {1}>{0}</th>', item.fieldLabel, colWidth));
        }
        table.append(headerRow);
        for (var index = 0; index < this._list$5.length; index++) {
            this._renderInstance$5(this._list$5[index], table, index);
        }
        container.append(div.append(table));
    },
    
    _renderInstance$5: function Luxena_Travel_Controls_PropertyGridControl$_renderInstance$5(instance, table, rowNumber) {
        var row = $(String.format("<tr class='{0} {1}'></tr> ", (rowNumber % 2 === 1) ? 'alternate' : '', this._gridConfig$5.getRowCssClass(instance)));
        if (this._gridConfig$5.get_isUseListCountColumn()) {
            row.append(String.format('<td align="center">{0}</td>', (rowNumber + 1)));
        }
        for (var index = 0; index < this._gridConfig$5.get_propertyListItems().length; index++) {
            var item = this._gridConfig$5.get_propertyListItems()[index];
            var cell = $(String.format("<td class='{0}'></td>", item.cssClass || ''));
            var value = instance[item.fieldName];
            if (!ss.isNullOrUndefined(value)) {
                if ((item.type === 5) && ss.isNullOrUndefined((value).Id)) {
                    value = this._createObjectInfo$5(instance);
                }
                Luxena.Travel.Controls.PropertyGridControl._renderValue$5(item, instance, value, rowNumber, cell);
            }
            row.append(cell);
        }
        table.append(row);
    },
    
    _createObjectInfo$5: function Luxena_Travel_Controls_PropertyGridControl$_createObjectInfo$5(instance) {
        var reference = new LxnBase.Data.Reference();
        reference.Id = instance.Id;
        reference.Name = instance[this._gridConfig$5.get_referenceColumn()].toString();
        reference.Type = this._gridConfig$5.get_referenceType();
        return reference;
    },
    
    _list$5: null,
    _gridConfig$5: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.PropertyGridControlConfig

Luxena.Travel.Controls.PropertyGridControlConfig = function Luxena_Travel_Controls_PropertyGridControlConfig() {
    Luxena.Travel.Controls.PropertyGridControlConfig.initializeBase(this);
}
Luxena.Travel.Controls.PropertyGridControlConfig.prototype = {
    
    get_propertyListItems: function Luxena_Travel_Controls_PropertyGridControlConfig$get_propertyListItems() {
        return this._propertyListItems$6;
    },
    set_propertyListItems: function Luxena_Travel_Controls_PropertyGridControlConfig$set_propertyListItems(value) {
        this._propertyListItems$6 = value;
        return value;
    },
    
    get_isUseListCountColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$get_isUseListCountColumn() {
        return this._isUseListCountColumn$6;
    },
    set_isUseListCountColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$set_isUseListCountColumn(value) {
        this._isUseListCountColumn$6 = value;
        return value;
    },
    
    get_referenceColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$get_referenceColumn() {
        return this._referenceColumn$6;
    },
    set_referenceColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$set_referenceColumn(value) {
        this._referenceColumn$6 = value;
        return value;
    },
    
    get_referenceType: function Luxena_Travel_Controls_PropertyGridControlConfig$get_referenceType() {
        return this._referenceType$6;
    },
    set_referenceType: function Luxena_Travel_Controls_PropertyGridControlConfig$set_referenceType(value) {
        this._referenceType$6 = value;
        return value;
    },
    
    get_gridTitle: function Luxena_Travel_Controls_PropertyGridControlConfig$get_gridTitle() {
        return this._gridTitle$6;
    },
    set_gridTitle: function Luxena_Travel_Controls_PropertyGridControlConfig$set_gridTitle(value) {
        this._gridTitle$6 = value;
        return value;
    },
    
    get_voidColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$get_voidColumn() {
        return this._voidColumn$6;
    },
    set_voidColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$set_voidColumn(value) {
        this._voidColumn$6 = value;
        return value;
    },
    
    get_voidClass: function Luxena_Travel_Controls_PropertyGridControlConfig$get_voidClass() {
        return this._voidClass$6;
    },
    set_voidClass: function Luxena_Travel_Controls_PropertyGridControlConfig$set_voidClass(value) {
        this._voidClass$6 = value;
        return value;
    },
    
    get_savedColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$get_savedColumn() {
        return this._savedColumn$6;
    },
    set_savedColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$set_savedColumn(value) {
        this._savedColumn$6 = value;
        return value;
    },
    
    get_savedClass: function Luxena_Travel_Controls_PropertyGridControlConfig$get_savedClass() {
        return this._savedClass$6;
    },
    set_savedClass: function Luxena_Travel_Controls_PropertyGridControlConfig$set_savedClass(value) {
        this._savedClass$6 = value;
        return value;
    },
    
    get_postColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$get_postColumn() {
        return this._postColumn$6;
    },
    set_postColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$set_postColumn(value) {
        this._postColumn$6 = value;
        return value;
    },
    
    get_postClass: function Luxena_Travel_Controls_PropertyGridControlConfig$get_postClass() {
        return this._postClass$6;
    },
    set_postClass: function Luxena_Travel_Controls_PropertyGridControlConfig$set_postClass(value) {
        this._postClass$6 = value;
        return value;
    },
    
    get_notShownIfVoid: function Luxena_Travel_Controls_PropertyGridControlConfig$get_notShownIfVoid() {
        return this._notShownIfVoid$6;
    },
    set_notShownIfVoid: function Luxena_Travel_Controls_PropertyGridControlConfig$set_notShownIfVoid(value) {
        this._notShownIfVoid$6 = value;
        return value;
    },
    
    setListItems: function Luxena_Travel_Controls_PropertyGridControlConfig$setListItems(items) {
        this._propertyListItems$6 = items;
        return this;
    },
    
    setVoidClass: function Luxena_Travel_Controls_PropertyGridControlConfig$setVoidClass(voidClass) {
        this._voidClass$6 = voidClass;
        return this;
    },
    
    setVoidColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$setVoidColumn(voidColumn) {
        this._voidColumn$6 = voidColumn;
        return this;
    },
    
    setReferenceColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$setReferenceColumn(referenceColumn) {
        this._referenceColumn$6 = referenceColumn;
        return this;
    },
    
    setReferenceType: function Luxena_Travel_Controls_PropertyGridControlConfig$setReferenceType(referenceType) {
        this._referenceType$6 = referenceType;
        return this;
    },
    
    setGridTitle: function Luxena_Travel_Controls_PropertyGridControlConfig$setGridTitle(title) {
        this._gridTitle$6 = title;
        return this;
    },
    
    setCssClass: function Luxena_Travel_Controls_PropertyGridControlConfig$setCssClass(className) {
        var css = (this.o['cls'] || '');
        css += String.format(' {0}', className);
        this.o['cls'] = css;
        return this;
    },
    
    setUseListCountColumn: function Luxena_Travel_Controls_PropertyGridControlConfig$setUseListCountColumn(isUseListCountColumn) {
        this._isUseListCountColumn$6 = isUseListCountColumn;
        return this;
    },
    
    setRowCssClass: function Luxena_Travel_Controls_PropertyGridControlConfig$setRowCssClass(getCss) {
        this._getCssClass$6 = getCss;
        return this;
    },
    
    getRowCssClass: function Luxena_Travel_Controls_PropertyGridControlConfig$getRowCssClass(value) {
        var css = '';
        if (this._getCssClass$6 != null) {
            css = this._getCssClass$6(value);
        }
        return css;
    },
    
    _referenceType$6: null,
    _referenceColumn$6: null,
    _isUseListCountColumn$6: false,
    _propertyListItems$6: null,
    _gridTitle$6: null,
    _voidColumn$6: null,
    _voidClass$6: null,
    _notShownIfVoid$6: false,
    _savedColumn$6: null,
    _savedClass$6: null,
    _postColumn$6: null,
    _postClass$6: null,
    _getCssClass$6: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.PropertyItem

Luxena.Travel.Controls.PropertyItem = function Luxena_Travel_Controls_PropertyItem(fieldLabel, fieldName) {
    this.fieldLabel = fieldLabel;
    if (!ss.isNullOrUndefined(fieldName)) {
        this.fieldName = fieldName;
    }
}
Luxena.Travel.Controls.PropertyItem.prototype = {
    
    setFiledLabel: function Luxena_Travel_Controls_PropertyItem$setFiledLabel(fieldLabel) {
        this.fieldLabel = fieldLabel;
        return this;
    },
    
    setFieldName: function Luxena_Travel_Controls_PropertyItem$setFieldName(fieldName) {
        this.fieldName = fieldName;
        return this;
    },
    
    setPropertyType: function Luxena_Travel_Controls_PropertyItem$setPropertyType(type) {
        this.type = type;
        return this;
    },
    
    setHideIsEmpty: function Luxena_Travel_Controls_PropertyItem$setHideIsEmpty(hideIsEmpty) {
        this.hideIsEmpty = hideIsEmpty;
        return this;
    },
    
    setFormat: function Luxena_Travel_Controls_PropertyItem$setFormat(format) {
        this.format = format;
        return this;
    },
    
    setEnumType: function Luxena_Travel_Controls_PropertyItem$setEnumType(enumType) {
        this.enumType = enumType;
        return this;
    },
    
    setCssClass: function Luxena_Travel_Controls_PropertyItem$setCssClass(cssClass) {
        this.cssClass = cssClass;
        return this;
    },
    
    setRenderer: function Luxena_Travel_Controls_PropertyItem$setRenderer(renderer) {
        this.renderer = renderer;
        return this;
    },
    
    setRowCssClass: function Luxena_Travel_Controls_PropertyItem$setRowCssClass(getCss) {
        this.getCssClass = getCss;
        return this;
    },
    
    setWidth: function Luxena_Travel_Controls_PropertyItem$setWidth(width) {
        this.width = width;
        return this;
    },
    
    getRowCssClass: function Luxena_Travel_Controls_PropertyItem$getRowCssClass(value) {
        var css = this.cssClass;
        if (this.getCssClass != null) {
            css = this.getCssClass(this, value);
        }
        return css;
    },
    
    fieldLabel: null,
    fieldName: null,
    type: 0,
    hideIsEmpty: false,
    format: null,
    enumType: null,
    cssClass: null,
    renderer: null,
    labelRenderer: null,
    getCssClass: null,
    width: 0
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.PropertyListControlConfig

Luxena.Travel.Controls.PropertyListControlConfig = function Luxena_Travel_Controls_PropertyListControlConfig() {
    Luxena.Travel.Controls.PropertyListControlConfig.initializeBase(this);
}
Luxena.Travel.Controls.PropertyListControlConfig.prototype = {
    
    get_propertyListItems: function Luxena_Travel_Controls_PropertyListControlConfig$get_propertyListItems() {
        return this._propertyListItems$6;
    },
    set_propertyListItems: function Luxena_Travel_Controls_PropertyListControlConfig$set_propertyListItems(value) {
        this._propertyListItems$6 = value;
        return value;
    },
    
    setListItems: function Luxena_Travel_Controls_PropertyListControlConfig$setListItems(items) {
        this._propertyListItems$6 = items;
        return this;
    },
    
    setCssClass: function Luxena_Travel_Controls_PropertyListControlConfig$setCssClass(className) {
        var css = (this.o['cls'] || '');
        css += String.format(' {0}', className);
        this.o['cls'] = css;
        return this;
    },
    
    _propertyListItems$6: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.ControlFactoryExt

Luxena.Travel.Controls.ControlFactoryExt = function Luxena_Travel_Controls_ControlFactoryExt() {
}
Luxena.Travel.Controls.ControlFactoryExt.init = function Luxena_Travel_Controls_ControlFactoryExt$init() {
    LxnBase.UI.AutoControls.ControlFactory.registerCustomRenderer('Money', function(value, metadata, record, rowindex, colindex, store) {
        if (ss.isNullOrUndefined(value)) {
            return '';
        }
        var moneyStr;
        var values = Type.safeCast(value, Array);
        if (values != null) {
            moneyStr = String.format('{0} {1}', (values[0]).format('N2'), values[1]);
        }
        else {
            var dto = value;
            moneyStr = String.format('{0} {1}', dto.Amount.format('N2'), dto.Currency.Name);
        }
        return String.format("<div style='text-align: right'>{0}</div>", moneyStr);
    });
    LxnBase.UI.AutoControls.ControlFactory.registerCustomEditor('Money', function(config, listMode) {
        if (listMode) {
            return null;
        }
        return new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig('', true));
    });
}
Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer = function Luxena_Travel_Controls_ControlFactoryExt$getMoneyRenderer() {
    var moneyConfig = new LxnBase.Services.CustomTypeColumnConfig();
    moneyConfig.Type = LxnBase.Services.TypeEnum.custom;
    moneyConfig.TypeName = 'Money';
    return LxnBase.UI.AutoControls.ControlFactory.createRenderer(moneyConfig);
}
Luxena.Travel.Controls.ControlFactoryExt.createCustomerConfig = function Luxena_Travel_Controls_ControlFactoryExt$createCustomerConfig(fieldName, width, allowBlank) {
    return new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).allowEdit(true).allowCreate(false).customActionsDelegate(Luxena.Travel.Controls.ControlFactoryExt._getCustomerSelectorActions).fieldLabel(fieldName).width(width).allowBlank(allowBlank);
}
Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl = function Luxena_Travel_Controls_ControlFactoryExt$createCustomerControl(fieldName, width, allowBlank) {
    return new LxnBase.UI.Controls.ObjectSelector(Luxena.Travel.Controls.ControlFactoryExt.createCustomerConfig(fieldName, width, allowBlank));
}
Luxena.Travel.Controls.ControlFactoryExt.createCustomerControlWithText = function Luxena_Travel_Controls_ControlFactoryExt$createCustomerControlWithText(fieldName, width, allowBlank) {
    return new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).allowEdit(true).allowCreate(false).customActionsDelegate(Luxena.Travel.Controls.ControlFactoryExt._getCustomerSelectorActions).forceSelection(false).fieldLabel(fieldName).width(width).allowBlank(allowBlank));
}
Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl = function Luxena_Travel_Controls_ControlFactoryExt$createAssignedToControl(fieldName, width, allowBlank) {
    return new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Person').setDataProxy(Luxena.Travel.Services.PartyService.suggestUsersProxy()).allowEdit(false).allowCreate(false).fieldLabel(fieldName).width(width).allowBlank(allowBlank));
}
Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl = function Luxena_Travel_Controls_ControlFactoryExt$createOwnerControl(width) {
    var control = new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().name('Office').store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Name' ]).data(Luxena.Travel.AppManager.get_departments()).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel(Luxena.Travel.DomainRes.common_Owner).allowBlank(false).toDictionary());
    if (!Luxena.Travel.AppManager.get_allowSetDocumentOwner()) {
        control.setValue(Luxena.Travel.AppManager.get_departments()[0]);
        control.disable();
    }
    return control;
}
Luxena.Travel.Controls.ControlFactoryExt.createBankAccountControl = function Luxena_Travel_Controls_ControlFactoryExt$createBankAccountControl(width) {
    return new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().name('Office').store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields([ 'Id', 'Name' ]).data(Luxena.Travel.AppManager.get_bankAccounts()).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442').toDictionary());
}
Luxena.Travel.Controls.ControlFactoryExt._getCustomerSelectorActions = function Luxena_Travel_Controls_ControlFactoryExt$_getCustomerSelectorActions(store, records, query) {
    if (String.isNullOrEmpty(query)) {
        return null;
    }
    if (records != null) {
        var $enum1 = ss.IEnumerator.getEnumerator(records);
        while ($enum1.moveNext()) {
            var r = $enum1.current;
            var text = r.get('Name');
            if (String.equals(text, query, true)) {
                return null;
            }
        }
    }
    return [ new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPerson_Action_Title).handler(function(selector1, text1) {
        Luxena.Travel.Controls.ControlFactoryExt._addParty(selector1, text1, 'Person');
    }).toDictionary()), new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addOrganization_Action_Title).handler(function(selector2, text2) {
        Luxena.Travel.Controls.ControlFactoryExt._addParty(selector2, text2, 'Organization');
    }).toDictionary()) ];
}
Luxena.Travel.Controls.ControlFactoryExt._addParty = function Luxena_Travel_Controls_ControlFactoryExt$_addParty(selector, text, type) {
    var info = new LxnBase.Data.Reference();
    if (Luxena.Travel.AppManager.get_systemConfiguration().IsOrganizationCodeRequired && type === 'Organization') {
        var nameDictionary = { Name: text, IsCustomer: true };
        LxnBase.UI.FormsRegistry.editObject(type, null, nameDictionary, function(result) {
            var dto = (result).Item;
            info.Id = dto.Id;
            info.Name = dto.Name;
            info.Type = 'Organization';
            selector.setValue(info);
        }, null, null);
        return;
    }
    Luxena.Travel.Services.PartyService.CreateCustomer(type, text, function(result) {
        var party = result;
        info.Id = party[LxnBase.Data.ObjectPropertyNames.id];
        info.Name = party[LxnBase.Data.ObjectPropertyNames.reference];
        info.Type = party[LxnBase.Data.ObjectPropertyNames.objectClass];
        selector.setValue(info);
        var caption = (info.Type === 'Person') ? Luxena.Travel.DomainRes.person_Caption_List : Luxena.Travel.DomainRes.organization_Caption_List;
        LxnBase.MessageRegister.info(caption, LxnBase.BaseRes.created + ' ' + info.Name);
    }, null);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.GridFilterPluginExtention

Luxena.Travel.Controls.GridFilterPluginExtention = function Luxena_Travel_Controls_GridFilterPluginExtention() {
}
Luxena.Travel.Controls.GridFilterPluginExtention.init = function Luxena_Travel_Controls_GridFilterPluginExtention$init() {
    var configs = [ new LxnBase.UI.AutoControls.GridFilterConfig().setCaption(Luxena.Travel.Res.money_AmountFilter_Text).setFilter(new LxnBase.UI.Controls.ColumnFilters.NumberFilter()).setDataPath('Amount'), new LxnBase.UI.AutoControls.GridFilterConfig().setCaption(Luxena.Travel.Res.money_CurrencyFilter_Text).setFilter(new LxnBase.UI.Controls.ColumnFilters.StringFilter()).setDataPath('Currency') ];
    LxnBase.UI.AutoControls.GridFilterPlugin.registerCustomFilters('Money', configs);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.LinkButton

Luxena.Travel.Controls.LinkButton = function Luxena_Travel_Controls_LinkButton(config) {
    Luxena.Travel.Controls.LinkButton.initializeBase(this, [ config.cls('link-button').toDictionary() ]);
}
Luxena.Travel.Controls.LinkButton.prototype = {
    
    objectInfo: function Luxena_Travel_Controls_LinkButton$objectInfo() {
        return [ this.id, this.type ];
    }
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Controls.LinkButton2

Luxena.Travel.Controls.LinkButton2 = function Luxena_Travel_Controls_LinkButton2(cls, config) {
    Luxena.Travel.Controls.LinkButton2.initializeBase(this, [ config.cls('link-button ' + cls).toDictionary() ]);
}
Luxena.Travel.Controls.LinkButton2.prototype = {
    
    objectInfo: function Luxena_Travel_Controls_LinkButton2$objectInfo() {
        return [ this.id, this.type ];
    }
}


Type.registerNamespace('Luxena.Travel.Reports');

////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Reports.ReportType

Luxena.Travel.Reports.ReportType = function() { };
Luxena.Travel.Reports.ReportType.prototype = {
    pdf: 0, 
    excel: 1
}
Luxena.Travel.Reports.ReportType.registerEnum('Luxena.Travel.Reports.ReportType', false);


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Reports.UnbalancedReportForm

Luxena.Travel.Reports.UnbalancedReportForm = function Luxena_Travel_Reports_UnbalancedReportForm() {
    Luxena.Travel.Reports.UnbalancedReportForm.initializeBase(this);
    this.get_window().cls += ' unbalanced-report';
    this.get_window().setTitle(Luxena.Travel.Res.unbalancedReport);
    this._createFormItems$1();
    this._createReportButton$1 = this.get_form().addButton(Luxena.Travel.Res.common_CreateReport, ss.Delegate.create(this, this.save));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this.set_fields([ this._toField$1, this._includeOrders$1 ]);
    this.set_componentSequence([ this._toField$1, this._includeOrders$1, this._createReportButton$1, this._cancelButton$1 ]);
}
Luxena.Travel.Reports.UnbalancedReportForm.prototype = {
    
    open: function Luxena_Travel_Reports_UnbalancedReportForm$open() {
        this.get_window().show();
    },
    
    _createFormItems$1: function Luxena_Travel_Reports_UnbalancedReportForm$_createFormItems$1() {
        this._toField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).format('d.m.Y').toDictionary());
        this._includeOrders$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.unbalancedReportForm_IncludeOrders).toDictionary());
        this.get_form().add(this._toField$1);
        this.get_form().add(this._includeOrders$1);
    },
    
    onSave: function Luxena_Travel_Reports_UnbalancedReportForm$onSave() {
        LxnBase.UI.AutoControls.ReportLoader.load(String.format('reports/unbalanced/Unbalanced_Report_{0}.xls', Date.get_now().format('Y-m-d_H-i')), { to: (!(this._toField$1.getValue())) ? null : this._toField$1.getValue().localeFormat('yyyy-MM-dd'), includeOrders: this._includeOrders$1.getValue() });
        this.completeSave(null);
    },
    
    _toField$1: null,
    _includeOrders$1: null,
    _createReportButton$1: null,
    _cancelButton$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Reports.RegistryReportForm

Luxena.Travel.Reports.RegistryReportForm = function Luxena_Travel_Reports_RegistryReportForm() {
    Luxena.Travel.Reports.RegistryReportForm.initializeBase(this);
    this.get_window().cls += ' registry-report';
    this.get_window().setTitle(Luxena.Travel.Res.registryReportForm_Title);
    this._createFormItems$1();
    this._createReportButton$1 = this.get_form().addButton(Luxena.Travel.Res.common_CreateReport, ss.Delegate.create(this, this.save));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this.set_fields([ this._fromField$1, this._toField$1, this._paymentTypeField$1, this._paymentFormField$1, this._airlineSelector$1.get_widget(), this._reportTypeField$1, this._onlyWithInvoices$1 ]);
    this.set_componentSequence([ this._fromField$1, this._toField$1, this._paymentFormField$1, this._airlineSelector$1.get_widget(), this._reportTypeField$1, this._onlyWithInvoices$1, this._createReportButton$1, this._cancelButton$1 ]);
}
Luxena.Travel.Reports.RegistryReportForm._getDate$1 = function Luxena_Travel_Reports_RegistryReportForm$_getDate$1(field) {
    if (!(field).getValue()) {
        return null;
    }
    var dateTime = field.getValue();
    return (ss.isNullOrUndefined(dateTime)) ? null : dateTime.format('Y-m-d');
}
Luxena.Travel.Reports.RegistryReportForm.prototype = {
    
    open: function Luxena_Travel_Reports_RegistryReportForm$open() {
        this.get_window().show();
    },
    
    _createFormItems$1: function Luxena_Travel_Reports_RegistryReportForm$_createFormItems$1() {
        this._fromField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.fromDate_Text).format('d.m.Y').toDictionary());
        this._toField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).format('d.m.Y').toDictionary());
        this._paymentTypeField$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.paymentType).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data([ [ 1, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 1) ], [ 2, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 2) ], [ 3, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 3) ], [ 4, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 4) ], [ 5, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 5) ], [ 6, Luxena.Travel.DomainRes.paymentType_WithoutPayment ], [ 0, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 0) ] ]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).width(180).toDictionary());
        this._paymentFormField$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel('\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b').store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data([ [ 0, '\u041f\u041a\u041e' ], [ 4, '\u0420\u041a\u041e' ], [ 1, LxnBase.EnumUtility.localize(Luxena.Travel.PaymentForm, 1, Luxena.Travel.DomainRes) ], [ 2, LxnBase.EnumUtility.localize(Luxena.Travel.PaymentForm, 2, Luxena.Travel.DomainRes) ], [ 3, LxnBase.EnumUtility.localize(Luxena.Travel.PaymentForm, 3, Luxena.Travel.DomainRes) ] ]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).width(180).toDictionary());
        this._airlineSelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Airline').allowEdit(false).allowCreate(false).allowBlank(true).fieldLabel(Luxena.Travel.DomainRes.airline).width(180).selectOnFocus(true).forceSelection(true));
        this._reportTypeField$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.Res.reportType_Text).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data([ [ 1, LxnBase.EnumUtility.toString(Luxena.Travel.Reports.ReportType, 1) ], [ 0, LxnBase.EnumUtility.toString(Luxena.Travel.Reports.ReportType, 0) ] ]).toDictionary())).mode('local').width(60).editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).value(1).toDictionary());
        this._onlyWithInvoices$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().hideLabel(true).boxLabel('\u0412\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0441\u043e \u0441\u0447\u0435\u0442\u0430\u043c\u0438 / \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f\u043c\u0438').toDictionary());
        this.get_form().add(this._fromField$1);
        this.get_form().add(this._toField$1);
        this.get_form().add(this._paymentTypeField$1);
        this.get_form().add(this._paymentFormField$1);
        this.get_form().add(this._airlineSelector$1.get_widget());
        this.get_form().add(this._reportTypeField$1);
        this.get_form().add(this._onlyWithInvoices$1);
    },
    
    onSave: function Luxena_Travel_Reports_RegistryReportForm$onSave() {
        var pparams = {};
        pparams['from'] = Luxena.Travel.Reports.RegistryReportForm._getDate$1(this._fromField$1);
        pparams['to'] = Luxena.Travel.Reports.RegistryReportForm._getDate$1(this._toField$1);
        pparams['paymentType'] = this._paymentTypeField$1.getValue();
        pparams['paymentForm'] = this._paymentFormField$1.getValue();
        pparams['onlyWithInvoices'] = this._onlyWithInvoices$1.getValue();
        var o = (this._airlineSelector$1.getObjectInfo() != null) ? this._airlineSelector$1.getObjectInfo().Id : null;
        if (o != null) {
            pparams['airline'] = o;
        }
        var value = this._reportTypeField$1.getValue();
        pparams['reportType'] = value;
        var extention = (!value) ? 'pdf' : 'xls';
        var url = String.format('reports/registry/Registry_report_{0}.{1}', Date.get_now().format('Y-m-d_H-i'), extention);
        LxnBase.UI.AutoControls.ReportLoader.load(url, pparams);
        this.completeSave(null);
    },
    
    _fromField$1: null,
    _toField$1: null,
    _paymentTypeField$1: null,
    _paymentFormField$1: null,
    _airlineSelector$1: null,
    _reportTypeField$1: null,
    _onlyWithInvoices$1: null,
    _createReportButton$1: null,
    _cancelButton$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Reports.CustomerReportForm

Luxena.Travel.Reports.CustomerReportForm = function Luxena_Travel_Reports_CustomerReportForm() {
    Luxena.Travel.Reports.CustomerReportForm.initializeBase(this);
    this.get_window().cls += ' customer-report';
    this.get_window().setTitle(Luxena.Travel.Res.customerReportForm_Title);
    this._createFormItems$1();
    this._createReportButton$1 = this.get_form().addButton(Luxena.Travel.Res.common_CreateReport, ss.Delegate.create(this, this.save));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this.set_fields([ this._customerSelector$1.get_widget(), this._billToSelector$1.get_widget(), this._passengerField$1, this._airlineSelector$1.get_widget(), this._paymentTypeField$1, this._fromField$1, this._toField$1, this._unpayedDocuments$1, this._includeDepartmentsCheckBox$1 ]);
    this.set_componentSequence([ this._customerSelector$1.get_widget(), this._billToSelector$1.get_widget(), this._passengerField$1, this._airlineSelector$1.get_widget(), this._paymentTypeField$1, this._fromField$1, this._toField$1, this._unpayedDocuments$1, this._includeDepartmentsCheckBox$1, this._createReportButton$1, this._cancelButton$1 ]);
}
Luxena.Travel.Reports.CustomerReportForm.prototype = {
    
    open: function Luxena_Travel_Reports_CustomerReportForm$open() {
        this.get_window().show();
    },
    
    _createFormItems$1: function Luxena_Travel_Reports_CustomerReportForm$_createFormItems$1() {
        this._customerSelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(false).allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.common_Customer).width(200).listeners({ changeValue: ss.Delegate.create(this, this._checkDocumentCount$1) }).selectOnFocus(true).forceSelection(true));
        this._billToSelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(false).allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.common_BillTo).width(200).listeners({ changeValue: ss.Delegate.create(this, this._checkDocumentCount$1) }).selectOnFocus(true).forceSelection(true));
        this._airlineSelector$1 = new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Airline').allowEdit(false).allowCreate(false).allowBlank(true).fieldLabel(Luxena.Travel.DomainRes.airline).width(200).listeners({ changeValue: ss.Delegate.create(this, this._checkDocumentCount$1) }).selectOnFocus(true).forceSelection(true));
        this._passengerField$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.DomainRes.common_PassengerName).listeners({ change: ss.Delegate.create(this, this._checkDocumentCount$1) }).width(200).toDictionary());
        this._paymentTypeField$1 = new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.paymentType).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([ 'Id', 'Name' ]).data([ [ 1, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 1) ], [ 2, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 2) ], [ 3, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 3) ], [ 4, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 4) ], [ 5, LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType, 5) ] ]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).listeners({ change: ss.Delegate.create(this, this._checkDocumentCount$1) }).toDictionary());
        this._fromField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.fromDate_Text).format('d.m.Y').listeners({ change: ss.Delegate.create(this, this._checkDocumentCount$1) }).toDictionary());
        this._toField$1 = new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).format('d.m.Y').listeners({ change: ss.Delegate.create(this, this._checkDocumentCount$1) }).toDictionary());
        this._unpayedDocuments$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.customerReportForm_IncludeUnpayedDocumentOnly).handler(ss.Delegate.create(this, this._checkDocumentCount$1)).toDictionary());
        this._includeDepartmentsCheckBox$1 = new Ext.form.Checkbox(new Ext.form.CheckboxConfig().handler(ss.Delegate.create(this, this._updateLabelCount$1)).listeners({ render: ss.Delegate.create(this, function() {
            var el = this._includeDepartmentsCheckBox$1.wrap;
            el.addClass('include-departments');
        }) }).toDictionary());
        this._includeDepartmentsCheckBox$1.setDisabled(true);
        this._totalCountBox$1 = new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('total-count').toDictionary());
        this._updateLabelCount$1();
        var panel = new Ext.Panel(new Ext.PanelConfig().items([ this._includeDepartmentsCheckBox$1, this._totalCountBox$1 ]).toDictionary());
        this.get_form().add(this._customerSelector$1.get_widget());
        this.get_form().add(this._billToSelector$1.get_widget());
        this.get_form().add(this._passengerField$1);
        this.get_form().add(this._airlineSelector$1.get_widget());
        this.get_form().add(this._paymentTypeField$1);
        this.get_form().add(this._fromField$1);
        this.get_form().add(this._toField$1);
        this.get_form().add(this._unpayedDocuments$1);
        this.get_form().add(panel);
    },
    
    _checkDocumentCount$1: function Luxena_Travel_Reports_CustomerReportForm$_checkDocumentCount$1() {
        var customer = this._customerSelector$1.getObjectInfo();
        var billTo = this._billToSelector$1.getObjectInfo();
        if (ss.isNullOrUndefined(customer) && ss.isNullOrUndefined(billTo)) {
            this._updateLabelCount$1();
            return;
        }
        var passenger = this._passengerField$1.getValue();
        var airlineId = this._airlineSelector$1.getObjectId();
        var paymentType = null;
        var from = null;
        var to = null;
        var value = this._paymentTypeField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !String.isNullOrEmpty(value.toString())) {
            paymentType = value;
        }
        value = this._fromField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !String.isNullOrEmpty(value.toString())) {
            from = value;
        }
        value = this._toField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !String.isNullOrEmpty(value.toString())) {
            to = value;
        }
        Luxena.Travel.Services.ReportService.GetCustomerDocumentCount((customer != null) ? customer.Id : null, (billTo != null) ? billTo.Id : null, passenger, airlineId, paymentType, from, to, this._unpayedDocuments$1.getValue(), ss.Delegate.create(this, function(result) {
            var counts = result;
            this._customerDocCount$1 = counts[0];
            this._departmentDocCount$1 = counts[1] - counts[0];
            this._updateLabelCount$1();
        }), null);
    },
    
    _updateLabelCount$1: function Luxena_Travel_Reports_CustomerReportForm$_updateLabelCount$1() {
        var departmentCount = this._departmentDocCount$1;
        var totalCount = this._customerDocCount$1;
        if (this._includeDepartmentsCheckBox$1.getValue()) {
            totalCount += this._departmentDocCount$1;
        }
        var text = LxnBase.StringUtility.getNumberText(departmentCount, Luxena.Travel.Res.customerReportForm_IncludeDepartments1, Luxena.Travel.Res.customerReportForm_IncludeDepartments2, Luxena.Travel.Res.customerReportForm_IncludeDepartments3);
        if (this._includeDepartmentsCheckBox$1.rendered) {
            var element = this._includeDepartmentsCheckBox$1.wrap;
            var label = element.child('label');
            label.dom.innerHTML = text;
        }
        else {
            this._includeDepartmentsCheckBox$1.boxLabel = text;
        }
        var customer = this._customerSelector$1.getObjectInfo();
        if (ss.isNullOrUndefined(customer) || customer.Type !== 'Organization' || !this._departmentDocCount$1) {
            this._includeDepartmentsCheckBox$1.disable();
        }
        else {
            this._includeDepartmentsCheckBox$1.enable();
        }
        text = String.format(Luxena.Travel.Res.customerReportForm_DocumentCount_Text, totalCount);
        if (this._totalCountBox$1.rendered) {
            this._totalCountBox$1.getEl().update(text);
        }
        else {
            this._totalCountBox$1.autoEl = { html: text };
        }
    },
    
    onSave: function Luxena_Travel_Reports_CustomerReportForm$onSave() {
        var url = String.format('reports/customer/Customer_report_{0}.pdf', Date.get_now().format('Y-m-d_H-i'));
        var prms = {};
        var value = this._customerSelector$1.getObjectId();
        if (value != null) {
            prms['customer'] = value;
        }
        value = this._billToSelector$1.getObjectId();
        if (value != null) {
            prms['billTo'] = value;
        }
        value = this._passengerField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !!value) {
            prms['passenger'] = value;
        }
        value = this._airlineSelector$1.getObjectId();
        if (value != null) {
            prms['airline'] = value;
        }
        value = this._paymentTypeField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !String.isNullOrEmpty(value.toString())) {
            prms['paymentType'] = value;
        }
        value = this._fromField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !String.isNullOrEmpty(value.toString())) {
            prms['from'] = (value).format('Y-m-d');
        }
        value = this._toField$1.getValue();
        if (!ss.isNullOrUndefined(value) && !String.isNullOrEmpty(value.toString())) {
            prms['to'] = (value).format('Y-m-d');
        }
        if (!this._includeDepartmentsCheckBox$1.disabled && this._includeDepartmentsCheckBox$1.getValue()) {
            prms['includeDepartments'] = 'true';
        }
        if (this._unpayedDocuments$1.getValue()) {
            prms['unpayedDocumentsOnly'] = 'true';
        }
        LxnBase.UI.AutoControls.ReportLoader.load(url, prms);
        this.completeSave(null);
    },
    
    _customerSelector$1: null,
    _billToSelector$1: null,
    _fromField$1: null,
    _toField$1: null,
    _passengerField$1: null,
    _airlineSelector$1: null,
    _paymentTypeField$1: null,
    _createReportButton$1: null,
    _cancelButton$1: null,
    _includeDepartmentsCheckBox$1: null,
    _unpayedDocuments$1: null,
    _totalCountBox$1: null,
    _departmentDocCount$1: 0,
    _customerDocCount$1: 0
}


Type.registerNamespace('Luxena.Travel.Configuration');

////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Configuration.PasswordEditForm

Luxena.Travel.Configuration.PasswordEditForm = function Luxena_Travel_Configuration_PasswordEditForm() {
    Luxena.Travel.Configuration.PasswordEditForm.initializeBase(this);
    this.get_window().setTitle(Luxena.Travel.Res.profile_Change_Password);
    this.get_window().cls += ' password-edit-form';
    this._saveButton$1 = this.get_form().addButton(LxnBase.BaseRes.save, ss.Delegate.create(this, this.save));
    this._cancelButton$1 = this.get_form().addButton(LxnBase.BaseRes.cancel, ss.Delegate.create(this, this.cancel));
    this._createFields$1();
    this.set_fields([ this._oldPassword$1, this._newPassword$1, this._confirmPassword$1 ]);
    var list = [];
    list.addRange(this.get_fields());
    list.add(this._saveButton$1);
    list.add(this._cancelButton$1);
    this.set_componentSequence(list);
}
Luxena.Travel.Configuration.PasswordEditForm._pwdFieldKeyDown$1 = function Luxena_Travel_Configuration_PasswordEditForm$_pwdFieldKeyDown$1(field, e) {
    if (!e.isSpecialKey()) {
        field.isFieldDirty = true;
    }
}
Luxena.Travel.Configuration.PasswordEditForm.prototype = {
    
    _createFields$1: function Luxena_Travel_Configuration_PasswordEditForm$_createFields$1() {
        var config = new LxnBase.Services.ColumnConfig();
        config.Type = LxnBase.Services.TypeEnum.string;
        config.IsRequired = true;
        config.Caption = Luxena.Travel.Res.password;
        this._oldPassword$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.password_OldPassword).inputType('password').name('OldPassword').selectOnFocus(true).width(190).enableKeyEvents(true).listeners({ keydown: Luxena.Travel.Configuration.PasswordEditForm._pwdFieldKeyDown$1 }).toDictionary());
        this._newPassword$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.password_NewPassword).inputType('password').width(190).selectOnFocus(true).enableKeyEvents(true).listeners({ keydown: Luxena.Travel.Configuration.PasswordEditForm._pwdFieldKeyDown$1 }).toDictionary());
        this._confirmPassword$1 = new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.password_ConfirmPassword).inputType('password').width(190).selectOnFocus(true).validator(ss.Delegate.create(this, function(value) {
            var result = true;
            var pwd = this._confirmPassword$1.initialPwdField;
            if (ss.isNullOrUndefined(pwd)) {
                result = false;
            }
            else {
                var isPwdDirty = pwd.isFieldDirty;
                var isConfirmDirty = this._confirmPassword$1.isFieldDirty;
                if (!ss.isNullOrUndefined(isPwdDirty) && ss.isNullOrUndefined(isConfirmDirty) || ss.isNullOrUndefined(isPwdDirty) && !ss.isNullOrUndefined(isConfirmDirty)) {
                    result = false;
                }
            }
            result = (result & (value === pwd.getValue())) === 1;
            if (result) {
                return true;
            }
            return Luxena.Travel.Res.password_Error_Msg;
        })).enableKeyEvents(true).listeners({ keydown: Luxena.Travel.Configuration.PasswordEditForm._pwdFieldKeyDown$1 }).custom('initialPwdField', this._newPassword$1).toDictionary());
        var mainDataPanel = new Ext.Panel(new Ext.PanelConfig().items([ this._oldPassword$1, this._newPassword$1, this._confirmPassword$1 ]).layout('form').toDictionary());
        this.get_form().layout = 'column';
        this.get_form().add(mainDataPanel);
    },
    
    onSave: function Luxena_Travel_Configuration_PasswordEditForm$onSave() {
        Luxena.Travel.Services.UserService.ChangeUserPassword(this._oldPassword$1.getValue().toString(), this._newPassword$1.getValue().toString(), ss.Delegate.create(this, function(result) {
            var isSuccessed = result;
            if (isSuccessed) {
                LxnBase.MessageRegister.info(Luxena.Travel.Res.profile_Item, Luxena.Travel.Res.password_Updated_Successfully);
                this.completeSave(result);
            }
            else {
                this._oldPassword$1.markInvalid();
            }
        }), null);
    },
    
    open: function Luxena_Travel_Configuration_PasswordEditForm$open() {
        this.get_window().show();
    },
    
    _saveButton$1: null,
    _cancelButton$1: null,
    _oldPassword$1: null,
    _newPassword$1: null,
    _confirmPassword$1: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Configuration.ProfileViewForm

Luxena.Travel.Configuration.ProfileViewForm = function Luxena_Travel_Configuration_ProfileViewForm(tabId, id) {
    Luxena.Travel.Configuration.ProfileViewForm.initializeBase(this, [ new Ext.PanelConfig().closable(true).autoScroll(true).title(LxnBase.BaseRes.loading).cls('profile-view').bodyStyle('padding: 20px').toDictionary(), tabId ]);
    Luxena.Travel.Services.UserService.GetUserProfile(id, ss.Delegate.create(this, function(result) {
        this._profile$6 = result;
        this._initialize$6();
    }), null);
}
Luxena.Travel.Configuration.ProfileViewForm.viewObject = function Luxena_Travel_Configuration_ProfileViewForm$viewObject(id, newTab) {
    LxnBase.UI.Tabs.open(newTab, 'myProfileForm', function(tabId) {
        return new Luxena.Travel.Configuration.ProfileViewForm(tabId, id);
    });
}
Luxena.Travel.Configuration.ProfileViewForm._changePassword$6 = function Luxena_Travel_Configuration_ProfileViewForm$_changePassword$6() {
    var form = new Luxena.Travel.Configuration.PasswordEditForm();
    form.open();
}
Luxena.Travel.Configuration.ProfileViewForm.prototype = {
    
    initComponent: function Luxena_Travel_Configuration_ProfileViewForm$initComponent() {
        var changePasswordButton = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.password_Edit).handler(Luxena.Travel.Configuration.ProfileViewForm._changePassword$6).toDictionary());
        this.tbar = new Ext.Toolbar([ changePasswordButton ]);
        Luxena.Travel.Configuration.ProfileViewForm.callBaseMethod(this, 'initComponent');
    },
    
    _initialize$6: function Luxena_Travel_Configuration_ProfileViewForm$_initialize$6() {
        this.setTitle(Luxena.Travel.Res.profile_Item);
        this._initializePersonPanel$6();
        this._initializeGdsAgentsPanel$6();
        var pnl = new Ext.Panel(new Ext.PanelConfig().items([ this._personInfoPanel$6, this._gdsAgentsPanel$6 ]).border(false).toDictionary());
        this.add(pnl);
        this.doLayout();
    },
    
    _initializeGdsAgentsPanel$6: function Luxena_Travel_Configuration_ProfileViewForm$_initializeGdsAgentsPanel$6() {
        this._gdsAgentsPanel$6 = new Ext.Panel(new Ext.PanelConfig().border(false).cls('gds-panel').listeners({ render: ss.Delegate.create(this, this._renderGdsAgents$6) }).toDictionary());
    },
    
    _initializePersonPanel$6: function Luxena_Travel_Configuration_ProfileViewForm$_initializePersonPanel$6() {
        this._personInfo$6 = new Ext.Panel(new Ext.PanelConfig().border(false).listeners({ render: ss.Delegate.create(this, this._loadPersonInfo$6) }).toDictionary());
        this._personInfoPanel$6 = new Ext.Panel(new Ext.PanelConfig().items([ this._personInfo$6 ]).border(false).toDictionary());
    },
    
    _loadPersonInfo$6: function Luxena_Travel_Configuration_ProfileViewForm$_loadPersonInfo$6() {
        var template = new ss.StringBuilder();
        template.append("<div class='viewItem'>");
        template.append(String.format("<div class='itemCaption'>{0}:</div>", Luxena.Travel.DomainRes.person));
        template.append(String.format("<div class='itemValue'>{0}</div>", this._profile$6.Person.Name));
        template.append('</div>');
        template.append("<div class='viewItem'>");
        template.append(String.format("<div class='itemCaption'>{0}:</div>", Luxena.Travel.DomainRes.user_Name));
        template.append(String.format("<div class='itemValue'>{0}</div>", this._profile$6.Login));
        template.append('</div>');
        template.append("<div class='viewItem'>");
        template.append(String.format("<div class='itemCaption'>{0}:</div>", Luxena.Travel.DomainRes.user_Roles));
        template.append(String.format("<div class='itemValue'>{0}</div>", this._profile$6.Roles));
        template.append('</div>');
        new Ext.Template(template.toString()).overwrite(this._personInfo$6.body);
    },
    
    _renderGdsAgents$6: function Luxena_Travel_Configuration_ProfileViewForm$_renderGdsAgents$6() {
        var table = new ss.StringBuilder();
        if (this._profile$6.GdsAgents != null && this._profile$6.GdsAgents.length > 0) {
            table.append(String.format("<div class='gdsAgentsCaption'>{0}</div>\r\n\t\t\t\t\t\t\t<table cellspacing='0' cellpadding='0'>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th style='width:200px'>{1}</th>\r\n\t\t\t\t\t\t\t\t\t<th style='width:85px'>{2}</th>\r\n\t\t\t\t\t\t\t\t\t<th style='width:115px'>{3}</th>\r\n\t\t\t\t\t\t\t\t</tr><tpl for=\"GdsAgents\">\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t{Origin}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t{OfficeCode}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{AgentCode}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tpl>\r\n\t\t\t\t\t\t\t</table>", Luxena.Travel.DomainRes.gdsAgent_Caption_List, Luxena.Travel.DomainRes.gdsAgent_Origin, Luxena.Travel.DomainRes.gdsAgent_Office, Luxena.Travel.DomainRes.gdsAgent_Agent));
        }
        else {
            table.append(String.format(" <div class='noData'>{0}</div>", Luxena.Travel.Res.gdsAgents_NotAssigned));
        }
        new Ext.XTemplate(table.toString()).overwrite(this._gdsAgentsPanel$6.body, this._profile$6);
    },
    
    _profile$6: null,
    _personInfoPanel$6: null,
    _personInfo$6: null,
    _gdsAgentsPanel$6: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Configuration.SystemConfigurationViewForm

Luxena.Travel.Configuration.SystemConfigurationViewForm = function Luxena_Travel_Configuration_SystemConfigurationViewForm(tabId, id, type) {
    Luxena.Travel.Configuration.SystemConfigurationViewForm.initializeBase(this, [ tabId, id, type ]);
}
Luxena.Travel.Configuration.SystemConfigurationViewForm._viewObject$8 = function Luxena_Travel_Configuration_SystemConfigurationViewForm$_viewObject$8(type, id, newTab) {
    LxnBase.UI.Tabs.open(newTab, id, function(tabId) {
        return new Luxena.Travel.Configuration.SystemConfigurationViewForm(tabId, id, type);
    });
}
Luxena.Travel.Configuration.SystemConfigurationViewForm.prototype = {
    
    onLoadConfig: function Luxena_Travel_Configuration_SystemConfigurationViewForm$onLoadConfig() {
        var $enum1 = ss.IEnumerator.getEnumerator(this.get_itemConfig().Columns);
        while ($enum1.moveNext()) {
            var t = $enum1.current;
            if (t.Name === 'CompanyName') {
                t.Hidden = true;
                break;
            }
        }
    }
}


Type.registerNamespace('Luxena.Travel.Cfg');

////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Cfg.AviaOrderItemGenerationOption

Luxena.Travel.Cfg.AviaOrderItemGenerationOption = function() { };
Luxena.Travel.Cfg.AviaOrderItemGenerationOption.prototype = {
    alwaysOneOrderItem: 0, 
    separateServiceFee: 1, 
    manualSetting: 2
}
Luxena.Travel.Cfg.AviaOrderItemGenerationOption.registerEnum('Luxena.Travel.Cfg.AviaOrderItemGenerationOption', false);


Type.registerNamespace('Luxena.Travel.Services');

////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.ConsignmentService

Luxena.Travel.Services.ConsignmentService = function Luxena_Travel_Services_ConsignmentService() {
}
Luxena.Travel.Services.ConsignmentService.GetConsignmentFile = function Luxena_Travel_Services_ConsignmentService$GetConsignmentFile(issuedConsignmentId, onSuccess, onError) {
    Luxena.Travel.Services.ConsignmentService.service.invoke('GetConsignmentFile', { issuedConsignmentId: issuedConsignmentId }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ConsignmentService.GetLastIssuedConsignment = function Luxena_Travel_Services_ConsignmentService$GetLastIssuedConsignment(consignmentId, onSuccess, onError) {
    Luxena.Travel.Services.ConsignmentService.service.invoke('GetLastIssuedConsignment', { consignmentId: consignmentId }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ConsignmentService.GetConsignment = function Luxena_Travel_Services_ConsignmentService$GetConsignment(id, onSuccess, onError) {
    Luxena.Travel.Services.ConsignmentService.service.invoke('GetConsignment', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ConsignmentService.UpdateConsignment = function Luxena_Travel_Services_ConsignmentService$UpdateConsignment(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.ConsignmentService.service.invoke('UpdateConsignment', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ConsignmentService.GetConsignmentItems = function Luxena_Travel_Services_ConsignmentService$GetConsignmentItems(orderIds, onSuccess, onError) {
    Luxena.Travel.Services.ConsignmentService.service.invoke('GetConsignmentItems', { orderIds: orderIds }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.ClosedPeriodService

Luxena.Travel.Services.ClosedPeriodService = function Luxena_Travel_Services_ClosedPeriodService() {
}
Luxena.Travel.Services.ClosedPeriodService.GetLastClosedPeriod = function Luxena_Travel_Services_ClosedPeriodService$GetLastClosedPeriod(onSuccess, onError) {
    Luxena.Travel.Services.ClosedPeriodService.service.invoke('GetLastClosedPeriod', {}, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ClosedPeriodService.CanUpdate = function Luxena_Travel_Services_ClosedPeriodService$CanUpdate(dto, onSuccess, onError) {
    Luxena.Travel.Services.ClosedPeriodService.service.invoke('CanUpdate', { dto: dto }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ClosedPeriodService.UpdateClosedPeriod = function Luxena_Travel_Services_ClosedPeriodService$UpdateClosedPeriod(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.ClosedPeriodService.service.invoke('UpdateClosedPeriod', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.HomeModel

Luxena.Travel.Services.HomeModel = function Luxena_Travel_Services_HomeModel() {
}
Luxena.Travel.Services.HomeModel.prototype = {
    MyTasks: null,
    MyTasksTotal: 0,
    MetricsFromDate: null,
    MyDocuments: null,
    ShowOfficeBlocks: false,
    OfficeTasks: null,
    OfficeTasksTotal: 0,
    OfficeDocuments: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.DocumentStatsModel

Luxena.Travel.Services.DocumentStatsModel = function Luxena_Travel_Services_DocumentStatsModel() {
}
Luxena.Travel.Services.DocumentStatsModel.prototype = {
    UnprocessedDocuments: 0,
    DocumentsWithoutOwners: 0,
    UnpaidDocuments: 0,
    PassportRequirements: null,
    UrgentPassportRequirements: null,
    IncorrectPassports: null,
    OrdersToPay: 0,
    OrdersToExecute: 0,
    OrdersWithDebt: 0,
    DayStats: null
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.AppService

Luxena.Travel.Services.AppService = function Luxena_Travel_Services_AppService() {
}
Luxena.Travel.Services.AppService.GetAppParameters = function Luxena_Travel_Services_AppService$GetAppParameters(onSuccess, onError) {
    Luxena.Travel.Services.AppService.service.invoke('GetAppParameters', {}, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AppService.GetHomeModel = function Luxena_Travel_Services_AppService$GetHomeModel(statsFrom, statsTo, onSuccess, onError) {
    Luxena.Travel.Services.AppService.service.invoke('GetHomeModel', { statsFrom: statsFrom, statsTo: statsTo }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AppService.CloseTask = function Luxena_Travel_Services_AppService$CloseTask(id, onSuccess, onError) {
    Luxena.Travel.Services.AppService.service.invoke('CloseTask', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AppService.GetAppStateChanges = function Luxena_Travel_Services_AppService$GetAppStateChanges(request, onSuccess, onError) {
    Luxena.Travel.Services.AppService.service.invoke('GetAppStateChanges', { request: request }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AppService.GetDocumentOwners = function Luxena_Travel_Services_AppService$GetDocumentOwners(onSuccess, onError) {
    Luxena.Travel.Services.AppService.service.invoke('GetDocumentOwners', {}, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AppService.UpdateAnalytics = function Luxena_Travel_Services_AppService$UpdateAnalytics(onSuccess, onError) {
    Luxena.Travel.Services.AppService.service.invoke('UpdateAnalytics', {}, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.DomainService

Luxena.Travel.Services.DomainService = function Luxena_Travel_Services_DomainService() {
}
Luxena.Travel.Services.DomainService.get = function Luxena_Travel_Services_DomainService$get(className, id, onSuccess, onError) {
    if (ss.isValue(id)) {
        Luxena.Travel.Services.DomainService.service.invoke('Get' + className, { id: id }, false, null, onSuccess, onError);
    }
    else {
        onSuccess(null);
    }
}
Luxena.Travel.Services.DomainService.update = function Luxena_Travel_Services_DomainService$update(className, dto, prms, onSuccess, onError) {
    Luxena.Travel.Services.DomainService.service.invoke('Update' + className, { dto: dto, params: prms }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.ProductService

Luxena.Travel.Services.ProductService = function Luxena_Travel_Services_ProductService() {
}
Luxena.Travel.Services.ProductService.CanUpdate = function Luxena_Travel_Services_ProductService$CanUpdate(ids, onSuccess, onError) {
    Luxena.Travel.Services.ProductService.service.invoke('CanUpdate', { ids: ids }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ProductService.getObject1 = function Luxena_Travel_Services_ProductService$getObject1(className, id, onSuccess, onError) {
    if (ss.isValue(id)) {
        Luxena.Travel.Services.ProductService.service.invoke('Get' + className, { id: id }, false, null, onSuccess, onError);
    }
    else {
        onSuccess(null);
    }
}
Luxena.Travel.Services.ProductService.updateObject1 = function Luxena_Travel_Services_ProductService$updateObject1(className, dto, prms, onSuccess, onError) {
    Luxena.Travel.Services.ProductService.service.invoke('Update' + className, { dto: dto, params: prms }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ProductService.ChangeVoidStatus = function Luxena_Travel_Services_ProductService$ChangeVoidStatus(ids, pparams, onSuccess, onError) {
    Luxena.Travel.Services.ProductService.service.invoke('ChangeVoidStatus', { ids: ids, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ProductService.getProducers = function Luxena_Travel_Services_ProductService$getProducers(className, onSuccess, onError) {
    Luxena.Travel.Services.ProductService.service.invoke('GetProducers', { className: className }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ProductService.getProviders = function Luxena_Travel_Services_ProductService$getProviders(className, onSuccess, onError) {
    Luxena.Travel.Services.ProductService.service.invoke('GetProviders', { className: className }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ProductService.getGenericProductTypes = function Luxena_Travel_Services_ProductService$getGenericProductTypes(onSuccess, onError) {
    Luxena.Travel.Services.ProductService.service.invoke('GetGenericProductTypes', {}, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.AviaService

Luxena.Travel.Services.AviaService = function Luxena_Travel_Services_AviaService() {
}
Luxena.Travel.Services.AviaService.GetAviaDocument = function Luxena_Travel_Services_AviaService$GetAviaDocument(id, type, editMode, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('GetAviaDocument', { id: id, type: type, editMode: editMode }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.GetAviaReservationForProcess = function Luxena_Travel_Services_AviaService$GetAviaReservationForProcess(documentId, className, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('GetAviaReservationForProcess', { documentId: documentId, className: className }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.CanProcess = function Luxena_Travel_Services_AviaService$CanProcess(documentId, className, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('CanProcess', { documentId: documentId, className: className }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.ProcessAviaTickets = function Luxena_Travel_Services_AviaService$ProcessAviaTickets(dtos, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('ProcessAviaTickets', { dtos: dtos }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.ProcessAviaRefunds = function Luxena_Travel_Services_AviaService$ProcessAviaRefunds(dtos, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('ProcessAviaRefunds', { dtos: dtos }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.ProcessAviaMcos = function Luxena_Travel_Services_AviaService$ProcessAviaMcos(dtos, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('ProcessAviaMcos', { dtos: dtos }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.GetAviaDocumentForHandlingByNumber = function Luxena_Travel_Services_AviaService$GetAviaDocumentForHandlingByNumber(number, className, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('GetAviaDocumentForHandlingByNumber', { number: number, className: className }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess = function Luxena_Travel_Services_AviaService$GetAviaDocumentsForProcess(ids, className, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('GetAviaDocumentsForProcess', { ids: ids, className: className }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.ChangeVoidStatus = function Luxena_Travel_Services_AviaService$ChangeVoidStatus(ids, pparams, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('ChangeVoidStatus', { ids: ids, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.UpdateAviaTicket = function Luxena_Travel_Services_AviaService$UpdateAviaTicket(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('UpdateAviaTicket', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.UpdateAviaMco = function Luxena_Travel_Services_AviaService$UpdateAviaMco(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('UpdateAviaMco', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.UpdateAviaRefund = function Luxena_Travel_Services_AviaService$UpdateAviaRefund(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('UpdateAviaRefund', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.FindAirlineByPrefixCode = function Luxena_Travel_Services_AviaService$FindAirlineByPrefixCode(code, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('FindAirlineByPrefixCode', { code: code }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.FindAirportNameById = function Luxena_Travel_Services_AviaService$FindAirportNameById(id, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('FindAirportNameById', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.GetReservationDocumentCount = function Luxena_Travel_Services_AviaService$GetReservationDocumentCount(id, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('GetReservationDocumentCount', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.SuggestNotRefundedDocuments = function Luxena_Travel_Services_AviaService$SuggestNotRefundedDocuments(pparams, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('SuggestNotRefundedDocuments', { params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.suggestNotRefundedDocumentsProxy = function Luxena_Travel_Services_AviaService$suggestNotRefundedDocumentsProxy() {
    var proxy = new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.AviaService.service, 'SuggestNotRefundedDocuments');
    proxy.arguments = {};
    return proxy;
}
Luxena.Travel.Services.AviaService.CanUpdate = function Luxena_Travel_Services_AviaService$CanUpdate(ids, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('CanUpdate', { ids: ids }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.GetDocumentCountForUpdate = function Luxena_Travel_Services_AviaService$GetDocumentCountForUpdate(className, ids, dateFrom, dateTo, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('GetDocumentCountForUpdate', { className: className, ids: ids, dateFrom: dateFrom, dateTo: dateTo }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.ApplyDataToDocuments = function Luxena_Travel_Services_AviaService$ApplyDataToDocuments(className, ids, dateFrom, dateTo, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('ApplyDataToDocuments', { className: className, ids: ids, dateFrom: dateFrom, dateTo: dateTo }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.ValidatePassengerPassport = function Luxena_Travel_Services_AviaService$ValidatePassengerPassport(ticketId, passengerId, isGdsPassportNull, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('ValidatePassengerPassport', { ticketId: ticketId, passengerId: passengerId, isGdsPassportNull: isGdsPassportNull }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.AviaService.AddDocumentsByConsoleContent = function Luxena_Travel_Services_AviaService$AddDocumentsByConsoleContent(content, sellerId, ownerId, onSuccess, onError) {
    Luxena.Travel.Services.AviaService.service.invoke('AddDocumentsByConsoleContent', { content: content, sellerId: sellerId, ownerId: ownerId }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.GdsFileService

Luxena.Travel.Services.GdsFileService = function Luxena_Travel_Services_GdsFileService() {
}
Luxena.Travel.Services.GdsFileService.Reimport = function Luxena_Travel_Services_GdsFileService$Reimport(ids, pparams, onSuccess, onError) {
    Luxena.Travel.Services.GdsFileService.service.invoke('Reimport', { ids: ids, params: pparams }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.OrderService

Luxena.Travel.Services.OrderService = function Luxena_Travel_Services_OrderService() {
}
Luxena.Travel.Services.OrderService.GetOrdersByAviaDocuments = function Luxena_Travel_Services_OrderService$GetOrdersByAviaDocuments(aviaDocumentIds, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('GetOrdersByAviaDocuments', { aviaDocumentIds: aviaDocumentIds }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.FindAviaDocumentByNumer = function Luxena_Travel_Services_OrderService$FindAviaDocumentByNumer(number, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('FindAviaDocumentByNumer', { number: number }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.AddAviaDocuments = function Luxena_Travel_Services_OrderService$AddAviaDocuments(orderId, documentIds, separateServiceFee, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('AddAviaDocuments', { orderId: orderId, documentIds: documentIds, separateServiceFee: separateServiceFee }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.GenerateOrderItems = function Luxena_Travel_Services_OrderService$GenerateOrderItems(documentIds, separateServiceFee, ordreId, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('GenerateOrderItems', { documentIds: documentIds, separateServiceFee: separateServiceFee, ordreId: ordreId }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.GetOrder = function Luxena_Travel_Services_OrderService$GetOrder(id, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('GetOrder', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.UpdateOrder = function Luxena_Travel_Services_OrderService$UpdateOrder(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('UpdateOrder', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.IssueInvoice = function Luxena_Travel_Services_OrderService$IssueInvoice(id, number, issueDate, formNumber, showPaid, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('IssueInvoice', { id: id, number: number, issueDate: issueDate, formNumber: formNumber, showPaid: showPaid }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.IssueCompletionCertificate = function Luxena_Travel_Services_OrderService$IssueCompletionCertificate(id, number, issueDate, showPaid, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('IssueCompletionCertificate', { id: id, number: number, issueDate: issueDate, showPaid: showPaid }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.GetInvoiceFile = function Luxena_Travel_Services_OrderService$GetInvoiceFile(invoiceId, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('GetInvoiceFile', { invoiceId: invoiceId }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.DeleteInvoice = function Luxena_Travel_Services_OrderService$DeleteInvoice(id, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('DeleteInvoice', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.GetOrderItemsByNumber = function Luxena_Travel_Services_OrderService$GetOrderItemsByNumber(number, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('GetOrderItemsByNumber', { number: number }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.GetOrders = function Luxena_Travel_Services_OrderService$GetOrders(ids, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('GetOrders', { ids: ids }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.IssueReceipt = function Luxena_Travel_Services_OrderService$IssueReceipt(id, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('IssueReceipt', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.CreateQuickReceipt = function Luxena_Travel_Services_OrderService$CreateQuickReceipt(request, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('CreateQuickReceipt', { request: request }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.SuggestInvoices = function Luxena_Travel_Services_OrderService$SuggestInvoices(pparams, paymentType, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('SuggestInvoices', { params: pparams, paymentType: paymentType }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.OrderService.suggestInvoicesProxy = function Luxena_Travel_Services_OrderService$suggestInvoicesProxy(paymentType) {
    var proxy = new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.OrderService.service, 'SuggestInvoices');
    proxy.arguments = { paymentType: paymentType };
    return proxy;
}
Luxena.Travel.Services.OrderService.SetIsVoid = function Luxena_Travel_Services_OrderService$SetIsVoid(orderId, value, onSuccess, onError) {
    Luxena.Travel.Services.OrderService.service.invoke('SetIsVoid', { orderId: orderId, value: value }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.PartyService

Luxena.Travel.Services.PartyService = function Luxena_Travel_Services_PartyService() {
}
Luxena.Travel.Services.PartyService.getObject1 = function Luxena_Travel_Services_PartyService$getObject1(className, id, onSuccess, onError) {
    if (ss.isValue(id)) {
        Luxena.Travel.Services.PartyService.service.invoke('Get' + className, { id: id }, false, null, onSuccess, onError);
    }
    else {
        onSuccess(null);
    }
}
Luxena.Travel.Services.PartyService.updateObject1 = function Luxena_Travel_Services_PartyService$updateObject1(className, dto, prms, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('Update' + className, { dto: dto, params: prms }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.SuggestCustomers = function Luxena_Travel_Services_PartyService$SuggestCustomers(pparams, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('SuggestCustomers', { params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.suggestCustomersProxy = function Luxena_Travel_Services_PartyService$suggestCustomersProxy() {
    var proxy = new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.PartyService.service, 'SuggestCustomers');
    proxy.arguments = {};
    return proxy;
}
Luxena.Travel.Services.PartyService.SuggestUsers = function Luxena_Travel_Services_PartyService$SuggestUsers(pparams, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('SuggestUsers', { params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.suggestUsersProxy = function Luxena_Travel_Services_PartyService$suggestUsersProxy() {
    var proxy = new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.PartyService.service, 'SuggestUsers');
    proxy.arguments = {};
    return proxy;
}
Luxena.Travel.Services.PartyService.CreateCustomer = function Luxena_Travel_Services_PartyService$CreateCustomer(type, name, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('CreateCustomer', { type: type, name: name }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.Replace = function Luxena_Travel_Services_PartyService$Replace(fromId, toId, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('Replace', { fromId: fromId, toId: toId }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.GetPerson = function Luxena_Travel_Services_PartyService$GetPerson(id, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('GetPerson', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.UpdatePerson = function Luxena_Travel_Services_PartyService$UpdatePerson(dto, pparams, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('UpdatePerson', { dto: dto, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.GetDepartment = function Luxena_Travel_Services_PartyService$GetDepartment(id, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('GetDepartment', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.UploadFile = function Luxena_Travel_Services_PartyService$UploadFile(partyId, fileName, content, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('UploadFile', { partyId: partyId, fileName: fileName, content: content }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.DeleteFile = function Luxena_Travel_Services_PartyService$DeleteFile(id, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('DeleteFile', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PartyService.GetFile = function Luxena_Travel_Services_PartyService$GetFile(id, onSuccess, onError) {
    Luxena.Travel.Services.PartyService.service.invoke('GetFile', { id: id }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.PaymentService

Luxena.Travel.Services.PaymentService = function Luxena_Travel_Services_PaymentService() {
}
Luxena.Travel.Services.PaymentService.ChangeVoidStatus = function Luxena_Travel_Services_PaymentService$ChangeVoidStatus(ids, pparams, onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('ChangeVoidStatus', { ids: ids, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PaymentService.CanUpdate = function Luxena_Travel_Services_PaymentService$CanUpdate(ids, onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('CanUpdate', { ids: ids }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PaymentService.CanCreatePayment = function Luxena_Travel_Services_PaymentService$CanCreatePayment(aviaDocumentIds, onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('CanCreatePayment', { aviaDocumentIds: aviaDocumentIds }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PaymentService.CreateCashPayment = function Luxena_Travel_Services_PaymentService$CreateCashPayment(request, onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('CreateCashPayment', { request: request }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PaymentService.PostPayments = function Luxena_Travel_Services_PaymentService$PostPayments(ids, pparams, onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('PostPayments', { ids: ids, params: pparams }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PaymentService.GetCashOrderFile = function Luxena_Travel_Services_PaymentService$GetCashOrderFile(paymentId, onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('GetCashOrderFile', { paymentId: paymentId }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.PaymentService.GetPaymentSystems = function Luxena_Travel_Services_PaymentService$GetPaymentSystems(onSuccess, onError) {
    Luxena.Travel.Services.PaymentService.service.invoke('GetPaymentSystems', {}, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.ReportService

Luxena.Travel.Services.ReportService = function Luxena_Travel_Services_ReportService() {
}
Luxena.Travel.Services.ReportService.GetCustomerDocumentCount = function Luxena_Travel_Services_ReportService$GetCustomerDocumentCount(customerId, billToId, passenger, airlineId, paymentType, dateFrom, dateTo, unpayedDocumentsOnly, onSuccess, onError) {
    Luxena.Travel.Services.ReportService.service.invoke('GetCustomerDocumentCount', { customerId: customerId, billToId: billToId, passenger: passenger, airlineId: airlineId, paymentType: paymentType, dateFrom: dateFrom, dateTo: dateTo, unpayedDocumentsOnly: unpayedDocumentsOnly }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.ReportService.PrintTickets = function Luxena_Travel_Services_ReportService$PrintTickets(ids, onSuccess, onError) {
    Luxena.Travel.Services.ReportService.service.invoke('PrintTickets', { ids: ids }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.TaskService

Luxena.Travel.Services.TaskService = function Luxena_Travel_Services_TaskService() {
}
Luxena.Travel.Services.TaskService.ChangeStatus = function Luxena_Travel_Services_TaskService$ChangeStatus(ids, status, pparams, onSuccess, onError) {
    Luxena.Travel.Services.TaskService.service.invoke('ChangeStatus', { ids: ids, status: status, params: pparams }, false, null, onSuccess, onError);
}


////////////////////////////////////////////////////////////////////////////////
// Luxena.Travel.Services.UserService

Luxena.Travel.Services.UserService = function Luxena_Travel_Services_UserService() {
}
Luxena.Travel.Services.UserService.GetUserProfile = function Luxena_Travel_Services_UserService$GetUserProfile(id, onSuccess, onError) {
    Luxena.Travel.Services.UserService.service.invoke('GetUserProfile', { id: id }, false, null, onSuccess, onError);
}
Luxena.Travel.Services.UserService.ChangeUserPassword = function Luxena_Travel_Services_UserService$ChangeUserPassword(oldPassword, newPassword, onSuccess, onError) {
    Luxena.Travel.Services.UserService.service.invoke('ChangeUserPassword', { oldPassword: oldPassword, newPassword: newPassword }, false, null, onSuccess, onError);
}


Type.registerNamespace('LxnTravel');

////////////////////////////////////////////////////////////////////////////////
// LxnTravel.PartyTemplates

LxnTravel.PartyTemplates = function LxnTravel_PartyTemplates() {
}


Type.registerNamespace('LxnTravel.App');

////////////////////////////////////////////////////////////////////////////////
// LxnTravel.App.HomeViewModel

LxnTravel.App.HomeViewModel = function LxnTravel_App_HomeViewModel() {
    LxnTravel.App.HomeViewModel.initializeBase(this);
    this.MyDocuments = new LxnTravel.App.DocumentStatsViewModel(this, true);
    this.OfficeDocuments = new LxnTravel.App.DocumentStatsViewModel(this, false);
}


////////////////////////////////////////////////////////////////////////////////
// LxnTravel.App.DocumentStatsViewModel

LxnTravel.App.DocumentStatsViewModel = function LxnTravel_App_DocumentStatsViewModel(homeModel, mine) {
    LxnTravel.App.DocumentStatsViewModel.initializeBase(this);
    this._homeModel$1 = homeModel;
    this._mine$1 = mine;
    this.openUnprocessedDayDocuments = ss.Delegate.create(this, function(stats) {
        this._openDocuments$1(stats, true, false, false);
    });
    this.openAllDayDocuments = ss.Delegate.create(this, function(stats) {
        this._openDocuments$1(stats, false, false, false);
    });
}
LxnTravel.App.DocumentStatsViewModel.prototype = {
    
    openUnprocessedDocuments: function LxnTravel_App_DocumentStatsViewModel$openUnprocessedDocuments() {
        this._openDocuments$1(null, true, false, false);
    },
    
    openDocumentsWithoutOwners: function LxnTravel_App_DocumentStatsViewModel$openDocumentsWithoutOwners() {
        this._openDocuments$1(null, false, false, true);
    },
    
    openUnpaidDocuments: function LxnTravel_App_DocumentStatsViewModel$openUnpaidDocuments() {
        this._openDocuments$1(null, false, true, false);
    },
    
    openPassportRequirements: function LxnTravel_App_DocumentStatsViewModel$openPassportRequirements() {
        this._openDocumentsById$1(this.PassportRequirements);
    },
    
    openUrgentPassportRequirements: function LxnTravel_App_DocumentStatsViewModel$openUrgentPassportRequirements() {
        this._openDocumentsById$1(this.UrgentPassportRequirements);
    },
    
    openIncorrectPassports: function LxnTravel_App_DocumentStatsViewModel$openIncorrectPassports() {
        this._openDocumentsById$1(this.IncorrectPassports);
    },
    
    openOrdersToPay: function LxnTravel_App_DocumentStatsViewModel$openOrdersToPay() {
        var filter = new LxnBase.Data.PropertyFilter();
        filter.Property = 'TotalDue';
        filter.InternalPath = 'Amount';
        var condition = new LxnBase.Data.PropertyFilterCondition();
        condition.Operator = LxnBase.Data.FilterOperator.greater;
        condition.Value = 0;
        filter.Conditions = [ condition ];
        this._openOrders$1(filter);
    },
    
    openOrdersToExecute: function LxnTravel_App_DocumentStatsViewModel$openOrdersToExecute() {
        this._openOrders$1(LxnBase.UI.PropertyFilterExtention.createFilter('DeliveryBalance', LxnBase.Data.FilterOperator.greater, 0, false));
    },
    
    openOrdersWithDebt: function LxnTravel_App_DocumentStatsViewModel$openOrdersWithDebt() {
        this._openOrders$1(LxnBase.UI.PropertyFilterExtention.createFilter('DeliveryBalance', LxnBase.Data.FilterOperator.less, 0, false));
    },
    
    openUnprocessedDayDocuments: null,
    openAllDayDocuments: null,
    
    showDocuments: function LxnTravel_App_DocumentStatsViewModel$showDocuments() {
        return !!this.UnprocessedDocuments || !!this.UnpaidDocuments || this.showPassportRequirements();
    },
    
    showPassportRequirements: function LxnTravel_App_DocumentStatsViewModel$showPassportRequirements() {
        return !!this.PassportRequirements.length || !!this.UrgentPassportRequirements.length || !!this.IncorrectPassports.length;
    },
    
    _openDocuments$1: function LxnTravel_App_DocumentStatsViewModel$_openDocuments$1(stats, unprocessed, unpaid, withoutOwner) {
        var request = new LxnBase.Data.RangeRequest();
        var filters = [];
        if (stats != null) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IssueDate', LxnBase.Data.FilterOperator.equals, stats.Date, false));
        }
        else if (this._homeModel$1.MetricsFromDate != null) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IssueDate', LxnBase.Data.FilterOperator.greaterOrEquals, this._homeModel$1.MetricsFromDate, false));
        }
        if (this._mine$1) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('Seller', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false));
        }
        if (unprocessed) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('RequiresProcessing', LxnBase.Data.FilterOperator.equals, true, false));
        }
        if (unpaid) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid', LxnBase.Data.FilterOperator.equals, false, false));
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsPaid', LxnBase.Data.FilterOperator.equals, false, false));
        }
        if (unpaid || !(this._mine$1 || Luxena.Travel.AppManager.get_systemConfiguration().ReservationsInOfficeMetrics)) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('Name', LxnBase.Data.FilterOperator.isNull, true, true));
        }
        if (withoutOwner) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('Owner', LxnBase.Data.FilterOperator.isNull, false, false));
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid', LxnBase.Data.FilterOperator.equals, false, false));
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('RequiresProcessing', LxnBase.Data.FilterOperator.equals, true, false));
        }
        request.Filters = filters;
        LxnBase.UI.FormsRegistry.listObjects('Product', request, false);
    },
    
    _openDocumentsById$1: function LxnTravel_App_DocumentStatsViewModel$_openDocumentsById$1(ids) {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Id', LxnBase.Data.FilterOperator.isIdIn, ids, false) ];
        LxnBase.UI.FormsRegistry.listObjects('AviaDocument', request, false);
    },
    
    _openOrders$1: function LxnTravel_App_DocumentStatsViewModel$_openOrders$1(filter) {
        var request = new LxnBase.Data.RangeRequest();
        var filters = [filter];
        filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid', LxnBase.Data.FilterOperator.equals, false, false));
        if (this._homeModel$1.MetricsFromDate != null) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('IssueDate', LxnBase.Data.FilterOperator.greaterOrEquals, this._homeModel$1.MetricsFromDate, false));
        }
        if (this._mine$1) {
            filters.add(LxnBase.UI.PropertyFilterExtention.createFilter('AssignedTo', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false));
        }
        request.Filters = filters;
        LxnBase.UI.FormsRegistry.listObjects('Order', request, false);
    },
    
    _homeModel$1: null,
    _mine$1: false
}


////////////////////////////////////////////////////////////////////////////////
// LxnTravel.App.HomeTab

LxnTravel.App.HomeTab = function LxnTravel_App_HomeTab(tabId) {
    LxnTravel.App.HomeTab.initializeBase(this, [ new Ext.PanelConfig().title(Luxena.Travel.Res.home).cls('homeTab').autoScroll(true).toDictionary(), tabId ]);
    this.editSettings = ss.Delegate.create(this, function() {
        var form = new Luxena.Travel.HomeSettingsForm();
        form.set_from(this._statsFrom$6);
        form.set_to(this._statsTo$6);
        form.add_saved(ss.Delegate.create(this, function() {
            this._statsFrom$6 = form.get_from();
            this._statsTo$6 = form.get_to();
            this._reload$6();
        }));
        form.open();
    });
    this.closeTask = ss.Delegate.create(this, function(task, e) {
        this._clearTimeout$6();
        Luxena.Travel.Services.AppService.CloseTask(task.Id, ss.Delegate.create(this, function() {
            $(e.target).closest('li.task').fadeTo(500, 0).promise().done(ss.Delegate.create(this, function() {
                this._reload$6();
            }));
        }), null);
        return true;
    });
}
LxnTravel.App.HomeTab.init = function LxnTravel_App_HomeTab$init() {
    LxnBase.UI.Tabs.open(false, 'homeTab', function(tabId) {
        return new LxnTravel.App.HomeTab(tabId);
    });
}
LxnTravel.App.HomeTab.prototype = {
    model: null,
    showMyTasksTotal: false,
    showOfficeTasksTotal: false,
    editSettings: null,
    closeTask: null,
    
    onActivate: function LxnTravel_App_HomeTab$onActivate(isFirst) {
        this._reload$6();
    },
    
    onDeactivate: function LxnTravel_App_HomeTab$onDeactivate() {
        this._clearTimeout$6();
    },
    
    openAllMyTasks: function LxnTravel_App_HomeTab$openAllMyTasks() {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('AssignedTo', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false) ];
        LxnBase.UI.FormsRegistry.listObjects('Task', request, false);
    },
    
    openMyActiveTasks: function LxnTravel_App_HomeTab$openMyActiveTasks() {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('AssignedTo', LxnBase.Data.FilterOperator.equals, Luxena.Travel.AppManager.get_currentPerson().Name, false), LxnBase.UI.PropertyFilterExtention.createFilter('Status', LxnBase.Data.FilterOperator.equals, 3, true) ];
        LxnBase.UI.FormsRegistry.listObjects('Task', request, false);
    },
    
    openAllTasks: function LxnTravel_App_HomeTab$openAllTasks() {
        LxnBase.UI.FormsRegistry.listObjects('Task', new LxnBase.Data.RangeRequest(), false);
    },
    
    openActiveTasks: function LxnTravel_App_HomeTab$openActiveTasks() {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Status', LxnBase.Data.FilterOperator.equals, 3, true) ];
        LxnBase.UI.FormsRegistry.listObjects('Task', request, false);
    },
    
    openDocuments: function LxnTravel_App_HomeTab$openDocuments(ids) {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Id', LxnBase.Data.FilterOperator.isIdIn, ids, false) ];
        LxnBase.UI.FormsRegistry.listObjects('AviaDocument', request, false);
    },
    
    openOrders: function LxnTravel_App_HomeTab$openOrders(ids) {
        var request = new LxnBase.Data.RangeRequest();
        request.Filters = [ LxnBase.UI.PropertyFilterExtention.createFilter('Id', LxnBase.Data.FilterOperator.isIdIn, ids, false) ];
        LxnBase.UI.FormsRegistry.listObjects('Order', request, false);
    },
    
    _clearTimeout$6: function LxnTravel_App_HomeTab$_clearTimeout$6() {
        if (!this._timeout$6) {
            return;
        }
        window.clearTimeout(this._timeout$6);
        this._timeout$6 = 0;
    },
    
    _load$6: function LxnTravel_App_HomeTab$_load$6() {
        Luxena.Travel.Services.AppService.GetHomeModel(this._statsFrom$6, this._statsTo$6, ss.Delegate.create(this, this._setModel$6), ss.Delegate.create(this, function(args) {
            args.set_handled(true);
            this._timeout$6 = window.setTimeout(ss.Delegate.create(this, this._load$6), 60000);
        }));
    },
    
    _setModel$6: function LxnTravel_App_HomeTab$_setModel$6(result) {
        this.model = new LxnTravel.App.HomeViewModel();
        LxnBase.ObjectUtility.merge(this.model, result);
        this.showMyTasksTotal = this.model.MyTasks.length < this.model.MyTasksTotal;
        if (this.model.ShowOfficeBlocks) {
            this.showOfficeTasksTotal = this.model.OfficeTasks != null && this.model.OfficeTasks.length < this.model.OfficeTasksTotal;
        }
        var obj = $('<div class="home"></div>');
        LxnTravel.App.HomeTab.main.renderTo(obj.get(0), this);
        $(this.body.dom).html(obj);
        this._timeout$6 = window.setTimeout(ss.Delegate.create(this, this._load$6), 30000);
    },
    
    _reload$6: function LxnTravel_App_HomeTab$_reload$6() {
        this._clearTimeout$6();
        this._load$6();
    },
    
    _timeout$6: 0,
    _statsFrom$6: null,
    _statsTo$6: null
}


Type.registerNamespace('LxnTravel.Accounting.Order');

////////////////////////////////////////////////////////////////////////////////
// LxnTravel.Accounting.Order.Order

LxnTravel.Accounting.Order.Order = function LxnTravel_Accounting_Order_Order() {
}


Type.registerNamespace('LxnTravel.Parties');

////////////////////////////////////////////////////////////////////////////////
// LxnTravel.Parties.Party

LxnTravel.Parties.Party = function LxnTravel_Parties_Party() {
}


////////////////////////////////////////////////////////////////////////////////
// LxnTravel.Parties.SystemConfiguration

LxnTravel.Parties.SystemConfiguration = function LxnTravel_Parties_SystemConfiguration() {
}


LxnBase.UI.BasicViewForm.registerClass('LxnBase.UI.BasicViewForm', LxnBase.UI.Tab);
Luxena.Travel.Controls.AutoListTabExt.registerClass('Luxena.Travel.Controls.AutoListTabExt', LxnBase.UI.AutoForms.AutoListTab);
Luxena.Travel.Controls.AutoListTabExt2.registerClass('Luxena.Travel.Controls.AutoListTabExt2', Luxena.Travel.Controls.AutoListTabExt, Luxena.Travel.IGridForm);
Luxena.Travel.EntityListTab.registerClass('Luxena.Travel.EntityListTab', Luxena.Travel.Controls.AutoListTabExt2);
Luxena.Travel.ClosedPeriodListTab.registerClass('Luxena.Travel.ClosedPeriodListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.BaseEditForm2.registerClass('Luxena.Travel.BaseEditForm2', LxnBase.UI.BaseEditForm, Luxena.Travel.IEditForm);
Luxena.Travel.EntityEditForm.registerClass('Luxena.Travel.EntityEditForm', Luxena.Travel.BaseEditForm2);
Luxena.Travel.ClosedPeriodEditForm.registerClass('Luxena.Travel.ClosedPeriodEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel._contractEditForm.registerClass('Luxena.Travel._contractEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel._contractListTab.registerClass('Luxena.Travel._contractListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.CurrencyDailyRateEditForm.registerClass('Luxena.Travel.CurrencyDailyRateEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.CurrencyDailyRateListTab.registerClass('Luxena.Travel.CurrencyDailyRateListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.Entity3DListTab.registerClass('Luxena.Travel.Entity3DListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.BankAccountListTab.registerClass('Luxena.Travel.BankAccountListTab', Luxena.Travel.Entity3DListTab);
Luxena.Travel.InternalTransferListTab.registerClass('Luxena.Travel.InternalTransferListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.InternalTransferEditForm.registerClass('Luxena.Travel.InternalTransferEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel._invoiceEditForm.registerClass('Luxena.Travel._invoiceEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.OpeningBalanceListTab.registerClass('Luxena.Travel.OpeningBalanceListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.OpeningBalanceEditForm.registerClass('Luxena.Travel.OpeningBalanceEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel._orderListTab.registerClass('Luxena.Travel._orderListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.ModificationListTab.registerClass('Luxena.Travel.ModificationListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.ModificationEditForm.registerClass('Luxena.Travel.ModificationEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.IdentityListTab.registerClass('Luxena.Travel.IdentityListTab', Luxena.Travel.Entity3DListTab);
Luxena.Travel.Entity3DEditForm.registerClass('Luxena.Travel.Entity3DEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.IdentityEditForm.registerClass('Luxena.Travel.IdentityEditForm', Luxena.Travel.Entity3DEditForm);
Luxena.Travel.UserVisitListTab.registerClass('Luxena.Travel.UserVisitListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.UserVisitEditForm.registerClass('Luxena.Travel.UserVisitEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.UserListTab.registerClass('Luxena.Travel.UserListTab', Luxena.Travel.IdentityListTab);
Luxena.Travel.UserEditForm.registerClass('Luxena.Travel.UserEditForm', Luxena.Travel.IdentityEditForm);
Luxena.Travel.CellRenderers.registerClass('Luxena.Travel.CellRenderers');
Luxena.Travel.ReferenceSelectorConfig.registerClass('Luxena.Travel.ReferenceSelectorConfig', Ext.form.ComboBoxConfig);
Luxena.Travel.Entity3EditForm.registerClass('Luxena.Travel.Entity3EditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.Entity3ListTab.registerClass('Luxena.Travel.Entity3ListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.SemanticType.registerClass('Luxena.Travel.SemanticType');
Luxena.Travel.BoolSemanticType.registerClass('Luxena.Travel.BoolSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.ViewTypes.registerClass('Luxena.Travel.ViewTypes');
Luxena.Travel.SemanticEntity.registerClass('Luxena.Travel.SemanticEntity');
Luxena.Travel.SemanticMember.registerClass('Luxena.Travel.SemanticMember', Luxena.Travel.SemanticEntity);
Luxena.Travel.ReferenceSemanticType.registerClass('Luxena.Travel.ReferenceSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.LocalReferenceSemanticType.registerClass('Luxena.Travel.LocalReferenceSemanticType', Luxena.Travel.ReferenceSemanticType);
Luxena.Travel.MoneySemanticType.registerClass('Luxena.Travel.MoneySemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.EnumSemanticType.registerClass('Luxena.Travel.EnumSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.EnumsSemanticType.registerClass('Luxena.Travel.EnumsSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.NumericSemanticType.registerClass('Luxena.Travel.NumericSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.DateSemanticType.registerClass('Luxena.Travel.DateSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.FormMember.registerClass('Luxena.Travel.FormMember');
Luxena.Travel.FormMembers.registerClass('Luxena.Travel.FormMembers');
Luxena.Travel.StringSemanticType.registerClass('Luxena.Travel.StringSemanticType', Luxena.Travel.SemanticType);
Luxena.Travel.PasswordSemanticType.registerClass('Luxena.Travel.PasswordSemanticType', Luxena.Travel.StringSemanticType);
Luxena.Travel.ConfirmPasswordSemanticType.registerClass('Luxena.Travel.ConfirmPasswordSemanticType', Luxena.Travel.PasswordSemanticType);
Luxena.Travel.SemanticDomain.registerClass('Luxena.Travel.SemanticDomain');
Luxena.Travel.InvoiceGridView.registerClass('Luxena.Travel.InvoiceGridView', LxnBase.UI.AutoControls.AutoGridView);
Luxena.Travel.InvoiceIssueForm.registerClass('Luxena.Travel.InvoiceIssueForm', LxnBase.UI.BaseEditForm);
Luxena.Travel._invoiceListTab.registerClass('Luxena.Travel._invoiceListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.OrderEditForm.registerClass('Luxena.Travel.OrderEditForm', LxnBase.UI.BaseClassEditForm);
Luxena.Travel.OrderItemEditForm.registerClass('Luxena.Travel.OrderItemEditForm', LxnBase.UI.BaseClassEditForm);
Luxena.Travel.OrderItemGridControl.registerClass('Luxena.Travel.OrderItemGridControl', Ext.grid.EditorGridPanel);
Luxena.Travel.OrderViewForm.registerClass('Luxena.Travel.OrderViewForm', LxnBase.UI.BaseClassViewForm);
Luxena.Travel.ConsignmentViewForm.registerClass('Luxena.Travel.ConsignmentViewForm', LxnBase.UI.AutoForms.AutoViewForm);
Luxena.Travel.ConsignmentEditForm.registerClass('Luxena.Travel.ConsignmentEditForm', LxnBase.UI.BaseClassEditForm);
Luxena.Travel.ConsignmentItemGridControl.registerClass('Luxena.Travel.ConsignmentItemGridControl', Ext.grid.EditorGridPanel);
Luxena.Travel.QuickReceiptEditForm.registerClass('Luxena.Travel.QuickReceiptEditForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.PaymentGridView.registerClass('Luxena.Travel.PaymentGridView', LxnBase.UI.AutoControls.AutoGridView);
Luxena.Travel.EntitySemantic.registerClass('Luxena.Travel.EntitySemantic', Luxena.Travel.SemanticEntity);
Luxena.Travel.Entity2Semantic.registerClass('Luxena.Travel.Entity2Semantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.Entity3Semantic.registerClass('Luxena.Travel.Entity3Semantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.Entity3DSemantic.registerClass('Luxena.Travel.Entity3DSemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.PassportSemantic.registerClass('Luxena.Travel.PassportSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.PassportListTab.registerClass('Luxena.Travel.PassportListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.PassportEditForm.registerClass('Luxena.Travel.PassportEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.BankAccountSemantic.registerClass('Luxena.Travel.BankAccountSemantic', Luxena.Travel.Entity3DSemantic);
Luxena.Travel.BankAccountEditForm.registerClass('Luxena.Travel.BankAccountEditForm', Luxena.Travel.Entity3DEditForm);
Luxena.Travel.MilesCardSemantic.registerClass('Luxena.Travel.MilesCardSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.MilesCardListTab.registerClass('Luxena.Travel.MilesCardListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.MilesCardEditForm.registerClass('Luxena.Travel.MilesCardEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.PartySemantic.registerClass('Luxena.Travel.PartySemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.OrganizationSemantic.registerClass('Luxena.Travel.OrganizationSemantic', Luxena.Travel.PartySemantic);
Luxena.Travel.PartyListTab.registerClass('Luxena.Travel.PartyListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.OrganizationListTab.registerClass('Luxena.Travel.OrganizationListTab', Luxena.Travel.PartyListTab);
Luxena.Travel.PartyEditForm.registerClass('Luxena.Travel.PartyEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.OrganizationEditForm.registerClass('Luxena.Travel.OrganizationEditForm', Luxena.Travel.PartyEditForm);
Luxena.Travel.PersonSemantic.registerClass('Luxena.Travel.PersonSemantic', Luxena.Travel.PartySemantic);
Luxena.Travel.PersonListTab.registerClass('Luxena.Travel.PersonListTab', Luxena.Travel.PartyListTab);
Luxena.Travel.PersonEditForm.registerClass('Luxena.Travel.PersonEditForm', Luxena.Travel.PartyEditForm);
Luxena.Travel.DepartmentSemantic.registerClass('Luxena.Travel.DepartmentSemantic', Luxena.Travel.PartySemantic);
Luxena.Travel.DepartmentListTab.registerClass('Luxena.Travel.DepartmentListTab', Luxena.Travel.PartyListTab);
Luxena.Travel.DepartmentEditForm.registerClass('Luxena.Travel.DepartmentEditForm', Luxena.Travel.PartyEditForm);
Luxena.Travel.AccommodationProviderSemantic.registerClass('Luxena.Travel.AccommodationProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.BusTicketProviderSemantic.registerClass('Luxena.Travel.BusTicketProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.PasteboardProviderSemantic.registerClass('Luxena.Travel.PasteboardProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.TransferProviderSemantic.registerClass('Luxena.Travel.TransferProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.GenericProductProviderSemantic.registerClass('Luxena.Travel.GenericProductProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.CarRentalProviderSemantic.registerClass('Luxena.Travel.CarRentalProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.TourProviderSemantic.registerClass('Luxena.Travel.TourProviderSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.RoamingOperatorSemantic.registerClass('Luxena.Travel.RoamingOperatorSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.InsuranceCompanySemantic.registerClass('Luxena.Travel.InsuranceCompanySemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.AirlineSemantic.registerClass('Luxena.Travel.AirlineSemantic', Luxena.Travel.OrganizationSemantic);
Luxena.Travel.CustomerSemantic.registerClass('Luxena.Travel.CustomerSemantic', Luxena.Travel.PartySemantic);
Luxena.Travel.OrderSemantic.registerClass('Luxena.Travel.OrderSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.CurrencyDailyRateSemantic.registerClass('Luxena.Travel.CurrencyDailyRateSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.CateringTypeSemantic.registerClass('Luxena.Travel.CateringTypeSemantic', Luxena.Travel.Entity3DSemantic);
Luxena.Travel.CateringTypeListTab.registerClass('Luxena.Travel.CateringTypeListTab', Luxena.Travel.Entity3DListTab);
Luxena.Travel.CateringTypeEditForm.registerClass('Luxena.Travel.CateringTypeEditForm', Luxena.Travel.Entity3DEditForm);
Luxena.Travel.AccommodationTypeSemantic.registerClass('Luxena.Travel.AccommodationTypeSemantic', Luxena.Travel.Entity3DSemantic);
Luxena.Travel.AccommodationTypeListTab.registerClass('Luxena.Travel.AccommodationTypeListTab', Luxena.Travel.Entity3DListTab);
Luxena.Travel.AccommodationTypeEditForm.registerClass('Luxena.Travel.AccommodationTypeEditForm', Luxena.Travel.Entity3DEditForm);
Luxena.Travel.GenericProductTypeSemantic.registerClass('Luxena.Travel.GenericProductTypeSemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.GenericProductTypeListTab.registerClass('Luxena.Travel.GenericProductTypeListTab', Luxena.Travel.Entity3ListTab);
Luxena.Travel.GenericProductTypeEditForm.registerClass('Luxena.Travel.GenericProductTypeEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.ProductPassengerSemantic.registerClass('Luxena.Travel.ProductPassengerSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.ProductPassengerListTab.registerClass('Luxena.Travel.ProductPassengerListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.ProductPassengerEditForm.registerClass('Luxena.Travel.ProductPassengerEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.ProductSemantic.registerClass('Luxena.Travel.ProductSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.BusTicketSemantic.registerClass('Luxena.Travel.BusTicketSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.ProductListTab.registerClass('Luxena.Travel.ProductListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.BusTicketListTab.registerClass('Luxena.Travel.BusTicketListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.ProductEditForm.registerClass('Luxena.Travel.ProductEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.BusTicketEditForm.registerClass('Luxena.Travel.BusTicketEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.ExcursionSemantic.registerClass('Luxena.Travel.ExcursionSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.ExcursionListTab.registerClass('Luxena.Travel.ExcursionListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.ExcursionEditForm.registerClass('Luxena.Travel.ExcursionEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.IsicSemantic.registerClass('Luxena.Travel.IsicSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.IsicListTab.registerClass('Luxena.Travel.IsicListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.IsicEditForm.registerClass('Luxena.Travel.IsicEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.PasteboardSemantic.registerClass('Luxena.Travel.PasteboardSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.PasteboardListTab.registerClass('Luxena.Travel.PasteboardListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.PasteboardEditForm.registerClass('Luxena.Travel.PasteboardEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.TransferSemantic.registerClass('Luxena.Travel.TransferSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.TransferListTab.registerClass('Luxena.Travel.TransferListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.TransferEditForm.registerClass('Luxena.Travel.TransferEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.GenericProductSemantic.registerClass('Luxena.Travel.GenericProductSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.GenericProductListTab.registerClass('Luxena.Travel.GenericProductListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.GenericProductEditForm.registerClass('Luxena.Travel.GenericProductEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.CarRentalSemantic.registerClass('Luxena.Travel.CarRentalSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.CarRentalListTab.registerClass('Luxena.Travel.CarRentalListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.CarRentalEditForm.registerClass('Luxena.Travel.CarRentalEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.TourSemantic.registerClass('Luxena.Travel.TourSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.TourListTab.registerClass('Luxena.Travel.TourListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.TourEditForm.registerClass('Luxena.Travel.TourEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.AccommodationSemantic.registerClass('Luxena.Travel.AccommodationSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.AccommodationListTab.registerClass('Luxena.Travel.AccommodationListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.AccommodationEditForm.registerClass('Luxena.Travel.AccommodationEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.SimCardSemantic.registerClass('Luxena.Travel.SimCardSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.SimCardListTab.registerClass('Luxena.Travel.SimCardListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.SimCardEditForm.registerClass('Luxena.Travel.SimCardEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.InsuranceSemantic.registerClass('Luxena.Travel.InsuranceSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.InsuranceListTab.registerClass('Luxena.Travel.InsuranceListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.InsuranceEditForm.registerClass('Luxena.Travel.InsuranceEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.AviaDocumentSemantic.registerClass('Luxena.Travel.AviaDocumentSemantic', Luxena.Travel.ProductSemantic);
Luxena.Travel.AviaTicketSemantic.registerClass('Luxena.Travel.AviaTicketSemantic', Luxena.Travel.AviaDocumentSemantic);
Luxena.Travel.AviaDocumentListTab.registerClass('Luxena.Travel.AviaDocumentListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.AviaTicketListTab.registerClass('Luxena.Travel.AviaTicketListTab', Luxena.Travel.AviaDocumentListTab);
Luxena.Travel.AviaDocumentEditForm.registerClass('Luxena.Travel.AviaDocumentEditForm', Luxena.Travel.ProductEditForm);
Luxena.Travel.AviaTicketEditForm.registerClass('Luxena.Travel.AviaTicketEditForm', Luxena.Travel.AviaDocumentEditForm);
Luxena.Travel.AviaMcoSemantic.registerClass('Luxena.Travel.AviaMcoSemantic', Luxena.Travel.AviaDocumentSemantic);
Luxena.Travel.AviaMcoListTab.registerClass('Luxena.Travel.AviaMcoListTab', Luxena.Travel.AviaDocumentListTab);
Luxena.Travel.AviaMcoEditForm.registerClass('Luxena.Travel.AviaMcoEditForm', Luxena.Travel.AviaDocumentEditForm);
Luxena.Travel.AviaRefundSemantic.registerClass('Luxena.Travel.AviaRefundSemantic', Luxena.Travel.AviaDocumentSemantic);
Luxena.Travel.AviaRefundListTab.registerClass('Luxena.Travel.AviaRefundListTab', Luxena.Travel.AviaDocumentListTab);
Luxena.Travel.AviaRefundEditForm.registerClass('Luxena.Travel.AviaRefundEditForm', Luxena.Travel.AviaDocumentEditForm);
Luxena.Travel.CountrySemantic.registerClass('Luxena.Travel.CountrySemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.CountryListTab.registerClass('Luxena.Travel.CountryListTab', Luxena.Travel.Entity3ListTab);
Luxena.Travel.CountryEditForm.registerClass('Luxena.Travel.CountryEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.AirlineServiceClassSemantic.registerClass('Luxena.Travel.AirlineServiceClassSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.AirlineServiceClassListTab.registerClass('Luxena.Travel.AirlineServiceClassListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.AirlineServiceClassEditForm.registerClass('Luxena.Travel.AirlineServiceClassEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.AirlineMonthCommissionSemantic.registerClass('Luxena.Travel.AirlineMonthCommissionSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.AirlineMonthCommissionListTab.registerClass('Luxena.Travel.AirlineMonthCommissionListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.AirlineMonthCommissionEditForm.registerClass('Luxena.Travel.AirlineMonthCommissionEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.AirportSemantic.registerClass('Luxena.Travel.AirportSemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.AirportListTab.registerClass('Luxena.Travel.AirportListTab', Luxena.Travel.Entity3ListTab);
Luxena.Travel.AirportEditForm.registerClass('Luxena.Travel.AirportEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.PaymentSystemSemantic.registerClass('Luxena.Travel.PaymentSystemSemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.PaymentSystemListTab.registerClass('Luxena.Travel.PaymentSystemListTab', Luxena.Travel.Entity3ListTab);
Luxena.Travel.PaymentSystemEditForm.registerClass('Luxena.Travel.PaymentSystemEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.CurrencySemantic.registerClass('Luxena.Travel.CurrencySemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.CurrencyListTab.registerClass('Luxena.Travel.CurrencyListTab', Luxena.Travel.Entity3ListTab);
Luxena.Travel.CurrencyEditForm.registerClass('Luxena.Travel.CurrencyEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.IdentitySemantic.registerClass('Luxena.Travel.IdentitySemantic', Luxena.Travel.Entity3DSemantic);
Luxena.Travel.UserSemantic.registerClass('Luxena.Travel.UserSemantic', Luxena.Travel.IdentitySemantic);
Luxena.Travel.UserVisitSemantic.registerClass('Luxena.Travel.UserVisitSemantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.SystemConfigurationSemantic.registerClass('Luxena.Travel.SystemConfigurationSemantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.SystemConfigurationEditForm.registerClass('Luxena.Travel.SystemConfigurationEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.AirlineCommissionPercentsSemantic.registerClass('Luxena.Travel.AirlineCommissionPercentsSemantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.AirlineCommissionPercentsListTab.registerClass('Luxena.Travel.AirlineCommissionPercentsListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.AirlineCommissionPercentsEditForm.registerClass('Luxena.Travel.AirlineCommissionPercentsEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.DocumentOwnerSemantic.registerClass('Luxena.Travel.DocumentOwnerSemantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.DocumentOwnerListTab.registerClass('Luxena.Travel.DocumentOwnerListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.DocumentOwnerEditForm.registerClass('Luxena.Travel.DocumentOwnerEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.DocumentAccessSemantic.registerClass('Luxena.Travel.DocumentAccessSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.DocumentAccessListTab.registerClass('Luxena.Travel.DocumentAccessListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.DocumentAccessEditForm.registerClass('Luxena.Travel.DocumentAccessEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.ClosedPeriodSemantic.registerClass('Luxena.Travel.ClosedPeriodSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.OpeningBalanceSemantic.registerClass('Luxena.Travel.OpeningBalanceSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.InternalTransferSemantic.registerClass('Luxena.Travel.InternalTransferSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.GdsAgentSemantic.registerClass('Luxena.Travel.GdsAgentSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.GdsAgentListTab.registerClass('Luxena.Travel.GdsAgentListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.GdsAgentEditForm.registerClass('Luxena.Travel.GdsAgentEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.GdsFileSemantic.registerClass('Luxena.Travel.GdsFileSemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.InvoiceSemantic.registerClass('Luxena.Travel.InvoiceSemantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.ReceiptSemantic.registerClass('Luxena.Travel.ReceiptSemantic', Luxena.Travel.InvoiceSemantic);
Luxena.Travel.TaskSemantic.registerClass('Luxena.Travel.TaskSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.TaskListTab.registerClass('Luxena.Travel.TaskListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.TaskEditForm.registerClass('Luxena.Travel.TaskEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.PaymentSemantic.registerClass('Luxena.Travel.PaymentSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.ContractSemantic.registerClass('Luxena.Travel.ContractSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.ModificationSemantic.registerClass('Luxena.Travel.ModificationSemantic', Luxena.Travel.EntitySemantic);
Luxena.Travel.FlightSegmentSemantic.registerClass('Luxena.Travel.FlightSegmentSemantic', Luxena.Travel.Entity2Semantic);
Luxena.Travel.FlightSegmentListTab.registerClass('Luxena.Travel.FlightSegmentListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.FlightSegmentEditForm.registerClass('Luxena.Travel.FlightSegmentEditForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.AirplaneModelSemantic.registerClass('Luxena.Travel.AirplaneModelSemantic', Luxena.Travel.Entity3Semantic);
Luxena.Travel.AirplaneModelListTab.registerClass('Luxena.Travel.AirplaneModelListTab', Luxena.Travel.Entity3ListTab);
Luxena.Travel.AirplaneModelEditForm.registerClass('Luxena.Travel.AirplaneModelEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.PartyReplaceForm.registerClass('Luxena.Travel.PartyReplaceForm', Luxena.Travel.EntityEditForm);
Luxena.Travel.PartyReplaceParams.registerClass('Luxena.Travel.PartyReplaceParams', Luxena.Travel.EntitySemantic);
Luxena.Travel.ProductViewForm.registerClass('Luxena.Travel.ProductViewForm', LxnBase.UI.BasicViewForm);
Luxena.Travel.AccommodationViewForm.registerClass('Luxena.Travel.AccommodationViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.FlightSegmentGridControl.registerClass('Luxena.Travel.FlightSegmentGridControl', null, Luxena.Travel.IGridControl);
Luxena.Travel.GdsFileEditForm.registerClass('Luxena.Travel.GdsFileEditForm', Luxena.Travel.Entity3EditForm);
Luxena.Travel.CarRentalViewForm.registerClass('Luxena.Travel.CarRentalViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.BusTicketRefundEditForm.registerClass('Luxena.Travel.BusTicketRefundEditForm', Luxena.Travel.BusTicketEditForm);
Luxena.Travel.BusTicketViewForm.registerClass('Luxena.Travel.BusTicketViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.BusTicketRefundViewForm.registerClass('Luxena.Travel.BusTicketRefundViewForm', Luxena.Travel.BusTicketViewForm);
Luxena.Travel.GenericProductViewForm.registerClass('Luxena.Travel.GenericProductViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.InsuranceRefundEditForm.registerClass('Luxena.Travel.InsuranceRefundEditForm', Luxena.Travel.InsuranceEditForm);
Luxena.Travel.InsuranceViewForm.registerClass('Luxena.Travel.InsuranceViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.InsuranceRefundViewForm.registerClass('Luxena.Travel.InsuranceRefundViewForm', Luxena.Travel.InsuranceViewForm);
Luxena.Travel.AllProductListTab.registerClass('Luxena.Travel.AllProductListTab', Luxena.Travel.ProductListTab);
Luxena.Travel.TransferViewForm.registerClass('Luxena.Travel.TransferViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.TourViewForm.registerClass('Luxena.Travel.TourViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.ExcursionViewForm.registerClass('Luxena.Travel.ExcursionViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.IsicViewForm.registerClass('Luxena.Travel.IsicViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.ProductPassengerGridControl.registerClass('Luxena.Travel.ProductPassengerGridControl', Ext.grid.EditorGridPanel);
Luxena.Travel.SimCardViewForm.registerClass('Luxena.Travel.SimCardViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.PasteboardViewForm.registerClass('Luxena.Travel.PasteboardViewForm', Luxena.Travel.ProductViewForm);
Luxena.Travel.PasteboardRefundViewForm.registerClass('Luxena.Travel.PasteboardRefundViewForm', Luxena.Travel.PasteboardViewForm);
Luxena.Travel.PasteboardRefundEditForm.registerClass('Luxena.Travel.PasteboardRefundEditForm', Luxena.Travel.PasteboardEditForm);
Luxena.Travel.AviaDocument_FullNumberEditor.registerClass('Luxena.Travel.AviaDocument_FullNumberEditor');
Luxena.Travel._productDto.registerClass('Luxena.Travel._productDto');
Luxena.Travel.AviaDocumentDto.registerClass('Luxena.Travel.AviaDocumentDto', Luxena.Travel._productDto);
Luxena.Travel.Product_CustomerAndOrderEditor.registerClass('Luxena.Travel.Product_CustomerAndOrderEditor');
Luxena.Travel.Product_FinanceEditor.registerClass('Luxena.Travel.Product_FinanceEditor');
Luxena.Travel.PassportCompareForm.registerClass('Luxena.Travel.PassportCompareForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.PassportListForm.registerClass('Luxena.Travel.PassportListForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.AviaConsoleParserForm.registerClass('Luxena.Travel.AviaConsoleParserForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.PartyModel.registerClass('Luxena.Travel.PartyModel');
Luxena.Travel.DepartmentModel.registerClass('Luxena.Travel.DepartmentModel', Luxena.Travel.PartyModel);
Luxena.Travel.FileModel.registerClass('Luxena.Travel.FileModel');
Luxena.Travel.OrganizationModel.registerClass('Luxena.Travel.OrganizationModel', Luxena.Travel.PartyModel);
Luxena.Travel.PartyViewForm.registerClass('Luxena.Travel.PartyViewForm', LxnBase.UI.Tab);
Luxena.Travel.DepartmentViewForm.registerClass('Luxena.Travel.DepartmentViewForm', Luxena.Travel.PartyViewForm);
Luxena.Travel.PartyFile.registerClass('Luxena.Travel.PartyFile');
Luxena.Travel.FileUploadForm.registerClass('Luxena.Travel.FileUploadForm');
Luxena.Travel.OrderGridView.registerClass('Luxena.Travel.OrderGridView', LxnBase.UI.AutoControls.AutoGridView);
Luxena.Travel.ReportPrinter.registerClass('Luxena.Travel.ReportPrinter');
Luxena.Travel.PaymentEditForm.registerClass('Luxena.Travel.PaymentEditForm', LxnBase.UI.BaseClassEditForm);
Luxena.Travel.PaymentListTab.registerClass('Luxena.Travel.PaymentListTab', Luxena.Travel.Controls.AutoListTabExt);
Luxena.Travel.PaymentViewForm.registerClass('Luxena.Travel.PaymentViewForm', LxnBase.UI.BaseClassViewForm);
Luxena.Travel.CashPaymentRegisterFormArgs.registerClass('Luxena.Travel.CashPaymentRegisterFormArgs');
Luxena.Travel.CashPaymentRegisterForm.registerClass('Luxena.Travel.CashPaymentRegisterForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.ServerEvents.registerClass('Luxena.Travel.ServerEvents');
Luxena.Travel.AppManager.registerClass('Luxena.Travel.AppManager');
Luxena.Travel.AirlineListTab.registerClass('Luxena.Travel.AirlineListTab', Luxena.Travel.Controls.AutoListTabExt);
Luxena.Travel.AviaDocumentSelectForm.registerClass('Luxena.Travel.AviaDocumentSelectForm', LxnBase.UI.AutoForms.AutoSelectForm);
Luxena.Travel.PenalizeOperationEditForm.registerClass('Luxena.Travel.PenalizeOperationEditForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.HomeSettingsForm.registerClass('Luxena.Travel.HomeSettingsForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.SetDataToDocumentsForm.registerClass('Luxena.Travel.SetDataToDocumentsForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.GdsFileViewForm.registerClass('Luxena.Travel.GdsFileViewForm', LxnBase.UI.AutoForms.AutoViewForm);
Luxena.Travel.OrderTransferDto.registerClass('Luxena.Travel.OrderTransferDto');
Luxena.Travel.QuickReceiptRequest.registerClass('Luxena.Travel.QuickReceiptRequest');
Luxena.Travel.QuickReceiptResponse.registerClass('Luxena.Travel.QuickReceiptResponse');
Luxena.Travel.AviaPaymentResponse.registerClass('Luxena.Travel.AviaPaymentResponse');
Luxena.Travel.CashInOrderPaymentRequest.registerClass('Luxena.Travel.CashInOrderPaymentRequest');
Luxena.Travel.ConsignmentItemsDto.registerClass('Luxena.Travel.ConsignmentItemsDto');
Luxena.Travel.GenerateOrderItemsResponse.registerClass('Luxena.Travel.GenerateOrderItemsResponse');
Luxena.Travel.ClosedPeriodDto.registerClass('Luxena.Travel.ClosedPeriodDto');
Luxena.Travel.CashPaymentResponse.registerClass('Luxena.Travel.CashPaymentResponse');
Luxena.Travel.ConsignmentDto.registerClass('Luxena.Travel.ConsignmentDto');
Luxena.Travel.IssuedConsignmentDto.registerClass('Luxena.Travel.IssuedConsignmentDto');
Luxena.Travel.OrderItemDto.registerClass('Luxena.Travel.OrderItemDto');
Luxena.Travel.PaymentDto.registerClass('Luxena.Travel.PaymentDto');
Luxena.Travel.InvoiceDto.registerClass('Luxena.Travel.InvoiceDto');
Luxena.Travel.OrderDto.registerClass('Luxena.Travel.OrderDto');
Luxena.Travel.ProductProviderDto.registerClass('Luxena.Travel.ProductProviderDto');
Luxena.Travel.ProductPassengerDto.registerClass('Luxena.Travel.ProductPassengerDto');
Luxena.Travel.GenericProductTypeDto.registerClass('Luxena.Travel.GenericProductTypeDto');
Luxena.Travel.GenericProductDto.registerClass('Luxena.Travel.GenericProductDto', Luxena.Travel._productDto);
Luxena.Travel.PasteboardDto.registerClass('Luxena.Travel.PasteboardDto', Luxena.Travel._productDto);
Luxena.Travel.SimCardDto.registerClass('Luxena.Travel.SimCardDto', Luxena.Travel._productDto);
Luxena.Travel.IsicDto.registerClass('Luxena.Travel.IsicDto', Luxena.Travel._productDto);
Luxena.Travel.BusTicketDto.registerClass('Luxena.Travel.BusTicketDto', Luxena.Travel._productDto);
Luxena.Travel.ExcursionDto.registerClass('Luxena.Travel.ExcursionDto', Luxena.Travel._productDto);
Luxena.Travel.TourDto.registerClass('Luxena.Travel.TourDto', Luxena.Travel._productDto);
Luxena.Travel.AccommodationDto.registerClass('Luxena.Travel.AccommodationDto', Luxena.Travel._productDto);
Luxena.Travel.TransferDto.registerClass('Luxena.Travel.TransferDto', Luxena.Travel._productDto);
Luxena.Travel.InsuranceDto.registerClass('Luxena.Travel.InsuranceDto', Luxena.Travel._productDto);
Luxena.Travel.CarRentalDto.registerClass('Luxena.Travel.CarRentalDto', Luxena.Travel._productDto);
Luxena.Travel.AviaDocumentProcessDto.registerClass('Luxena.Travel.AviaDocumentProcessDto');
Luxena.Travel.AviaMcoProcessDto.registerClass('Luxena.Travel.AviaMcoProcessDto', Luxena.Travel.AviaDocumentProcessDto);
Luxena.Travel.AviaDocumentProcessArgs.registerClass('Luxena.Travel.AviaDocumentProcessArgs');
Luxena.Travel.AviaTicketProcessDto.registerClass('Luxena.Travel.AviaTicketProcessDto', Luxena.Travel.AviaDocumentProcessDto);
Luxena.Travel.PassportValidationResponse.registerClass('Luxena.Travel.PassportValidationResponse');
Luxena.Travel.PenalizeOperationDto.registerClass('Luxena.Travel.PenalizeOperationDto');
Luxena.Travel.ProcessOperationPermissionsResponse.registerClass('Luxena.Travel.ProcessOperationPermissionsResponse', LxnBase.Data.OperationPermissions);
Luxena.Travel.GdsAgentDto.registerClass('Luxena.Travel.GdsAgentDto');
Luxena.Travel.AviaMcoDto.registerClass('Luxena.Travel.AviaMcoDto', Luxena.Travel.AviaDocumentDto);
Luxena.Travel.AviaRefundDto.registerClass('Luxena.Travel.AviaRefundDto', Luxena.Travel.AviaDocumentDto);
Luxena.Travel.AviaRefundProcessDto.registerClass('Luxena.Travel.AviaRefundProcessDto', Luxena.Travel.AviaDocumentProcessDto);
Luxena.Travel.AviaDocumentFeeDto.registerClass('Luxena.Travel.AviaDocumentFeeDto');
Luxena.Travel.AviaTicketDto.registerClass('Luxena.Travel.AviaTicketDto', Luxena.Travel.AviaDocumentDto);
Luxena.Travel.FlightSegmentDto.registerClass('Luxena.Travel.FlightSegmentDto');
Luxena.Travel.DayStats.registerClass('Luxena.Travel.DayStats');
Luxena.Travel.ItemListResponse.registerClass('Luxena.Travel.ItemListResponse');
Luxena.Travel.SystemConfigurationDto.registerClass('Luxena.Travel.SystemConfigurationDto');
Luxena.Travel.AppParameters.registerClass('Luxena.Travel.AppParameters');
Luxena.Travel.AppStateResponse.registerClass('Luxena.Travel.AppStateResponse');
Luxena.Travel.AppStateRequest.registerClass('Luxena.Travel.AppStateRequest');
Luxena.Travel.ObjectStateInfo.registerClass('Luxena.Travel.ObjectStateInfo', LxnBase.Data.Reference);
Luxena.Travel.ProfileDto.registerClass('Luxena.Travel.ProfileDto');
Luxena.Travel.MoneyDto.registerClass('Luxena.Travel.MoneyDto');
Luxena.Travel.FileDto.registerClass('Luxena.Travel.FileDto');
Luxena.Travel.PartyDto.registerClass('Luxena.Travel.PartyDto');
Luxena.Travel.DepartmentDto.registerClass('Luxena.Travel.DepartmentDto', Luxena.Travel.PartyDto);
Luxena.Travel.OpeningBalanceDto.registerClass('Luxena.Travel.OpeningBalanceDto');
Luxena.Travel.OrderBalance.registerClass('Luxena.Travel.OrderBalance');
Luxena.Travel.PartyBalance.registerClass('Luxena.Travel.PartyBalance');
Luxena.Travel.TaskDto.registerClass('Luxena.Travel.TaskDto');
Luxena.Travel.UploadFileResponse.registerClass('Luxena.Travel.UploadFileResponse');
Luxena.Travel.MilesCardDto.registerClass('Luxena.Travel.MilesCardDto');
Luxena.Travel.PassportDto.registerClass('Luxena.Travel.PassportDto');
Luxena.Travel.PersonDto.registerClass('Luxena.Travel.PersonDto', Luxena.Travel.PartyDto);
Luxena.Travel.OrganizationDto.registerClass('Luxena.Travel.OrganizationDto', Luxena.Travel.PartyDto);
Luxena.Travel.AppActions.registerClass('Luxena.Travel.AppActions');
Luxena.Travel.LocalStorageProvider.registerClass('Luxena.Travel.LocalStorageProvider', Ext.state.Provider);
Luxena.Travel.MessageFactory.registerClass('Luxena.Travel.MessageFactory');
Luxena.Travel.PersonModel.registerClass('Luxena.Travel.PersonModel', Luxena.Travel.PartyModel);
Luxena.Travel.PassportGridControl.registerClass('Luxena.Travel.PassportGridControl', null, Luxena.Travel.IGridControl);
Luxena.Travel.MilesCardGridControl.registerClass('Luxena.Travel.MilesCardGridControl', null, Luxena.Travel.IGridControl);
Luxena.Travel.PersonViewForm.registerClass('Luxena.Travel.PersonViewForm', Luxena.Travel.PartyViewForm);
Luxena.Travel.TaskViewForm.registerClass('Luxena.Travel.TaskViewForm', LxnBase.UI.AutoForms.AutoViewForm);
Luxena.Travel.ReportProvider.registerClass('Luxena.Travel.ReportProvider', null, LxnBase.UI.AutoControls.IReportProvider);
Luxena.Travel.Application.registerClass('Luxena.Travel.Application');
Luxena.Travel.ProductGridView.registerClass('Luxena.Travel.ProductGridView', LxnBase.UI.AutoControls.AutoGridView);
Luxena.Travel.AviaDocumentViewForm.registerClass('Luxena.Travel.AviaDocumentViewForm', LxnBase.UI.BasicViewForm);
Luxena.Travel.Header.registerClass('Luxena.Travel.Header');
Luxena.Travel.AviaDocumentProcessForm.registerClass('Luxena.Travel.AviaDocumentProcessForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.GdsFileListTab.registerClass('Luxena.Travel.GdsFileListTab', Luxena.Travel.EntityListTab);
Luxena.Travel.OrganizationViewForm.registerClass('Luxena.Travel.OrganizationViewForm', Luxena.Travel.PartyViewForm);
Luxena.Travel.Controls.PropertyListControl.registerClass('Luxena.Travel.Controls.PropertyListControl', Ext.Panel);
Luxena.Travel.Controls.MoneyControlCalculator.registerClass('Luxena.Travel.Controls.MoneyControlCalculator');
Luxena.Travel.Controls.MoneyControlConfig.registerClass('Luxena.Travel.Controls.MoneyControlConfig', Ext.form.FieldConfig);
Luxena.Travel.Controls.MoneyControl.registerClass('Luxena.Travel.Controls.MoneyControl', Ext.form.Field);
Luxena.Travel.Controls.PropertyGridControl.registerClass('Luxena.Travel.Controls.PropertyGridControl', Ext.Panel);
Luxena.Travel.Controls.PropertyGridControlConfig.registerClass('Luxena.Travel.Controls.PropertyGridControlConfig', Ext.PanelConfig);
Luxena.Travel.Controls.PropertyItem.registerClass('Luxena.Travel.Controls.PropertyItem');
Luxena.Travel.Controls.PropertyListControlConfig.registerClass('Luxena.Travel.Controls.PropertyListControlConfig', Ext.PanelConfig);
Luxena.Travel.Controls.ControlFactoryExt.registerClass('Luxena.Travel.Controls.ControlFactoryExt');
Luxena.Travel.Controls.GridFilterPluginExtention.registerClass('Luxena.Travel.Controls.GridFilterPluginExtention');
Luxena.Travel.Controls.LinkButton.registerClass('Luxena.Travel.Controls.LinkButton', Ext.Button);
Luxena.Travel.Controls.LinkButton2.registerClass('Luxena.Travel.Controls.LinkButton2', Ext.Button);
Luxena.Travel.Reports.UnbalancedReportForm.registerClass('Luxena.Travel.Reports.UnbalancedReportForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.Reports.RegistryReportForm.registerClass('Luxena.Travel.Reports.RegistryReportForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.Reports.CustomerReportForm.registerClass('Luxena.Travel.Reports.CustomerReportForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.Configuration.PasswordEditForm.registerClass('Luxena.Travel.Configuration.PasswordEditForm', LxnBase.UI.BaseEditForm);
Luxena.Travel.Configuration.ProfileViewForm.registerClass('Luxena.Travel.Configuration.ProfileViewForm', LxnBase.UI.Tab);
Luxena.Travel.Configuration.SystemConfigurationViewForm.registerClass('Luxena.Travel.Configuration.SystemConfigurationViewForm', LxnBase.UI.AutoForms.AutoViewForm);
Luxena.Travel.Services.ConsignmentService.registerClass('Luxena.Travel.Services.ConsignmentService');
Luxena.Travel.Services.ClosedPeriodService.registerClass('Luxena.Travel.Services.ClosedPeriodService');
Luxena.Travel.Services.HomeModel.registerClass('Luxena.Travel.Services.HomeModel');
Luxena.Travel.Services.DocumentStatsModel.registerClass('Luxena.Travel.Services.DocumentStatsModel');
Luxena.Travel.Services.AppService.registerClass('Luxena.Travel.Services.AppService');
Luxena.Travel.Services.DomainService.registerClass('Luxena.Travel.Services.DomainService');
Luxena.Travel.Services.ProductService.registerClass('Luxena.Travel.Services.ProductService');
Luxena.Travel.Services.AviaService.registerClass('Luxena.Travel.Services.AviaService');
Luxena.Travel.Services.GdsFileService.registerClass('Luxena.Travel.Services.GdsFileService');
Luxena.Travel.Services.OrderService.registerClass('Luxena.Travel.Services.OrderService');
Luxena.Travel.Services.PartyService.registerClass('Luxena.Travel.Services.PartyService');
Luxena.Travel.Services.PaymentService.registerClass('Luxena.Travel.Services.PaymentService');
Luxena.Travel.Services.ReportService.registerClass('Luxena.Travel.Services.ReportService');
Luxena.Travel.Services.TaskService.registerClass('Luxena.Travel.Services.TaskService');
Luxena.Travel.Services.UserService.registerClass('Luxena.Travel.Services.UserService');
LxnTravel.PartyTemplates.registerClass('LxnTravel.PartyTemplates');
LxnTravel.App.HomeViewModel.registerClass('LxnTravel.App.HomeViewModel', Luxena.Travel.Services.HomeModel);
LxnTravel.App.DocumentStatsViewModel.registerClass('LxnTravel.App.DocumentStatsViewModel', Luxena.Travel.Services.DocumentStatsModel);
LxnTravel.App.HomeTab.registerClass('LxnTravel.App.HomeTab', LxnBase.UI.Tab);
LxnTravel.Accounting.Order.Order.registerClass('LxnTravel.Accounting.Order.Order');
LxnTravel.Parties.Party.registerClass('LxnTravel.Parties.Party');
LxnTravel.Parties.SystemConfiguration.registerClass('LxnTravel.Parties.SystemConfiguration');
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('ClosedPeriod', Luxena.Travel.ClosedPeriodListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('ClosedPeriod', Luxena.Travel.ClosedPeriodEditForm);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Contract', Luxena.Travel._contractEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Contract', Luxena.Travel._contractListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('CurrencyDailyRate', Luxena.Travel.CurrencyDailyRateEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('CurrencyDailyRate', Luxena.Travel.CurrencyDailyRateListTab);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('BankAccount', Luxena.Travel.BankAccountListTab);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('InternalTransfer', Luxena.Travel.InternalTransferListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('InternalTransfer', Luxena.Travel.InternalTransferEditForm);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Invoice', Luxena.Travel._invoiceEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('OpeningBalance', Luxena.Travel.OpeningBalanceListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('OpeningBalance', Luxena.Travel.OpeningBalanceEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Order', Luxena.Travel._orderListTab);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Modification', Luxena.Travel.ModificationListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Modification', Luxena.Travel.ModificationEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Identity', Luxena.Travel.IdentityListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Identity', Luxena.Travel.IdentityEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('UserVisit', Luxena.Travel.UserVisitListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('UserVisit', Luxena.Travel.UserVisitEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('User', Luxena.Travel.UserListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('User', Luxena.Travel.UserEditForm);
})();
Luxena.Travel.ViewTypes.bool = new Luxena.Travel.BoolSemanticType();
Luxena.Travel.ViewTypes.localReference = new Luxena.Travel.LocalReferenceSemanticType();
Luxena.Travel.ViewTypes.money = new Luxena.Travel.MoneySemanticType(false, false);
Luxena.Travel.ViewTypes.defaultMoney = new Luxena.Travel.MoneySemanticType(true, false);
Luxena.Travel.ViewTypes.defaultOnlyMoney = new Luxena.Travel.MoneySemanticType(true, true);
Luxena.Travel.ViewTypes.enumeration = new Luxena.Travel.EnumSemanticType();
Luxena.Travel.ViewTypes.enumerations = new Luxena.Travel.EnumsSemanticType();
Luxena.Travel.ViewTypes.reference = new Luxena.Travel.ReferenceSemanticType();
Luxena.Travel.ViewTypes.int32 = new Luxena.Travel.NumericSemanticType(0);
Luxena.Travel.ViewTypes.float2 = new Luxena.Travel.NumericSemanticType(2);
Luxena.Travel.ViewTypes.float4 = new Luxena.Travel.NumericSemanticType(4);
Luxena.Travel.ViewTypes.date = new Luxena.Travel.DateSemanticType('d.m.Y');
Luxena.Travel.ViewTypes.dateTime = new Luxena.Travel.DateSemanticType('d.m.Y G:i');
Luxena.Travel.ViewTypes.dateTime2 = new Luxena.Travel.DateSemanticType('d.m.Y G:i:s');
Luxena.Travel.ViewTypes.time = new Luxena.Travel.DateSemanticType('G:i');
Luxena.Travel.ViewTypes.time2 = new Luxena.Travel.DateSemanticType('G:i:s');
Luxena.Travel.ViewTypes.string = new Luxena.Travel.StringSemanticType();
Luxena.Travel.ViewTypes.password = new Luxena.Travel.PasswordSemanticType();
Luxena.Travel.ViewTypes.confirmPassword = new Luxena.Travel.ConfirmPasswordSemanticType();
Luxena.Travel.SemanticType.minWidth = 104;
Luxena.Travel.SemanticType.maxWidth = 336;
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Invoice', Luxena.Travel._invoiceListTab);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerEdit('Order', Luxena.Travel.OrderEditForm.editObject);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerEdit('OrderItem', Luxena.Travel.OrderItemEditForm.editObject);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerView('Order', Luxena.Travel.OrderViewForm.viewObject);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerView('Consignment', Luxena.Travel.ConsignmentViewForm.viewObject);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerEdit('Consignment', Luxena.Travel.ConsignmentEditForm._editObject$2);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Passport', Luxena.Travel.PassportListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Passport', Luxena.Travel.PassportEditForm);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('BankAccount', Luxena.Travel.BankAccountEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('MilesCard', Luxena.Travel.MilesCardListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('MilesCard', Luxena.Travel.MilesCardEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Organization', Luxena.Travel.OrganizationListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Organization', Luxena.Travel.OrganizationEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Person', Luxena.Travel.PersonListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Person', Luxena.Travel.PersonEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Department', Luxena.Travel.DepartmentListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Department', Luxena.Travel.DepartmentEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('CateringType', Luxena.Travel.CateringTypeListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('CateringType', Luxena.Travel.CateringTypeEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AccommodationType', Luxena.Travel.AccommodationTypeListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('AccommodationType', Luxena.Travel.AccommodationTypeEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('GenericProductType', Luxena.Travel.GenericProductTypeListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('GenericProductType', Luxena.Travel.GenericProductTypeEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('ProductPassenger', Luxena.Travel.ProductPassengerListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('ProductPassenger', Luxena.Travel.ProductPassengerEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('BusTicket', Luxena.Travel.BusTicketListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('BusTicket', Luxena.Travel.BusTicketEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Excursion', Luxena.Travel.ExcursionListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Excursion', Luxena.Travel.ExcursionEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Isic', Luxena.Travel.IsicListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Isic', Luxena.Travel.IsicEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Pasteboard', Luxena.Travel.PasteboardListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Pasteboard', Luxena.Travel.PasteboardEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Transfer', Luxena.Travel.TransferListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Transfer', Luxena.Travel.TransferEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('GenericProduct', Luxena.Travel.GenericProductListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('GenericProduct', Luxena.Travel.GenericProductEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('CarRental', Luxena.Travel.CarRentalListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('CarRental', Luxena.Travel.CarRentalEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Tour', Luxena.Travel.TourListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Tour', Luxena.Travel.TourEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Accommodation', Luxena.Travel.AccommodationListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Accommodation', Luxena.Travel.AccommodationEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('SimCard', Luxena.Travel.SimCardListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('SimCard', Luxena.Travel.SimCardEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Insurance', Luxena.Travel.InsuranceListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('Insurance', Luxena.Travel.InsuranceEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AviaTicket', Luxena.Travel.AviaTicketListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('AviaTicket', Luxena.Travel.AviaTicketEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AviaMco', Luxena.Travel.AviaMcoListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('AviaMco', Luxena.Travel.AviaMcoEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AviaRefund', Luxena.Travel.AviaRefundListTab);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('AviaRefund', Luxena.Travel.AviaRefundEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Country', Luxena.Travel.CountryListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Country', Luxena.Travel.CountryEditForm);
})();
Luxena.Travel.AirlineServiceClassListTab.applyServiceClassActionName = 'ApplyServiceClassToDocuments';
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AirlineServiceClass', Luxena.Travel.AirlineServiceClassListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('AirlineServiceClass', Luxena.Travel.AirlineServiceClassEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AirlineMonthCommission', Luxena.Travel.AirlineMonthCommissionListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('AirlineMonthCommission', Luxena.Travel.AirlineMonthCommissionEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Airport', Luxena.Travel.AirportListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Airport', Luxena.Travel.AirportEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('PaymentSystem', Luxena.Travel.PaymentSystemListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('PaymentSystem', Luxena.Travel.PaymentSystemEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Currency', Luxena.Travel.CurrencyListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Currency', Luxena.Travel.CurrencyEditForm);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('SystemConfiguration', Luxena.Travel.SystemConfigurationEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AirlineCommissionPercents', Luxena.Travel.AirlineCommissionPercentsListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('AirlineCommissionPercents', Luxena.Travel.AirlineCommissionPercentsEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('DocumentOwner', Luxena.Travel.DocumentOwnerListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('DocumentOwner', Luxena.Travel.DocumentOwnerEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('DocumentAccess', Luxena.Travel.DocumentAccessListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('DocumentAccess', Luxena.Travel.DocumentAccessEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('GdsAgent', Luxena.Travel.GdsAgentListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('GdsAgent', Luxena.Travel.GdsAgentEditForm);
})();
Luxena.Travel.TaskListTab.changeStatusActionName = 'ChangeTaskStatus';
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('Task', Luxena.Travel.TaskListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('Task', Luxena.Travel.TaskEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('FlightSegment', Luxena.Travel.FlightSegmentListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('FlightSegment', Luxena.Travel.FlightSegmentEditForm);
})();
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('AirplaneModel', Luxena.Travel.AirplaneModelListTab);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('AirplaneModel', Luxena.Travel.AirplaneModelEditForm);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('PartyReplace', Luxena.Travel.PartyReplaceForm);
})();
(function () {
    Luxena.Travel.BaseEditForm2.registerEdit('GdsFile', Luxena.Travel.GdsFileEditForm);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('BusTicketRefund', Luxena.Travel.BusTicketRefundEditForm);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('InsuranceRefund', Luxena.Travel.InsuranceRefundEditForm);
})();
(function () {
    Luxena.Travel.ProductEditForm.registerEdit('PasteboardRefund', Luxena.Travel.PasteboardRefundEditForm);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerEdit('CashInOrderPayment', Luxena.Travel.PaymentEditForm.editObject);
    LxnBase.UI.FormsRegistry.registerEdit('CashOutOrderPayment', Luxena.Travel.PaymentEditForm.editObject);
    LxnBase.UI.FormsRegistry.registerEdit('WireTransfer', Luxena.Travel.PaymentEditForm.editObject);
    LxnBase.UI.FormsRegistry.registerEdit('CheckPayment', Luxena.Travel.PaymentEditForm.editObject);
    LxnBase.UI.FormsRegistry.registerEdit('ElectronicPayment', Luxena.Travel.PaymentEditForm.editObject);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerList('Payment', function(args, newTab) {
        LxnBase.UI.Tabs.open(newTab, args.type, function(tabId) {
            return new Luxena.Travel.PaymentListTab(tabId, args);
        }, args.baseRequest);
    });
})();
(function () {
    LxnBase.UI.FormsRegistry.registerView('CashInOrderPayment', Luxena.Travel.PaymentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('CashOutOrderPayment', Luxena.Travel.PaymentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('WireTransfer', Luxena.Travel.PaymentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('CheckPayment', Luxena.Travel.PaymentViewForm.viewObject);
    LxnBase.UI.FormsRegistry.registerView('ElectronicPayment', Luxena.Travel.PaymentViewForm.viewObject);
})();
Luxena.Travel.ServerEvents.instance = new Luxena.Travel.ServerEvents();
Luxena.Travel.AppManager._appParameters = null;
Luxena.Travel.AirlineListTab.applyAirlineActionName = 'ApplyAirlineToDocuments';
(function () {
    LxnBase.UI.FormsRegistry.registerSelect('AviaDocument', Luxena.Travel.AviaDocumentSelectForm._selectObject$1);
})();
Luxena.Travel.HomeSettingsForm._msecsInDay$1 = 1000 * 60 * 60 * 24;
Luxena.Travel.AppActions.productList = LxnBase.UI.ActionFactory.createListAction('Product', Luxena.Travel.DomainRes.allProduct_Caption_List);
Luxena.Travel.AppActions.updateAnalytics = null;
Luxena.Travel.AppActions.consignmentList = null;
Luxena.Travel.AppActions.newOrder = null;
Luxena.Travel.AppActions.quickReceipt = null;
Luxena.Travel.AppActions.newPayment = null;
Luxena.Travel.AppActions.newTask = null;
Luxena.Travel.AppActions.aviaConsoleParser = null;
Luxena.Travel.AppActions.signOutAction = new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.signOut_Text).handler(Luxena.Travel.AppActions.signOut).toDictionary());
Luxena.Travel.LocalStorageProvider._storage$2 = window.localStorage;
(function () {
    LxnBase.Net.WebService.root = 'Services/';
    LxnBase.Net.WebService.add_failure(function(args) {
        if (args.get_error().StatusCode === 401) {
            args.set_handled(true);
            $(window).unbind('beforeunload');
            Luxena.Travel.AppActions.signOut();
        }
    });
    Ext.onReady(function() {
        Luxena.Travel.Services.AppService.GetAppParameters(function(data) {
            new Luxena.Travel.Application(data);
        }, null);
    });
})();
Luxena.Travel.Header.globalSearch = null;
Luxena.Travel.GdsFileListTab.reimportActionName = 'ReimportGdsDocuments';
(function () {
    Luxena.Travel.Controls.AutoListTabExt2.registerList('GdsFile', Luxena.Travel.GdsFileListTab);
})();
(function () {
    LxnBase.UI.FormsRegistry.registerView('SystemConfiguration', Luxena.Travel.Configuration.SystemConfigurationViewForm._viewObject$8);
})();
Luxena.Travel.Services.ConsignmentService.service = null;
(function () {
    Luxena.Travel.Services.ConsignmentService.service = new LxnBase.Net.WebService('ConsignmentService.asmx');
})();
Luxena.Travel.Services.ClosedPeriodService.service = null;
(function () {
    Luxena.Travel.Services.ClosedPeriodService.service = new LxnBase.Net.WebService('ClosedPeriodService.asmx');
})();
Luxena.Travel.Services.AppService.service = null;
(function () {
    Luxena.Travel.Services.AppService.service = new LxnBase.Net.WebService('AppService.asmx');
})();
Luxena.Travel.Services.DomainService.service = null;
(function () {
    Luxena.Travel.Services.DomainService.service = new LxnBase.Net.WebService('DomainService.asmx');
})();
Luxena.Travel.Services.ProductService.service = null;
(function () {
    Luxena.Travel.Services.ProductService.service = new LxnBase.Net.WebService('ProductService.asmx');
})();
Luxena.Travel.Services.AviaService.service = null;
(function () {
    Luxena.Travel.Services.AviaService.service = new LxnBase.Net.WebService('AviaService.asmx');
})();
Luxena.Travel.Services.GdsFileService.service = null;
(function () {
    Luxena.Travel.Services.GdsFileService.service = new LxnBase.Net.WebService('GdsFileService.asmx');
})();
Luxena.Travel.Services.OrderService.service = null;
(function () {
    Luxena.Travel.Services.OrderService.service = new LxnBase.Net.WebService('OrderService.asmx');
})();
Luxena.Travel.Services.PartyService.service = null;
(function () {
    Luxena.Travel.Services.PartyService.service = new LxnBase.Net.WebService('PartyService.asmx');
})();
Luxena.Travel.Services.PaymentService.service = null;
(function () {
    Luxena.Travel.Services.PaymentService.service = new LxnBase.Net.WebService('PaymentService.asmx');
})();
Luxena.Travel.Services.ReportService.service = null;
(function () {
    Luxena.Travel.Services.ReportService.service = new LxnBase.Net.WebService('ReportService.asmx');
})();
Luxena.Travel.Services.TaskService.service = null;
(function () {
    Luxena.Travel.Services.TaskService.service = new LxnBase.Net.WebService('TaskService.asmx');
})();
Luxena.Travel.Services.UserService.service = null;
(function () {
    Luxena.Travel.Services.UserService.service = new LxnBase.Net.WebService('UserService.asmx');
})();
LxnTravel.PartyTemplates._protocolCheck = new RegExp('^.+://');
(function () {
})();
LxnTravel.App.HomeTab.documents = new LxnBase.Knockout.StringTemplate('HomeTab.Documents', "<div class=\"block documents\">\r\n\t<div class=\"header\">\r\n\t\t<div class=\"title\" data-bind=\"text: title\"></div>\r\n\t\t<div class=\"actions\">&nbsp;</div>\r\n\t</div>\r\n\t<div class=\"content\" data-bind=\"with: documents\">\r\n\t\t<!-- ko if: showDocuments() -->\r\n\t\t<ul class=\"section\">\r\n\t\t\t<!-- ko if: UnprocessedDocuments !== 0 || UnpaidDocuments !== 0 -->\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openUnprocessedDocuments, text: '\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b (' + UnprocessedDocuments + ')', css: { red: UnprocessedDocuments !== 0, pale: UnprocessedDocuments === 0 }\"></a>,\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openUnpaidDocuments, text: '\u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 (' + UnpaidDocuments + ')', css: { red: UnpaidDocuments !== 0, pale: UnpaidDocuments === 0 }\"></a>\r\n\t\t\t</li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: DocumentsWithoutOwners !== 0 -->\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openDocumentsWithoutOwners, text: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0431\u0435\u0437 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 (' + DocumentsWithoutOwners + ')', css: { red: DocumentsWithoutOwners !== 0, pale: DocumentsWithoutOwners === 0 }\"></a>,\r\n\t\t\t</li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: showPassportRequirements() -->\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openPassportRequirements, text: '\u0422\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 (' + PassportRequirements.length + ')', css: { pale: PassportRequirements.length === 0 }\"></a>,\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openUrgentPassportRequirements, text: '\u0441\u0440\u043e\u0447\u043d\u043e (' + UrgentPassportRequirements.length + ')', css: { red: UrgentPassportRequirements.length !== 0, pale: UrgentPassportRequirements.length === 0 }\"></a>,\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openIncorrectPassports, text: '\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 (' + IncorrectPassports.length + ')', css: { red: IncorrectPassports.length !== 0, pale: IncorrectPassports.length === 0 }\"></a>\r\n\t\t\t</li>\r\n\t\t\t<!-- /ko -->\r\n\t\t</ul>\r\n\t\t<!-- /ko -->\r\n\t\t<!-- ko if: OrdersToPay !== 0 || OrdersToExecute !== 0 || OrdersWithDebt !== 0 -->\r\n\t\t<ul class=\"section\">\r\n\t\t\t<!-- ko if: OrdersToPay !== 0 -->\r\n\t\t\t<li><a href=\"#\" class=\"orange\" data-bind=\"click: openOrdersToPay, text: '\u0417\u0430\u043a\u0430\u0437\u044b \u043a \u043e\u043f\u043b\u0430\u0442\u0435 (' + OrdersToPay + ')'\"></a></li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: OrdersToExecute !== 0 -->\r\n\t\t\t<li><a href=\"#\" class=\"green\" data-bind=\"click: openOrdersToExecute, text: '\u0417\u0430\u043a\u0430\u0437\u044b \u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e (' + OrdersToExecute + ')'\"></a></li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: OrdersWithDebt !== 0 -->\r\n\t\t\t<li><a href=\"#\" class=\"red\" data-bind=\"click: openOrdersWithDebt, text: '\u0417\u0430\u043a\u0430\u0437\u044b \u0441 \u0434\u043e\u043b\u0433\u0430\u043c\u0438 (' + OrdersWithDebt + ')'\"></a></li>\r\n\t\t\t<!-- /ko -->\r\n\t\t</ul>\r\n\t\t<!-- /ko -->\r\n\t\t<!-- ko if: DayStats.length !== 0 -->\r\n\t\t<table class=\"section agent-reports\">\r\n\t\t\t<thead><tr><th>\u0412\u044b\u043f\u0443\u0441\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432</th><th>\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435</th><th>\u0412\u0441\u0435\u0433\u043e</th></tr></thead>\r\n\t\t\t<tbody data-bind=\"foreach: DayStats\"><tr>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<!-- ko if: ReportUrl -->\r\n\t\t\t\t\t<a data-bind=\"attr: { href: ReportUrl }, text: (DateText ? DateText + ' - ' : '') + Date.format('d.m.Y')\" target=\"_blank\"></a>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko ifnot: ReportUrl -->\r\n\t\t\t\t\t<span data-bind=\"text: (DateText ? DateText + ' - ' : '') + Date.format('d.m.Y')\"></span>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</td>\r\n\t\t\t\t<td><a href=\"#\" data-bind=\"click: $parent.openUnprocessedDayDocuments, text: Unprocessed, css: { red: Unprocessed !== 0, pale: Unprocessed === 0 }\"></a></td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<a href=\"#\" data-bind=\"click: $parent.openAllDayDocuments\">\r\n\t\t\t\t\t\t<span data-bind=\"text: Total, css: { pale: Total === 0 }\"></span> <span data-bind=\"text: '(' + Void + ')'\" class=\"pale\"></span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</td>\r\n\t\t\t</tr></tbody>\r\n\t\t</table>\r\n\t\t<!-- /ko -->\r\n\t</div>\r\n</div>\r\n");
LxnTravel.App.HomeTab.main = new LxnBase.Knockout.StringTemplate('HomeTab', "<div onclick=\"Luxena.Travel.Header.globalSearch.focus()\">\r\n\t<div class=\"settings\">\r\n\t\t<a href=\"#\" class=\"no-decoration icon-settings\" data-bind=\"click: editSettings\"></a>\r\n\t</div>\r\n\t<div class=\"wrapper\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"block tasks\">\r\n\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t<div class=\"title\">\u041c\u043e\u0438 \u0437\u0430\u0434\u0430\u0447\u0438</div>\r\n\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openAllMyTasks\">&gt;&gt;&gt;</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<!-- ko ifnot: model.MyTasksTotal -->\r\n\t\t\t\t\t<div class=\"no-tasks\">\r\n\t\t\t\t\t\t\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: model.MyTasksTotal -->\r\n\t\t\t\t\t<ul data-bind=\"foreach: model.MyTasks\">\r\n\t\t\t\t\t\t<li class=\"task\" data-bind=\"css: { red: Overdue }\">\r\n\t\t\t\t\t\t\t<div class=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" data-bind=\"click: $root.closeTask\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t<!-- ko if: DueDate -->\r\n\t\t\t\t\t\t\t\t<div class=\"due-date\" data-bind=\"text: DueDate.format('d.m.Y')\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data, text: Subject\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"related-to\">\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t\t<!-- ko if: Order -->\r\n\t\t\t\t\t\t\t\t| <a data-bind=\"view: Order\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<!-- ko if: RelatedTo -->\r\n\t\t\t\t\t\t\t\t| <a data-bind=\"view: RelatedTo\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- ko if: showMyTasksTotal -->\r\n\t\t\t\t\t<div class=\"total\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openMyActiveTasks, text: '\u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 (' + model.MyTasksTotal + ')'\"></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- ko template: { name: \"HomeTab.Documents\", data: { title: '\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b', documents: model.MyDocuments } } --><!-- /ko -->\r\n\t\t</div>\r\n\r\n\t\t<!-- ko if: model.ShowOfficeBlocks -->\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"block tasks\">\r\n\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t<div class=\"title\">\u0417\u0430\u0434\u0430\u0447\u0438 \u043f\u043e \u043e\u0444\u0438\u0441\u0443</div>\r\n\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openAllTasks\">&gt;&gt;&gt;</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<!-- ko ifnot: model.OfficeTasksTotal -->\r\n\t\t\t\t\t<div class=\"no-tasks\">\r\n\t\t\t\t\t\t\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: model.OfficeTasksTotal -->\r\n\t\t\t\t\t<ul data-bind=\"foreach: model.OfficeTasks\">\r\n\t\t\t\t\t\t<li class=\"task\" data-bind=\"css: { red: Overdue }\">\r\n\t\t\t\t\t\t\t<div class=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" data-bind=\"click: $root.closeTask\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t<!-- ko if: DueDate -->\r\n\t\t\t\t\t\t\t\t<div class=\"due-date\" data-bind=\"text: DueDate.format('d.m.Y')\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data, text: Subject\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"related-to\">\r\n\t\t\t\t\t\t\t\t<!-- ko if: Order -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: Order\" />\r\n\t\t\t\t\t\t\t\t<!-- ko if: RelatedTo -->|<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<!-- ko if: RelatedTo -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: RelatedTo\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"assignment\">\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data\" /><!-- ko if: AssignedTo --> (<a data-bind=\"view: AssignedTo\" />)<!-- /ko -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- ko if: showOfficeTasksTotal -->\r\n\t\t\t\t\t<div class=\"total\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openActiveTasks, text: '\u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 (' + model.OfficeTasksTotal + ')'\"></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- ko template: { name: \"HomeTab.Documents\", data: { title: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e \u043e\u0444\u0438\u0441\u0443', documents: model.OfficeDocuments } } --><!-- /ko -->\r\n\t\t</div>\r\n\t\t<!-- /ko -->\r\n\t</div>\r\n</div>");
LxnTravel.Accounting.Order.Order.tasks = new LxnBase.Knockout.StringTemplate('Order.Tasks', "<div class=\"order-tasks\" data-bind=\"foreach: tasks\">\r\n\t<div data-bind=\"css: { closed: Status == Luxena.Travel.TaskStatus.closed, overdue: Overdue }\">\r\n\t\t<div class=\"checkbox\">\r\n\t\t\t<input type=\"checkbox\" data-bind=\"click: $parent.taskClick, checked: Status == Luxena.Travel.TaskStatus.closed, enable: CanModify\" />\r\n\t\t</div>\r\n\t\t<div class=\"main\">\r\n\t\t\t<a data-bind=\"view: $data, text: Number + ' - ' + Subject\" /><span class=\"related-to\" data-bind=\"if: RelatedTo\">, \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u0441 <a class=\"related-to\" data-bind=\"view: RelatedTo\" /></span>\r\n\t\t</div>\r\n\t\t<div class=\"details\">\r\n\t\t\t<!-- ko if: AssignedTo -->\r\n\t\t\t\t<a data-bind=\"view: AssignedTo\" /><span data-bind=\"if: DueDate\">,</span>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: DueDate -->\r\n\t\t\t\t\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e <span data-bind=\"text: DueDate.format('d.m.Y')\" />\r\n\t\t\t<!-- /ko -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n");
LxnTravel.Parties.Party.contacts = new LxnBase.Knockout.StringTemplate('Party.Contacts', "<h1>Contacts</h1>\r\n<!-- ko if: Phone1 || Phone2 -->\r\n<p class=\"phone\"><span data-bind=\"text: Phone1\" /><!-- ko if: Phone2 --><br/><span data-bind=\"text: Phone2\" /><!-- /ko --></p>\r\n<!-- /ko -->\r\n<!-- ko if: Fax -->\r\n<p class=\"fax\" data-bind=\"text: Fax\" />\r\n<!-- /ko -->\r\n<!-- ko if: Email1 || Email2 -->\r\n<p class=\"email\"><a data-bind=\"email: Email1\" target=\"_blank\" /><!-- ko if: Email2 --><br/><a data-bind=\"email: Email2\" target=\"_blank\" /><!-- /ko --></p>\r\n<!-- /ko -->\r\n<!-- ko if: WebAddress -->\r\n<p class=\"http\"><a data-bind=\"link: WebAddress\" target=\"_blank\" /></p>\r\n<!-- /ko -->\r\n<!-- ko if: ActualAddress -->\r\n<div class=\"address\">\r\n\t<div class=\"label\" data-bind=\"res: 'party_ActualAddress'\" />\r\n\t<span class=\"address-text\" data-bind=\"text: ActualAddress\" />&nbsp;\r\n\t<span class=\"links\">\r\n\t\t<a class=\"yandex\" data-bind=\"attr: { href: 'http://maps.yandex.ru/?text=' + encodeURI(ActualAddress()) }\" target=\"_blank\" title=\"Yandex Maps\"></a>\r\n\t\t<a class=\"google\" data-bind=\"attr: { href: 'http://maps.google.com/maps?q=' + encodeURI(ActualAddress()) }\" target=\"_blank\" title=\"Google Maps\"></a>\r\n\t</span>\r\n</div>\r\n<!-- /ko -->\r\n<!-- ko if: LegalAddress -->\r\n<div class=\"address\">\r\n\t<div class=\"label\" data-bind=\"res: 'party_LegalAddress'\" />\r\n\t<span class=\"address-text\" data-bind=\"text: LegalAddress\" />&nbsp;\r\n\t<span class=\"links\">\r\n\t\t<a class=\"yandex\" data-bind=\"attr: { href: 'http://maps.yandex.ru/?text=' + encodeURI(LegalAddress()) }\" target=\"_blank\" title=\"Yandex Maps\"></a>\r\n\t\t<a class=\"google\" data-bind=\"attr: { href: 'http://maps.google.com/maps?q=' + encodeURI(LegalAddress()) }\" target=\"_blank\" title=\"Google Maps\"></a>\r\n\t</span>\r\n</div>\r\n<!-- /ko -->\r\n");
LxnTravel.Parties.Party.main = new LxnBase.Knockout.StringTemplate('Party', "<div class=\"band-wrap\">\r\n\t<table class=\"band-table\">\r\n\t\t<tr>\r\n\t\t\t<td class=\"band-left\">\r\n\t\t\t\t<div class=\"party-header\">\r\n\t\t\t\t\t<h1 class=\"party-name\" data-bind=\"text: Name\" />\r\n\t\t\t\t\t<!-- ko if: LegalName --><div class=\"party-legalname\" data-bind=\"text: LegalName\" /><!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: Signature --><div class=\"party-legalname\" data-bind=\"text: Signature\" /><!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsCustomer || IsSupplier -->\r\n\t\t\t\t\t<div class=\"party-roles\">\r\n\t\t\t\t\t\t<!-- ko if: IsCustomer --><span>\u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: IsSupplier --><span>\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<div class=\"person-employment\">\r\n\t\t\t\t\t<!-- ko if: Title -->\r\n\t\t\t\t\t<span data-bind=\"text: Title\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t\t<!-- ko ifnot: Title -->\r\n\t\t\t\t\t<span>\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a</span>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: ReportsTo -->\r\n\t\t\t\t<div class=\"party-reportsto\">\r\n\t\t\t\t\t<span data-bind=\"res: 'party_ReportsTo'\" /> <a data-bind=\"view: ReportsTo\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: Note --><div class=\"party-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\r\n\t\t\t\t<div class=\"tabs-menu\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'party_Files'\" /> (<span data-bind=\"text: Files().length\" />)</li>\r\n\t\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'organization_Employees'\" /> (<span data-bind=\"text: Employees().length\" />)</li>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'department_Caption_List'\" /> (<span data-bind=\"text: Departments().length\" />)</li>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<li data-bind=\"css: { positive: !!(Products().length || Orders().length || Invoices().length)}\">\u041f\u043e\u043a\u0443\u043f\u043a\u0438</li>\r\n\t\t\t\t\t\t<li data-bind=\"css: { negative: Balance().Overall() < 0 }\">\u0412\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u044b</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"tabs-content\">\r\n\t\t\t\t\t<div class=\"party-files\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddFile\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Files -->\r\n\t\t\t\t\t\t<div class=\"file\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"text: FileName, click: $parent.DownloadFile\" /> <a href=\"javascript:void(0)\" class=\"delete-action\" data-bind=\"click: $parent.DeleteFile\" />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: TimeStamp().format('d.m.Y H:i')\" /> - <a data-bind=\"view: UploadedBy\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddEmployee\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Employees -->\r\n\t\t\t\t\t\t<div class=\"employee\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" /><!-- ko if: Title --><span class=\"employee-title\" data-bind=\"text: ' - ' + Title()\" /><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddDepartment\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Departments -->\r\n\t\t\t\t\t\t<div class=\"department\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddOrder\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437</a> &nbsp; &nbsp; \r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: OpenAllProducts\">\u0412\u0441\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 (<span data-bind=\"text: ProductCount\" />)</a>\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: OpenAllOrders\">\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b (<span data-bind=\"text: OrderCount\" />)</a>\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: OpenAllInvoices\">\u0412\u0441\u0435 \u0441\u0447\u0435\u0442\u0430 (<span data-bind=\"text: InvoiceCount\" />)</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko if: Products().length -->\r\n\t\t\t\t\t\t<div class=\"property-grid-control\" style=\"font-size: 12px; font-family: Arial\">\r\n\t\t\t\t\t\t\t<div class=\"grid-title\">\u0423\u0441\u043b\u0443\u0433\u0438</div>\r\n\t\t\t\t\t\t\t<div class=\"item-list\">\r\n\t\t\t\t\t\t\t\t<table style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t<tr class=\"alternate\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u0414\u0430\u0442\u0430</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u041c\u0430\u0440\u0448\u0440\u0443\u0442</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u0422\u0430\u0440\u0438\u0444</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<!--<th class=\"right-align\">\u0418\u0442\u043e\u0433\u043e \u043f\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0443</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440</th>-->\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u041a \u043e\u043f\u043b\u0430\u0442\u0435</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0417\u0430\u043a\u0430\u0437</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko foreach: Products -->\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"text: Name(), click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, Type(), Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: IssueDate\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"text: Itinerary\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Fare\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<!--<td data-bind=\"fixed: Total && Total.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: ServiceFee && ServiceFee.MoneyString\" class=\"right-align\"></td>-->\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: GrandTotal\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"text: Order && Order.Name, click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, 'Order', Order && Order.Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t\t\t<!-- ko if: Orders().length -->\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div class=\"property-grid-control\" style=\"font-size: 12px; font-family: Arial\">\r\n\t\t\t\t\t\t\t<div class=\"grid-title\">\u0417\u0430\u043a\u0430\u0437\u044b</div>\r\n\t\t\t\t\t\t\t<div class=\"item-list\">\r\n\t\t\t\t\t\t\t\t<table style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t<tr class=\"alternate\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u041d\u043e\u043c\u0435\u0440</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u0414\u0430\u0442\u0430</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0418\u0442\u043e\u0433\u043e</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u041a \u043e\u043f\u043b\u0430\u0442\u0435</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko foreach: Orders -->\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"text: Number, click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, 'Order', Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: IssueDate\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Total && Total.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Paid && Paid.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: TotalDue && TotalDue.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: Invoices().length -->\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div class=\"property-grid-control\" style=\"font-size: 12px; font-family: Arial\">\r\n\t\t\t\t\t\t\t<div class=\"grid-title\">\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438</div>\r\n\t\t\t\t\t\t\t<div class=\"item-list\">\r\n\t\t\t\t\t\t\t\t<table style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr class=\"alternate\">\r\n\t\t\t\t\t\t\t\t\t\t<th>\u041d\u043e\u043c\u0435\u0440</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>\u0414\u0430\u0442\u0430</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>\u0422\u0438\u043f</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>\u0417\u0430\u043a\u0430\u0437</th>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0418\u0442\u043e\u0433\u043e</th>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0412 \u0442.\u0447. \u041d\u0414\u0421</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<!-- ko foreach: Invoices -->\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"text: Number\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: IssueDate\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: Type\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-bind=\"text: Order ? Order.Name : '', click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, 'Order', Order.Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Total && Total.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Vat && Vat.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"party-balance\">\r\n\t\t\t\t\t\t<!-- ko with: Balance -->\r\n\t\t\t\t\t\t<!-- ko if: OpeningBalance -->\r\n\t\t\t\t\t\t<!-- ko with: OpeningBalance -->\r\n\t\t\t\t\t\t<div class=\"opening quite\">\r\n\t\t\t\t\t\t\t\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a:\r\n\t\t\t\t\t\t\t<span data-bind=\"fixed: Balance\" /> (<a data-bind=\"view: $data\" /> \u043e\u0442 <span data-bind=\"text: Date().format('d.m.Y')\" />)\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<div class=\"overall\">\u041e\u0431\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432: <span data-bind=\"fixed: Overall\" /></div>\r\n\t\t\t\t\t\t<!-- ko if: ByOrders() && ByOrders().length -->\r\n\t\t\t\t\t\t<table class=\"by-orders\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th colspan=\"2\">\u041e\u043a\u0430\u0437\u0430\u043d\u043e \u0443\u0441\u043b\u0443\u0433 \u043d\u0430 \u0441\u0443\u043c\u043c\u0443</th>\r\n\t\t\t\t\t\t\t\t\t<th>\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e</th>\r\n\t\t\t\t\t\t\t\t\t<th>\u0411\u0430\u043b\u0430\u043d\u0441</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<!-- ko foreach: ByOrders -->\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko if: Order --><a data-bind=\"view: Order\" /><!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko ifnot: Order -->\u0411\u0435\u0437 \u0437\u0430\u043a\u0430\u0437\u0430<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td><span data-bind=\"fixed: Delivered\" /></td>\r\n\t\t\t\t\t\t\t\t\t<td><span data-bind=\"fixed: Paid\" /></td>\r\n\t\t\t\t\t\t\t\t\t<td><span data-bind=\"fixed: Balance\" /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"band-right\">\r\n\t\t\t\t<div class=\"block-header\" data-bind=\"text: InfoTitle\" />\r\n\r\n\t\t\t\t<!-- ko if: IsPerson && Birthday -->\r\n\t\t\t\t<p class=\"birthday\" data-bind=\"text: Birthday().format('d.m.Y')\" />\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko template: \"Party.Contacts\" --><!-- /ko -->\r\n\t\t\t\t<!-- ko if: IsOrganization && Code -->\r\n\t\t\t\t<div class=\"organization-code\">\r\n\t\t\t\t\t<div class=\"label\" data-bind=\"res: 'organization_Code'\" />\r\n\t\t\t\t\t<span data-bind=\"text: Code\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<!-- ko if: MilesCards() && MilesCards().length -->\r\n\t\t\t\t<div class=\"miles-cards\" data-bind=\"foreach: MilesCards\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<!-- ko if: Organization --><div data-bind=\"text: Organization.Name\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div data-bind=\"text: Number\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: Passports() && Passports().length -->\r\n\t\t\t\t<div class=\"person-passports\" data-bind=\"foreach: Passports\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"pass-number\"><!-- ko if: IssuedByCode --><span data-bind=\"text: IssuedByCode\" /><!-- /ko --> <span data-bind=\"text: Number\" /></div>\r\n\t\t\t\t\t\t<!-- ko if: ExpiredOn --><div class=\"pass-expiredon\">\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e <span data-bind=\"text: ExpiredOn().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: Note --><div class=\"pass-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div class=\"pass-details\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: FirstName\" /> <span data-bind=\"text: MiddleName\" /> <span data-bind=\"text: LastName\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- ko if: Birthday --><div><span data-bind=\"res: 'passport_Birthday'\" />: <span data-bind=\"text: Birthday().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: GenderString --><div><span data-bind=\"res: 'passport_Gender'\" />: <span data-bind=\"text: GenderString\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: Citizenship --><div><span data-bind=\"res: 'passport_Citizenship'\" />: <span data-bind=\"text: Citizenship.Text\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pass-copy\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Amadeus</a><input readonly=\"readonly\" data-bind=\"value: AmadeusString\" />\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Galileo</a><input readonly=\"readonly\" data-bind=\"value: GalileoString\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko if: ExpiredDays() <= 200 --><div class=\"pass-validate\">\r\n\t\t\t\t\t\t\t<!-- ko if: ExpiredDays() > 0 && ExpiredDays() <= 200  --><div class=\"text-warning\">\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 <b data-bind=\"text: ExpiredDays\" /> \u0434\u043d\u0435\u0439</div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: ExpiredDays() == 0 --><div class=\"text-error\">\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f!</div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: ExpiredDays() < 0 --><div class=\"text-error\">\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f <b data-bind=\"text: -ExpiredDays()\" /> \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434!</div><!-- /ko -->\r\n\t\t\t\t\t\t</div><!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: InfoPrompt -->\r\n\t\t\t\t<div class=\"party-info-prompt\">\r\n\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: Edit\">\u0423\u043a\u0430\u0436\u0438\u0442\u0435</a>\r\n\t\t\t\t\t<!-- ko if: IsPerson -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b, \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsDepartment -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430<!-- /ko -->\r\n\t\t\t\t\t\u0438 \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0437\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: BonusCardNumber -->\r\n\t\t\t\t<div class=\"organization-code\">\r\n\t\t\t\t\t<div class=\"label\" data-bind=\"res: 'common_BonusCardNumber'\" />\r\n\t\t\t\t\t<span data-bind=\"text: BonusCardNumber\" />\r\n\t\t\t\t\t<div class=\"label\">\u041d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432</div>\r\n\t\t\t\t\t<span data-bind=\"text: BonusAmount\" />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko ifnot: IsOrganization -->\r\n\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t<div class=\"block-header party-organization\" data-bind=\"res: 'organizationView_Info'\" />\r\n\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t<!-- ko template: { name: \"Party.Contacts\", data: Organization } --><!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>");
LxnTravel.Parties.Party.listDetail = new LxnBase.Knockout.StringTemplate('Party.ListDetail', "<!-- ko if: Phone1 || Email1 -->\r\n<div class='detail'>\r\n<!-- ko if: Phone1 --><span data-bind=\"text: Phone1\" /><!-- /ko -->\r\n<!-- ko if: Email1 --><a data-bind=\"email: Email1\" target=\"_blank\" /><!-- /ko -->\r\n</div>\r\n<!-- /ko -->");
LxnTravel.Parties.SystemConfiguration.main = new LxnBase.Knockout.StringTemplate('SystemConfiguration', "<div class=\"band-wrap\">\r\n\t<table class=\"band-table\">\r\n\t\t<tr>\r\n\t\t\t<td class=\"band-left\">\r\n\t\t\t\t<div class=\"party-header\">\r\n\t\t\t\t\t<h1 class=\"party-name\" data-bind=\"text: Name\" />\r\n\t\t\t\t\t<!-- ko if: LegalName --><div class=\"party-legalname\" data-bind=\"text: LegalName\" /><!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsCustomer || IsSupplier -->\r\n\t\t\t\t\t<div class=\"party-roles\">\r\n\t\t\t\t\t\t<!-- ko if: IsCustomer --><span>\u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: IsSupplier --><span>\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<div class=\"person-employment\">\r\n\t\t\t\t\t<!-- ko if: Title -->\r\n\t\t\t\t\t<span data-bind=\"text: Title\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t\t<!-- ko ifnot: Title -->\r\n\t\t\t\t\t<span>\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a</span>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: ReportsTo -->\r\n\t\t\t\t<div class=\"party-reportsto\">\r\n\t\t\t\t\t<span data-bind=\"res: 'party_ReportsTo'\" /> <a data-bind=\"view: ReportsTo\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: Note --><div class=\"party-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\r\n\t\t\t\t<div class=\"tabs-menu\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'balance'\" /></li>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'party_Files'\" /> (<span data-bind=\"text: Files().length\" />)</li>\r\n\t\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'organization_Employees'\" /> (<span data-bind=\"text: Employees().length\" />)</li>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'department_Caption_List'\" /> (<span data-bind=\"text: Departments().length\" />)</li>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"tabs-content\">\r\n\t\t\t\t\t<div class=\"party-overview\">\r\n\t\t\t\t\t\t<div><span data-bind=\"text: TotalBalance\" /></div>\r\n\t\t\t\t\t\t<!-- ko foreach: UnbalancedOrders -->\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t<span data-bind=\"text: Total.Amount\" />\r\n\t\t\t\t\t\t\t<span data-bind=\"text: Paid.Amount\" />\r\n\t\t\t\t\t\t\t<span data-bind=\"text: TotalDue.Amount\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"party-files\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddFile\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Files -->\r\n\t\t\t\t\t\t<div class=\"file\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"text: FileName, click: $parent.DownloadFile\" /> <a href=\"javascript:void(0)\" class=\"delete-action\" data-bind=\"click: $parent.DeleteFile\" />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: TimeStamp().format('d.m.Y H:i')\" /> - <a data-bind=\"view: UploadedBy\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddEmployee\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Employees -->\r\n\t\t\t\t\t\t<div class=\"employee\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" /><!-- ko if: Title --><span class=\"employee-title\" data-bind=\"text: ' - ' + Title()\" /><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddDepartment\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Departments -->\r\n\t\t\t\t\t\t<div class=\"department\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"band-right\">\r\n\t\t\t\t<div class=\"block-header\" data-bind=\"text: InfoTitle\" />\r\n\r\n\t\t\t\t<!-- ko if: IsPerson && Birthday -->\r\n\t\t\t\t<p class=\"birthday\" data-bind=\"text: Birthday().format('d.m.Y')\" />\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko template: \"Party.Contacts\" --><!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: IsOrganization && Code -->\r\n\t\t\t\t<div class=\"organization-code\">\r\n\t\t\t\t\t<div class=\"label\" data-bind=\"res: 'organization_Code'\" />\r\n\t\t\t\t\t<span data-bind=\"text: Code\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<!-- ko if: MilesCards() && MilesCards().length -->\r\n\t\t\t\t<div class=\"miles-cards\" data-bind=\"foreach: MilesCards\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<!-- ko if: Organization --><div data-bind=\"text: Organization.Text\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div data-bind=\"text: Number\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: Passports() && Passports().length -->\r\n\t\t\t\t<div class=\"person-passports\" data-bind=\"foreach: Passports\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"pass-number\"><!-- ko if: IssuedByCode --><span data-bind=\"text: IssuedByCode\" /><!-- /ko --> <span data-bind=\"text: Number\" /></div>\r\n\t\t\t\t\t\t<!-- ko if: ExpiredOn --><div class=\"pass-expiredon\">\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e <span data-bind=\"text: ExpiredOn().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: Note --><div class=\"pass-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div class=\"pass-details\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: FirstName\" /> <span data-bind=\"text: MiddleName\" /> <span data-bind=\"text: LastName\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- ko if: Birthday --><div><span data-bind=\"res: 'passport_Birthday'\" />: <span data-bind=\"text: Birthday().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: GenderString --><div><span data-bind=\"res: 'passport_Gender'\" />: <span data-bind=\"text: GenderString\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: Citizenship --><div><span data-bind=\"res: 'passport_Citizenship'\" />: <span data-bind=\"text: Citizenship.Text\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pass-copy\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Amadeus</a><input readonly=\"readonly\" data-bind=\"value: AmadeusString\" />\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Galileo</a><input readonly=\"readonly\" data-bind=\"value: GalileoString\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: InfoPrompt -->\r\n\t\t\t\t<div class=\"party-info-prompt\">\r\n\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: Edit\">\u0423\u043a\u0430\u0436\u0438\u0442\u0435</a>\r\n\t\t\t\t\t<!-- ko if: IsPerson -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b, \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsDepartment -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430<!-- /ko -->\r\n\t\t\t\t\t\u0438 \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0437\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko ifnot: IsOrganization -->\r\n\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t<div class=\"block-header party-organization\" data-bind=\"res: 'organizationView_Info'\" />\r\n\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t<!-- ko template: { name: \"Party.Contacts\", data: Organization } --><!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>");
