Ext.BLANK_IMAGE_URL=Ext.isIE6||Ext.isIE7||Ext.isAir?'ext/resources/images/default/s.gif':'data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==',ss.CultureInfo.InvariantCulture=new ss.CultureInfo('ru-RU',{naNSymbol:'NaN',negativeSign:'-',positiveSign:'+',negativeInfinityText:'-Infinity',positiveInfinityText:'Infinity',percentSymbol:'%',percentGroupSizes:[3],percentDecimalDigits:2,percentDecimalSeparator:',',percentGroupSeparator:' ',percentPositivePattern:'{0} %',percentNegativePattern:'-{0} %',currencySymbol:'',currencyGroupSizes:[3],currencyDecimalDigits:2,currencyDecimalSeparator:',',currencyGroupSeparator:' ',currencyNegativePattern:'-{0}',currencyPositivePattern:'{0}',numberGroupSizes:[3],numberDecimalDigits:2,numberDecimalSeparator:',',numberGroupSeparator:' '},null);LxnBase.UI.pathToImages='static/style/travel/img/';
Type.registerNamespace('LxnBase.UI');LxnBase.UI.BasicViewForm=function(tabId,id,type,tabCls){LxnBase.UI.BasicViewForm.initializeBase(this,[new Ext.PanelConfig().title(LxnBase.BaseRes.loading).autoScroll(true).closable(true).cls(tabCls).toDictionary(),tabId]);this._id=id;this._type=type;this.loadInstance();}
LxnBase.UI.BasicViewForm.link=function(obj,text){if(ss.isNullOrUndefined(obj)&&ss.isNullOrUndefined(text)){return '';}if(ss.isNullOrUndefined(obj)&&!ss.isNullOrUndefined(text)){return text;}var $0=new LxnBase.Data.Reference();$0.Id=obj.Id;$0.Name=text||obj.Name;$0.Type=obj.Type;return LxnBase.UI.Controls.ObjectLink.renderInfo($0);}
LxnBase.UI.BasicViewForm.notEmpty=function(value){if(String.isNullOrEmpty(value)){return '';}return value;}
LxnBase.UI.BasicViewForm.hasValue=function(obj,fn,falseText){var $0=(ss.isNullOrUndefined(falseText))?'':falseText;if(ss.isNullOrUndefined(obj)||!obj||!obj.toString()){return $0;}if(Type.canCast(obj,Array)){var $1=obj;for(var $2=0;$2<$1.length;$2++){if($1[$2]!=null){return fn();}}return $0;}return fn();}
LxnBase.UI.BasicViewForm.addValue=function(dictionary,obj,name){var $0=obj[name];if(ss.isValue($0)){dictionary[name]=$0;}}
LxnBase.UI.BasicViewForm.prototype={onActivate:function(isFirst){if(!isFirst){this.loadInstance();}},$6_0:function(){LxnBase.UI.FormsRegistry.editObject(this._type,this._id,null,ss.Delegate.create(this,function($p1_0){
if(ss.isValue($p1_0)){this.load(($p1_0).Item);}else{this.loadInstance();}}),null);},removeEntity:function(){LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation,LxnBase.BaseRes.delete_Confirmation,ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}LxnBase.Services.GenericService.Delete(this._type,[this._id],null,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;if($2_0.Success){LxnBase.UI.Tabs.close(this);LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List,LxnBase.BaseRes.deleted+' '+this.getTitle());}else{this.onDeleteFailed();}}),ss.Delegate.create(this,function(){
this.onDeleteFailed();}));}));},copyEntity:function(){LxnBase.UI.FormsRegistry.editObject(this._type,this._id,null,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=$1_0.Item;var $1_2=$1_1[LxnBase.Data.ObjectPropertyNames.reference];if(Type.canCast($1_2,Date)){$1_2=($1_2).format('d.m.Y');}var $1_3=LxnBase.BaseRes.created+' '+$1_2;LxnBase.MessageRegister.info(this.title,$1_3);}),null,null,LxnBase.UI.LoadMode.remote,true);},onDeleteFailed:function(){LxnBase.UI.ReplaceForm.exec(this._type,this._id,this);},initComponent:function(){this.tbar=this.createToolbarItems();LxnBase.UI.BasicViewForm.callBaseMethod(this, 'initComponent');this._contentPanel=this.add(new Ext.Panel(new Ext.PanelConfig().border(false).cls('content').toDictionary()));this.add(this.createTitlePanel());this.add(this._contentPanel);},createTitlePanel:function(){this._titleLabel=new Ext.form.Label(new Ext.form.LabelConfig().toDictionary());var $0=new Ext.Panel(new Ext.PanelConfig().border(false).listeners({render:ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;this._titleLabel.render($1_0.body);})}).cls('title').toDictionary());return $0;},menuAction:function(title_,items_,disabled_){var $0=new Ext.ActionConfig().text(title_).custom('menu',new Ext.menu.Menu(new Ext.menu.MenuConfig().items(items_).toDictionary()));if(!ss.isNullOrUndefined(disabled_)){$0=$0.disabled(disabled_);}return new Ext.Action($0.toDictionary());},menuItem:function(title_,handler){return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(handler).toDictionary());},action:function(title_,onclick,disabled_){return new Ext.Action(new Ext.ActionConfig().text(title_).disabled(!ss.isNullOrUndefined(disabled_)&&disabled_).handler(onclick).toDictionary());},_id:null,_type:null,_contentPanel:null,_titleLabel:null}
Type.registerNamespace('Luxena.Travel');Luxena.Travel.IGridControl=function(){};Luxena.Travel.IGridControl.registerInterface('Luxena.Travel.IGridControl');Luxena.Travel.IEditForm=function(){};Luxena.Travel.IEditForm.registerInterface('Luxena.Travel.IEditForm');Luxena.Travel.IGridForm=function(){};Luxena.Travel.IGridForm.registerInterface('Luxena.Travel.IGridForm');Luxena.Travel.DomainRes={common_Amount:'\u0421\u0443\u043c\u043c\u0430',
common_Code:'\u041a\u043e\u0434',
common_Commission:'\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f',
common_Commission_Short:'\u041a\u043e\u043c.',
common_Date:'\u0414\u0430\u0442\u0430',
common_Discount:'\u0421\u043a\u0438\u0434\u043a\u0430',
common_Name:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
common_Note:'\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435',
common_Number:'\u041d\u043e\u043c\u0435\u0440',
common_Remarks:'\u0417\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f',
common_Seller:'\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446',
common_Status:'\u0421\u0442\u0430\u0442\u0443\u0441',
common_Type:'\u0422\u0438\u043f',
copyOf:'\u041a\u043e\u043f\u0438\u044f {0}',
currency:'\u0412\u0430\u043b\u044e\u0442\u0430',
currency_Caption_List:'\u0412\u0430\u043b\u044e\u0442\u044b',
currency_Short:'\u0412\u0430\u043b.',
department:'\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435',
department_Caption_List:'\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f',
party_ReportsTo:'\u041f\u043e\u0434\u0447\u0438\u043d\u044f\u0435\u0442\u0441\u044f',
organization:'\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f',
organization_Caption_List:'\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438',
party:'\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442',
paymentType:'\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b',
person:'\u041f\u0435\u0440\u0441\u043e\u043d\u0430',
person_Caption_List:'\u041f\u0435\u0440\u0441\u043e\u043d\u044b',
party_Caption_List:'\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u044b',
department_Format_ToString:'{0} \u0432 {1}',
person_Format_ToString:'{0} ({1})',
airport_Format_ToString:'{0} - {1}',
airline:'\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
airport:'\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442',
airline_Caption_List:'\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
airport_Caption_List:'\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u044b',
common_Country:'\u0421\u0442\u0440\u0430\u043d\u0430',
domainTest_BoolTest:'BoolTest',
domainTest_IntTest:'IntTest',
domainTest_EnumTest:'EnumTest',
common_IssueDate:'\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430',
common_Fare:'\u0422\u0430\u0440\u0438\u0444',
common_FeesTotal:'\u0422\u0430\u043a\u0441\u044b',
common_ServiceFee:'\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
common_Vat:'\u0412 \u0442.\u0447. \u041d\u0414\u0421',
common_PassengerName:'\u0418\u043c\u044f \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430',
common_Passenger:'\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440',
aviaDocument_PnrCode:'\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430',
aviaDocument_Booker:'\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a',
aviaDocument_Ticketer:'\u0422\u0438\u043a\u0435\u0442\u0435\u0440',
aviaDocument_TourCode:'\u0422\u0443\u0440\u043a\u043e\u0434',
flightSegment_Carrier:'\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a',
flightSegment_DepartureTime:'\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
flightSegment_FareBasis:'\u0411\u0430\u0437\u0430 \u0442\u0430\u0440\u0438\u0444\u0430',
flightSegment_FlightNumber:'\u0420\u0435\u0439\u0441',
flightSegment_FromAirportName:'\u0418\u0437 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430',
flightSegment_ToAirportName:'\u0412 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442',
product_Total:'\u0418\u0442\u043e\u0433\u043e \u043f\u043e \u0410\u041a',
product_GrandTotal:'\u041a \u043e\u043f\u043b\u0430\u0442\u0435',
common_Intermediary:'\u041f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a',
aviaDocument_ConjunctionNumbers:'\u0414\u043e\u043f. \u043d\u043e\u043c\u0435\u0440\u0430',
flightClass_Business:'\u0411\u0438\u0437\u043d\u0435\u0441',
flightClass_Economy:'\u042d\u043a\u043e\u043d\u043e\u043c',
flightClass_First:'\u041f\u0435\u0440\u0432\u044b\u0439',
flightClass_PremiumEconomy:'\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c',
party_IsCustomer:'\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a',
party_IsSupplier:'\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a',
person_LegalName:'\u0424\u0418\u041e',
party_LegalName:'\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
airport_LocalCode:'\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043a\u043e\u0434',
airport_Settlement:'\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 (\u0430\u043d\u0433\u043b.)',
aviaDocument_Caption_List:'\u0410\u0432\u0438\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
aviaDocument_CommissionPercent:'% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438',
aviaDocument_Origin:'\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a',
aviaDocument_Originator:'\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f',
aviaDocument_AirlinePnrCode:'\u041a\u043e\u0434 Pnr',
aviaDocument_OriginalDocument:'\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
organization_AirlineIataCode:'IATA \u043a\u043e\u0434',
organization_AirlinePrefixCode:'Prefix \u043a\u043e\u0434',
user_Caption_List:'\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438',
user:'\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c',
user_Active:'\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439',
user_IsAdministrator:'\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440',
user_IsAnalyst:'\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a',
user_IsCashier:'\u041a\u0430\u0441\u0441\u0438\u0440',
user_IsManager:'\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f',
user_IsSubAgent:'\u0421\u0443\u0431\u0430\u0433\u0435\u043d\u0442',
user_IsSupervisor:'\u0421\u0443\u043f\u0435\u0440\u0432\u0438\u0437\u043e\u0440',
user_IsAgent:'\u0410\u0433\u0435\u043d\u0442',
user_Name:'\u041b\u043e\u0433\u0438\u043d',
user_Roles:'\u0420\u043e\u043b\u0438',
gdsFile_Caption_List:'Gds-\u0444\u0430\u0439\u043b\u044b',
gdsFile_Content:'\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435',
gdsFile_ImportOutput:'\u0416\u0443\u0440\u043d\u0430\u043b',
gdsFile_ImportResult:'\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0430',
gdsFile_TimeStamp:'\u0414\u0430\u0442\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430',
gdsFile:'Gds-\u0444\u0430\u0439\u043b',
airFile:'Air-\u0444\u0430\u0439\u043b',
importResult_Error:'\u041e\u0448\u0438\u0431\u043a\u0430',
importResult_None:'\u041d\u0435\u0442',
importResult_Success:'\u0418\u043c\u043f\u043e\u0440\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e',
importResult_Warn:'\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435',
gdsFile_FileType:'\u0422\u0438\u043f',
gdsAgent_Caption_List:'Gds-\u0430\u0433\u0435\u043d\u0442\u044b',
gdsAgent:'Gds-\u0430\u0433\u0435\u043d\u0442',
gdsAgent_Agent:'\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430',
gdsAgent_OfficeCode:'\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430',
gdsAgent_Origin:'\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
aviaDocument_AirlinePrefixCode:'\u041a\u043e\u0434 \u0410\u041a',
aviaMco:'MCO',
aviaRefund:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u0430',
aviaTicket:'\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442',
aviaDocument_BookerCode:'\u041a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430',
aviaDocument_BookerOffice:'\u041e\u0444\u0438\u0441 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430',
aviaDocument_TicketerCode:'\u041a\u043e\u0434 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430',
aviaDocument_TicketerOffice:'\u041e\u0444\u0438\u0441 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430',
common_Total:'\u0418\u0442\u043e\u0433\u043e',
aviaTicket_FlightSegment:'\u0421\u0435\u0433\u043c\u0435\u043d\u0442\u044b',
flightSegment_ArrivalTerminal:'\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b',
flightSegment_ArrivalTime:'\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
flightSegment_CheckInTerminal:'\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b',
flightSegment_CheckInTime:'\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f',
flightSegment_Duration:'\u041f\u0435\u0440\u0435\u043b\u0435\u0442',
flightSegment_Luggage:'\u0411\u0430\u0433\u0430\u0436',
flightSegment_Meal:'\u041f\u0438\u0442\u0430\u043d\u0438\u0435',
flightSegment_NumberOfStops:'\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438',
flightSegment_Seat:'\u041c\u0435\u0441\u0442\u043e',
flightSegment_ServiceClass:'\u041a\u043b\u0430\u0441\u0441',
mealType_AlcoholicBeveragesForPurchase:'\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438',
mealType_AlcoholicComplimentaryBeverages:'\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438',
mealType_Breakfast:'\u0417\u0430\u0432\u0442\u0440\u0430\u043a',
mealType_ColdMeal:'\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0435\u0434\u0430',
mealType_ContinentalBreakfast:'\u041a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0432\u0442\u0440\u0430\u043a',
mealType_Dinner:'\u041e\u0431\u0435\u0434',
mealType_DutyFree:'DutyFree',
mealType_FoodForPurchase:'\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0435\u0434\u0430',
mealType_HotMeal:'\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0435\u0434\u0430',
mealType_Lunch:'\u041b\u0430\u043d\u0447',
mealType_Meal:'\u0415\u0434\u0430',
mealType_Refreshment:'\u041d\u0430\u043f\u0438\u0442\u043a\u0438',
mealType_Snack:'\u0417\u0430\u043a\u0443\u0441\u043a\u0430',
serviceClass_Business:'\u0411\u0438\u0437\u043d\u0435\u0441',
serviceClass_Economy:'\u042d\u043a\u043e\u043d\u043e\u043c',
serviceClass_First:'\u041f\u0435\u0440\u0432\u044b\u0439',
serviceClass_PremiumEconomy:'\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c',
common_EqualFare:'\u042d\u043a\u0432. \u0442\u0430\u0440\u0438\u0444',
common_CancelFee:'\u0428\u0442\u0440\u0430\u0444 \u0437\u0430 \u043e\u0442\u043c\u0435\u043d\u0443',
aviaRefund_RefundedDocument:'\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
common_RefundServiceFee:'C\u0431\u043e\u0440 \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
common_ServiceFeePenalty:'\u0428\u0442\u0440\u0430\u0444 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
common_IsProcessed:'\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d',
common_IsVoid:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
common_RequiresProcessing:'\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435',
product_TotalToBeTransfered:'\u0421\u0443\u043c\u043c\u0430 \u043a \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044e \u0432 \u0410\u041a',
aviaDocument_Itinerary:'\u041c\u0430\u0440\u0448\u0440\u0443\u0442',
aviaTicket_SegmentClasses:'\u041a\u043b\u0430\u0441\u0441\u044b \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u043e\u0432',
common_Percent:'\u041f\u0440\u043e\u0446\u0435\u043d\u0442',
common_Subject:'\u0422\u0435\u043c\u0430',
task:'\u0417\u0430\u0434\u0430\u0447\u0430',
taskComment:'\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439',
task_Caption_List:'\u0417\u0430\u0434\u0430\u0447\u0438',
task_DueDate:'\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e',
task_RelatedTo:'\u041e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e',
common_Description:'\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435',
party_ActualAddress:'\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441',
common_Email:'E-mail',
common_Emails:'E-mails',
common_Email1:'E-mail 1',
common_Email2:'E-mail 2',
party_Fax:'\u0424\u0430\u043a\u0441',
party_LegalAddress:'\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441',
common_Addresses:'\u0410\u0434\u0440\u0435\u0441\u0430',
common_Phone:'\u0422\u0435\u043b\u0435\u0444\u043e\u043d',
common_Phones:'\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b',
common_Phone1:'\u0422\u0435\u043b\u0435\u0444\u043e\u043d 1',
common_Phone2:'\u0422\u0435\u043b\u0435\u0444\u043e\u043d 2',
simCard_Phone:'',
milesCard:'\u041c\u0438\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0430',
milesCard_Organization:'\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f',
passport:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442',
passport_Citizenship:'\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e',
passport_ExpiredOn:'\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e',
passport_FirstName:'\u0418\u043c\u044f',
passport_Gender:'\u041f\u043e\u043b',
passport_IssuedBy:'\u0412\u044b\u0434\u0430\u0432\u0448\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0430',
passport_LastName:'\u0424\u0430\u043c\u0438\u043b\u0438\u044f',
passport_MiddleName:'\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e',
milesCard_Caption_List:'\u041c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438',
passport_Caption_List:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
gender_Female:'\u0416\u0435\u043d\u0441\u043a\u0438\u0439',
gender_Male:'\u041c\u0443\u0436\u0441\u043a\u043e\u0439',
passport_AmadeusString:'\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Amadeus',
passport_GalileoString:'\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Galileo',
country:'\u0421\u0442\u0440\u0430\u043d\u0430',
country_Caption_List:'\u0421\u0442\u0440\u0430\u043d\u044b',
country_ThreeCharCode:'\u041a\u043e\u0434 (3-\u0445 \u0441\u0438\u043c.)',
country_TwoCharCode:'\u041a\u043e\u0434 (2-\u0445 \u0441\u0438\u043c.)',
passport_Birthday:'\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f',
person_Birthday:'\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f',
taskStatus_Closed:'\u0417\u0430\u043a\u0440\u044b\u0442\u0430',
taskStatus_InProgress:'\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f',
taskStatus_Open:'\u041e\u0442\u043a\u0440\u044b\u0442\u0430',
taskStatus_WaitForResponse:'\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438 \u043e\u0442\u0432\u0435\u0442\u0430',
aviaDocument_PaymentForm:'\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b',
common_ReissueFor:'\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a \u0434\u043b\u044f',
common_ReissuedBy:'\u0411\u044b\u043b \u043f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a',
airlineServiceClass_Caption_List:'\u0421\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441\u044b',
serviceClass:'\u0421\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441',
mirFile:'Mir-\u0444\u0430\u0439\u043b',
tktFile:'Tkt-\u0444\u0430\u0439\u043b',
airlineServiceClass:'\u0421\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441',
aviaDocumentOrigin_AmadeusAir:'Amadeus AIR',
aviaDocumentOrigin_AmadeusPrint:'Amadeus Print',
aviaDocumentOrigin_BspLink:'Bsp Link',
aviaDocumentOrigin_GalileoMir:'Galileo MIR',
aviaDocumentOrigin_GalileoTkt:'Galileo Ticket',
aviaDocumentOrigin_Manual:'\u0420\u0443\u0447\u043d\u043e\u0439 \u0432\u0432\u043e\u0434',
productType_AviaMco:'MCO',
productType_AviaRefund:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u0430',
productType_AviaTicket:'\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442',
aviaMco_Caption_List:'MCO',
aviaRefund_Caption_List:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432',
aviaTicket_Caption_List:'\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b',
aviaRefund_CancelCommission:'\u041a\u043e\u043c\u0438\u0441\u0438\u044f \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
aviaDocument_ExtraCharge:'\u041d\u0430\u0446\u0435\u043d\u043a\u0430',
aviaDocument_Profit:'\u041f\u0440\u0438\u0431\u044b\u043b\u044c',
flightSegment_FromAirportCode:'\u041a\u043e\u0434',
flightSegment_CarrierPrefixCode:'\u041a\u043e\u0434',
flightSegment_MealTypes:'\u041f\u0438\u0442\u0430\u043d\u0438\u0435',
flightSegment_ServiceClassCode:'\u041a\u043e\u0434 \u043a\u043b\u0430\u0441\u0441\u0430',
flightSegment_Stopover:'\u041a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442',
flightSegment:'\u0421\u0435\u0433\u043c\u0435\u043d\u0442',
systemConfiguration:'\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
order_Caption_List:'\u0417\u0430\u043a\u0430\u0437\u044b',
common_Customer:'\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a',
order_Agreement:'\u0414\u043e\u0433\u043e\u0432\u043e\u0440',
order_DaysTillExpiration:'\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435',
order_IssueDate:'\u0414\u0430\u0442\u0430',
common_BillTo:'\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a',
common_AssignedTo:'\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439',
order:'\u0417\u0430\u043a\u0430\u0437',
order_IsAviaCompanyAndAgencyDataSplitted:'\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u043e\u0439',
order_Vat:'\u0412 \u0442.\u0447. \u041d\u0414\u0421',
order_Invoices:'\u0421\u0447\u0435\u0442\u0430 / \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
orderItem_Price:'\u0426\u0435\u043d\u0430',
orderItem_Quantity:'\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e',
orderItem_Text:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
orderItem:'\u041f\u043e\u0437\u0438\u0446\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430',
amadeusRizUsingMode_All:'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e',
amadeusRizUsingMode_None:'\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c',
amadeusRizUsingMode_ServiceFeeOnly:'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
orderItem_Text_Itinerary:'\u043c\u0430\u0440\u0448\u0440\u0443\u0442',
orderItem_Discount:'\u0421\u0443\u043c\u043c\u0430 \u0441\u043a\u0438\u0434\u043a\u0438',
orderItem_Vat:'\u0421\u0443\u043c\u043c\u0430 \u041d\u0414\u0421',
party_Name:'\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435',
airport_LocalizedSettlement:'\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442',
orderItem_GrandTotal:'\u0418\u0442\u043e\u0433\u043e',
orderItem_HasVat:'\u041e\u0431\u043b\u0430\u0433\u0430\u0442\u044c \u041d\u0414\u0421',
orderItem_IsForceDelivered:'\u041f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0432 \u0431\u0430\u043b\u0430\u043d\u0441\u0435 \u0432\u0437\u0430\u0438\u043c\u043e\u0437\u0430\u0447\u0451\u0442\u043e\u0432',
person_MilesCardsString:'\u041c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438',
gdsAgent_Office:'\u041e\u0444\u0438\u0441',
tktFile_OfficeCode:'\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430',
documentOwner:'\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
documentOwner_Caption_List:'\u0412\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
airlineCommissionPercents:'\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
airlineCommissionPercents_Caption_List:'\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439',
airlineCommissionPercents_Domestic:'\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b, %',
airlineCommissionPercents_InterlineDomestic:'\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b (interline), %',
airlineCommissionPercents_InterlineInternational:'\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442 (interline), %',
airlineCommissionPercents_International:'\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442, %',
common_Reservation:'\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430',
printFile:'Print-\u0444\u0430\u0439\u043b',
printFile_FilePath:'\u0424\u0430\u0439\u043b',
printFile_Office:'\u041e\u0444\u0438\u0441',
printFile_UserName:'\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c',
paymentType_WithoutPayment:'\u0411\u0435\u0437 \u043e\u043f\u043b\u0430\u0442\u044b',
documentAccess:'\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c',
documentAccess_Caption_List:'\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c',
common_Owner:'\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446',
documentAccess_FullDocumentControl:'\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f',
common_TicketingIataOffice:'IATA \u043e\u0444\u0438\u0441',
penalizeOperationStatus_Chargeable:'\u0428\u0442\u0440\u0430\u0444',
penalizeOperationStatus_NotAllowed:'\u041d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e',
penalizeOperationStatus_NotChargeable:'\u0411\u0435\u0437 \u0448\u0442\u0440\u0430\u0444\u0430',
aviaTicket_PenalizeOperations:'\u0428\u0442\u0440\u0430\u0444\u043d\u044b\u0435 \u0441\u0430\u043d\u043a\u0446\u0438\u0438',
payment_Amount:'\u0421\u0443\u043c\u043c\u0430',
payment_Caption_List:'\u041f\u043b\u0430\u0442\u0435\u0436\u0438',
payment_Payer:'\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a',
payment_PaymentForm:'\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b',
payment_ReceivedFrom:'\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043e\u0442',
payment_RegisteredBy:'\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',
payment:'\u041f\u043b\u0430\u0442\u0435\u0436',
paymentForm_CashOrder:'',
paymentForm_Check:'\u041a\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0447\u0435\u043a',
paymentForm_WireTransfer:'\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
orderType_Cash:'\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u0439',
invoice_Type:'\u0422\u0438\u043f',
payment_IsPosted:'\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d',
organization_Code:'\u041a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f',
common_Handling:'\u0414\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a',
payment_PostedOn:'\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438',
order_DeliveryBalance:'\u0411\u0430\u043b\u0430\u043d\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432',
common_IsPaid:'\u041e\u043f\u043b\u0430\u0447\u0435\u043d',
payment_Vat:'\u0412 \u0442.\u0447. \u041d\u0414\u0421',
party_Files:'\u0424\u0430\u0439\u043b\u044b',
closedPeriod_Caption_List:'\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b',
closedPeriod:'\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434',
closedPeriod_DateFrom:'\u0414\u0430\u0442\u0430 \u0441',
closedPeriod_DateTo:'\u0414\u0430\u0442\u0430 \u043f\u043e',
closedPeriod_PeriodState:'\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435',
aviaDocument_Closed:'\u0417\u0430\u043a\u0440\u044b\u0442',
payment_Closed:'\u0417\u0430\u043a\u0440\u044b\u0442',
aviaTicket_PassportInformation:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b',
organization_AirlinePassportRequirement:'\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445',
airlinePassportRequirement_NotRequired:'\u041d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f',
airlinePassportRequirement_Required:'\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f',
airlinePassportRequirement_SystemDefault:'\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e',
aviaDocument_GdsPassport:'\u0421\u0442\u0440\u043e\u043a\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0432 GDS',
aviaDocument_GdsPassportStatus:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 GDS',
aviaDocument_Passenger:'\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440',
gdsPassportStatus_Exist:'\u0415\u0441\u0442\u044c',
gdsPassportStatus_Incorrect:'\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d',
gdsPassportStatus_NotExist:'\u041d\u0435\u0442',
gdsPassportStatus_Unknown:'\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e',
common_CommissionDiscount:'\u0421\u043a\u0438\u0434\u043a\u0430 \u043e\u0442 \u043a\u043e\u043c. \u0410\u041a',
consignment_Caption_List:'\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435',
orderItem_Consignment:'\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f',
consignment_Acquirer:'\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e',
consignment_GrandTotal:'\u0421\u0443\u043c\u043c\u0430 \u0441 \u041f\u0414\u0412',
consignment_IssueDate:'\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f',
consignment_Supplier:'\u041e\u0442\u043f\u0443\u0449\u0435\u043d\u043e',
consignment_Total:'\u0421\u0443\u043c\u043c\u0430 \u0431\u0435\u0437 \u041f\u0414\u0412',
consignment_TotalSupplied:'\u0412\u0441\u0435\u0433\u043e \u043e\u0442\u043f\u0443\u0449\u0435\u043d\u043e',
consignment_Vat:'\u041f\u0414\u0412',
common_ShipTo:'\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c',
order_Paid:'\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e',
order_TotalDue:'\u041a \u043e\u043f\u043b\u0430\u0442\u0435',
payment_DocumentNumber:'\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
cashInOrderPayment:'\u041f\u041a\u041e',
checkPayment:'\u041a\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0447\u0435\u043a',
wireTransfer:'\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
consignment_IssuedConsignments:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435',
consignment_Number:'\u041d\u043e\u043c\u0435\u0440',
consignment:'\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f',
consignment_Discount:'\u0421\u043a\u0438\u0434\u043a\u0430',
invoice_IssueDate:'\u0414\u0430\u0442\u0430',
invoice_IssuedBy:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d',
invoice_TimeStamp:'\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f',
invoice_Caption_List:'\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
payment_Invoice:'\u0421\u0447\u0435\u0442/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
currency_NumericCode:'\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043a\u043e\u0434',
documentOwner_IsActive:'\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439',
invoiceType_Invoice:'\u0421\u0447\u0435\u0442',
invoiceType_Receipt:'\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
invoice_IsOrderVoid:'\u0417\u0430\u043a\u0430\u0437 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
person_Title:'\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c',
paymentForm_Electronic:'\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
currency_CyrillicCode:'\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043a\u043e\u0434',
electronicPayment:'\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436',
paymentSystem:'\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430',
paymentSystem_Caption_List:'\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
electronicPayment_AuthorizationCode:'\u041a\u043e\u0434 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438',
electronicPayment_PaymentSystem:'\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430',
party_WebAddress:'\u0412\u0435\u0431 \u0430\u0434\u0440\u0435\u0441',
organization_Employees:'\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438',
order_IsPublic:'\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f',
order_UseServiceFeeOnlyInVat:'\u041d\u0414\u0421 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
openingBalance:'\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a',
openingBalance_Balance:'\u041e\u0441\u0442\u0430\u0442\u043e\u043a',
openingBalance_Caption_List:'\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0441\u0442\u0430\u0442\u043a\u0438',
order_IsSubjectOfPaymentsControl:'\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435 \u043e\u043f\u043b\u0430\u0442',
internalTransfer:'\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434',
internalTransfer_Caption_List:'\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b',
internalTransfer_FromOrder:'\u0418\u0437 \u0437\u0430\u043a\u0430\u0437\u0430',
internalTransfer_FromParty:'\u041e\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430',
internalTransfer_ToOrder:'\u0412 \u0437\u0430\u043a\u0430\u0437',
internalTransfer_ToParty:'\u041a \u043a\u043e\u043d\u0442\u0440\u0430\u0430\u0433\u0435\u043d\u0442\u0443',
payment_InvoiceDate:'\u0414\u0430\u0442\u0430 \u0441\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
aviaDocument_PaymentDetails:'\u0414\u0435\u0442\u0430\u043b\u0438 \u043e\u043f\u043b\u0430\u0442\u044b',
aviaMco_InConnectionWith:'\u0421\u0432\u044f\u0437\u0430\u043d \u0441',
product_Refund:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442',
allProduct_Caption_List:'\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
common_Operator:'\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440',
common_IsSale:'\u041f\u0440\u043e\u0434\u0430\u0436\u0430',
pasteboard:'\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442',
pasteboard_Caption_List:'\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442\u044b',
pasteboardRefund:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u0430',
pasteboardRefund_Caption_List:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
pasteboard_FirstStation:'',
pasteboard_LastStation:'',
pasteboard_StartDate:'',
simCard:'SIM-\u043a\u0430\u0440\u0442\u0430',
simCard_Caption_List:'SIM-\u043a\u0430\u0440\u0442\u044b',
isic:'\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0439 \u0431\u0438\u043b\u0435\u0442 Isic',
isic_Caption_List:'\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b Isic',
common_TourName:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0443\u0440\u0430',
common_StartDate:'\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430',
common_FinishDate:'\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f',
excursion:'\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f',
excursion_Caption_List:'\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438',
tour:'\u0422\u0443\u0440 (\u0433\u043e\u0442\u043e\u0432\u044b\u0439)',
tour_Caption_List:'\u0422\u0443\u0440\u044b (\u0433\u043e\u0442\u043e\u0432\u044b\u0435)',
common_Hotel:'\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430',
common_HotelOffice:'\u041e\u0444\u0438\u0441',
common_HotelCode:'\u041a\u043e\u0434',
common_HotelRoom:'\u041d\u043e\u043c\u0435\u0440',
common_Placement:'\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435',
common_PlacementOffice:'\u041e\u0444\u0438\u0441',
common_PlacementCode:'\u041a\u043e\u0434',
common_Diet:'\u041f\u0438\u0442\u0430\u043d\u0438\u0435',
common_AviaDescription:'\u0410\u0432\u0438\u0430 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)',
common_TransferDescription:'\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)',
common_Office:'\u041e\u0444\u0438\u0441',
accommodation:'\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435',
accommodation_Caption_List:'\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f',
accommodationType:'\u0422\u0438\u043f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f',
accommodationType_Caption_List:'\u0422\u0438\u043f\u044b \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f',
common_AccommodationType:'\u0422\u0438\u043f \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u044f',
cateringType:'\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f',
cateringType_Caption_List:'\u0422\u0438\u043f\u044b \u043f\u0438\u0442\u0430\u043d\u0438\u044f',
common_CateringType:'\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f',
transfer:'\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440',
transfer_Caption_List:'\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u044b',
insurance:'\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430',
insurance_Caption_List:'\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438',
carRental:'\u0410\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f',
carRental_Caption_List:'\u0410\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439',
carRental_CarBrand:'\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e',
pasteboardServiceClass_FirstClass:'1-\u0439 \u043a\u043b\u0430\u0441\u0441',
pasteboardServiceClass_SecondClass:'2-\u0439 \u043a\u043b\u0430\u0441\u0441',
pasteboardServiceClass_LuxuryCoupe:'\u043b\u044e\u043a\u0441',
pasteboardServiceClass_ReservedSeat:'\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442',
pasteboardServiceClass_Compartment:'\u043a\u0443\u043f\u0435',
pasteboard_ServiceClass:'\u041a\u043b\u0430\u0441\u0441 \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f',
pasteboard_TrainNumber:'\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0435\u0437\u0434\u0430',
pasteboard_CarNumber:'\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430',
productProvider:'\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
productProvider_Caption_List:'\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
common_IsAccommodationProvider:'\u0414\u043b\u044f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f',
common_IsCarRentalProvider:'\u0414\u043b\u044f \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e',
common_IsInsuranceProvider:'\u0414\u043b\u044f \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u043a',
common_IsPasteboardProvider:'\u0414\u043b\u044f \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
common_IsTransferProvider:'\u0414\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u043e\u0432',
common_Provider:'\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440',
genericProductType:'\u0412\u0438\u0434 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u043b\u0443\u0433\u0438',
genericProductType_Caption_List:'\u0412\u0438\u0434\u044b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433',
genericProduct:'\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430',
genericProduct_Caption_List:'\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438',
genericProduct_GenericType:'\u0412\u0438\u0434 \u0443\u0441\u043b\u0443\u0433\u0438',
product_Caption_List:'\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
busTicket:'\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442',
busTicket_Caption_List:'\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b',
common_Place:'\u041c\u0435\u0441\u0442\u043e',
common_DeparturePlace:'\u041c\u0435\u0441\u0442\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f',
common_ArrivalPlace:'\u041c\u0435\u0441\u0442\u043e \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f',
common_DepartureDate:'\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f',
common_ArrivalDate:'\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f',
common_Time:'\u0412\u0440\u0435\u043c\u044f',
common_DepartureTime:'\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f',
common_ArrivalTime:'\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f',
common_SeatNumber:'\u041d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u0442\u0430',
common_IsBusTicketProvider:'\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
common_Departure:'\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
common_Arrival:'\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
common_BonusDiscount:'\u0411\u043e\u043d\u0443\u0441\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430',
common_BonusAccumulation:'\u0411\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u0435',
common_BonusCardNumber:'\u2116 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u044b',
common_IsTourProvider:'\u0414\u043b\u044f \u0442\u0443\u0440\u043e\u0432 (\u0433\u043e\u0442\u043e\u0432\u044b\u0445)',
common_InsuranceCompany:'\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
common_Misc:'\u0420\u0430\u0437\u043d\u043e\u0435',
simCard_Producer:'\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440',
organization_IsAirline:'\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
organization_IsProvider:'\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440',
organization_IsInsuranceCompany:'\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f',
organization_IsAirline_long:'\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439',
organization_IsProvider_long:'\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0443\u0441\u043b\u0443\u0433',
organization_IsInsuranceCompany_long:'\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439',
organization_IsRoamingOperator_long:'\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0420\u043e\u0443\u043c\u0438\u043d\u0433-\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c',
common_UAH_EUR:'UAH/EUR',
common_UAH_RUB:'UAH/RUB',
common_UAH_USD:'UAH/USD',
common_RUB_EUR:'RUB/EUR',
common_RUB_USD:'RUB/USD',
common_EUR_USD:'EUR/USD',
currencyDailyRate:'\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442',
currencyDailyRate_Caption_List:'\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442',
insuranceRefund:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0441\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438',
busTicketRefund:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430',
common_IsGenericProductProvider:'\u0414\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433'
};Luxena.Travel.ClassNames={product:'Product',
allProduct:'AllProduct',
allAgencyProduct:'AllAgencyProduct',
aviaDocument:'AviaDocument',
aviaTicket:'AviaTicket',
aviaRefund:'AviaRefund',
aviaMco:'AviaMco',
productPassenger:'ProductPassenger',
pasteboard:'Pasteboard',
pasteboardRefund:'PasteboardRefund',
simCard:'SimCard',
isic:'Isic',
excursion:'Excursion',
tour:'Tour',
accommodation:'Accommodation',
accommodationType:'AccommodationType',
cateringType:'CateringType',
transfer:'Transfer',
insurance:'Insurance',
insuranceRefund:'InsuranceRefund',
carRental:'CarRental',
busTicket:'BusTicket',
busTicketRefund:'BusTicketRefund',
genericProductType:'GenericProductType',
genericProduct:'GenericProduct',
productProvider:'ProductProvider',
flightSegment:'FlightSegment',
order:'Order',
orderItem:'OrderItem',
invoice:'Invoice',
payment:'Payment',
cashInOrderPayment:'CashInOrderPayment',
cashOutOrderPayment:'CashOutOrderPayment',
wireTransfer:'WireTransfer',
checkPayment:'CheckPayment',
electronicPayment:'ElectronicPayment',
closedPeriod:'ClosedPeriod',
openingBalance:'OpeningBalance',
internalTransfer:'InternalTransfer',
currencyDailyRate:'CurrencyDailyRate',
task:'Task',
party:'Party',
person:'Person',
organization:'Organization',
department:'Department',
airline:'Airline',
airlineServiceClass:'AirlineServiceClass',
airport:'Airport',
country:'Country',
currency:'Currency',
paymentSystem:'PaymentSystem',
systemConfiguration:'SystemConfiguration',
user:'User',
userVisit:'UserVisit',
airlineCommissionPercents:'AirlineCommissionPercents',
documentOwner:'DocumentOwner',
documentAccess:'DocumentAccess',
gdsAgent:'GdsAgent',
gdsFile:'GdsFile',
airFile:'AirFile',
sirenaFile:'SirenaFile',
mirFile:'MirFile',
tktFile:'TktFile',
printFile:'PrintFile',
galileoXmlFile:'GalileoXmlFile',
galileoRailXmlFile:'GalileoRailXmlFile',
galileoBusXmlFile:'GalileoBusXmlFile',
amadeusXmlFile:'AmadeusXmlFile',
sabreFilFile:'SabreFilFile',
luxenaXmlFile:'LuxenaXmlFile',
travelPointXmlFile:'TravelPointXmlFile',
crazyllamaPnrFile:'CrazyllamaPnrFile',
drctXmlFile:'DrctXmlFile',
money:'Money',
passport:'Passport',
bankAccount:'BankAccount',
consignment:'Consignment'
};Luxena.Travel.PeriodState=function(){};Luxena.Travel.PeriodState.prototype = {open:0,restricted:1,closed:2}
Luxena.Travel.PeriodState.registerEnum('Luxena.Travel.PeriodState',false);Luxena.Travel.OrderItemLinkType=function(){};Luxena.Travel.OrderItemLinkType.prototype = {airlineData:0,serviceFee:1,fullDocument:2}
Luxena.Travel.OrderItemLinkType.registerEnum('Luxena.Travel.OrderItemLinkType',false);Luxena.Travel.InvoiceType=function(){};Luxena.Travel.InvoiceType.prototype = {invoice:0,receipt:1,completionCertificate:2}
Luxena.Travel.InvoiceType.registerEnum('Luxena.Travel.InvoiceType',false);Luxena.Travel.PaymentForm=function(){};Luxena.Travel.PaymentForm.prototype = {cashInOrder:0,wireTransfer:1,check:2,electronic:3,cashOutOrder:4}
Luxena.Travel.PaymentForm.registerEnum('Luxena.Travel.PaymentForm',false);Luxena.Travel.GdsPassportStatus=function(){};Luxena.Travel.GdsPassportStatus.prototype = {unknown:0,exist:1,notExist:2,incorrect:3}
Luxena.Travel.GdsPassportStatus.registerEnum('Luxena.Travel.GdsPassportStatus',false);Luxena.Travel.AirlinePassportRequirement=function(){};Luxena.Travel.AirlinePassportRequirement.prototype = {systemDefault:0,required:1,notRequired:2}
Luxena.Travel.AirlinePassportRequirement.registerEnum('Luxena.Travel.AirlinePassportRequirement',false);Luxena.Travel.PenalizeOperationStatus=function(){};Luxena.Travel.PenalizeOperationStatus.prototype = {notAllowed:0,notChargeable:1,chargeable:2}
Luxena.Travel.PenalizeOperationStatus.registerEnum('Luxena.Travel.PenalizeOperationStatus',false);Luxena.Travel.PenalizeOperationType=function(){};Luxena.Travel.PenalizeOperationType.prototype = {changesBeforeDeparture:0,changesAfterDeparture:1,refundBeforeDeparture:2,refundAfterDeparture:3,noShowBeforeDeparture:4,noShowAfterDeparture:5}
Luxena.Travel.PenalizeOperationType.registerEnum('Luxena.Travel.PenalizeOperationType',false);Luxena.Travel.AviaDocumentOrigin=function(){};Luxena.Travel.AviaDocumentOrigin.prototype = {amadeusAir:0,amadeusPrint:1,galileoMir:2,galileoTkt:3,bspLink:4,manual:5,sirenaXml:6}
Luxena.Travel.AviaDocumentOrigin.registerEnum('Luxena.Travel.AviaDocumentOrigin',false);Luxena.Travel.ProductType=function(){};Luxena.Travel.ProductType.prototype = {aviaTicket:0,aviaRefund:1,aviaMco:2}
Luxena.Travel.ProductType.registerEnum('Luxena.Travel.ProductType',false);Luxena.Travel.FlightSegmentType=function(){};Luxena.Travel.FlightSegmentType.prototype = {ticketed:0,unticketed:1,voided:2}
Luxena.Travel.FlightSegmentType.registerEnum('Luxena.Travel.FlightSegmentType',false);Luxena.Travel.PaymentType=function(){};Luxena.Travel.PaymentType.prototype = {unknown:0,cash:1,invoice:2,check:3,creditCard:4,exchange:5,withoutPayment:6}
Luxena.Travel.PaymentType.registerEnum('Luxena.Travel.PaymentType',false);Luxena.Travel.ServiceClass=function(){};Luxena.Travel.ServiceClass.prototype = {unknown:0,economy:1,premiumEconomy:2,business:3,first:4}
Luxena.Travel.ServiceClass.registerEnum('Luxena.Travel.ServiceClass',false);Luxena.Travel.GdsOriginator=function(){};Luxena.Travel.GdsOriginator.prototype = {unknown:0,amadeus:1,galileo:2,sirena:3,airline:4}
Luxena.Travel.GdsOriginator.registerEnum('Luxena.Travel.GdsOriginator',false);Luxena.Travel.MealType=function(){};Luxena.Travel.MealType.prototype = {noData:0,breakfast:1,continentalBreakfast:2,lunch:4,dinner:8,snack:16,coldMeal:32,hotMeal:64,meal:128,refreshment:256,alcoholicComplimentaryBeverages:512,food:1024,alcoholicBeveragesForPurchase:2048,dutyFree:4096}
Luxena.Travel.MealType.registerEnum('Luxena.Travel.MealType',false);Luxena.Travel.PassportValidationResult=function(){};Luxena.Travel.PassportValidationResult.prototype = {noPassport:0,notValid:1,expirationDateNotValid:2,valid:3}
Luxena.Travel.PassportValidationResult.registerEnum('Luxena.Travel.PassportValidationResult',false);Luxena.Travel.AviaDocumentState=function(){};Luxena.Travel.AviaDocumentState.prototype = {imported:0,voided:1,restored:2}
Luxena.Travel.AviaDocumentState.registerEnum('Luxena.Travel.AviaDocumentState',false);Luxena.Travel.Gender=function(){};Luxena.Travel.Gender.prototype = {male:0,female:1}
Luxena.Travel.Gender.registerEnum('Luxena.Travel.Gender',false);Luxena.Travel.TaskStatus=function(){};Luxena.Travel.TaskStatus.prototype = {open:0,inProgress:1,waitForResponse:2,closed:3}
Luxena.Travel.TaskStatus.registerEnum('Luxena.Travel.TaskStatus',false);Luxena.Travel.Res={aviaDocuments:'\u0410\u0432\u0438\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
menu_Dictionaries:'\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a\u0438',
home:'\u0413\u043b\u0430\u0432\u043d\u0430\u044f',
parties:'\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u044b',
partyType:'\u0422\u0438\u043f \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430',
partyType_Text_List:'\u0422\u0438\u043f\u044b \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u043e\u0432',
ticket:'\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442',
workItems_Title:'\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
user_Text_List:'\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438',
ticketDeleted:"\u0411\u0438\u043b\u0435\u0442 '{0}' \u0443\u0434\u0430\u043b\u0435\u043d",
ticketEditForm_DiscountComPercent:'% \u043e\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0441\u0438\u0438',
ticketEditForm_DiscountSFPercent:'% \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
menu_Documents:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
addPerson_Action_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0443',
add_Action_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c',
user_Active_Text:'\u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430',
confirmation:'\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435',
password:'\u041f\u0430\u0440\u043e\u043b\u044c',
password_Error_Msg:'\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d',
gdsFile_Reimport_Text:'\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
imported:'\u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e',
user_AmadeusAirAgentId:'\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Air',
user_AmadeusAirOfficeId:'\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Air',
user_AmadeusPrintAgentId:'\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Print',
user_AmadeusPrintOfficeId:'\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Print',
user_GalileoMirAgentId:'\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Mir',
user_GalileoMirOfficeId:'\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Mir',
user_GalileoTktAgentId:'\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430 <br/> \u0432 Tkt',
user_GalileoTktOfficeId:'\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430 <br/> \u0432 Tkt',
currentUser_Caption:'\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c',
signOut_Text:'\u0432\u044b\u0439\u0442\u0438',
documentMetric_Date:'\u0414\u0430\u0442\u0430',
documentMetric_Title_User:'\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
documentMetric_Issued:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u043e',
documentMetric_Unprocessed:'\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435',
fromDate_Text:'\u0441',
toDate_Text:'\u043f\u043e',
documentMetric_TotalUnprocessedCount:'\u0412\u0441\u0435\u0433\u043e \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432:',
documentMetricFilter_UnprocessedOnly:'\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043d\u0438',
apply_Text:'\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c',
filter_Text:'\u0444\u0438\u043b\u044c\u0442\u0440',
documentMetricTable_MaxRowCount_Msg:'\u0412 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u0437\u0430 {0}.<br/> \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043e \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 {1}',
documentMetrics_DaysCount1:'{0} \u0434\u0435\u043d\u044c',
documentMetrics_DaysCount2:'{0} \u0434\u043d\u044f',
documentMetrics_DaysCount3:'{0} \u0434\u043d\u0435\u0439',
documentMetrics_TotalDaysCount:'\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0437\u0430 {0}',
documentMetrics_FromToDays_Text:'\u0441 {0} \u043f\u043e {1}',
type:'\u0422\u0438\u043f',
aviaDocument_Processed:'\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d',
aviaDocument_Unprocessed:'\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d',
aviaDocument_Voided:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
aviaDocument_Voidings:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f',
aviaDocument_AirlineFinanceData_Caption:'\u041f\u043e \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
common_ServiceFeeData_Caption:'\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
common_Vat_Text:'\u0412 \u0442.\u0447. \u041d\u0414\u0421',
aviaTicket_ReissueFor:'\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a \u0434\u043b\u044f',
aviaDocument_Handle_Action:'\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c',
aviaTicket_Handle_Title:'\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0431\u0438\u043b\u0435\u0442\u0430 {0}',
flightSegment_Arrival:'\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435',
flightSegment_Departure:'\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
flightSegment_Duration:'\u041f\u0435\u0440\u0435\u043b\u0435\u0442',
flightSegment_Registration:'\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f',
flightSegment_Stops:'\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a',
terminal_Text:'\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b',
money_AmountFilter_Text:'\u0424\u0438\u043b\u044c\u0442\u0440 \u0441\u0443\u043c\u043c\u044b',
money_CurrencyFilter_Text:'\u0424\u0438\u043b\u044c\u0442\u0440 \u0432\u0430\u043b\u044e\u0442\u044b',
unloadApplication_Confirm_Msg:'\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043a\u0440\u044b\u0442\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
menu_Administration:'\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435',
calculateDiscount_Text:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443',
calculateServiceFee_Text:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
addDepartment_Action_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435',
addOrganization_Action_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e',
saveAndContinue:'\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c',
documentMetrics_NoData:'\u0412 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
calculateRefundServiceFee_Text:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
calculateServiceFeePenalty_Text:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0448\u0442\u0440\u0430\u0444 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430',
aviaMco_Handle_Title:'\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u041c\u0421\u041e {0}',
aviaRefund_Handle_Title:'\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 {0}',
documentMetrics_Report:'\u043e\u0442\u0447\u0435\u0442',
reservationTicketCount_Text:'\u0414\u0440\u0443\u0433\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435: {0}',
processForm_ApplyToDocuments_Text:'\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a \u0434\u0440\u0443\u0433\u0438\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c',
menu_GetByNumber:'\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443...',
enterDocumentNumber_Text:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430:<br/><br/>(\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 123-1234567890 \u0438\u043b\u0438 1234567890)',
menu_FromList:'\u0418\u0437 \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430...',
menu_MyUnprocessed:'\u041c\u043e\u0438 \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435...',
noDocumentFound_Text:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c '{0}' \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.",
reservationMcoCount_Text:'\u0414\u0440\u0443\u0433\u0438\u0445 \u041c\u0421\u041e \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435: {0}',
reservationRefundCount_Text:'\u0414\u0440\u0443\u0433\u0438\u0445 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432 \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435: {0}',
addDocument_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
selectedDocuments_Title:'\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
addedAviaDocumentFinanceData_Format:'\u0438\u0442\u043e\u0433\u043e \u043f\u043e \u0410\u041a: {0} \u0441\u0435\u0440\u0432. \u0441\u0431\u043e\u0440: {1} \u0441\u043a\u0438\u0434\u043a\u0430: {2}',
addedAviaRefundFinanceData_Format:'\u0438\u0442\u043e\u0433\u043e \u043f\u043e \u0410\u041a: {0} \u0441\u0435\u0440\u0432. \u0441\u0431\u043e\u0440: {1} \u0441\u043a\u0438\u0434\u043a\u0430: {2}<br/>\u0441\u0431\u043e\u0440 \u0432\u043e\u0437\u0432\u0440.: {3} \u0448\u0442\u0440\u0430\u0444: {4}',
reservationUnprocessedDocCount_Text:'(\u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445: {0})',
void_Action:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
restore_Action:'\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c',
document_Restore_Confirmation1:'{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_Void_Confirmation1:'{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_Restore_Confirmation2:'{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_Restore_Confirmation3:'{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_Void_Confirmation2:'{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_Void_Confirmation3:'{0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_RestoreDocuments_Msg:'\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0}',
document_RestoreDocument_Msg:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 {0} \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d',
document_VoidDocuments_Msg:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0}',
document_VoidDocument_Msg:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 {0} \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
common_CreateReport:'\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
customerReportForm_DocumentCount_Text:'\u0412\u0441\u0435\u0433\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0}',
customerReportForm_IncludeDepartments1:'\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0434\u0435\u043b\u043e\u0432 ({0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442)',
customerReportForm_IncludeDepartments2:'\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0434\u0435\u043b\u043e\u0432 ({0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430)',
customerReportForm_IncludeDepartments3:'\u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u0442\u0434\u0435\u043b\u043e\u0432 ({0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432)',
document_Restore_Confirmation:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
document_Void_Confirmation:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
taskMetric_Title_User:'\u041c\u043e\u0438 \u0437\u0430\u0434\u0430\u0447\u0438',
taskMetric_NoData:'\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447',
viewDetails:'>>>',
task_StatusChange_Msg:'\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0442\u0430\u0442\u0443\u0441 {0} \u0434\u043b\u044f {1}',
task_StatusChange_Msg1:'{0} \u0437\u0430\u0434\u0430\u0447\u0438',
task_StatusChange_Msg2:'{0} \u0437\u0430\u0434\u0430\u0447',
taskMetric_Total:'\u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435',
taskIsClosed_Msg:"\u0417\u0430\u0434\u0430\u0447\u0430 '{0}' \u0437\u0430\u043a\u0440\u044b\u0442\u0430",
taskMetric_Total_Title:'\u0432\u0441\u0435\u0433\u043e \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447',
aviaDocument_AddRefund_Action:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0442',
moreActions:'\u0414\u0440\u0443\u0433\u043e\u0435',
cancel:'\u041e\u0442\u043c\u0435\u043d\u0430',
OK:'OK',
printReservation_Msg:'\u0412\u0441\u0435\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0435 {0}.<br/><br/>\u0420\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438?',
printReservation_Msg_Title:'\u041f\u0435\u0447\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u043e\u0432',
aviaDocument_Print_Action:'\u041f\u0435\u0447\u0430\u0442\u044c',
personEditForm_Emails:'E-mail \u0430\u0434\u0440\u0435\u0441\u0430',
personEditForm_Phones:'\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u044b',
personEditForm_Female:'\u0416',
personEditForm_Male:'\u041c',
applyAirline_SelectDates_Text:'\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432:',
applyAirline_Title:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
airlineApplied_Msg1:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435',
airlineApplied_Msg2:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
airlineApplied_Msg3:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
airlineApplied_NotFound_Msg:'\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
applyAirline_Msg_Title:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438',
applyToDocuments_Text:'\u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u0442\u0430\u043c',
applyServiceClass_Title:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441\u0430 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
serviceClassApplied_Msg1:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435',
serviceClassApplied_Msg2:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
serviceClassApplied_Msg3:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
applyServiceClass_Msg_Title:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441 \u043a\u043b\u0430\u0441\u0441\u0430',
applyGdsAgent_Msg_Title:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u0430',
applyGdsAgent_Title:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0430\u0433\u0435\u043d\u0442\u0430 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
gdsAgentApplied_Msg1:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435',
gdsAgentApplied_Msg2:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
gdsAgentApplied_Msg3:'\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0432 {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445',
gdsFile_Imported1:'\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
gdsFile_Imported2:'\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
gdsFile_Imported3:'\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
appliedDataToDocuments_Text1:'\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
appliedDataToDocuments_Text2:'\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
appliedDataToDocuments_Text3:'\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e {0} \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432',
profile_Item:'\u041c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c',
profile_Change_Password:'\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c',
password_Edit:'\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c',
gdsAgents_NotAssigned:'\u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 Gds \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442',
password_ConfirmPassword:'\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0430\u0440\u043e\u043b\u044f',
password_NewPassword:'\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c',
password_OldPassword:'\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c',
password_Updated_Successfully:'\u041f\u0430\u0440\u043e\u043b\u044c \u0438\u0437\u043c\u0435\u043d\u0451\u043d',
registryReportForm_Title:'\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u0441 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c',
registryReport_Text:'\u041e\u0442\u0447\u0435\u0442 \u0441 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c',
customerReport_Text:'\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443',
customerReportForm_Title:'\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443',
importAviaDocument_Msg:'\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u043d\u043e\u0432\u044b\u0439 {0} {1}',
restoreAviaDocument_Msg:'{0} {1} \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d',
voidAviaDocument_Msg:'{0} {1} \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
newTask_Msg:'\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430 \u0437\u0430\u0434\u0430\u0447\u0430 {0}',
userActiveStateChanged_Msg:'\u0412\u0430\u0448\u0430 \u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0431\u044b\u043b\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0430',
userRolesChanged_Msg:'\u0412\u0430\u0448\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u044b\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b. \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u0445 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c.',
aviaDocument_Handle_NotFull:'\u0412 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0435\u0433\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438. \u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f?',
documentMetric_Title_Office:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e \u043e\u0444\u0438\u0441\u0443',
taskMetric_Title_User_Office:'\u0417\u0430\u0434\u0430\u0447\u0438 \u043f\u043e \u043e\u0444\u0438\u0441\u0443',
reportType_Text:'\u0424\u043e\u0440\u043c\u0430\u0442',
flightSegment_Caption:'\u0421\u0435\u0433\u043c\u0435\u043d\u0442 ({0})',
clear:'\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c',
aviaDocument_NoNumber:'[reserv]',
aviaDocument_NotIssued:'\u043d\u0435\u0432\u044b\u043f\u0443\u0449\u0435\u043d',
common_ListNumber:'\u2116',
common_Measure_Items:'\u0415\u0434.',
common_Quantity:'\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e',
common_Price:'\u0426\u0435\u043d\u0430',
orderItem_Text:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435',
order_IssueInvoice_Action:'\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0447\u0435\u0442',
order_IssueCompletionCertificate_Action:'\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0430\u043a\u0442',
aviaDocument_AddToOrder:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0437\u0430\u043a\u0430\u0437',
aviaDocument_AddToOrderExist:'\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439',
aviaDocument_AddToOrderNew:'\u041d\u043e\u0432\u044b\u0439',
aviaDocument_Was_Added:'{0} \u0431\u044b\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b \u0432 \u0437\u0430\u043a\u0430\u0437: {1}',
issued:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d',
order_FinanceDataRecalculated:'\u0424\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b',
order_RecalculateFinanceData:'\u041f\u0435\u0440\u0435\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
order_GrandTotalWithoutVat:'\u0418\u0442\u043e\u0433\u043e \u0431\u0435\u0437 \u041d\u0414\u0421 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0441\u043a\u0438\u0434\u043a\u0438',
common_QuantityShort:'\u041a\u043e\u043b.',
menu_AddNew:'\u041d\u043e\u0432\u044b\u0439...',
orderViewForm_Reservation:'\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430',
aviaDocumentProcessForm_Fare_Text:'(\u0442\u0430\u0440\u0438\u0444 {0})',
order_Issue_NotValidData:'\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437. \u0412 \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.',
order_PaidAction:'\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c',
order_PaidOrders_Msg:'\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432: {0}',
order_PaidOrder_Msg:'\u0417\u0430\u043a\u0430\u0437 {0} \u043e\u043f\u043b\u0430\u0447\u0435\u043d',
order_UnPaidAction:'\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443',
order_UnpaidOrders_Msg:'\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c: {0}',
order_UnpaidOrder_Msg:'\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 {0}',
order_NotPaid:'\u043d\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d',
order_Paid:'\u043e\u043f\u043b\u0430\u0447\u0435\u043d',
order_SeparateServiceFee:'\u0412\u044b\u0434\u0435\u043b\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
menu_MyDocuments:'\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b...',
orderItem_WithoutVat:'\u0431\u0435\u0437 \u041d\u0414\u0421',
orderItem_WithVat:'c \u041d\u0414\u0421',
aviaDocument_AddToOrder_Title:'\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0439 \u0432 \u0437\u0430\u043a\u0430\u0437\u0430',
aviaDocument_CannotAddDocumentsToOrder_Msg:'\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b:',
aviaDocument_ContinueAddToOrder_Msg:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b?',
order_DocumentAlreadyAddedToOrder_Msg:'{0} \u0432\u043a\u043b\u044e\u0447\u0435\u043d \u0432 \u0437\u0430\u043a\u0430\u0437 \u2116 {1}',
order_Restore_Msg_Title:'\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430',
order_Recalculation_Msg_Title:'\u041f\u0435\u0440\u0435\u0441\u0447\u0435\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445',
order_SaveError_Msg:'\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437:',
order_SaveError_Msg_Title:'\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430',
customerReportForm_IncludeUnpayedDocumentOnly:'\u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b',
menu_WithSameAcquirer:'\u0421 \u0442\u0430\u043a\u0438\u043c \u0436\u0435 \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u043e\u043c...',
menu_AllMyDocuments:'\u0412\u0441\u0435 \u043c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b...',
aviaTicket_AfterDeparture:'\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043b\u0435\u0442\u0430',
aviaTicket_BeforeDeparture:'\u0414\u043e \u0432\u044b\u043b\u0435\u0442\u0430',
common_No:'(\u043d\u0435\u0442)',
aviaTicket_ChangesPenalty:'\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f',
aviaTicket_NoShowPenalty:'\u041d\u0435\u044f\u0432\u043a\u0430 \u043d\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e',
aviaTicket_RefundPenalty:'\u0412\u043e\u0437\u0432\u0440\u0430\u0442',
aviaTicket_NoShowPenalty_Short:'\u041d\u0435\u044f\u0432\u043a\u0430',
penalizeOperationEditForm_Caption:'\u0428\u0442\u0440\u0430\u0444\u043d\u044b\u0435 \u0441\u0430\u043d\u043a\u0446\u0438\u0438',
aviaDocumentProcessForm_EditPenalizeOperations:'\u0448\u0442\u0440\u0430\u0444\u043d\u044b\u0435 \u0441\u0430\u043d\u043a\u0446\u0438\u0438',
orders:'\u0417\u0430\u043a\u0430\u0437\u044b',
addObligation_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u043e\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e',
enterObligationNumber_Text:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430:<br/>',
menu_IssuedByMe:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u043c\u043d\u043e\u0439...',
payment_AddValidDocuments_Msg:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b?',
paymentEditForm_AllObligationsCurrenciesError_Msg:'\u0412 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u0432\u0430\u043b\u044e\u0442\u044b.',
payment_AddObligation_Title:'\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432',
payment_ObligationCurrenciesError_Msg:'\u0412\u0430\u043b\u044e\u0442\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0442\u0441\u044f \u043e\u0442 \u0432\u0430\u043b\u044e\u0442\u044b \u043f\u043b\u0430\u0442\u0435\u0436\u0430:',
paymentEditForm_PaymentCurrenciesError_Msg:'\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0432\u0430\u043b\u044e\u0442\u043e\u0439 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432.',
paid_Action_Text:'\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043e',
unpaid_Action_Text:'\u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043e',
paymentCurrencyNotValid_Msg:'\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0430 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0432\u0430\u043b\u044e\u0442\u0430\u043c\u0438 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432',
paymentEditForm_Total:'\u0412\u0441\u0435\u0433\u043e',
payment_Restore_Confirmation:'\u041f\u043b\u0430\u0442\u0435\u0436 \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
payment_Void_Confirmation:'\u041f\u043b\u0430\u0442\u0435\u0436 \u0431\u0443\u0434\u0435\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d. \u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
payment_Voided:'\u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d',
order_AddToExistingPayment:'\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439',
order_AddToNewPayment:'\u043d\u043e\u0432\u044b\u0439',
order_CreatePaymentAction:'\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
order_NumberFormat1:'{0} \u0437\u0430\u043a\u0430\u0437',
order_NumberFormat2:'{0} \u0437\u0430\u043a\u0430\u0437\u0430',
order_NumberFormat3:'{0} \u0437\u0430\u043a\u0430\u0437\u043e\u0432',
payment_AddedToPayment_Msg1:'\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
payment_AddedToPayment_Msg11:'\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
payment_AddedToPayment_Msg2:'\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
payment_AddedToPayment_Msg3:'\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043f\u043b\u0430\u0442\u0435\u0436',
aviaDocumentList_CreateCashPayment:'\u043e\u043f\u043b\u0430\u0442\u0438\u0442\u044c',
cashPaymentRegisterForm_Title:'\u041d\u0430\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430',
aviaDocumentList_CreatePayment_NotValidData:'\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436, \u0442\u0430\u043a \u043a\u0430\u043a \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b.',
aviaDocumentList_AddToPayment:'\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436 \u043f\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u043c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c?',
aviaDocumentList_CannotCreatePayment:'\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436:',
aviaDocumentList_CreateCashPayment_Title:'\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0430\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0430',
common_Document:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
posted_Action:'\u041f\u0440\u043e\u0432\u0435\u0441\u0442\u0438',
paymentList_PostedDocuments:'\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432: {0} ',
payment_NonPosted:'\u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d',
paymentView_Posted:'\u041f\u043b\u0430\u0442\u0435\u0436 {0} \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d',
congradulationText:'\u0421 \u0412\u0441\u0435\u043c\u0438\u0440\u043d\u044b\u043c \u0434\u043d\u0435\u043c \u0442\u0443\u0440\u0438\u0437\u043c\u0430!',
calculateHandling_Text:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0434\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a',
order_NoPayments:'\u0414\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 {0} \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u0434\u043b\u044f \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f',
order_AlreadyPaid:'\u0417\u0430\u043a\u0430\u0437 {0} \u0443\u0436\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d',
paymentVoidForm_Title:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 {0}',
paymentVoidForm_VoidButton:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c',
aviaDocument_CalculateFare:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444',
aviaDocument_CalculateFeesTotal:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0442\u0430\u043a\u0441\u044b',
aviaDocument_CalculateCancelFee:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0448\u0442\u0440\u0430\u0444 \u0437\u0430 \u043e\u0442\u043c\u0435\u043d\u0443',
order_PayMenu:'\u041e\u043f\u043b\u0430\u0442\u0430',
documentMetric_ToIssue:'\u041a \u0432\u044b\u043f\u0443\u0441\u043a\u0443',
addAction:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c',
order_AddIssue_Action:'\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e \u043e\u0441\u0442\u0430\u0442\u043a\u0443',
file_UploadAction:'\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c',
file_WaitUpload:'\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430',
close_Action:'\u0417\u0430\u043a\u0440\u044b\u0442\u044c',
order_PostedPaymentInOrder_Msg:'\u041f\u043b\u0430\u0442\u0435\u0436 {0} \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 {1}',
order_Void_Msg_Title:'\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430',
file_Upload_Failed:'\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b: {0}',
file_Upload_Success:'{0} \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d',
file_Deleted:'{0} \u0443\u0434\u0430\u043b\u0435\u043d',
add:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c',
closedPeriod_Overlap:'\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0442\u044c\u0441\u044f',
order_DoSweep_Msg:'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0437\u0430\u043a\u0430\u0437\u0430?',
order_Sweep_Action:'\u041e\u0442\u0447\u0438\u0441\u0442\u0438\u0442\u044c',
order_Sweep_Done:'\u0417\u0430\u043a\u0430\u0437 {0} \u043e\u0442\u0447\u0438\u0449\u0435\u043d',
aviaTicket_PassengerInfoError_Msg:'\u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u043d\u043d\u044b\u0445',
addPassenger_Action_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c {0}',
addPassport_Action_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442',
use_Gds_Passport_Action_Title:'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 GDS',
use_System_Passport_Action_Title:'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
passenger_NoPassport_Warning:'\u041d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
passenger_PassportDataDoesntMatch_Warning:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 {0}, \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e',
changePassport_Action_Title:'\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442',
passenger_NoGdsPassport_Warning:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432 {0}, \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d',
passenger_PassportExpired_Warning:'\u041d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430, \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u043b\u0435\u0442\u0430',
aviaTicket_PassengerPassportRequired:'\u0414\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0442\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435',
documentMetric_IncorrectPassport:'\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445',
documentMetric_NoPassport:'\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f',
documentMetric_PassportProblem:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
aviaDocumentProcessForm_CopyPassportGdsString:'\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0434\u043b\u044f GDS',
documentMetric_Urgent:'\u0441\u0440\u043e\u0447\u043d\u044b\u0445',
setPassengerAsCustomer_Action_Title:'\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430',
passport_List_Title:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 {0}',
passport_PrivateData:'\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435',
gender_Female:'F',
gender_Male:'M',
passport_IssuedBy:'\u0412\u044b\u0434\u0430\u043d',
setPassenger_Action_Title:'\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c {0}',
mar8Congratulations:'\u0421 8 \u043c\u0430\u0440\u0442\u0430!',
passportCompare_Caption:'\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043e\u0432',
passportCompare_GdsPassport:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 GDS',
passportCompare_PersonPassport:'\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435',
passportCompare_UseGdsPassport:'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 GDS',
passportCompare_UsePersonPassport:'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b',
comparePassports:'\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430',
calculateCommissionDiscount_Text:'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443 \u043e\u0442 \u043a\u043e\u043c. \u0410\u041a',
cashPaymentRegisterForm_DoCreateConsignment:'\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e',
menu_Reports:'\u041e\u0442\u0447\u0435\u0442\u044b',
addConsignmentItems_Title:'\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0432 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e',
enterInvoiceNumber_Text:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430',
issueConsignmentAction:'\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e',
issued_Consignment:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u0430 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f {0}',
menu_GetByOrderNumber:'\u041f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0437\u0430\u043a\u0430\u0437\u0430...',
noInvoiceFound_Text:'\u0421\u0447\u0435\u0442 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c {0} \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d',
invoiceItemsInConsignments_Warn:'\u0412\u0441\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 \u0441\u0447\u0435\u0442\u0430/\u0441\u0447\u0435\u0442\u043e\u0432 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u043a \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u043c',
issueInvoice_Title:'\u0412\u044b\u043f\u0443\u0441\u043a \u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0441\u0447\u0435\u0442\u0430',
issueCompletionCertificate_Title:'\u0412\u044b\u043f\u0443\u0441\u043a \u0430\u043a\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442',
invoice_IssueDate:'\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430',
auto:'\u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438',
issue:'\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c',
invoiceIssued_Msg:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d \u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u0441\u0447\u0435\u0442 \u2116{0}',
printedInvoice_Text:'{0} \u043e\u0442 {1} \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 <b>{2}</b>',
invoice_Reissue:'\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c ',
order_IssueReceipt_Action:'\u0412\u044b\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044e',
cashInOrderPayment_DocumentName:'\u2116 \u041f\u041a\u041e',
cashOutOrderPayment_DocumentName:'\u2116 \u0420\u041a\u041e',
checkPayment_DocumentName:'\u2116 \u0447\u0435\u043a\u0430',
wireTransfer_DocumentName:'\u2116 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0433\u043e \u043f\u043e\u0440\u0443\u0447\u0435\u043d\u0438\u044f',
payment_CreateCashInOrder_Action:'\u041f\u041a\u041e',
payment_CreateCashOutOrder_Action:'\u0420\u041a\u041e',
payment_CreateCheckPayment_Action:'\u043f\u043e \u0447\u0435\u043a\u0443',
payment_CreateNonCashPayment_Action:'\u0431\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439',
payment_CreatePayment_Action:'\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436',
cashInOrderPayment_SavePosted:'\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c',
orderView_IssuedInvoice_Html:' \u043e\u0442 <b>{0}</b> \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 <b>{1}</b>',
orderItems:'\u041f\u043e\u0437\u0438\u0446\u0438\u0438',
payments:'\u041f\u043b\u0430\u0442\u0435\u0436\u0438',
cashInOrderPayment_DocumentName_Format:'\u041f\u041a\u041e \u2116{0}',
cashOutOrderPayment_DocumentName_Format:'\u0420\u041a\u041e \u2116{0}',
checkPayment_DocumentName_Format:'\u0427\u0435\u043a \u2116{0}',
wireTransfer_DocumentName_Format:'\u041f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0435 \u043f\u043e\u0440\u0443\u0447\u0435\u043d\u0438\u0435 \u2116{0}',
receiptIssued_Msg:'\u0412\u044b\u043f\u0443\u0449\u0435\u043d\u0430 \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f \u2116{0}',
newOrder_Action:'\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437',
quickReceipt_Action:'\u0411\u044b\u0441\u0442\u0440\u0430\u044f \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
newTask_Action:'\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430',
quickReceipt_AviaTickets:'\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b',
quickReceipt_Title:'\u0411\u044b\u0441\u0442\u0440\u0430\u044f \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
create:'\u0421\u043e\u0437\u0434\u0430\u0442\u044c',
quickReceipt_Created_Msg:'\u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043do {0}',
quickCashPayment_Consiment_Msg:' , \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f {2}',
quickCashPayment_Msg:'\u0441\u043e\u0437\u0434\u0430\u043d\u044b \u043f\u043b\u0430\u0442\u0435\u0436 {0}, \u0437\u0430\u043a\u0430\u0437 {1}',
paymentView_Document:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442',
orderStatusChange_Action:'\u0441\u0442\u0430\u0442\u0443\u0441',
orderStatusChange_Msg:"\u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u0430 {1} \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0442\u0443\u0442\u0430\u0441 '{0}'",
orderStatusChange_Title:'\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u0437\u0430\u043a\u0430\u0437\u0430',
invoice_List:'\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438',
quickReceipt_ServiceFee:'\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440',
payment_Invoice:'\u0421\u0447\u0435\u0442 / \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f',
orderStatusChange_Msg_Short:"\u0434\u043b\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0441\u0442\u0443\u0442\u0430\u0441 '{0}'",
order_CannotRestoreOrder_Msg:'\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437:',
overpay:'\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430:',
payment_CreateElecronicPayment_Action:'\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439',
personView_Personal_Info:'\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435',
electronicPayment_DocumentName:'\u2116 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438',
electronicPayment_DocumentName_Format:'{0}\u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u2116{1}',
payment_DocumentNumber:'\u0414\u0435\u0442\u0430\u043b\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430',
aviaDocumentProcessForm_CustomerChanged:'\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u0417\u0430\u043a\u0430\u0437\u0435. \u041f\u043e\u043b\u0435 \u0417\u0430\u043a\u0430\u0437 \u0431\u0443\u0434\u0435\u0442 \u043e\u0447\u0438\u0449\u0435\u043d\u043e, \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c?',
partyView_Confirm_File_Delete:'\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b {0}?',
invoice_Deleted_Message:'\u0421\u0447\u0451\u0442 {0} \u0443\u0434\u0430\u043b\u0451\u043d',
invoice_Delete_Confirmation:'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0447\u0451\u0442 {0}',
receipt_Deleted_Message:'\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f {0} \u0443\u0434\u0430\u043b\u0435\u043d\u0430',
receipt_Delete_Confirmation:'\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044e {0}',
organizationView_Info:'\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438',
fileUpload_Title:'\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430',
departmentView_Info:'\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438',
orderView_IsNotPublic:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u0438\u0434\u0435\u043d \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443',
orderView_IsPublic:'\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u0432\u0438\u0434\u0435\u043d \u0432\u0441\u0435\u043c',
applicationVersionChanged:'\u041e\u0431\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u0435\u0440\u0441\u0438\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u0414\u043b\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435',
attention:'\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415',
aviaDocument_Blank_Action:'\u0431\u043b\u0430\u043d\u043a \u0423\u0412\u0426',
unbalancedReportForm_IncludeOrders:'\u0434\u0435\u0442\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u043c',
unbalancedReport:'\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u0430\u043c',
task_Add:'\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443',
taskStatusChanged_Msg:"\u0417\u0430\u0434\u0430\u0447\u0430 '{0}' {1}",
apply:'\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c',
homeSettingsForm_Reports:'\u041f\u0435\u0440\u0438\u043e\u0434 \u0434\u043d\u0435\u0432\u043d\u044b\u0445 \u043e\u0442\u0447\u0435\u0442\u043e\u0432',
homeSettingsForm_IntervalTooBig:'\u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 10 \u0434\u043d\u0435\u0439',
homeSettingsForm_IntervalTooSmall:'\u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f',
homeSettingsForm_Title:'\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430',
invoiceIssueForm_ShowPaid:'\u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u0443\u043c\u043c\u0443 \u043e\u043f\u043b\u0430\u0442',
payment_CreateInternalTransfer_Action:'\u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434',
updateAnalytics_Action:'\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0443',
updateAnalytics_Info:'\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435',
updateAnalytics_Success:'\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430',
updateAnalytics_Error:'\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430:<br/><br/>',
aviaConsoleParser_Action:'\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438\u0437 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430',
aviaConsoleParserForm_Title:'\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043e\u043a \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043a\u043e\u043f\u0438\u0438 \u044d\u043a\u0440\u0430\u043d\u0430 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430',
aviaConsoleParserForm_Parse:'\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b'
};Luxena.Travel.ClosedPeriodListTab=function(tabId,args){Luxena.Travel.ClosedPeriodListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.ClosedPeriodListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.DateFrom,this.se.DateTo,this.se.PeriodState,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},preInitialize:function(){Luxena.Travel.ClosedPeriodListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$35;},se:null}
Luxena.Travel.ClosedPeriodEditForm=function(){Luxena.Travel.ClosedPeriodEditForm.initializeBase(this);}
Luxena.Travel.ClosedPeriodEditForm.prototype={initialize:function(){Luxena.Travel.Services.ClosedPeriodService.GetLastClosedPeriod(ss.Delegate.create(this,function($p1_0){
if(!ss.isValue($p1_0)){return;}var $1_0=($p1_0).DateTo;$1_0.setDate($1_0.getDate()+1);this.setCurrentValue('DateFrom',$1_0);}),null);},createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.DateFrom,this.se.DateTo,this.se.PeriodState]));},preInitialize:function(){Luxena.Travel.ClosedPeriodEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$35;},se:null}
Luxena.Travel.LxnTravel$2=function(){Luxena.Travel.LxnTravel$2.initializeBase(this);}
Luxena.Travel.LxnTravel$2.prototype={createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.Number,this.se.IssueDate,this.se.Customer,this.se.DiscountPc,this.se.Note]));},preInitialize:function(){Luxena.Travel.LxnTravel$2.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3E;},se:null}
Luxena.Travel.LxnTravel$5=function(tabId,args){Luxena.Travel.LxnTravel$5.initializeBase(this,[tabId,args]);}
Luxena.Travel.LxnTravel$5.prototype={createColumnConfigs:function(){this.addColumns([this.se.Number.toColumn(false,120),this.se.IssueDate,this.se.Customer,this.se.DiscountPc,this.se.Note.toColumn(true)]);},preInitialize:function(){Luxena.Travel.LxnTravel$5.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3E;},se:null}
Luxena.Travel.CurrencyDailyRateEditForm=function(){Luxena.Travel.CurrencyDailyRateEditForm.initializeBase(this);}
Luxena.Travel.CurrencyDailyRateEditForm.prototype={getInitData:function(){return {Date:Date.get_today()};},createControls:function(){this.get_form().add(this.mainDataPanel([this.se.Date,this.se.UAH_EUR.toField(-2),this.se.UAH_RUB.toField(-2),this.se.UAH_USD.toField(-2),this.se.RUB_EUR.toField(-2),this.se.RUB_USD.toField(-2),this.se.EUR_USD.toField(-2)]));},preInitialize:function(){Luxena.Travel.CurrencyDailyRateEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$13;},se:null}
Luxena.Travel.CurrencyDailyRateListTab=function(tabId,args){Luxena.Travel.CurrencyDailyRateListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.CurrencyDailyRateListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.Date,this.se.UAH_EUR,this.se.UAH_RUB,this.se.UAH_USD,this.se.RUB_EUR,this.se.RUB_USD,this.se.EUR_USD,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},preInitialize:function(){Luxena.Travel.CurrencyDailyRateListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$13;},se:null}
Luxena.Travel.BankAccountListTab=function(tabId,args){Luxena.Travel.BankAccountListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.BankAccountListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.Name,this.se.CompanyDetails.toColumn(false,150),this.se.TotalSuffix.toColumn(false,100),this.se.Description,this.se.IsDefault.toColumn(false,90),this.se.DisallowVat.toColumn(false,90),this.se.Note.toColumn(true),this.se.CreatedOn.toColumn(true),this.se.CreatedBy.toColumn(true),this.se.ModifiedOn.toColumn(true),this.se.ModifiedBy.toColumn(true)]);},preInitialize:function(){Luxena.Travel.BankAccountListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1;},se:null}
Luxena.Travel.InternalTransferListTab=function(tabId,args){Luxena.Travel.InternalTransferListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.InternalTransferListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.Number,this.se.Date,this.se.FromOrder,this.se.FromParty,this.se.ToOrder,this.se.ToParty,this.se.Amount,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},preInitialize:function(){Luxena.Travel.InternalTransferListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$37;},se:null}
Luxena.Travel.InternalTransferEditForm=function(){Luxena.Travel.InternalTransferEditForm.initializeBase(this);}
Luxena.Travel.InternalTransferEditForm.prototype={createControls:function(){this.get_form().add(this.mainDataPanel([this.se.Date,this.emptyRow(),this.se.FromOrder,this.se.FromParty.toField(-3),this.se.ToOrder,this.se.ToParty.toField(-3),this.emptyRow(),this.se.Amount]));},preInitialize:function(){Luxena.Travel.InternalTransferEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$37;},se:null}
Luxena.Travel.LxnTravel$1=function(){Luxena.Travel.LxnTravel$1.initializeBase(this);}
Luxena.Travel.LxnTravel$1.prototype={createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.Number,this.se.IssueDate,this.se.Type,this.se.IssuedBy,this.se.Total,this.se.Vat]));},preInitialize:function(){Luxena.Travel.LxnTravel$1.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3A;},se:null}
Luxena.Travel.OpeningBalanceListTab=function(tabId,args){Luxena.Travel.OpeningBalanceListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.OpeningBalanceListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.Number,this.se.Date,this.se.Party,this.se.Balance,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},preInitialize:function(){Luxena.Travel.OpeningBalanceListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$36;},se:null}
Luxena.Travel.OpeningBalanceEditForm=function(){Luxena.Travel.OpeningBalanceEditForm.initializeBase(this);}
Luxena.Travel.OpeningBalanceEditForm.prototype={createControls:function(){this.get_form().add(this.mainDataPanel([this.se.Number,this.se.Date,this.se.Party.toField(-3),this.se.Balance]));},preInitialize:function(){Luxena.Travel.OpeningBalanceEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$36;},se:null}
Luxena.Travel.LxnTravel$4=function(tabId,args){Luxena.Travel.LxnTravel$4.initializeBase(this,[tabId,args]);}
Luxena.Travel.LxnTravel$4.prototype={onInitGrid:function($p0,$p1){Luxena.Travel.LxnTravel$4.callBaseMethod(this, 'onInitGrid',[$p0,$p1]);$p0.forcedProperties=['IsVoid','TotalDue','DeliveryBalance','BillToName','ConsignmentRefs'];$p0.setDefaultSort('IssueDate','DESC');$p1.view(new Luxena.Travel.OrderGridView());},createColumnConfigs:function(){this.addColumns([this.se.IssueDate,this.se.Number,this.se.Customer.toColumn(false,150),this.se.BillTo.toColumn(true,150,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
return ($p1_0==null)?$p1_2.get('BillToName'):LxnBase.UI.Controls.ObjectLink.renderValue($p1_0);}),this.se.ConsignmentNumbers.toColumn(false,100,LxnBase.UI.Controls.ObjectLink.referencesRenderer('ConsignmentRefs'),function($p1_0){
$p1_0.sortable(false);}),this.se.ShipTo.toColumn(true,150),this.se.Intermediary.toColumn(true,150),this.se.BankAccount.toColumn(true,150),this.se.Note.toColumn(true,150),this.se.Discount.toColumn(true,90),this.se.Total,this.se.Vat,this.se.CheckPaid,this.se.WirePaid,this.se.CreditPaid,this.se.RestPaid,this.se.Paid,this.se.TotalDue,this.se.ServiceFee.toColumn(true),this.se.DeliveryBalance,this.se.AssignedTo.toColumn(false,150),this.se.Owner.toColumn(true),this.se.IsPublic.toColumn(true),this.se.IsSubjectOfPaymentsControl.toColumn(true),this.se.IsVoid.toColumn(true),this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},onAddToolbarButtons:function($p0,$p1){this.$7_7=this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(),ss.Delegate.create(this,this.$7_6),true);$p0.insertRange(0,this.toolbarActions);},onSelectionChange:function($p0){var $0=($p0).getSelections();this.$7_7.setDisabled(!$0.length);},$7_6:function(){var $0=this.get_autoGrid().get_selectionModel().getSelections();var $1=[];var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1.add($3.id);}var $2=JSON.stringify($1);LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/order/Order_{0}.pdf',Date.get_now().format('Y-m-d_H-i-s')),{orders:$2});},$7_7:null,preInitialize:function(){Luxena.Travel.LxnTravel$4.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$12;},se:null}
Luxena.Travel.ModificationListTab=function(tabId,args){Luxena.Travel.ModificationListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.ModificationListTab.prototype={onInitGrid:function(args,config){Luxena.Travel.ModificationListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['InstanceType','InstanceId'];args.setDefaultSort('TimeStamp','DESC');},createColumnConfigs:function(){this.addColumns([this.se.TimeStamp.toColumn(false,80),this.se.Author.toColumn(false,100),this.se.Type.toColumn(false,50),this.se.InstanceType.toColumn(true,100),this.se.InstanceId.toColumn(true,100),this.se.InstanceString.toColumn(false,100,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
var $1_0=Type.safeCast($p1_2.get('InstanceType'),String);return LxnBase.UI.Controls.ObjectLink.render($p1_2.get('InstanceId'),$p1_0||$1_0,$1_0);}),this.se.ItemsJson.toColumn(false,500,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
if(!ss.isValue($p1_0)){return '';}var $1_0=[];var $1_1=eval($p1_0);var $enum1=ss.IEnumerator.getEnumerator($1_1);while($enum1.moveNext()){var $1_2=$enum1.current;$1_0.add($1_2[0]+': '+$1_2[1]);}return $1_0.join(', ');})]);},preInitialize:function(){Luxena.Travel.ModificationListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3F;},se:null}
Luxena.Travel.ModificationEditForm=function(){Luxena.Travel.ModificationEditForm.initializeBase(this);}
Luxena.Travel.ModificationEditForm.prototype={createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([]));},preInitialize:function(){Luxena.Travel.ModificationEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3F;},se:null}
Luxena.Travel.IdentityListTab=function(tabId,args){Luxena.Travel.IdentityListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.IdentityListTab.prototype={preInitialize:function(){Luxena.Travel.IdentityListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2E;},se:null}
Luxena.Travel.IdentityEditForm=function(){Luxena.Travel.IdentityEditForm.initializeBase(this);}
Luxena.Travel.IdentityEditForm.prototype={preInitialize:function(){Luxena.Travel.IdentityEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2E;},se:null}
Luxena.Travel.UserVisitListTab=function(tabId,args){Luxena.Travel.UserVisitListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.UserVisitListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.StartDate.toColumn(false),this.se.User,this.se.IP,this.se.SessionId,this.se.Request]);},preInitialize:function(){Luxena.Travel.UserVisitListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$30;},se:null}
Luxena.Travel.UserVisitEditForm=function(){Luxena.Travel.UserVisitEditForm.initializeBase(this);}
Luxena.Travel.UserVisitEditForm.prototype={createControls:function(){this.get_window().width=-4;this.get_form().add(this.mainDataPanel([this.se.StartDate,this.se.User,this.se.IP,this.se.SessionId,this.se.Request]));},preInitialize:function(){Luxena.Travel.UserVisitEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$30;},se:null}
Luxena.Travel.UserListTab=function(tabId,args){Luxena.Travel.UserListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.UserListTab.prototype={createColumnConfigs:function(){this.addColumns([this.se.Person,this.se.Active,this.se.Roles,this.se.Name,this.se.Description,this.se.IsAdministrator,this.se.IsSupervisor,this.se.IsAgent,this.se.IsCashier,this.se.IsAnalyst,this.se.IsSubAgent,this.se.AllowCustomerReport.toColumn(true),this.se.AllowRegistryReport.toColumn(true),this.se.AllowUnbalancedReport.toColumn(true),this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},preInitialize:function(){Luxena.Travel.UserListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2F;},se:null}
Luxena.Travel.UserEditForm=function(){Luxena.Travel.UserEditForm.initializeBase(this);}
Luxena.Travel.UserEditForm.prototype={createControls:function(){this.get_window().width=-4;this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.Person,this.emptyRow(),this.se.Name,this.se.Password,this.se.ConfirmPassword,this.se.Description]),this.mainDataPanel([this.se.Active,this.emptyRow(),this.se.IsAdministrator,this.se.IsSupervisor,this.se.IsAgent,this.se.IsCashier,this.se.IsAnalyst,this.se.IsSubAgent,this.emptyRow(),this.se.AllowCustomerReport,this.se.AllowRegistryReport,this.se.AllowUnbalancedReport])]));},preInitialize:function(){Luxena.Travel.UserEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2F;},se:null}
Luxena.Travel.CellRenderers=function(){}
Luxena.Travel.CellRenderers.right=function(value,metadata,record,index,colIndex,store){if(ss.isValue(value)){return String.format("<div style='text-align: right'>{0}</div>",value);}return null;}
Luxena.Travel.ReferenceSelectorConfig=function(data){Luxena.Travel.ReferenceSelectorConfig.initializeBase(this);var $0=new Ext.data.JsonStoreConfig().fields(['Id','Name']);if(ss.isValue(data)){$0.data(data);}this.store(new Ext.data.JsonStore($0.toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true);}
Luxena.Travel.BaseEditForm2=function(){Luxena.Travel.BaseEditForm2.initializeBase(this);}
Luxena.Travel.BaseEditForm2.registerEdit=function(className,formType){LxnBase.UI.FormsRegistry.registerEdit(className,function($p1_0){
LxnBase.Data.ConfigManager.getEditConfig($p1_0.type,function($p2_0){
var $2_0=new formType();$2_0.init($p1_0,$p2_0);$2_0.open();});});}
Luxena.Travel.BaseEditForm2.prototype={init:function(args,config){this.$1_3=new Luxena.Travel.FormMembers();this._args=args;this._itemConfig=config;if(this._args.onSave!=null){this.add_saved(this._args.onSave);}if(this._args.onCancel!=null){this.add_canceled(this._args.onCancel);}this.get_window().setTitle(String.format('{0} ({1})',this._itemConfig.Caption,(this._args.get_isNew())?LxnBase.BaseRes.creation:LxnBase.BaseRes.editing));this._saveButton=this.get_form().addButton(LxnBase.BaseRes.save,ss.Delegate.create(this,this.save));this._cancelButton=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fieldMaxWidth(160);this.get_form().labelWidth=100;this.preInitialize();this.initialize();this.postInitialize();},preInitialize:function(){},initialize:function(){},postInitialize:function(){this.createControls();var $0=this.get_form().labelWidth;if(this.get_window().width===-1){this.get_window().width=260+$0;}else if(this.get_window().width===-2){this.get_window().width=410+2*$0;}else if(this.get_window().width===-3){this.get_window().width=420+$0;}else if(this.get_window().width===-4){this.get_window().width=540+2*$0;}else if(this.get_window().width===-6){this.get_window().width=770+2*$0;}var $1=[];this.get_members().addToFieldList($1);this.set_fields($1);var $2=[];$2.addRange($1);$2.add(this._saveButton);$2.add(this._cancelButton);this.set_componentSequence($2);},getNameBy:function(data){return (data==null)?'<empty>':(data)['Name'];},onLoad:function(result){this.set_updating(true);if(this._args.isCopy){this.$1_2=this._args.fieldValues=result;(result)['Id']=null;var $enum1=ss.IEnumerator.getEnumerator(Object.keys(this.$1_2));while($enum1.moveNext()){var $0=$enum1.current;var $1=this.$1_2[$0];if(!ss.isValue($1)){continue;}if(ss.isValue($1.length)&&(typeof($1.push)==='function')){var $2=$1;var $enum2=ss.IEnumerator.getEnumerator($2);while($enum2.moveNext()){var $3=$enum2.current;$3.Id=null;$3.Version=0;}}}}else{if(ss.isValue(this._args.idToLoad)){this.initData=result;}if(!ss.isValue(this.initData)){this.initData=this.getInitData();}this.$1_2=this.initData;}this.get_members().loadValues();this.get_window().show();this.set_updating(false);},getInitData:function(){return null;},getData:function(){this.$1_2={};if(this.initData!=null){this.$1_2['Id']=this.initData['Id'];this.$1_2['Version']=this.initData['Version'];}this.get_members().saveValues();return this.$1_2;},isModified:function(){return this.get_members().isModified();},save:function(){if(!this.validate()){return;}this._saveButton.setDisabled(true);if(this.initData==null||this.isModified()){this.onSave();}else{this.cancel();}},onSaved:function(result){if(ss.isUndefined(this._args.rangeRequest)){if(ss.isValue(result)){var $0=(result).Item;this.showSaveMessage($0);}}Luxena.Travel.BaseEditForm2.callBaseMethod(this, 'onSaved',[result]);},showSaveMessage:function(r){LxnBase.MessageRegister.info(this._itemConfig.ListCaption,String.format('{0} {1}',(this._args.get_isNew())?LxnBase.BaseRes.created:LxnBase.BaseRes.updated,this.getNameBy(r)));},get_fieldMaxWidth:function(){return this.$1_0;},set_fieldMaxWidth:function(value){this.$1_0=value;return value;},$1_0:0,get_updating:function(){return this.$1_1;},set_updating:function(value){this.$1_1=value;return value;},$1_1:false,getValue:function(name){if(this._args.fieldValues!=null&&!ss.isNullOrUndefined(this._args.fieldValues[name])){return this._args.fieldValues[name];}if(ss.isNullOrUndefined(this.$1_2)){return null;}var $0=this.$1_2[name];return (ss.isValue($0))?$0:null;},setValue:function(name,value){this.get_data()[name]=value;},getCurrentValue:function(name){var $enum1=ss.IEnumerator.getEnumerator(this.get_members().items);while($enum1.moveNext()){var $0=$enum1.current;if($0.semantic._name!==name){continue;}return $0.getFields()[0].getValue();}return null;},setCurrentValue:function(name,value){var $enum1=ss.IEnumerator.getEnumerator(this.get_members().items);while($enum1.moveNext()){var $0=$enum1.current;if($0.semantic._name!==name){continue;}$0.getFields()[0].setValue(value);return;}},completeSave:function(result){this._saveButton.setDisabled(false);Luxena.Travel.BaseEditForm2.callBaseMethod(this, 'completeSave',[result]);},failSave:function(result){this._saveButton.setDisabled(false);Luxena.Travel.BaseEditForm2.callBaseMethod(this, 'failSave',[result]);},addEditors:function(fieldList,editors){if(fieldList==null){fieldList=[];}var $enum1=ss.IEnumerator.getEnumerator(editors);while($enum1.moveNext()){var $0=$enum1.current;if(!ss.isValue($0)){continue;}var $1=Type.safeCast($0,Luxena.Travel.SemanticMember);fieldList.add(($1!=null)?$1.toEditor():$0);}return fieldList;},tabPane:function(title,items){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,items)).layout('form').title(title).toDictionary());},tabMainPane:function(title,items){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,items)).layout('form').cls('main-data').title(title).toDictionary());},tabColumnPane:function(title,items){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,items)).layout('column').title(title).toDictionary());},tabFitPane:function(title,item){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,[item])).layout('fit').title(title).toDictionary());},mainDataPanel:function(items){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,items)).layout('form').cls('main-data').toDictionary());},columnPanel:function(items){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,items)).layout('column').toDictionary());},formPanel:function(items){return new Ext.Panel(new Ext.PanelConfig().items(this.addEditors(null,items)).layout('form').toDictionary());},$1_2:null,get_data:function(){return this.$1_2;},initData:null,_args:null,get_args:function(){return this._args;},_itemConfig:null,_saveButton:null,_cancelButton:null,get_members:function(){return this.$1_3;},$1_3:null}
Luxena.Travel.EntityEditForm=function(){Luxena.Travel.EntityEditForm.initializeBase(this);}
Luxena.Travel.EntityEditForm.prototype={preInitialize:function(){Luxena.Travel.EntityEditForm.callBaseMethod(this, 'preInitialize');this.dsm=new Luxena.Travel.SemanticDomain(this);this.get_window().cls+=' editform';this.get_window().width=-3;this.get_window().addListener('beforeclose',ss.Delegate.create(this,this.$1_4));},dsm:null,entity:null,get_className:function(){return this.entity._className;},getNameBy:function(data){return this.entity.getName(data);},postInitialize:function(){if(!ss.isValue(this.entity)){throw new Error(Type.getInstanceType(this).get_name()+': not assigned ViewEntity Entity');}Luxena.Travel.EntityEditForm.callBaseMethod(this, 'postInitialize');},open:function(){if(this._args.mode===LxnBase.UI.LoadMode.local){this.onLoad(this._args.fieldValues);}else{Luxena.Travel.Services.DomainService.get(this.get_className(),this._args.idToLoad,ss.Delegate.create(this,this.onLoad),null);}},onSave:function(){if(this._args.mode===LxnBase.UI.LoadMode.local){this.completeSave(LxnBase.Data.ItemResponse.create(this.getData()));}else{Luxena.Travel.Services.DomainService.update(this.get_className(),this.getData(),this._args.rangeRequest,ss.Delegate.create(this,this.completeSave),ss.Delegate.create(this,this.failSave));}},completeSave:function(result){if(ss.isValue(result)){var $0=(result).Item;$0[LxnBase.Data.ObjectPropertyNames.reference]=this.getNameBy($0);$0[LxnBase.Data.ObjectPropertyNames.objectClass]=this.get_className();}Luxena.Travel.EntityEditForm.callBaseMethod(this, 'completeSave',[result]);},showSaveMessage:function(r){LxnBase.MessageRegister.info(this._itemConfig.ListCaption,String.format('{0} {1}',(this._args.get_isNew())?LxnBase.BaseRes.created:LxnBase.BaseRes.updated,LxnBase.UI.Controls.ObjectLink.render(r['Id'],this.getNameBy(r),this.get_className())));},$1_4:function($p0){if(this.get_isSaved()||this.get_isCanceled()){return true;}if(this.isModified()){LxnBase.UI.MessageBoxWrap.show({buttons:Ext.MessageBox.YESNOCANCEL,title:LxnBase.BaseRes.confirmation,icon:Ext.MessageBox.QUESTION,msg:LxnBase.BaseRes.saveChenges_Msg,fn:ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($1_0==='yes'){this.save();}else if($1_0==='no'){this.cancel();}})});return false;}return true;}}
Luxena.Travel.Entity3EditForm=function(){Luxena.Travel.Entity3EditForm.initializeBase(this);}
Luxena.Travel.Entity3EditForm.prototype={createControls:function(){var $0=this.entity;this.get_form().add(this.mainDataPanel([$0.Name.toField(-3)]));}}
Luxena.Travel.Entity3DEditForm=function(){Luxena.Travel.Entity3DEditForm.initializeBase(this);}
Luxena.Travel.Entity3DEditForm.prototype={createControls:function(){var $0=this.entity;this.get_form().add(this.mainDataPanel([$0.Name.toField(-3),$0.Description.toField(-3)]));}}
Luxena.Travel.EntityListTab=function(tabId,args){Luxena.Travel.EntityListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.EntityListTab.prototype={preInitialize:function(){Luxena.Travel.EntityListTab.callBaseMethod(this, 'preInitialize');this.dsm=new Luxena.Travel.SemanticDomain(this);},dsm:null,entity:null,get_className:function(){return this.entity._className;},handleInsertPress:function(){this.create(this.get_className());}}
Luxena.Travel.Entity3ListTab=function(tabId,args){Luxena.Travel.Entity3ListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.Entity3ListTab.prototype={createColumnConfigs:function(){var $0=this.entity;this.addColumns([$0.Name,$0.CreatedOn.toColumn(true,90),$0.CreatedBy.toColumn(true,90),$0.ModifiedOn.toColumn(true,90),$0.ModifiedBy.toColumn(true,90)]);}}
Luxena.Travel.Entity3DListTab=function(tabId,args){Luxena.Travel.Entity3DListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.Entity3DListTab.prototype={createColumnConfigs:function(){var $0=this.entity;this.addColumns([$0.Name,$0.Description,$0.CreatedOn.toColumn(true,90),$0.CreatedBy.toColumn(true,90),$0.ModifiedOn.toColumn(true,90),$0.ModifiedBy.toColumn(true,90)]);}}
Luxena.Travel.BoolSemanticType=function(){Luxena.Travel.BoolSemanticType.initializeBase(this);}
Luxena.Travel.BoolSemanticType.prototype={formatString:null,get_defaultWidth:function(){return 24;},toColumn:function(sm,cfg){cfg.width(80);cfg.renderer(function($p1_0){
return ($p1_0)?"<div class='checkBoxDisabled checked'></div>":'';});},toField:function(form,sm,width,initMember){var $0=new Ext.form.CheckboxConfig();if(!ss.isValue(width)){width=-1;}this.initFieldConfig(form,sm,width,$0);if(width<0&&ss.isValue(sm._title)){$0.fieldLabel('');$0.labelSeparator('');$0.boxLabel(sm._title);}var $1=form.get_members().add2(form,sm,$0,initMember);return $1.setField(new Ext.form.Checkbox($0.toDictionary()));}}
Luxena.Travel.ViewTypes=function(){}
Luxena.Travel.SemanticMember=function(){Luxena.Travel.SemanticMember.initializeBase(this);}
Luxena.Travel.SemanticMember.prototype={isBool:false,bool:function(){this._type=Luxena.Travel.ViewTypes.bool;this._required=true;this.isBool=true;return this;},_localReferenceWebMethod:null,localReference:function(webMethod){this._type=Luxena.Travel.ViewTypes.localReference;this._isReference=true;this._localReferenceWebMethod=webMethod;return this;},enumReference:function(referenceClassName){this._type=Luxena.Travel.ViewTypes.localReference;this._isReference=true;this._getReferenceEntity=function($p1_0){
return ($p1_0)[referenceClassName];};this._localReferenceWebMethod=Luxena.Travel.ViewTypes.localReference.getSuggest(this);return this;},isMoney:false,money:function(){this._type=Luxena.Travel.ViewTypes.money;this.isMoney=true;return this;},defaultMoney:function(){this._type=Luxena.Travel.ViewTypes.defaultMoney;this.isMoney=true;return this;},defaultOnlyMoney:function(){this._type=Luxena.Travel.ViewTypes.defaultOnlyMoney;this.isMoney=true;return this;},isEnum:false,_enumItems:null,getEnumItemName:function(value){if(ss.isNullOrUndefined(this._enumItems)){return '';}var $enum1=ss.IEnumerator.getEnumerator(this._enumItems);while($enum1.moveNext()){var $0=$enum1.current;if($0[0]===value){return $0[1];}}return '';},enumItems:function(items){this._type=Luxena.Travel.ViewTypes.enumeration;this._enumItems=items;this.isEnum=true;return this;},enumsItems:function(items){this._type=Luxena.Travel.ViewTypes.enumerations;this._enumItems=items;this.isEnum=true;return this;},_isReference:false,_getReferenceEntity:null,reference:function(referenceClassName){this._type=Luxena.Travel.ViewTypes.reference;this._isReference=true;this._getReferenceEntity=function($p1_0){
return ($p1_0)[referenceClassName];};return this;},int32:function(){this._type=Luxena.Travel.ViewTypes.int32;return this;},float2:function(){this._type=Luxena.Travel.ViewTypes.float2;return this;},float4:function(){this._type=Luxena.Travel.ViewTypes.float4;return this;},isDate:false,date:function(){this._type=Luxena.Travel.ViewTypes.date;this.isDate=true;this.columnWidth=90;return this;},dateTime:function(){this._type=Luxena.Travel.ViewTypes.dateTime;this.isDate=true;this.columnWidth=140;return this;},dateTime2:function(){this._type=Luxena.Travel.ViewTypes.dateTime2;this.isDate=true;this.columnWidth=160;return this;},time:function(){this._type=Luxena.Travel.ViewTypes.time;this.isDate=true;return this;},time2:function(){this._type=Luxena.Travel.ViewTypes.time2;this.isDate=true;return this;},string:function(maxLength){this._type=Luxena.Travel.ViewTypes.string;this._maxLength=(ss.isNullOrUndefined(maxLength))?0:maxLength;return this;},text:function(lineCount){this._type=Luxena.Travel.ViewTypes.string;this._lineCount=(lineCount>0)?lineCount:3;return this;},password:function(){this._type=Luxena.Travel.ViewTypes.password;return this;},_passwordFieldName:null,confirmPassword:function(passwordFieldName){this._type=Luxena.Travel.ViewTypes.confirmPassword;this._passwordFieldName=passwordFieldName||'Password';return this;},initialize:function(){this.toEditor=ss.Delegate.create(this,function(){
return this.toField();});},_entity:null,title:function(value){this._title=value;return this;},titles:function(value){this._titles=value;return this;},_type:null,type:function(value){this._type=value;return this;},_emptyText:null,emptyText:function(value){this._emptyText=value;return this;},_defaultValue:null,defaultValue:function(value){this._defaultValue=value;return this;},_required:false,required:function(){this._required=true;return this;},_maxLength:0,maxLength:function(value){this._maxLength=value;return this;},_lineCount:0,lineCount:function(value){this._lineCount=value;return this;},entityDate:function(){this.columnRenderer=this.getDateRenderer();return this;},entityName:function(){if(Type.canCast(this._type,Luxena.Travel.StringSemanticType)){this.columnRenderer=this.getNameRenderer();}return this;},secondary:function(){this.columnIsHidden=true;return this;},utility:function(){this.columnIsHidden=true;return this;},columnIsHidden:false,columnWidth:null,columnRenderer:null,columnInitAction:null,getDateRenderer:function(className){return ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
if(!ss.isValue($p1_0)){return '';}if(!ss.isValue(className)){className=this._className;}$p1_0=(ss.isValue(this._type))?this._type.getString(this,$p1_0):($p1_0).format('d.m.Y');return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(className)($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5);});},setColumn:function(isHidden,elWidth,renderer,initAction){this.columnIsHidden=isHidden;this.columnWidth=elWidth;this.columnRenderer=renderer;this.columnInitAction=initAction;return this;},toColumn:function(isHidden,elWidth,renderer,initAction){if(!ss.isValue(isHidden)){isHidden=this.columnIsHidden;}if(!ss.isValue(elWidth)){elWidth=this.columnWidth;}if(!ss.isValue(renderer)){renderer=this.columnRenderer;}if(!ss.isValue(initAction)){initAction=this.columnInitAction;}var $0=this.gridForm.columnCfg_(this._name,isHidden,elWidth,renderer,initAction);$0.header(this._title||this._name);this._type.toColumn(this,$0);if(ss.isValue(renderer)){$0.renderer(renderer);}return $0.toDictionary();},toEditor:null,toEditor1:null,toEditor2:null,setEditor:function(width,initMember){this.toEditor=ss.Delegate.create(this,function(){
return this.toField(width,initMember);});return this;},toField:function(width,initMember){if(!ss.isValue(initMember)){initMember=null;}if(this.$0!=null){return this.$0;}if(!ss.isValue(this._type)){LxnBase.Log.loga('ERROR: ViewMember.ToField: _type is null',this);}return this.$0=this._type.toField(this.editForm,this,width,initMember);},toHtmlTd2:function(r,required){if(ss.isNullOrUndefined(r)){return '';}var $0=(r)[this._name];if(ss.isNullOrUndefined($0)){if(required){return "<td class='fieldLabel'>"+this._title+':</td><td/>';}else{return '';}}var $1="<td class='fieldLabel'>"+this._title+':</td>';return $1+"<td class='fieldValue'>"+this.getValueHtml(r,$0)+'</td>';},getValueHtml:function(r,value){if(ss.isNullOrUndefined(value)){value=(r)[this._name];}value=this._type.getString(this,value);return (ss.isNullOrUndefined(value))?'&nbsp;':value.toString();},toHtmlTr2:function(r,required){if(ss.isNullOrUndefined(r)){return '';}var $0=this.toHtmlTd2(r,required);return (String.isNullOrEmpty($0))?$0:'<tr>'+$0+'</tr>';},toHtmlTd4:function(r,required,hideLabel,bold,onclick){if(!ss.isValue(r)){return '';}var $0=(r)[this._name];if(!ss.isValue($0)||this.isMoney&&!($0).Amount){if(required){return "<td class='fieldLabel error'>"+((hideLabel)?'':this._title)+':</td><td/><td/><td/>';}else{return '';}}var $1=(hideLabel)?'<td/>':"<td class='fieldLabel'>"+this._title+':</td>';var $2=(String.isNullOrEmpty(onclick))?'<td/>':(onclick.indexOf('</')>0)?onclick:"<td><div id='showFeesButton' class='showFeesBtn feesClosed' href='javascript:void(0)' onclick='"+onclick+"' ></div></td>";var $3=(this._name==='GrandTotal')?'total':(bold)?'':'gray';if(this.isMoney){var $4=$0;return $1+"<td class='fieldValue "+$3+" rightAlign amount'>"+$4.Amount.format('N2')+'</td>'+"<td class='fieldValue "+$3+"'>"+(($4.Currency!=null)?$4.Currency.Name:'&nbsp;')+'</td>'+$2;}if(this.isEnum){return $1+"<td class='fieldValue "+$3+" rightAlign'>"+this.getEnumItemName($0)+'</td>'+'<td/>'+$2;}return $1+"<td class='fieldValue "+$3+"'>"+$0+'</td><td/>'+$2;},toHtmlTr4:function(r,required,hideLabel,bold,onclick){if(ss.isNullOrUndefined(r)){return '';}var $0=this.toHtmlTd4(r,required,hideLabel,bold,onclick);return (String.isNullOrEmpty($0))?$0:'<tr>'+$0+'</tr>';},$0:null,getString:function(data){return this._type.getString(this,(data)[this._name]);}}
Luxena.Travel.LocalReferenceSemanticType=function(){Luxena.Travel.LocalReferenceSemanticType.initializeBase(this);}
Luxena.Travel.LocalReferenceSemanticType.prototype={toField:function(form,sm,width,initMember){var $0=new Luxena.Travel.ReferenceSelectorConfig(null);this.initTextFieldConfig(form,sm,width,$0);var $1=form.get_members().add2(form,sm,$0,initMember);var $2=new LxnBase.UI.Controls.ComboBox($0.toDictionary());$1.add_onLoadValue(function(){
sm._localReferenceWebMethod(function($p2_0){
$2.getStore().loadData($p2_0);$2.setValue(form.getValue(sm._name));});});$1.add_onSaveValue(function(){
form.setValue(sm._name,$2.getObjectInfo());});return $1.setField($2);},getSuggest:function(sm){return function($p1_0){
if(!ss.isValue($p1_0)){return;}var $1_0=new LxnBase.Data.RangeRequest();$1_0.query='*';$1_0.limit=500;var $1_1=sm._getReferenceEntity(sm._domain)._className;LxnBase.Services.GenericService.Suggest($1_1,$1_0,function($p2_0){
var $2_0=($p2_0)['List'];for(var $2_1=0;$2_1<$2_0.length;$2_1++){$2_0[$2_1]=LxnBase.Data.Reference.createFromArray($2_0[$2_1]);}$p1_0($2_0);},null);};}}
Luxena.Travel.MoneySemanticType=function(useDefaults,useCurrencyReadOnly){Luxena.Travel.MoneySemanticType.initializeBase(this);this.useDefaults=useDefaults;this.useCurrencyReadOnly=useCurrencyReadOnly;}
Luxena.Travel.MoneySemanticType.prototype={useDefaults:false,useCurrencyReadOnly:false,getString:function(sm,value){if(!ss.isValue(value)){return '';}var $0;var $1=Type.safeCast(value,Array);if($1!=null){$0=String.format('{0} {1}',($1[0]).format('N2'),$1[1]);}else{var $2=value;$0=String.format('{0} {1}',$2.Amount.format('N2'),$2.Currency.Name);}return $0;},toColumn:function(sm,cfg){cfg.width(90);cfg.renderer(ss.Delegate.create(this,function($p1_0){
if(!ss.isValue($p1_0)){return '';}return String.format("<div style='text-align: right'>{0}</div>",this.getString(sm,$p1_0));}));},toField:function(form,sm,width,initMember){var $0=(this.useDefaults)?Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(''):new Luxena.Travel.Controls.MoneyControlConfig();$0.setIsCurrencyReadOnly(this.useCurrencyReadOnly);this.initFieldConfig(form,sm,width,$0);var $1=form.get_members().add2(form,sm,$0,initMember);var $2=new Luxena.Travel.Controls.MoneyControl($0);return (this.useDefaults)?$1.setField($2):$1.setField($2,[$2.get_decimalField(),$2.get_currencySelector().get_widget()]);}}
Luxena.Travel.EnumSemanticType=function(){Luxena.Travel.EnumSemanticType.initializeBase(this);}
Luxena.Travel.EnumSemanticType.prototype={getString:function(sm,value){if(!ss.isValue(value)){return '';}var $enum1=ss.IEnumerator.getEnumerator(sm._enumItems);while($enum1.moveNext()){var $0=$enum1.current;if($0[0]===value){return $0[1];}}return value;},toColumn:function(sm,cfg){cfg.renderer(function($p1_0){
if(!ss.isValue($p1_0)){return '';}var $enum1=ss.IEnumerator.getEnumerator(sm._enumItems);while($enum1.moveNext()){var $1_0=$enum1.current;if($1_0[0]===$p1_0){return $1_0[1];}}return $p1_0;});},toField:function(form,sm,width,initMember){var $0=new Ext.form.ComboBoxConfig().store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields([LxnBase.Data.ObjectPropertyNames.id,LxnBase.Data.ObjectPropertyNames.name]).data(sm._enumItems).toDictionary())).mode('local').displayField(LxnBase.Data.ObjectPropertyNames.name).valueField(LxnBase.Data.ObjectPropertyNames.id).editable(false).hideLabel(false).hideTrigger(false).triggerAction('all').pageSize(0).selectOnFocus(true);if(ss.isValue(sm._enumItems)){$0.value(sm._enumItems[0][0]);}this.initTextFieldConfig(form,sm,width,$0);var $1=form.get_members().add2(form,sm,$0,initMember);return $1.setField(new Ext.form.ComboBox($0.toDictionary()));}}
Luxena.Travel.EnumsSemanticType=function(){Luxena.Travel.EnumsSemanticType.initializeBase(this);}
Luxena.Travel.EnumsSemanticType.prototype={getString:function(sm,value){if(!ss.isValue(value)){return '';}var $0=[];var $enum1=ss.IEnumerator.getEnumerator(sm._enumItems);while($enum1.moveNext()){var $1=$enum1.current;if(!!($1[0]&value)){$0.add($1[1]);}}return $0.join(', ');},toColumn:function(sm,cfg){cfg.renderer(function($p1_0){
if(!ss.isValue($p1_0)){return '';}var $1_0=[];var $enum1=ss.IEnumerator.getEnumerator(sm._enumItems);while($enum1.moveNext()){var $1_1=$enum1.current;if(!!($1_1[0]&$p1_0)){$1_0.add($1_1[1]);}}return $1_0.join(', ');});},toField:function(form,sm,width,initMember){width=this.convertWidth(form,width);var $0=new Ext.form.CheckboxGroupConfig().items(sm._enumItems.filter(function($p1_0){
return !!($p1_0)[0];}).map(function($p1_0){
var $1_0=($p1_0)[0];var $1_1=($p1_0)[1].toString();return new Ext.form.Checkbox(new Ext.form.CheckboxConfig().data($1_0).boxLabel($1_1).toDictionary());})).width(width).columns(2);this.initFieldConfig(form,sm,width,$0);var $1=form.get_members().add2(form,sm,$0,initMember);var $2=new Ext.form.CheckboxGroup($0.toDictionary());$1.add_onLoadValue(function(){
var $1_0=form.getValue(sm._name);if(!ss.isValue($1_0)){return;}var $enum1=ss.IEnumerator.getEnumerator($2.items);while($enum1.moveNext()){var $1_1=$enum1.current;$1_1.setValue(!!($1_1.data&$1_0));}});$1.add_onSaveValue(function(){
var $1_0=0;var $enum1=ss.IEnumerator.getEnumerator($2.getValue());while($enum1.moveNext()){var $1_1=$enum1.current;$1_0=$1_0|$1_1.data;}form.setValue(sm._name,$1_0);});return $1.setField($2);}}
Luxena.Travel.ReferenceSemanticType=function(){Luxena.Travel.ReferenceSemanticType.initializeBase(this);}
Luxena.Travel.ReferenceSemanticType.$1=function($p0,$p1,$p2){return function($p1_0,$p1_1){
var $1_0={};$1_0[$p1._nameFieldName]=$p1_1;if(ss.isValue($p1)){$p1._prepareNewData($1_0);}$p0.editForm.set_updating(true);LxnBase.UI.FormsRegistry.editObject($p2,null,$1_0,function($p2_0){
$p0.editForm.set_updating(false);$p1_0.setValue($p1.getReference(($p2_0).Item,$p2));},function(){
$p0.editForm.set_updating(false);},null);};}
Luxena.Travel.ReferenceSemanticType.prototype={getString:function(sm,value){return LxnBase.UI.BasicViewForm.link(value);},toColumn:function(sm,cfg){var $0=sm._getReferenceEntity(sm._domain)._className;cfg.renderer(function($p1_0){
if(!ss.isValue($p1_0)){return '';}var $1_0=Type.safeCast($p1_0,Array);if($1_0!=null){if(!ss.isValue($1_0[LxnBase.Data.Reference.TypePos])){$1_0[LxnBase.Data.Reference.TypePos]=$0;}return LxnBase.UI.Controls.ObjectLink.renderArray($1_0);}var $1_1=$p1_0;if(!ss.isValue($1_1.Type)){$1_1.Type=$0;}return LxnBase.UI.Controls.ObjectLink.renderInfo($1_1);});},toField:function(form,sm,width,initMember){var $0=sm._getReferenceEntity(sm._domain)._className;if(!!sm._maxLength){width=sm._maxLength*6;if(width<LxnBase.UI.AutoControls.ControlFactory.minWidth){width=LxnBase.UI.AutoControls.ControlFactory.minWidth;}else if(width>LxnBase.UI.AutoControls.ControlFactory.maxWidth){width=LxnBase.UI.AutoControls.ControlFactory.maxWidth;}}else if(ss.isNullOrUndefined(width)){width=form.get_fieldMaxWidth();}var $1=new LxnBase.UI.Controls.ObjectSelectorConfig().customActionsDelegate(this.$0(sm)).allowCreate(false).setClass($0).selectOnFocus(true).forceSelection(true);var $2=(Luxena.Travel.AppManager.get_allowedActions()[$0]);if($2.CanUpdate.IsEnabled){$1.allowEdit(true);}this.initTextFieldConfig(form,sm,width,$1);var $3=form.get_members().add2(form,sm,$1,initMember);var $4=new LxnBase.UI.Controls.ObjectSelector($1);$3.add_onSaveValue(function(){
form.setValue(sm._name,$4.getObjectInfo());});return $3.setField($4.get_widget());},$0:function($p0){var $0=$p0._getReferenceEntity($p0._domain);return function($p1_0,$p1_1,$p1_2){
if(String.isNullOrEmpty($p1_2)){return null;}if($p1_1!=null){var $enum1=ss.IEnumerator.getEnumerator($p1_1);while($enum1.moveNext()){var $1_2=$enum1.current;var $1_3=$1_2.get($p0._nameFieldName);if(String.equals($1_3,$p1_2,true)){return null;}}}var $1_0=[];var $1_1=(ss.isValue($0._getDerivedEntities))?$0._getDerivedEntities($p0._domain):[$0];var $enum2=ss.IEnumerator.getEnumerator($1_1);while($enum2.moveNext()){var $1_4=$enum2.current;$1_0.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.add_Action_Title+' '+($1_4._title||$1_4._className)).handler(Luxena.Travel.ReferenceSemanticType.$1($p0,$0,$1_4._className)).toDictionary()));}return $1_0;};}}
Luxena.Travel.NumericSemanticType=function(decimalPrecision){Luxena.Travel.NumericSemanticType.initializeBase(this);this.decimalPrecision=decimalPrecision;}
Luxena.Travel.NumericSemanticType.prototype={decimalPrecision:0,getString:function(sm,value){if(!ss.isValue(value)){return '';}var $0=value;if(ss.isValue($0)){value=$0.format('N'+this.decimalPrecision);}return value.toString();},toField:function(form,sm,width,initMember){var $0=new Ext.form.NumberFieldConfig().width(LxnBase.UI.AutoControls.ControlFactory.defaultNumberFieldWidth).allowDecimals(this.decimalPrecision>0).decimalPrecision(this.decimalPrecision);this.initTextFieldConfig(form,sm,width,$0);var $1=form.get_members().add2(form,sm,$0,initMember);return $1.setField((this.decimalPrecision<=0)?new Ext.form.NumberField($0.toDictionary()):new LxnBase.UI.Controls.DecimalField($0.toDictionary()));},toColumn:function(sm,cfg){cfg.renderer(ss.Delegate.create(this,function($p1_0){
if(!ss.isValue($p1_0)){return '';}var $1_0=$p1_0;if(ss.isValue($1_0)){$p1_0=$1_0.format('N'+this.decimalPrecision);}return "<div style='text-align: right'>"+$p1_0+'</div>';}));}}
Luxena.Travel.DateSemanticType=function(formatString){Luxena.Travel.DateSemanticType.initializeBase(this);this.formatString=formatString;}
Luxena.Travel.DateSemanticType.prototype={formatString:null,getString:function(sm,value){return (!ss.isValue(value))?'':Ext.util.Format.date(value,this.formatString);},toColumn:function(sm,cfg){cfg.renderer(ss.Delegate.create(this,function($p1_0){
return this.getString(sm,$p1_0);}));},toField:function(form,sm,width,initMember){var $0=new Ext.form.DateFieldConfig();this.initTextFieldConfig(form,sm,width,$0);$0.format(this.formatString);var $1=form.get_members().add2(form,sm,$0,initMember);return $1.setField(new Ext.form.DateField($0.toDictionary()));},convertWidth:function(form,width){if(ss.isNullOrUndefined(width)||width===-2){return 103;}return Luxena.Travel.DateSemanticType.callBaseMethod(this, 'convertWidth',[form,width]);}}
Luxena.Travel.FormMember=function(form,semantic,config){this.config=config;this.form=form;this.semantic=semantic;}
Luxena.Travel.FormMember.prototype={form:null,semantic:null,config:null,field:null,fields:null,getFields:function(){return this.fields;},setField:function(value,fields){this.field=value;if(ss.isUndefined(fields)){fields=[value];}this.fields=fields;this.addEvents();return value;},add_onLoadValue:function(value){this.$0=ss.Delegate.combine(this.$0,value);},remove_onLoadValue:function(value){this.$0=ss.Delegate.remove(this.$0,value);},$0:null,add_onSaveValue:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_onSaveValue:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,loadValue:function(){if(this.$0!=null){this.$0();}else if(this.field!=null){var $0=this.form.getValue(this.semantic._name);if(ss.isValue($0)){this.field.setValue($0);}}},saveValue:function(){if(this.$1!=null){this.$1();}else if(this.field!=null){var $0=this.field.getValue();if(ss.isNullOrUndefined($0)){$0=null;}this.form.setValue(this.semantic._name,$0);}},add_onIsModified:function(value){this.$2=ss.Delegate.combine(this.$2,value);},remove_onIsModified:function(value){this.$2=ss.Delegate.remove(this.$2,value);},$2:null,isModified:function(){if(this.$2!=null){return this.$2();}if(this.fields==null){return false;}var $enum1=ss.IEnumerator.getEnumerator(this.fields);while($enum1.moveNext()){var $0=$enum1.current;if($0!=null&&$0.isDirty()){return true;}}return false;},boldLabel:function(){this.config.labelStyle('font-weight:bold;');},dataProxy:function(proxy){(this.config).setDataProxy(proxy);},hideLabel:function(){this.config.hideLabel(true);},label:function(value){this.config.fieldLabel(value);},emptyText:function(value){(this.config).emptyText(value);},valueProperties:function(value){(this.config).valueProperties(value);},width:function(value){value=this.semantic._type.convertWidth(this.form,value);this.config.width(value);},height:function(value){this.config.height(value);},itemCls:function(value){this.config.itemCls(value);},required:function(value){(this.config).allowBlank(!value);},addEvents:function(){if(this.$3!=null){this.field.addListener('blur',this.$3);}if(this.$4!=null){var $0=Type.safeCast(this.field,Ext.form.TextField);if($0!=null){$0.enableKeyEvents=true;}this.field.addListener('keypress',this.$4);}if(this.$5!=null){this.field.addListener('changeValue',this.$5);}},$3:null,onBlur:function(value){this.$3=value;},$4:null,onKeyPress:function(value){this.$4=value;},$5:null,onChangeValue:function(value){var $0=Type.safeCast(this.config,Luxena.Travel.Controls.MoneyControlConfig);if($0!=null){$0.setAmountChangeHandler(value);}else{this.$5=value;}},menuOnChange:function(items){var $0=Type.safeCast(this.config,Luxena.Travel.Controls.MoneyControlConfig);if($0!=null){$0.setOnChangeMenu(new Ext.menu.MenuConfig().items(items));}}}
Luxena.Travel.FormMembers=function(){this.items=[];}
Luxena.Travel.FormMembers.prototype={add:function(item){this.items.add(item);},add2:function(form,semantic,config,initMember){var $0=new Luxena.Travel.FormMember(form,semantic,config);this.items.add($0);if(initMember!=null){initMember($0);}return $0;},add3:function(form,onLoadValue,onSaveValue){var $0=new Luxena.Travel.FormMember(form,null,null);$0.add_onLoadValue(onLoadValue);$0.add_onSaveValue(onSaveValue);this.items.add($0);return $0;},addToFieldList:function(list){var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $0=$enum1.current;list.addRange($0.getFields());}},loadValues:function(){var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $0=$enum1.current;$0.loadValue();}},saveValues:function(){var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $0=$enum1.current;$0.saveValue();}},isModified:function(){var $enum1=ss.IEnumerator.getEnumerator(this.items);while($enum1.moveNext()){var $0=$enum1.current;if($0.isModified()){return true;}}return false;}}
Luxena.Travel.StringSemanticType=function(){Luxena.Travel.StringSemanticType.initializeBase(this);}
Luxena.Travel.StringSemanticType.prototype={toField:function(form,sm,width,initMember){var $0=this.newConfig(form,sm);var $1=sm._maxLength;if($1>0){$0.maxLength($1);if(!ss.isValue(width)&&!sm._lineCount){width=$1*6;if(width<104){width=104;}else if(width>336){width=336;}if(width>form.get_fieldMaxWidth()){width=form.get_fieldMaxWidth();}}}this.initTextFieldConfig(form,sm,width,$0);if(!!sm._lineCount){$0.height(100);}var $2=form.get_members().add2(form,sm,$0,initMember);return $2.setField((!!sm._lineCount)?new Ext.form.TextArea($0.toDictionary()):new Ext.form.TextField($0.toDictionary()));},newConfig:function(form,sm){return new Ext.form.TextFieldConfig();}}
Luxena.Travel.PasswordSemanticType=function(){Luxena.Travel.PasswordSemanticType.initializeBase(this);}
Luxena.Travel.PasswordSemanticType.$0=function($p0,$p1){if(!$p1.isSpecialKey()){$p0.isFieldDirty=true;}}
Luxena.Travel.PasswordSemanticType.prototype={newConfig:function(form,sm){return new Ext.form.TextFieldConfig().selectOnFocus(true).allowBlank(false).enableKeyEvents(true).listeners({keydown:Luxena.Travel.PasswordSemanticType.$0}).inputType('password');}}
Luxena.Travel.ConfirmPasswordSemanticType=function(){Luxena.Travel.ConfirmPasswordSemanticType.initializeBase(this);}
Luxena.Travel.ConfirmPasswordSemanticType.prototype={newConfig:function(form,sm){return Luxena.Travel.ConfirmPasswordSemanticType.callBaseMethod(this, 'newConfig',[form,sm]).validator(function($p1_0){
var $1_0=form.getCurrentValue(sm._passwordFieldName);return ($p1_0===$1_0)?true:Luxena.Travel.Res.password_Error_Msg;});}}
Luxena.Travel.SemanticDomain=function(owner){this.$0=new Luxena.Travel.PassportSemantic();this.$1=new Luxena.Travel.BankAccountSemantic();this.$2=new Luxena.Travel.MilesCardSemantic();this.$3=new Luxena.Travel.PartySemantic();this.$4=new Luxena.Travel.OrganizationSemantic();this.$5=new Luxena.Travel.PersonSemantic();this.$6=new Luxena.Travel.DepartmentSemantic();this.$7=new Luxena.Travel.AccommodationProviderSemantic();this.$8=new Luxena.Travel.BusTicketProviderSemantic();this.$9=new Luxena.Travel.PasteboardProviderSemantic();this.$A=new Luxena.Travel.TransferProviderSemantic();this.$B=new Luxena.Travel.GenericProductProviderSemantic();this.$C=new Luxena.Travel.CarRentalProviderSemantic();this.$D=new Luxena.Travel.TourProviderSemantic();this.$E=new Luxena.Travel.RoamingOperatorSemantic();this.$F=new Luxena.Travel.InsuranceCompanySemantic();this.$10=new Luxena.Travel.AirlineSemantic();this.$11=new Luxena.Travel.CustomerSemantic();this.$12=new Luxena.Travel.OrderSemantic();this.$13=new Luxena.Travel.CurrencyDailyRateSemantic();this.$14=new Luxena.Travel.CateringTypeSemantic();this.$15=new Luxena.Travel.AccommodationTypeSemantic();this.$16=new Luxena.Travel.GenericProductTypeSemantic();this.$17=new Luxena.Travel.ProductPassengerSemantic();this.$18=new Luxena.Travel.BusTicketSemantic();this.$19=new Luxena.Travel.ExcursionSemantic();this.$1A=new Luxena.Travel.IsicSemantic();this.$1B=new Luxena.Travel.PasteboardSemantic();this.$1C=new Luxena.Travel.TransferSemantic();this.$1D=new Luxena.Travel.GenericProductSemantic();this.$1E=new Luxena.Travel.CarRentalSemantic();this.$1F=new Luxena.Travel.TourSemantic();this.$20=new Luxena.Travel.AccommodationSemantic();this.$21=new Luxena.Travel.SimCardSemantic();this.$22=new Luxena.Travel.InsuranceSemantic();this.$23=new Luxena.Travel.AviaDocumentSemantic();this.$24=new Luxena.Travel.ProductSemantic();this.$25=new Luxena.Travel.AviaTicketSemantic();this.$26=new Luxena.Travel.AviaMcoSemantic();this.$27=new Luxena.Travel.AviaRefundSemantic();this.$28=new Luxena.Travel.CountrySemantic();this.$29=new Luxena.Travel.AirlineServiceClassSemantic();this.$2A=new Luxena.Travel.AirlineMonthCommissionSemantic();this.$2B=new Luxena.Travel.AirportSemantic();this.$2C=new Luxena.Travel.PaymentSystemSemantic();this.$2D=new Luxena.Travel.CurrencySemantic();this.$2E=new Luxena.Travel.IdentitySemantic();this.$2F=new Luxena.Travel.UserSemantic();this.$30=new Luxena.Travel.UserVisitSemantic();this.$31=new Luxena.Travel.SystemConfigurationSemantic();this.$32=new Luxena.Travel.AirlineCommissionPercentsSemantic();this.$33=new Luxena.Travel.DocumentOwnerSemantic();this.$34=new Luxena.Travel.DocumentAccessSemantic();this.$35=new Luxena.Travel.ClosedPeriodSemantic();this.$36=new Luxena.Travel.OpeningBalanceSemantic();this.$37=new Luxena.Travel.InternalTransferSemantic();this.$38=new Luxena.Travel.GdsAgentSemantic();this.$39=new Luxena.Travel.GdsFileSemantic();this.$3A=new Luxena.Travel.InvoiceSemantic();this.$3B=new Luxena.Travel.ReceiptSemantic();this.$3C=new Luxena.Travel.TaskSemantic();this.$3D=new Luxena.Travel.PaymentSemantic();this.$3E=new Luxena.Travel.ContractSemantic();this.$3F=new Luxena.Travel.ModificationSemantic();this.$40=new Luxena.Travel.FlightSegmentSemantic();this.$41=new Luxena.Travel.AirplaneModelSemantic();this.$42=new Luxena.Travel.AmadeusAviaSftpRsaKeySemantic();var $0=this;var $1=[];var $enum1=ss.IEnumerator.getEnumerator(Object.keys($0));while($enum1.moveNext()){var $2=$enum1.current;var $3=$0[$2];$3._domain=this;$3.editForm=Type.safeCast(owner,Luxena.Travel.IEditForm);$3.gridForm=Type.safeCast(owner,Luxena.Travel.IGridForm);var $4=$3;var $enum2=ss.IEnumerator.getEnumerator(Object.keys($4));while($enum2.moveNext()){var $5=$enum2.current;var $6=Type.safeCast($4[$5],Luxena.Travel.SemanticMember);if($6==null){continue;}$6._domain=this;$6._entity=$3;$6._name=$5;$6.editForm=$3.editForm;$6.gridForm=$3.gridForm;$1.add($6);}$1.add($3);}var $enum3=ss.IEnumerator.getEnumerator($1);while($enum3.moveNext()){var $7=$enum3.current;$7.initialize();}}
Luxena.Travel.SemanticEntity=function(){}
Luxena.Travel.SemanticEntity.get_member=function(){return new Luxena.Travel.SemanticMember();}
Luxena.Travel.SemanticEntity.boldLabel=function(m){m.boldLabel();}
Luxena.Travel.SemanticEntity.hideLabel=function(m){m.hideLabel();}
Luxena.Travel.SemanticEntity.textComponent_=function(html,width){var $0=new Ext.BoxComponentConfig().autoEl({tag:'div',html:html}).cls('x-form-item float-left box-label');if(ss.isValue(width)){if(width===-4){width=122;$0.style('text-align: right;');}$0.width(width);}return new Ext.BoxComponent($0.toDictionary());}
Luxena.Travel.SemanticEntity.rowPanel_=function(items){for(var $0=0;$0<items.length;$0++){var $1=Type.safeCast(items[$0],Luxena.Travel.SemanticMember);if($1!=null){items[$0]=$1.toEditor();}}return new Ext.Panel(new Ext.PanelConfig().layout('form').itemCls('float-left').items(items).toDictionary());}
Luxena.Travel.SemanticEntity.rowPanel2_=function(view1,initMember1,view2,initMember2){return Luxena.Travel.SemanticEntity.rowPanel_([view1.toField(-1,function($p1_0){
$p1_0.label(String.format('{0} / {1}',view1._title,view2._title));if(ss.isValue(initMember1)){initMember1($p1_0);}}),Luxena.Travel.SemanticEntity.textComponent_('/'),view2.toField(-1,function($p1_0){
$p1_0.hideLabel();if(ss.isValue(initMember2)){initMember2($p1_0);}})]);}
Luxena.Travel.SemanticEntity.rowPanel2c_=function(title,view1,initMember1,view2,initMember2){return Luxena.Travel.SemanticEntity.rowPanel_([view1.toField(-1,function($p1_0){
$p1_0.label(title);$p1_0.emptyText(view1._title);if(ss.isValue(initMember1)){initMember1($p1_0);}}),Luxena.Travel.SemanticEntity.textComponent_(','),view2.toField(-1,function($p1_0){
$p1_0.hideLabel();$p1_0.emptyText(view2._title);if(ss.isValue(initMember2)){initMember2($p1_0);}})]);}
Luxena.Travel.SemanticEntity.rowPanel2v_=function(view1,initMember1,view2,initMember2){return Luxena.Travel.SemanticEntity.rowPanel_([view1.toField(-2,initMember1),Luxena.Travel.SemanticEntity.textComponent_(view2._title+': ',-4),view2.toField(-2,function($p1_0){
$p1_0.hideLabel();if(ss.isValue(initMember2)){initMember2($p1_0);}})]);}
Luxena.Travel.SemanticEntity.rowPanel3c_=function(title,view1,initMember1,view2,initMember2,view3,initMember3){return Luxena.Travel.SemanticEntity.rowPanel_([view1.toField(-2,function($p1_0){
$p1_0.label(title);if(ss.isValue(initMember1)){initMember1($p1_0);}}),Luxena.Travel.SemanticEntity.textComponent_('/'),view2.toField(-2,function($p1_0){
$p1_0.hideLabel();if(ss.isValue(initMember2)){initMember2($p1_0);}}),Luxena.Travel.SemanticEntity.textComponent_('/'),view3.toField(-2,function($p1_0){
$p1_0.hideLabel();if(ss.isValue(initMember3)){initMember3($p1_0);}})]);}
Luxena.Travel.SemanticEntity.rowPanel3_=function(view1,initMember1,view2,initMember2,view3,initMember3){return Luxena.Travel.SemanticEntity.rowPanel3c_(String.format('{0} / {1} / {2}',view1._title,view2._title,view3._title),view1,initMember1,view2,initMember2,view3,initMember3);}
Luxena.Travel.SemanticEntity.prototype={editForm:null,gridForm:null,_domain:null,_className:null,_name:null,_title:null,_titles:null,_isAbstract:false,_getDerivedEntities:null,_idFieldName:'Id',_nameFieldName:'Name',_nameMember:null,_prepareNewData:null,initialize:function(){if(ss.isValue(this._nameFieldName)){this._nameMember=(this)[this._nameFieldName];}},getName:function(data){return (ss.isValue(this._nameMember))?this._nameMember.getString(data):this._title||this._className;},getReference:function(data,className){return LxnBase.Data.Reference.create(className||this._className,(data)[this._nameFieldName],(data)[this._idFieldName]);},toGridEditor:function(semantic,grid){return ss.Delegate.create(this,function(){
var $1_0=new Luxena.Travel.FormMember(this.editForm,semantic,null);$1_0.add_onLoadValue(ss.Delegate.create(this,function(){
var $2_0=this.editForm.get_data();if(ss.isValue($2_0)){grid.loadData($2_0[semantic._name]);}}));$1_0.add_onSaveValue(ss.Delegate.create(this,function(){
this.editForm.setValue(semantic._name,grid.getData());}));$1_0.add_onIsModified(function(){
return grid.isModified();});this.editForm.get_members().add($1_0);return grid.get_widget();});},gridMember:function(name,grid){var $0=new Luxena.Travel.SemanticMember();$0._name=name;$0.toEditor=this.toGridEditor($0,grid);return $0;},toListAction:function(){var $0=Luxena.Travel.AppManager.get_allowedActions()[this._className];var $1=($0!=null)?$0.CanList:null;if($1==null||(!$1.Visible&&String.isNullOrEmpty($1.DisableInfo))){return null;}var $2=new Ext.Action(new Ext.ActionConfig().text(this._titles||this._title||this._className).handler(ss.Delegate.create(this,function(){
LxnBase.UI.FormsRegistry.listObjects(this._className);})).toDictionary());if(ss.isValue($1.DisableInfo)){$2.disable();}return $2;},toViewAction:function(id){var $0=Luxena.Travel.AppManager.get_allowedActions()[this._className];var $1=($0!=null)?$0.CanList:null;if($1==null||(!$1.Visible&&String.isNullOrEmpty($1.DisableInfo))){return null;}var $2=new Ext.Action(new Ext.ActionConfig().text(this._title||this._titles||this._className).handler(ss.Delegate.create(this,function(){
LxnBase.UI.FormsRegistry.viewObject(this._className,id);})).toDictionary());if(ss.isValue($1.DisableInfo)){$2.disable();}return $2;},textComponent:function(html,width){return Luxena.Travel.SemanticEntity.textComponent_(html,width);},rowPanel:function(items){return Luxena.Travel.SemanticEntity.rowPanel_(items);},rowPanel2:function(view1,initMember1,view2,initMember2){return Luxena.Travel.SemanticEntity.rowPanel2_(view1,initMember1,view2,initMember2);},rowPanel2c:function(title,view1,initMember1,view2,initMember2){return Luxena.Travel.SemanticEntity.rowPanel2c_(title,view1,initMember1,view2,initMember2);},rowPanel2v:function(view1,initMember1,view2,initMember2){return Luxena.Travel.SemanticEntity.rowPanel2v_(view1,initMember1,view2,initMember2);},rowPanel3c:function(title,view1,initMember1,view2,initMember2,view3,initMember3){return Luxena.Travel.SemanticEntity.rowPanel3c_(title,view1,initMember1,view2,initMember2,view3,initMember3);},rowPanel3:function(view1,initMember1,view2,initMember2,view3,initMember3){return Luxena.Travel.SemanticEntity.rowPanel3_(view1,initMember1,view2,initMember2,view3,initMember3);},getNameRenderer:function(className){if(!ss.isValue(className)){className=this._className;}return function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(className)($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5);};},getDateRenderer:function(className){return ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
if(!ss.isValue($p1_0)){return '';}if(!ss.isValue(className)){className=this._className;}return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(className)(($p1_0).format('d.m.Y'),$p1_1,$p1_2,$p1_3,$p1_4,$p1_5);});}}
Luxena.Travel.SemanticType=function(){}
Luxena.Travel.SemanticType.prototype={getString:function(sm,value){return (ss.isValue(value))?value.toString():'';},initFieldConfig:function(form,semantic,width,config){config.name(semantic._name);if(!ss.isValue(width)||!width){width=(this.get_defaultWidth()>0)?this.get_defaultWidth():form.get_fieldMaxWidth();}if(width>0){config.width(width);}if(!ss.isValue(semantic._title)){config.labelSeparator('');}else{config.fieldLabel(semantic._title);}if(semantic._required){config.labelStyle('font-weight:bold;');}if(ss.isValue(semantic._defaultValue)){config.value(semantic._defaultValue);}},initTextFieldConfig:function(form,semantic,width,config){width=this.convertWidth(form,width);this.initFieldConfig(form,semantic,width,config);config.selectOnFocus(true);config.allowBlank(!semantic._required);if(ss.isValue(semantic._emptyText)){config.emptyText(semantic._emptyText);}if(semantic._maxLength>0){config.maxLength(semantic._maxLength);}},convertWidth:function(form,width){if(ss.isNullOrUndefined(width)||!width){return (this.get_defaultWidth()>0)?this.get_defaultWidth():(form.get_fieldMaxWidth()<LxnBase.UI.AutoControls.ControlFactory.defaultTextFieldWidth)?form.get_fieldMaxWidth():LxnBase.UI.AutoControls.ControlFactory.defaultTextFieldWidth;}if(width===-1){return form.get_fieldMaxWidth();}if(width===-2){return 104;}if(width===-3){return 336;}return width;},get_defaultWidth:function(){return 0;},toColumn:function(sm,cfg){}}
Luxena.Travel.InvoiceGridView=function(){Luxena.Travel.InvoiceGridView.initializeBase(this);}
Luxena.Travel.InvoiceGridView.prototype={getCustomRowClass:function(record){var $0=record.get('IsOrderVoid');return ($0)?'textColor-gray':null;}}
Luxena.Travel.InvoiceIssueForm=function(orderId,orderOwner,orderBankAccount,invoices,type){Luxena.Travel.InvoiceIssueForm.initializeBase(this);this.$1_0=orderId;this.$1_2=orderOwner;this.$1_3=orderBankAccount;this.$1_1=invoices;this.$1_A=type;}
Luxena.Travel.InvoiceIssueForm.prototype={$1_0:null,$1_1:null,$1_2:null,$1_3:null,$1_4:null,$1_5:null,$1_6:null,$1_7:null,$1_8:null,$1_9:null,$1_A:0,$1_B:null,open:function(){var $0=this.get_form().addButton(Luxena.Travel.Res.issue,ss.Delegate.create(this,this.save));var $1=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.$1_4=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.invoice_IssueDate).format('d.m.Y').width(100).value(Date.get_today()).allowBlank(false).toDictionary());if(this.$1_1==null||!this.$1_1.length){this.$1_5=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.DomainRes.common_Number).emptyText(Luxena.Travel.Res.auto).emptyClass('auto-text').width(170).toDictionary());}else{var $5=new Array(this.$1_1.length);for(var $6=0;$6<this.$1_1.length;$6++){$5[$6]=[this.$1_1[$6]];}this.$1_5=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.common_Number).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().data($5).fields(['number']).toDictionary())).mode('local').displayField('number').valueField('number').tpl(new Ext.XTemplate("<tpl for=\".\"><div class='x-combo-list-item invoice-reissue-action'>"+Luxena.Travel.Res.invoice_Reissue+'{number}</div></tpl>')).emptyText(Luxena.Travel.Res.auto).emptyClass('auto-text').width(170).toDictionary());}this.$1_6=Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200,false);this.$1_6.setValue((ss.isValue(this.$1_2))?this.$1_2:null);if(!Luxena.Travel.AppManager.get_systemConfiguration().Invoice_CanOwnerSelect){this.$1_6.allowBlank=true;this.$1_6.setReadOnly(true);}this.$1_7=Luxena.Travel.Controls.ControlFactoryExt.createBankAccountControl(200);this.$1_7.setValue(this.$1_3);this.$1_9=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.invoiceIssueForm_ShowPaid).toDictionary());this.$1_8=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel('\u0424\u043e\u0440\u043c\u0430 \u0441\u0447\u0451\u0442\u0430').store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['number','name']).data([[1,'XP \u0432 \u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0445 (\u0444\u043e\u0440\u043c\u0430 1)'],[2,'XP \u0441\u043a\u0440\u044b\u0442 (\u0444\u043e\u0440\u043c\u0430 2)']]).toDictionary())).mode('local').displayField('name').valueField('number').triggerAction('all').selectOnFocus(true).editable(false).emptyText('\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').emptyClass('auto-text').width(170).toDictionary());this.$1_B=Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl(Luxena.Travel.DomainRes.invoice_IssuedBy,200,false);this.$1_B.setValue(Luxena.Travel.AppManager.get_systemConfiguration().Invoice_DefaultIssuedBy||Luxena.Travel.AppManager.get_currentPerson());var $2=[this.$1_4,this.$1_5,this.$1_6,this.$1_7,this.$1_8,this.$1_9,this.$1_B.get_widget()];this.get_form().add($2);var $3=[];$3.addRange($2);$3.addRange([$0,$1]);this.set_componentSequence($3);var $4=(this.$1_A===2)?Luxena.Travel.Res.issueCompletionCertificate_Title:Luxena.Travel.Res.issueInvoice_Title;this.get_window().setTitle($4);this.get_window().setWidth(370);this.get_window().addClass('invoice-issue');this.get_window().show();},onSave:function(){var $0=this.$1_5.getValue();if(!$0){$0=null;}if(this.$1_A===2){Luxena.Travel.Services.OrderService.IssueCompletionCertificate(this.$1_0,$0,this.$1_4.getValue(),this.$1_B.getObjectId(),this.$1_6.getSelectedId(),this.$1_7.getSelectedId(),this.$1_9.getValue(),ss.Delegate.create(this,this.completeSave),null);}else{Luxena.Travel.Services.OrderService.IssueInvoice(this.$1_0,$0,this.$1_4.getValue(),this.$1_B.getObjectId(),this.$1_6.getSelectedId(),this.$1_7.getSelectedId(),parseInt(this.$1_8.getValue()),this.$1_9.getValue(),ss.Delegate.create(this,this.completeSave),null);}}}
Luxena.Travel.LxnTravel$3=function(tabId,args){Luxena.Travel.LxnTravel$3.initializeBase(this,[tabId,args]);}
Luxena.Travel.LxnTravel$3.prototype={onAddToolbarButtons:function($p0,$p1){this.$7_7=this.menuAction(Luxena.Travel.Res.payment_CreatePayment_Action,[this.menuCreateItem2(Luxena.Travel.Res.payment_CreateCashInOrder_Action,ss.Delegate.create(this,this.$7_6),'CashInOrderPayment'),this.menuCreateItem2(Luxena.Travel.Res.payment_CreateCashOutOrder_Action,ss.Delegate.create(this,this.$7_6),'CashOutOrderPayment'),this.menuCreateItem2(Luxena.Travel.Res.payment_CreateNonCashPayment_Action,ss.Delegate.create(this,this.$7_6),'WireTransfer'),this.menuCreateItem2(Luxena.Travel.Res.payment_CreateCheckPayment_Action,ss.Delegate.create(this,this.$7_6),'CheckPayment'),this.menuCreateItem2(Luxena.Travel.Res.payment_CreateElecronicPayment_Action,ss.Delegate.create(this,this.$7_6),'ElectronicPayment')]);$p0.insert(0,this.$7_7);$p0.insert(1,new Ext.Toolbar.Separator());this.$7_7.disable();},onInitGrid:function($p0,$p1){Luxena.Travel.LxnTravel$3.callBaseMethod(this, 'onInitGrid',[$p0,$p1]);$p0.forcedProperties=['IsOrderVoid','BillToName'];$p1.view(new Luxena.Travel.InvoiceGridView());},createColumnConfigs:function(){this.addColumns([this.se.Number.toColumn(false,120),this.se.IssueDate,this.se.Type.toColumn(false,80),this.se.Order.toColumn(false,120),this.se.Customer.toColumn(false,150),this.se.BillTo.toColumn(false,150,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
return ($p1_0==null)?$p1_2.get('BillToName'):LxnBase.UI.Controls.ObjectLink.renderValue($p1_0);}),this.se.ShipTo.toColumn(true,150),this.se.IsOrderVoid.toColumn(true),this.se.Owner.toColumn(true,150),this.se.IssuedBy.toColumn(false,150),this.se.Total,this.se.Vat,this.se.TimeStamp]);},onSelectionChange:function($p0){var $0=$p0;var $1=$0.getSelections();if($1.length===1){this.$7_7.enable();this.$7_8=$1[0];}else{this.$7_7.disable();this.$7_8=null;}},$7_6:function($p0){var $0=this.$7_8.get('Order');Luxena.Travel.Services.OrderService.GetOrder($0[0],ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;LxnBase.UI.FormsRegistry.editObject($p0,null,{Invoice:LxnBase.Data.Reference.create('Invoice',this.$7_8.get('Number'),this.$7_8.id),Order:$0,Payer:$1_0.Customer,Amount:$1_0.TotalDue,Vat:$1_0.VatDue,Owner:$1_0.Owner},function($p2_0){
var $2_0=$p2_0;var $2_1=$2_0.Item;var $2_2=LxnBase.BaseRes.created+' '+$2_1.Number;LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.payment_Caption_List,$2_2);if($p0==='CashInOrderPayment'){Luxena.Travel.ReportPrinter.getCashOrder($2_1.Id,$2_1.DocumentNumber);}},null);}),null);},$7_7:null,$7_8:null,preInitialize:function(){Luxena.Travel.LxnTravel$3.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3A;},se:null}
Luxena.Travel.OrderEditForm=function(args,config){Luxena.Travel.OrderEditForm.initializeBase(this,[args,config]);this.get_window().addClass('order-edit');}
Luxena.Travel.OrderEditForm.editObject=function(args){LxnBase.Data.ConfigManager.getEditConfig(args.type,function($p1_0){
var $1_0=new Luxena.Travel.OrderEditForm(args,$p1_0);$1_0.open();});}
Luxena.Travel.OrderEditForm.prototype={get_separateServiceFee:function(){return this.$2_15.getValue();},get_customer:function(){return this.$2_B.getObjectInfo();},set_customer:function(value){this.$2_B.setValue(value);return value;},get_bankAccount:function(){return this.$2_11.getObjectInfo();},get_bankAccountId:function(){return Type.safeCast(this.$2_11.getSelectedId(),String);},get_canChangeVat:function(){return this.getCustomActionStatus('ChangeVat').Visible;},get_$2_0:function(){return this.get_instance();},loadInstance:function(onLoaded){Luxena.Travel.Services.OrderService.GetOrder(this.get_args().idToLoad,onLoaded,null);},addFields:function(){this.$2_1();this.$2_3();var $0=[];$0.addRange([this.$2_9,this.$2_A,this.$2_B.get_widget(),this.$2_C.get_widget(),this.$2_D.get_widget(),this.$2_E.get_widget(),this.$2_F,this.$2_10.get_widget(),this.$2_11,this.$2_1C,this.$2_1D,this.$2_1E.get_widget(),this.$2_12,this.$2_13,this.$2_14,this.$2_17,this.$2_19,this.$2_18]);if(this.get_canChangeVat()){$0.add(this.$2_1A);$0.add(this.$2_16);}return $0;},$2_1:function(){this.$2_9=this.createEditor('IssueDate');this.$2_9.setValue(Date.get_today());this.$2_A=this.createEditor('Number');this.$2_A.allowBlank=true;this.$2_B=Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_Customer,200,false);this.$2_C=Luxena.Travel.Controls.ControlFactoryExt.createCustomerControlWithText(Luxena.Travel.DomainRes.common_BillTo,200,true);this.$2_D=Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_ShipTo,200,true);this.$2_E=Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_Intermediary,200,true);this.$2_F=Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200,false);this.$2_10=Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl(Luxena.Travel.DomainRes.common_AssignedTo,200,false);this.$2_10.setValue(Luxena.Travel.AppManager.get_currentPerson());this.$2_11=Luxena.Travel.Controls.ControlFactoryExt.createBankAccountControl(200);this.$2_1C=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f').labelStyle('width: 140px').toDictionary());this.$2_1D=new LxnBase.UI.Controls.DecimalField(new Ext.form.NumberFieldConfig().fieldLabel('\u0421\u043f\u0438\u0441\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432').labelStyle('width: 140px').toDictionary());this.$2_1E=new LxnBase.UI.Controls.ObjectSelector(Luxena.Travel.Controls.ControlFactoryExt.createCustomerConfig('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0431\u043e\u043d\u0443\u0441\u043e\u0432',200,true).labelStyle('width: 140px'));this.$2_12=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.order_IsPublic).toDictionary());this.$2_13=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435').toDictionary());this.$2_14=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.order_IsSubjectOfPaymentsControl).toDictionary());this.$2_14.setValue(true);this.$2_15=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.order_SeparateServiceFee).toDictionary());this.$2_15.setValue(true);this.$2_15.setVisible(Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption===2);this.$2_19=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Discount,true));this.$2_18=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Total,true));this.$2_1A=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.order_Vat,true));this.$2_16=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.order_UseServiceFeeOnlyInVat).toDictionary());this.$2_16.setValue(Luxena.Travel.AppManager.get_systemConfiguration().Order_UseServiceFeeOnlyInVat);this.$2_16.on('check',ss.Delegate.create(this,this.$2_2));this.$2_1B=new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('x-form-item vat').toDictionary());this.$2_8=new Luxena.Travel.OrderItemGridControl(227);this.$2_8.set_useServiceFeeOnlyInVat(Luxena.Travel.AppManager.get_systemConfiguration().Order_UseServiceFeeOnlyInVat);this.$2_8.add_financeDataChanged(ss.Delegate.create(this,this.$2_6));this.$2_8.setParentForm(this);this.$2_17=new Ext.form.TextArea(new Ext.form.TextAreaConfig().fieldLabel(Luxena.Travel.DomainRes.common_Note).width(220).height(98).toDictionary());},$2_2:function($p0,$p1){this.$2_8.set_useServiceFeeOnlyInVat($p1);},$2_3:function(){var $0=new Ext.Panel(new Ext.PanelConfig().items([new Ext.Panel(new Ext.PanelConfig().items([this.$2_9,this.$2_A,this.$2_B.get_widget(),this.$2_C.get_widget(),this.$2_D.get_widget(),this.$2_E.get_widget(),this.$2_17]).layout('form').cls('attributes').toDictionary()),new Ext.Panel(new Ext.PanelConfig().items([this.$2_F,this.$2_10.get_widget(),this.$2_11,this.$2_12,this.$2_13,this.$2_14,this.$2_15,this.$2_1D,this.$2_1E.get_widget(),this.$2_1C]).layout('form').cls('attributes').toDictionary())]).layout('column').toDictionary());var $1=new Ext.Panel(new Ext.PanelConfig().items([this.$2_8]).cls('items').toDictionary());var $2=[this.$2_19,this.$2_18];if(this.get_canChangeVat()){$2.add(this.$2_1A);$2.add(this.$2_16);}var $3=new Ext.Panel(new Ext.PanelConfig().items($2).cls('totals').autoWidth(true).layout('form').toDictionary());this.get_form().add($0);this.get_form().add($1);this.get_form().add($3);},setFieldValues:function(){if(this.get_$2_0()==null){if(!ss.isNullOrUndefined(this.get_args().fieldValues)){if(Object.keyExists(this.get_args().fieldValues,'SeparateServiceFee')){this.$2_15.setValue(this.get_args().fieldValues['SeparateServiceFee']);}if(Object.keyExists(this.get_args().fieldValues,'AviaDocuments')){this.$2_8.tryAddDocuments(this.get_args().fieldValues['AviaDocuments']);}if(Object.keyExists(this.get_args().fieldValues,'Customer')){this.$2_B.setValue(this.get_args().fieldValues['Customer']);}}this.$2_9.setValue(Date.get_today());return;}this.$2_9.setValue(this.get_$2_0().IssueDate);this.$2_A.setValue(this.get_$2_0().Number);this.$2_B.setValue(this.get_$2_0().Customer);if(this.get_$2_0().BillTo!=null&&this.get_$2_0().BillTo.Id==null){this.get_$2_0().BillTo.Id='';}this.$2_C.setValue(this.get_$2_0().BillTo);this.$2_D.setValue(this.get_$2_0().ShipTo);this.$2_E.setValue(this.get_$2_0().Intermediary);this.$2_8.setInitialData(this.get_$2_0().Id,this.get_$2_0().Items);this.$2_19.setValue(this.get_$2_0().Discount);this.$2_18.setValue(this.get_$2_0().Total);if(this.get_canChangeVat()){this.$2_1A.setValue(this.get_$2_0().Vat);this.$2_16.setValue(this.get_$2_0().UseServiceFeeOnlyInVat);}else{this.$2_7(this.get_$2_0().Vat);}this.$2_F.setValue(this.get_$2_0().Owner);this.$2_10.setValue(this.get_$2_0().AssignedTo);this.$2_11.setValue(this.get_$2_0().BankAccount);if(!this.get_$2_0().CanChangeAssignedTo){this.$2_10.get_widget().setDisabled(true);}this.$2_1C.setValue(this.get_$2_0().BonusDate);this.$2_1D.setValue(this.get_$2_0().BonusSpentAmount);this.$2_1E.setValue(this.get_$2_0().BonusRecipient);this.$2_12.setValue(this.get_$2_0().IsPublic);this.$2_13.setValue(this.get_$2_0().AllowAddProductsInClosedPeriod);this.$2_14.setValue(this.get_$2_0().IsSubjectOfPaymentsControl);this.$2_17.setValue(this.get_$2_0().Note);},onSave:function(){if(this.isModified()||this.$2_8.get_isModified()||this.get_$2_0().BillTo!=null&&this.$2_C.get_text()!==this.get_$2_0().BillTo.Name){Luxena.Travel.Services.OrderService.UpdateOrder(this.$2_5(),this.get_args().rangeRequest,ss.Delegate.create(this,this.$2_4),null);}else{this.cancel();}},$2_4:function($p0){var $0=$p0;if($0.Errors==null){this.completeSave($0);return;}Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.order_SaveError_Msg_Title,Luxena.Travel.Res.order_CannotRestoreOrder_Msg,$0.Errors);},onSaved:function(result){if(ss.isNullOrUndefined(this.get_args().rangeRequest)){var $0=(result).Item;LxnBase.MessageRegister.info(this.get_instanceConfig().ListCaption,String.format('{0} {1}',((this.get_args().get_isNew())?LxnBase.BaseRes.created:LxnBase.BaseRes.updated),LxnBase.UI.Controls.ObjectLink.render($0.Id,$0.Number,'Order')));}Luxena.Travel.OrderEditForm.callBaseMethod(this, 'onSaved',[result]);},$2_5:function(){var $0=new Luxena.Travel.OrderDto();if(this.get_$2_0()!=null){$0.Id=this.get_$2_0().Id;$0.Version=this.get_$2_0().Version;}$0.IssueDate=this.$2_9.getValue();$0.Number=this.$2_A.getValue().toString();$0.Customer=this.$2_B.getObjectInfo();$0.BillTo=this.$2_C.getObjectInfo();if($0.BillTo==null&&!String.isNullOrEmpty(this.$2_C.get_text())){$0.BillTo=new LxnBase.Data.Reference();}if($0.BillTo!=null){$0.BillTo.Name=this.$2_C.get_text();}$0.ShipTo=this.$2_D.getObjectInfo();$0.Intermediary=this.$2_E.getObjectInfo();$0.Items=this.$2_8.get_items();$0.Discount=this.$2_19.getValue();$0.Total=this.$2_18.getValue();$0.Vat=(this.get_canChangeVat())?this.$2_1A.getValue():this.$2_8.get_vat();$0.UseServiceFeeOnlyInVat=this.$2_16.getValue();$0.Owner=this.$2_F.getObjectInfo();$0.AssignedTo=this.$2_10.getObjectInfo();$0.BankAccount=this.$2_11.getObjectInfo();$0.BonusDate=this.$2_1C.getValue();$0.BonusSpentAmount=this.$2_1D.getValue();$0.BonusRecipient=this.$2_1E.getObjectInfo();$0.IsPublic=this.$2_12.getValue();$0.AllowAddProductsInClosedPeriod=this.$2_13.getValue();$0.IsSubjectOfPaymentsControl=this.$2_14.getValue();var $1=this.$2_17.getValue();$0.Note=(String.isNullOrEmpty($1))?null:$1;return $0;},$2_6:function(){this.$2_19.setValue(this.$2_8.get_discount());this.$2_18.setValue(this.$2_8.get_grandTotal());if(this.get_canChangeVat()){this.$2_1A.setValue(this.$2_8.get_vat());}else{this.$2_7(this.$2_8.get_vat());}},$2_7:function($p0){var $0=String.format("<label class='x-form-item-label'>{0}:</label>\r\n\t\t\t\t<div class='x-form-element'>\r\n\t\t\t\t\t<div class='text'>\r\n\t\t\t\t\t\t<div class='amount'>{1}</div>\r\n\t\t\t\t\t\t<div class='currency'>{2}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class='x-form-clear-left'></div>",Luxena.Travel.DomainRes.order_Vat,$p0.Amount.format('N2'),$p0.Currency.Name);if(this.$2_1B.rendered){this.$2_1B.getEl().update($0);}else{this.$2_1B.autoEl={html:$0};}},$2_8:null,$2_9:null,$2_A:null,$2_B:null,$2_C:null,$2_D:null,$2_E:null,$2_F:null,$2_10:null,$2_11:null,$2_12:null,$2_13:null,$2_14:null,$2_15:null,$2_16:null,$2_17:null,$2_18:null,$2_19:null,$2_1A:null,$2_1B:null,$2_1C:null,$2_1D:null,$2_1E:null}
Luxena.Travel.OrderItemEditForm=function(args,itemConfig){Luxena.Travel.OrderItemEditForm.initializeBase(this,[args,itemConfig]);args.mode=LxnBase.UI.LoadMode.local;this.get_window().addClass('orderitem-edit');}
Luxena.Travel.OrderItemEditForm.editObject=function(args){LxnBase.Data.ConfigManager.getEditConfig(args.type,function($p1_0){
var $1_0=new Luxena.Travel.OrderItemEditForm(args,$p1_0);$1_0.open();});}
Luxena.Travel.OrderItemEditForm.prototype={get_r:function(){return this.get_instance();},addFields:function(){this.$2_5=this.createEditor('Text');var $0=this.get_form().addButton('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u0443\u0433\u0438',ss.Delegate.create(this,this.$2_0));var $1=new Ext.Panel(new Ext.PanelConfig().items([$0]).cls('add-product-text-button').toDictionary());this.$2_6=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.orderItem_Price,true));this.$2_6.get_decimalField().on('change',ss.Delegate.create(this,this.$2_1));if(!Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput){this.$2_6.get_currencySelector().get_widget().on('change',ss.Delegate.create(this,this.$2_2));}this.$2_7=this.createEditor('Quantity');this.$2_7.on('change',ss.Delegate.create(this,this.$2_1));this.$2_7.setValue(1);this.$2_7.allowBlank=false;this.$2_7.cls='number';this.$2_8=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.orderItem_Discount,true));this.$2_8.get_decimalField().on('change',ss.Delegate.create(this,this.$2_1));if(!Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput){this.$2_8.get_currencySelector().get_widget().on('change',ss.Delegate.create(this,this.$2_2));}var $2=new Luxena.Travel.MoneyDto();$2.Currency=Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency;this.$2_9=new Ext.form.DisplayField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.DomainRes.orderItem_GrandTotal).value(Luxena.Travel.MoneyDto.toMoneyFullString($2)).toDictionary());this.$2_A=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.orderItem_HasVat).toDictionary());this.$2_B=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.DomainRes.orderItem_IsForceDelivered).toDictionary());var $3=[this.$2_5,this.$2_6,this.$2_7,this.$2_8,this.$2_9,this.$2_A,this.$2_B];this.get_form().add([this.$2_5,$1,this.$2_6,this.$2_7,this.$2_8,this.$2_9,this.$2_A,this.$2_B]);return $3;},$2_0:function(){var $0=Type.safeCast(this.$2_5.getValue(),String);if(String.isNullOrEmpty($0)){$0='';}else{$0+=' ';}this.$2_5.setValue($0+this.get_r().ProductText);},$2_1:function($p0,$p1,$p2){var $0=this.$2_4();this.$2_9.setValue(Luxena.Travel.MoneyDto.toMoneyFullString($0));},$2_2:function($p0,$p1,$p2){if($p0===this.$2_6.get_currencySelector().get_widget()){this.$2_8.get_currencySelector().setValue(this.$2_6.get_currency());}else{this.$2_6.get_currencySelector().setValue(this.$2_8.get_currency());}var $0=this.$2_4();this.$2_9.setValue(Luxena.Travel.MoneyDto.toMoneyFullString($0));},$2_3:function(){var $0=this.$2_6.getValue()!=null&&this.$2_8.getValue()!=null&&this.$2_7.getValue()!=null&&!!this.$2_7.getValue();return $0&&LxnBase.Data.Reference.equals(this.$2_6.get_currency(),this.$2_8.get_currency());},$2_4:function(){if(!this.$2_3()){return Luxena.Travel.MoneyDto.getZeroMoney();}var $0=new Luxena.Travel.MoneyDto();$0.Amount=this.$2_6.get_amount()*this.$2_7.getValue()-this.$2_8.get_amount();$0.Currency=this.$2_6.get_currency();return $0;},loadInstance:function(onLoaded){},setFieldValues:function(){if(this.get_r()==null){return;}this.$2_5.setValue(this.get_r().Text);this.$2_6.setValue(this.get_r().Price);this.$2_7.setValue(this.get_r().Quantity);this.$2_8.setValue(this.get_r().Discount);this.$2_9.setValue(Luxena.Travel.MoneyDto.toMoneyFullString(this.get_r().GrandTotal));this.$2_A.setValue(this.get_r().HasVat);this.$2_B.setValue(this.get_r().IsForceDelivered);},onSave:function(){var $0=new Luxena.Travel.OrderItemDto();if(this.get_r()!=null){$0.LinkType=this.get_r().LinkType;$0.Product=this.get_r().Product;}$0.Text=this.$2_5.getValue();$0.Price=this.$2_6.getValue()||Luxena.Travel.MoneyDto.getZeroMoney();$0.Quantity=this.$2_7.getValue();$0.Discount=this.$2_8.getValue()||Luxena.Travel.MoneyDto.getZeroMoney();$0.GrandTotal=this.$2_4()||Luxena.Travel.MoneyDto.getZeroMoney();$0.Total=Luxena.Travel.MoneyDto.getZeroMoney($0.Price.Currency);$0.Total.Amount=$0.Price.Amount*$0.Quantity;$0.TaxedTotal=Luxena.Travel.MoneyDto.copyMoney($0.Total);$0.HasVat=this.$2_A.getValue();$0.IsForceDelivered=this.$2_B.getValue();this.completeSave(LxnBase.Data.ItemResponse.create($0));},$2_5:null,$2_6:null,$2_7:null,$2_8:null,$2_9:null,$2_A:null,$2_B:null}
Luxena.Travel.OrderItemGridControl=function(height){Luxena.Travel.OrderItemGridControl.initializeBase(this,[new Ext.grid.EditorGridPanelConfig().cls('invoce-records').height(height).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).collapsible(false).frame(false).toDictionary()]);}
Luxena.Travel.OrderItemGridControl.$7_10=function($p0,$p1){return !ss.isNullOrUndefined($p0)&&!ss.isNullOrUndefined($p1)&&!ss.isNullOrUndefined($p0.Product)&&!ss.isNullOrUndefined($p1.Product)&&$p0.Product.Id===$p1.Product.Id&&$p0.LinkType===$p1.LinkType;}
Luxena.Travel.OrderItemGridControl.prototype={add_financeDataChanged:function(value){this.$7_0=ss.Delegate.combine(this.$7_0,value);},remove_financeDataChanged:function(value){this.$7_0=ss.Delegate.remove(this.$7_0,value);},$7_0:null,initComponent:function(){this.store=this.$7_2();this.sm=this.$7_3();this.cm=this.$7_4();this.tbar=this.$7_1();Luxena.Travel.OrderItemGridControl.callBaseMethod(this, 'initComponent');},get_discount:function(){var $0=new Luxena.Travel.MoneyDto();$0.Currency=this.get_grandTotal().Currency;$0.Amount=0;for(var $1=0;$1<this.getStore().data.length;$1++){var $2=this.getStore().getAt($1).data;if(!ss.isNullOrUndefined($2.Discount)&&LxnBase.Data.Reference.equals($0.Currency,$2.Discount.Currency)){$0.Amount+=$2.Discount.Amount;}}return $0;},get_grandTotal:function(){var $0=new Luxena.Travel.MoneyDto();$0.Currency=Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency;for(var $1=0;$1<this.getStore().data.length;$1++){var $2=this.getStore().getAt($1).data;if(!ss.isNullOrUndefined($2.GrandTotal)&&LxnBase.Data.Reference.equals($0.Currency,$2.GrandTotal.Currency)){$0.Amount+=$2.GrandTotal.Amount;}}return $0;},get_vat:function(){var $0=Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);var $1=Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);var $2=0;for(var $5=0;$5<this.getStore().data.length;$5++){var $6=this.getStore().getAt($5).data;if(ss.isNullOrUndefined($6.HasVat)||!$6.HasVat){continue;}if($6.GivenVat!=null&&LxnBase.Data.Reference.equals($0.Currency,$6.GivenVat.Currency)){$0.Amount+=$6.GivenVat.Amount;}if($6.TaxedTotal!=null&&LxnBase.Data.Reference.equals($1.Currency,$6.TaxedTotal.Currency)){$1.Amount+=$6.TaxedTotal.Amount;}if(!this.get_useServiceFeeOnlyInVat()){continue;}if($6.LinkType===1&&!ss.isNullOrUndefined($6.GrandTotal)){$2+=$6.GrandTotal.Amount;}}var $3=Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);var $4=this.get_discount()||Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);if(!!$0.Amount){$3.Amount+=$0.Amount;}if(!!$1.Amount){$3.Amount+=($1.Amount-$4.Amount)*Luxena.Travel.AppManager.get_systemConfiguration().VatRate/(100+Luxena.Travel.AppManager.get_systemConfiguration().VatRate);}if($3!=null&&$3.Amount<0){$3.Amount=0;}if(this.get_useServiceFeeOnlyInVat()&&$3!=null){$3.Amount=$2*Luxena.Travel.AppManager.get_systemConfiguration().VatRate/100;}return $3;},get_useServiceFeeOnlyInVat:function(){return this.$7_1A;},set_useServiceFeeOnlyInVat:function(value){if(this.$7_1A===value){return;}this.$7_1A=value;if(this.$7_0!=null){this.$7_0();}return value;},get_isModified:function(){return this.$7_13;},get_items:function(){var $0=new Array(0);for(var $1=0;$1<this.store.data.length;$1++){$0[$1]=this.store.getAt($1).data;}return $0;},set_items:function(value){var $enum1=ss.IEnumerator.getEnumerator(value);while($enum1.moveNext()){var $0=$enum1.current;var $1=new Ext.data.Record($0);this.$7_14.add([$1]);}if(this.$7_0!=null){this.$7_0();}return value;},setParentForm:function(form){this.$7_12=form;},setInitialData:function(orderId,orderItems){this.$7_19=orderId;if(orderItems!=null&&orderItems.length>0){this.$7_14.loadData(orderItems);}},tryAddDocuments:function(aviaDocumentIds){Luxena.Travel.Services.OrderService.GenerateOrderItems(aviaDocumentIds,this.$7_12.get_separateServiceFee(),this.$7_19,this.$7_12.get_bankAccountId(),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($1_0.OrderItems==null||!$1_0.OrderItems.length){this.$7_E($1_0.Items,$1_0.Customer);}else{this.$7_11($1_0);}}),null);},$7_1:function(){this.$7_16=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this,this.$7_6)).disabled(true));this.$7_17=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$7_C)).disabled(true));var $0=new Ext.menu.Item(new Ext.menu.ItemConfig().handler(ss.Delegate.create(this,this.$7_B)).text(Luxena.Travel.Res.menu_WithSameAcquirer).toDictionary());var $1=new Ext.menu.Menu(new Ext.menu.MenuConfig().items([new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_AddNew).handler(ss.Delegate.create(this,this.$7_5)).toDictionary()),'-',new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_GetByNumber).handler(ss.Delegate.create(this,function(){
LxnBase.UI.MessageBoxWrap.prompt(Luxena.Travel.Res.addDocument_Title,Luxena.Travel.Res.enterDocumentNumber_Text,ss.Delegate.create(this,function($p2_0,$p2_1){
if($p2_0==='ok'&&!String.isNullOrEmpty($p2_1)){this.$7_8($p2_1);}}));})).toDictionary()),new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_MyDocuments).handler(ss.Delegate.create(this,this.$7_A)).toDictionary()),new Ext.menu.Item(new Ext.menu.ItemConfig().handler(ss.Delegate.create(this,this.$7_9)).text(Luxena.Travel.Res.menu_FromList).toDictionary()),$0]).listeners({beforeshow:ss.Delegate.create(this,function(){
if(this.$7_12.get_customer()==null){$0.setDisabled(true);}else{$0.setDisabled(false);}})}).cls('simple-menu').toDictionary());var $2=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add.toLowerCase()).menu($1));this.$7_18=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.orderItem_WithVat).handler(ss.Delegate.create(this,this.$7_D)).disabled(true));return new Ext.Toolbar(['->',$2,this.$7_16,this.$7_17,'|',this.$7_18]);},$7_2:function(){this.$7_14=new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Version','LinkType','Product','Text','ProductText','Price','Quantity','Total','Discount','GrandTotal','GivenVat','TaxedTotal','HasVat','IsForceDelivered','Consignment']).toDictionary());return this.$7_14;},$7_3:function(){this.$7_15=new Ext.grid.CheckboxSelectionModel();this.$7_15.singleSelect=false;this.$7_15.on('selectionchange',ss.Delegate.create(this,function(){
if(!this.$7_15.getCount()){this.$7_17.disable();this.$7_18.disable();}else{this.$7_17.enable();var $1_0=this.$7_15.getSelections();var $1_1=$1_0[0].get('HasVat');var $1_2=this.$7_12.get_canChangeVat();for(var $1_3=0;$1_3<$1_0.length;$1_3++){if(($1_1^$1_0[$1_3].get('HasVat'))===1){$1_2=false;break;}}if($1_2){this.$7_18.setText(($1_1)?Luxena.Travel.Res.orderItem_WithoutVat:Luxena.Travel.Res.orderItem_WithVat);this.$7_18.enable();}else{this.$7_18.disable();this.$7_18.setText(Luxena.Travel.Res.orderItem_WithVat);}}if(this.$7_15.getCount()!==1){this.$7_16.disable();}else{this.$7_16.enable();}}));return this.$7_15;},$7_4:function(){var $0=[];if(!this.$7_15.singleSelect){$0.insert(0,this.$7_15);}$0.add(new Ext.grid.RowNumberer({header:Luxena.Travel.Res.common_ListNumber}));$0.add({id:'Text',header:Luxena.Travel.Res.orderItem_Text,sortable:false,dataIndex:'Text',width:290,renderer:function($p1_0){
return String.format('<pre>{0}</pre>',$p1_0);}});$0.add({id:'Quantity',header:Luxena.Travel.Res.common_QuantityShort,sortable:false,dataIndex:'Quantity',width:35});$0.add({id:'Price',header:Luxena.Travel.Res.common_Price,sortable:false,dataIndex:'Price',width:75,renderer:Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer()});$0.add({id:'Total',header:Luxena.Travel.DomainRes.common_Amount,sortable:false,dataIndex:'Total',width:85,renderer:Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer()});$0.add({id:'HasVat',header:Luxena.Travel.DomainRes.common_Vat,sortable:false,dataIndex:'HasVat',width:85,renderer:LxnBase.UI.AutoControls.ControlFactory.createBooleanRenderer()});return new Ext.grid.ColumnModel($0);},$7_5:function(){LxnBase.UI.FormsRegistry.editObject('OrderItem',null,null,ss.Delegate.create(this,function($p1_0){
this.$7_F([($p1_0).Item]);}),null,null,LxnBase.UI.LoadMode.local);},$7_6:function(){if(!this.$7_15.getCount()){return;}var $0=this.$7_15.getSelected();var $1=$0.data;LxnBase.UI.FormsRegistry.editObject('OrderItem',$1.Id,$1,ss.Delegate.create(this,function($p1_0){
this.$7_7(($p1_0).Item,$0);if(this.$7_0!=null){this.$7_0();}}),null,null,LxnBase.UI.LoadMode.local);},$7_7:function($p0,$p1){$p1.data=$p0;$p1.commit();this.$7_13=true;},$7_8:function($p0){Luxena.Travel.Services.OrderService.FindAviaDocumentByNumer($p0,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($p1_0!=null){this.tryAddDocuments([$1_0.Id]);}else{LxnBase.UI.MessageBoxWrap.show('',String.format(Luxena.Travel.Res.noDocumentFound_Text,$p0),Ext.MessageBox.WARNING,Ext.MessageBox.OK);}}),null);},$7_9:function(){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid',LxnBase.Data.FilterOperator.equals,false,false),LxnBase.UI.PropertyFilterExtention.createFilter('Order',LxnBase.Data.FilterOperator.isNull,true,false)];$0.sort='IssueDate';$0.dir='DESC';LxnBase.UI.FormsRegistry.selectObjects('AviaDocument',$0,false,ss.Delegate.create(this,function($p1_0){
this.tryAddDocuments($p1_0);}),null);},$7_A:function(){var $0=new LxnBase.Data.RangeRequest();$0.sort='IssueDate';$0.dir='DESC';$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Seller',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false),LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid',LxnBase.Data.FilterOperator.equals,false,false),LxnBase.UI.PropertyFilterExtention.createFilter('Order',LxnBase.Data.FilterOperator.isNull,true,false)];LxnBase.UI.FormsRegistry.selectObjects('AviaDocument',$0,false,ss.Delegate.create(this,function($p1_0){
this.tryAddDocuments($p1_0);}),null);},$7_B:function(){var $0=this.$7_12.get_customer();if($0==null){return;}var $1=new LxnBase.Data.RangeRequest();$1.sort='IssueDate';$1.dir='DESC';$1.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Customer',LxnBase.Data.FilterOperator.equals,$0.Name,false),LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid',LxnBase.Data.FilterOperator.equals,false,false),LxnBase.UI.PropertyFilterExtention.createFilter('Order',LxnBase.Data.FilterOperator.isNull,true,false)];LxnBase.UI.FormsRegistry.selectObjects('AviaDocument',$1,false,ss.Delegate.create(this,function($p1_0){
this.tryAddDocuments($p1_0);}),null);},$7_C:function(){if(!this.$7_15.getCount()){return;}var $0=this.$7_15.getSelections();if($0==null){return;}for(var $1=0;$1<$0.length;$1++){this.$7_14.remove($0[$1]);}this.$7_13=true;if(this.$7_0!=null){this.$7_0();}},$7_D:function(){var $0=this.$7_15.getSelections();if($0==null||!$0.length){return;}var $1=$0[0].get('HasVat');for(var $2=0;$2<$0.length;$2++){$0[$2].set('HasVat',!$1);$0[$2].commit();}this.$7_18.setText(($1)?Luxena.Travel.Res.orderItem_WithVat:Luxena.Travel.Res.orderItem_WithoutVat);this.$7_13=true;if(this.$7_0!=null){this.$7_0();}},$7_E:function($p0,$p1){if(this.$7_12.get_customer()==null&&$p1!=null){this.$7_12.set_customer($p1);}this.$7_F($p0);},$7_F:function($p0){if($p0==null||!$p0.length){return;}var $0=false;for(var $1=0;$1<$p0.length;$1++){var $2=$1;if(this.$7_14.findBy(function($p1_0,$p1_1){
return Luxena.Travel.OrderItemGridControl.$7_10($p1_0.data,$p0[$2]);})!==-1){continue;}var $3=new Ext.data.Record($p0[$1]);this.$7_14.add([$3]);$0=true;}if($0){this.$7_13=true;if(this.$7_0!=null){this.$7_0();}}},$7_11:function($p0){if($p0.Items.length>0){Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title,Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg,$p0.OrderItems,Luxena.Travel.Res.aviaDocument_ContinueAddToOrder_Msg,ss.Delegate.create(this,function(){
this.$7_E($p0.Items,$p0.Customer);}));}else{Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title,Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg,$p0.OrderItems);}},$7_12:null,$7_13:false,$7_14:null,$7_15:null,$7_16:null,$7_17:null,$7_18:null,$7_19:null,$7_1A:false}
Luxena.Travel.OrderViewForm=function(tabId,id,type){Luxena.Travel.OrderViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.OrderViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.OrderViewForm($p1_0,id,type);});}
Luxena.Travel.OrderViewForm.$7_4=function(){var $0=[new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.orderItem_Text,'Text').setWidth(500).setRenderer(Luxena.Travel.OrderViewForm.$7_9),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.common_Quantity,'Quantity').setPropertyType(3).setWidth(80).setCssClass('center-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.common_Price,'Price').setPropertyType(4).setWidth(100).setCssClass('right-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Amount,'Total').setPropertyType(4).setWidth(100).setCssClass('right-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Vat,'Vat').setPropertyType(4).setWidth(100).setCssClass('right-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.orderItem_Consignment,'Consignment').setPropertyType(5).setCssClass('center-align')];var $1=new Luxena.Travel.Controls.PropertyGridControlConfig().setListItems($0).setUseListCountColumn(true).setCssClass('order-items').setGridTitle(Luxena.Travel.Res.orderItems);return new Luxena.Travel.Controls.PropertyGridControl($1);}
Luxena.Travel.OrderViewForm.$7_5=function(){var $0=[new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment,'Number').setCssClass('center-align').setRenderer(function($p1_0,$p1_1,$p1_2,$p1_3){
var $1_0=$p1_0;$p1_3.append(LxnBase.UI.Controls.ObjectLink.render($1_0.Id,$1_0.Number,Luxena.Travel.OrderViewForm.$7_7($1_0)));}),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Date,'Date').setPropertyType(2).setCssClass('center-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_PostedOn,'PostedOn').setPropertyType(2).setCssClass('center-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.payment_DocumentNumber,'DocumentNumber').setRenderer(function($p1_0,$p1_1,$p1_2,$p1_3){
var $1_0=$p1_0;if($1_0.DocumentNumber==null){return;}var $1_1=null;switch($1_0.PaymentForm){case 1:$1_1=Luxena.Travel.Res.wireTransfer_DocumentName_Format;break;case 2:$1_1=Luxena.Travel.Res.checkPayment_DocumentName_Format;break;case 0:$1_1=Luxena.Travel.Res.cashInOrderPayment_DocumentName_Format;break;case 4:$1_1=Luxena.Travel.Res.cashOutOrderPayment_DocumentName_Format;break;case 3:$1_1=Luxena.Travel.Res.electronicPayment_DocumentName_Format;break;}if($1_0.PaymentForm!==3){$1_1=String.format($1_1,$1_0.DocumentNumber);}else{$1_1=String.format($1_1,($1_0.PaymentSystem!=null)?$1_0.PaymentSystem.Name+', ':'',$1_0.DocumentNumber);}if(!!$1_0.PaymentForm&&$1_0.PaymentForm!==4){$p1_3.append($1_1);}else{var $1_2=$("<div class='cashorder-link'></div>");var $1_3=$('<span></span>').html($1_1);var $1_4=function($p2_0,$p2_1){
$1_3.click(function(){
Luxena.Travel.ReportPrinter.getCashOrder($p2_0,$p2_1);});};$1_4($1_0.Id,$1_0.DocumentNumber);$p1_3.append($1_2.append($1_3));}}),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Payer,'Payer').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_RegisteredBy,'RegisteredBy').setPropertyType(0).setCssClass('center-align'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Owner,'Owner').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442','BankAccount').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Amount,'Amount').setPropertyType(4).setCssClass('right-align')];var $1=new Luxena.Travel.Controls.PropertyGridControlConfig().setListItems($0).setUseListCountColumn(true).setCssClass('payments').setRowCssClass(Luxena.Travel.OrderViewForm.$7_8).setGridTitle(Luxena.Travel.Res.payments);return new Luxena.Travel.Controls.PropertyGridControl($1);}
Luxena.Travel.OrderViewForm.$7_6=function(){var $0=[new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Number,'Transfer').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Date,'Date').setPropertyType(2),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.party,'Party').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order,'Order').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Amount,'Amount').setPropertyType(3).setCssClass('right-align')];var $1=new Luxena.Travel.Controls.PropertyGridControlConfig().setListItems($0).setCssClass('payments').setGridTitle(Luxena.Travel.DomainRes.internalTransfer_Caption_List);return new Luxena.Travel.Controls.PropertyGridControl($1);}
Luxena.Travel.OrderViewForm.$7_7=function($p0){switch($p0.PaymentForm){case 0:return 'CashInOrderPayment';case 4:return 'CashOutOrderPayment';case 2:return 'CheckPayment';case 1:return 'WireTransfer';case 3:return 'ElectronicPayment';}return null;}
Luxena.Travel.OrderViewForm.$7_8=function($p0){var $0=$p0;if($0.IsVoid){return 'textColor-gray';}if(!ss.isValue($0.PostedOn)){return 'textColor-red';}return null;}
Luxena.Travel.OrderViewForm.$7_9=function($p0,$p1,$p2,$p3){var $0=$p1;var $1=$p0;var $2=null;if($1.Product!=null){$2=LxnBase.Data.Reference.copy($1.Product);}if($2!=null&&ss.isValue($2.Name)){var $3=$2.Name.match(new RegExp('^\\d{3}-\\d{5,15}$'))!=null;if(!$3||$0.indexOf($2.Name)===-1){if(!$3){$2.Name=Luxena.Travel.Res.orderViewForm_Reservation;}var $4=($0.indexOf('\n')!==-1)?$0.indexOf('\n')-1:$0.length;$0=$0.insert($4,String.format(' ({0})',LxnBase.UI.Controls.ObjectLink.renderInfo($2)));}else{$0=$0.replaceAll($2.Name,LxnBase.UI.Controls.ObjectLink.renderInfo($2));}}$p3.append($0);}
Luxena.Travel.OrderViewForm.prototype={get_$7_0:function(){return this.get_instance();},initComponent:function(){this.cls='order-view';this.layout=null;Luxena.Travel.OrderViewForm.callBaseMethod(this, 'initComponent');this.$7_16=new Ext.form.Label(new Ext.form.LabelConfig().cls('title').toDictionary());this.$7_1F=this.$7_2();this.$7_20=this.$7_3();this.$7_21=Luxena.Travel.OrderViewForm.$7_4();this.$7_22=Luxena.Travel.OrderViewForm.$7_5();this.$7_23=Luxena.Travel.OrderViewForm.$7_6();var $0=new Ext.Panel(new Ext.PanelConfig().items([this.$7_16,this.$7_1F,this.$7_20,this.$7_21,this.$7_22,this.$7_23]).border(false).cls('content-panel').toDictionary());this.add($0);},onLoad:function(){this.setTitle(this.get_$7_0().Number);this.$7_1();this.$7_1F.loadInstance(this.get_$7_0());this.$7_20.loadInstance(this.get_$7_0());this.$7_21.loadCollection(this.get_$7_0().Items);this.$7_22.loadCollection(this.get_$7_0().Payments);this.$7_23.loadCollection(this.get_$7_0().Transfers);if(!this.get_$7_0().CanCreateTransfer){this.$7_24.hide();}},$7_1:function(){this.$7_1D.setText((this.get_$7_0().IsVoid)?Luxena.Travel.Res.restore_Action.toLowerCase():Luxena.Travel.Res.void_Action.toLowerCase());var $0=Luxena.Travel.DomainRes.order;if(this.get_$7_0().IsVoid){$0+=' ('+Luxena.Travel.DomainRes.common_IsVoid.toLowerCase()+')';}this.$7_16.setText($0);this.$7_16.removeClass('open-unpaid');this.$7_16.removeClass('open-paid');this.$7_16.removeClass('voided');var $1=null;if(this.get_$7_0().IsVoid){$1='voided';}else if(this.get_$7_0().DeliveryBalance<0){$1='open-unpaid';}else if(this.get_$7_0().Total!=null&&!!this.get_$7_0().Total.Amount&&this.get_$7_0().TotalDue!=null&&!!this.get_$7_0().TotalDue.Amount){$1='open-unpaid';}else if(this.get_$7_0().DeliveryBalance>0){$1='open-paid';}if(!String.isNullOrEmpty($1)){this.$7_16.addClass($1);}this.$7_1A.setDisabled(this.get_$7_0().IsVoid);},getInstance:function(){Luxena.Travel.Services.OrderService.GetOrder(this.get_id(),ss.Delegate.create(this,this.load),ss.Delegate.create(this,function(){
LxnBase.UI.Tabs.close(this);}));},onInitToolBar:function(toolbarItems){this.$7_17=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.order_IssueInvoice_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_C)).toDictionary());this.$7_19=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.order_IssueReceipt_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_E)).toDictionary());this.$7_1B=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.issueConsignmentAction.toLowerCase()).handler(ss.Delegate.create(this,this.$7_13)).toDictionary());this.$7_18=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.order_IssueCompletionCertificate_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_D)).toDictionary());var $0=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashInOrder_Action).handler(ss.Delegate.create(this,function(){
this.$7_11('CashInOrderPayment');})).toDictionary());var $1=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashOutOrder_Action).handler(ss.Delegate.create(this,function(){
this.$7_11('CashOutOrderPayment');})).toDictionary());var $2=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateNonCashPayment_Action).handler(ss.Delegate.create(this,function(){
this.$7_11('WireTransfer');})).toDictionary());var $3=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCheckPayment_Action).handler(ss.Delegate.create(this,function(){
this.$7_11('CheckPayment');})).toDictionary());var $4=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateElecronicPayment_Action).handler(ss.Delegate.create(this,function(){
this.$7_11('ElectronicPayment');})).toDictionary());this.$7_24=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateInternalTransfer_Action).handler(ss.Delegate.create(this,function(){
this.$7_12();})).toDictionary());this.$7_1A=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.payment_CreatePayment_Action).menu(new Ext.menu.Menu(new Ext.menu.MenuConfig().items([$0,$1,$2,$3,$4,this.$7_24]).toDictionary())).toDictionary());this.$7_1C=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.task_Add).handler(ss.Delegate.create(this,this.$7_14)).toDictionary());this.$7_1D=new Ext.Button(new Ext.ButtonConfig().handler(ss.Delegate.create(this,function(){
this.$7_F(!this.get_$7_0().IsVoid);})).toDictionary());this.$7_1E=new Ext.Button(new Ext.ButtonConfig().text('\u043f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c').handler(ss.Delegate.create(this,this.$7_15)).toDictionary());var $5=0;toolbarItems.insert($5++,this.$7_17);toolbarItems.insert($5++,this.$7_19);toolbarItems.insert($5++,this.$7_1A);toolbarItems.insert($5++,this.$7_1B);toolbarItems.insert($5++,this.$7_18);toolbarItems.insert($5++,this.$7_1C);toolbarItems.insert($5++,'-');toolbarItems.insert($5++,this.$7_1D);toolbarItems.insert($5++,'-');toolbarItems.insert($5,this.$7_1E);},$7_2:function(){var $0=new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Number,'Number'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_IssueDate,'IssueDate').setPropertyType(2),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Customer,'Customer').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_BillTo,'BillTo').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_ShipTo,'ShipTo').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Intermediary,'Intermediary').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_AssignedTo,'AssignedTo'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Owner,'Owner'),new Luxena.Travel.Controls.PropertyItem('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442','BankAccount').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_IsPublic,'IsPublic').setHideIsEmpty(true).setRenderer(function($p1_0,$p1_1,$p1_2){
$p1_2.html(($p1_1)?Luxena.Travel.Res.orderView_IsPublic:Luxena.Travel.Res.orderView_IsNotPublic);}),new Luxena.Travel.Controls.PropertyItem('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u043e\u0432<br/>\u0432 \u0437\u0430\u043a\u0430\u0437 \u0434\u0430\u0436\u0435 \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435','AllowAddProductsInClosedPeriod').setPropertyType(1).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_IsSubjectOfPaymentsControl,'IsSubjectOfPaymentsControl').setPropertyType(1).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem('\u0421\u043f\u0438\u0441\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432','BonusSpentAmount').setPropertyType(3).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0431\u043e\u043d\u0443\u0441\u043e\u0432','BonusRecipient').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u043d\u0443\u0441\u043e\u0432','BonusDate').setPropertyType(2).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Note,'Note').setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_Invoices,'Invoices').setHideIsEmpty(true).setRenderer(ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
this.$7_B($p1_1,$p1_2);})),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.task_Caption_List,'Tasks').setHideIsEmpty(true).setRenderer(ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
this.$7_A($p1_1,$p1_2);}))]).setCssClass('order-properties');return new Luxena.Travel.Controls.PropertyListControl($0);},$7_3:function(){var $0=new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Discount,'Discount').setPropertyType(4),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Total,'Total').setPropertyType(4),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_Vat,'Vat').setPropertyType(4),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_Paid,'Paid').setPropertyType(4),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_TotalDue,'TotalDue').setPropertyType(4).setRowCssClass(function($p1_0,$p1_1){
var $1_0=$p1_1;if($1_0!=null&&!!$1_0.Amount){return 'unpaid-amount';}return null;}),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order_DeliveryBalance,'DeliveryBalance').setPropertyType(3).setRowCssClass(ss.Delegate.create(this,function($p1_0,$p1_1){
var $1_0=$p1_1;if($1_0<0){return 'text-red';}var $1_1=this.get_$7_0().TotalDue;if(ss.isValue($1_1)&&$1_1.Amount>0){return 'text-orange';}return ($1_0>0)?'text-green':null;})).setRenderer(ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
var $1_0=$p1_1;var $1_1=this.get_$7_0().Total;var $1_2=($1_1!=null)?$1_1.Currency.Name:'';$p1_2.html($1_0.format('N2')+' '+$1_2);}))]).setCssClass('common-finances');return new Luxena.Travel.Controls.PropertyListControl($0);},$7_A:function($p0,$p1){LxnTravel.Accounting.Order.Order.tasks.renderTo($p1.get(0),{tasks:$p0,taskClick:ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0.Status===3)?0:3;Luxena.Travel.Services.TaskService.ChangeStatus([$p1_0.Id],$1_0,null,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;$2_0.Type='Task';for(var $2_1=0;$2_1<$p0.length;++$2_1){if($p0[$2_1].Id===$p1_0.Id){$p0[$2_1]=$2_0;this.$7_1F.loadInstance(this.get_$7_0());LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List,String.format(Luxena.Travel.Res.taskStatusChanged_Msg,$2_0.Number,LxnBase.EnumUtility.localize(Luxena.Travel.TaskStatus,$2_0.Status,Luxena.Travel.DomainRes).toLowerCase()));break;}}}),null);})});},$7_B:function($p0,$p1){if($p0==null||!$p0.length){return;}var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.current;$p1.append($("<div class='issued-invoice'></div>").data('invoice',$0).append($("<span class='invoice-link'></span>").html($0.Number).click(function($p1_0){
var $1_0=$($p1_0.target).parent().data('invoice');Luxena.Travel.ReportPrinter.getOrderDocument($1_0.Id,$1_0.Number,$1_0.Type,$1_0.FileExtension);})).append(String.format(Luxena.Travel.Res.orderView_IssuedInvoice_Html,$0.IssueDate.format('d.m.y'),Luxena.Travel.MoneyDto.toMoneyFullString($0.Total))).append($("<a href='javascript:void(0)' class='delete-action'></a>").click(function($p1_0){
var $1_0=$($p1_0.target).parent();var $1_1=$1_0.data('invoice');LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation,String.format((!$1_1.Type)?Luxena.Travel.Res.invoice_Delete_Confirmation:Luxena.Travel.Res.receipt_Delete_Confirmation,$1_1.Number),function($p2_0,$p2_1){
if($p2_0!=='yes'){return;}Luxena.Travel.Services.OrderService.DeleteInvoice($1_1.Id,function(){
$1_0.remove();($p0).remove($1_1);LxnBase.MessageRegister.info(Luxena.Travel.Res.invoice_List,String.format((!$1_1.Type)?Luxena.Travel.Res.invoice_Deleted_Message:Luxena.Travel.Res.receipt_Deleted_Message,$1_1.Number));},null);});})).append(String.format("<div class='invoice-details'><span class='timestamp'>{0}</span><span class='issued-by'>{1}</span></div>",$0.TimeStamp.format('d.m.y H:i'),$0.IssuedBy.Name)));}},$7_C:function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.get_$7_0().Invoices);while($enum1.moveNext()){var $2=$enum1.current;if(!$2.Type&&!$0.contains($2.Number)){$0.add($2.Number);}}var $1=new Luxena.Travel.InvoiceIssueForm(this.get_$7_0().Id,this.get_$7_0().Owner,this.get_$7_0().BankAccount,$0,0);$1.add_saved(ss.Delegate.create(this,function($p1_0){
this.$7_10($p1_0);}));$1.open();},$7_D:function(){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.get_$7_0().Invoices);while($enum1.moveNext()){var $2=$enum1.current;if($2.Type===2&&!$0.contains($2.Number)){$0.add($2.Number);}}var $1=new Luxena.Travel.InvoiceIssueForm(this.get_$7_0().Id,this.get_$7_0().Owner,this.get_$7_0().BankAccount,$0,2);$1.add_saved(ss.Delegate.create(this,function($p1_0){
this.$7_10($p1_0);}));$1.open();},$7_E:function(){Luxena.Travel.Services.OrderService.IssueReceipt(this.get_$7_0().Id,ss.Delegate.create(this,function($p1_0){
this.$7_10($p1_0);}),null);},$7_F:function($p0){Luxena.Travel.Services.OrderService.SetIsVoid(this.get_$7_0().Id,$p0,ss.Delegate.create(this,function(){
this.get_$7_0().IsVoid=$p0;this.$7_1();}),null);},$7_10:function($p0){var $0=($p0.Type===1)?Luxena.Travel.Res.receiptIssued_Msg:Luxena.Travel.Res.invoiceIssued_Msg;LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.order_Caption_List,String.format($0,$p0.Number));var $1=[];$1.add($p0);$1.addRange(this.get_$7_0().Invoices);this.get_$7_0().Invoices=$1;this.$7_1F.loadInstance(this.get_$7_0());Luxena.Travel.ReportPrinter.getOrderDocument($p0.Id,$p0.Number,$p0.Type,$p0.FileExtension);},$7_11:function($p0){var $0=[];var $enum1=ss.IEnumerator.getEnumerator(this.get_$7_0().Invoices);while($enum1.moveNext()){var $2=$enum1.current;if(($p0==='WireTransfer'&&!$2.Type)||($p0!=='WireTransfer'&&$2.Type===1)){$0.add(LxnBase.Data.Reference.create('Invoice',$2.Number,$2.Id));}}var $1={Payer:(ss.isValue(this.get_$7_0().BillTo))?this.get_$7_0().BillTo:this.get_$7_0().Customer,Amount:this.get_$7_0().TotalDue,Vat:this.get_$7_0().VatDue,Order:LxnBase.Data.Reference.create('Order',this.get_$7_0().Number,this.get_$7_0().Id),Invoices:$0,Owner:this.get_$7_0().Owner,BankAccount:this.get_$7_0().BankAccount};LxnBase.UI.FormsRegistry.editObject($p0,null,$1,ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0).Item;Luxena.Travel.Services.OrderService.GetOrder(this.get_id(),ss.Delegate.create(this,function($p2_0){
this.load($p2_0);if($p0==='CashInOrderPayment'){Luxena.Travel.ReportPrinter.getCashOrder($1_0.Id,$1_0.DocumentNumber);}}),ss.Delegate.create(this,function(){
LxnBase.UI.Tabs.close(this);}));}),null);},$7_12:function(){var $0=new LxnBase.Data.Reference();$0.Id=this.get_$7_0().Id;$0.Name=this.get_$7_0().Number;$0.Type='Order';var $1=this.get_$7_0().TotalDue.Amount;var $2={FromParty:this.get_$7_0().Customer,ToParty:this.get_$7_0().Customer};if($1<0){$2['FromOrder']=$0;$2['Amount']=-$1;}else{$2['ToOrder']=$0;$2['Amount']=$1;}LxnBase.UI.FormsRegistry.editObject('InternalTransfer',null,$2,ss.Delegate.create(this,function(){
Luxena.Travel.Services.OrderService.GetOrder(this.get_id(),ss.Delegate.create(this,function($p2_0){
this.load($p2_0);}),ss.Delegate.create(this,function(){
LxnBase.UI.Tabs.close(this);}));}),null);},$7_13:function(){Luxena.Travel.Services.ConsignmentService.GetConsignmentItems([this.get_$7_0().Id],ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($1_0.Items.length>0){var $1_1={IsModified:true,Supplier:$1_0.Supplier,Acquirer:$1_0.Acquirer,Discount:$1_0.Discount,IssueDate:$1_0.IssueDate,Items:$1_0.Items};LxnBase.UI.FormsRegistry.editObject('Consignment',null,$1_1,ss.Delegate.create(this,function($p2_0){
this.getInstance();var $2_0=($p2_0).Item;var $2_1=String.format(Luxena.Travel.Res.issued_Consignment,$2_0.Number);LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.order_Caption_List,$2_1);}),null);}else{LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.error,msg:Luxena.Travel.Res.invoiceItemsInConsignments_Warn,icon:Ext.MessageBox.WARNING,buttons:Ext.MessageBox.OK});}}),null);},$7_14:function(){var $0={Order:LxnBase.Data.Reference.create('Order',this.get_$7_0().Number,this.get_$7_0().Id),AssignedTo:this.get_$7_0().AssignedTo,Status:0};LxnBase.UI.FormsRegistry.editObject('Task',null,$0,ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0).Item;$1_0.Type='Task';(this.get_$7_0().Tasks).insert(0,$1_0);this.$7_1F.loadInstance(this.get_$7_0());}),null);},$7_15:function(){Luxena.Travel.Services.OrderService.ForceRefreshOrder(this.get_$7_0().Id,ss.Delegate.create(this,function($p1_0){
this.getInstance();}),null);},$7_16:null,$7_17:null,$7_18:null,$7_19:null,$7_1A:null,$7_1B:null,$7_1C:null,$7_1D:null,$7_1E:null,$7_1F:null,$7_20:null,$7_21:null,$7_22:null,$7_23:null,$7_24:null}
Luxena.Travel.ConsignmentViewForm=function(tabId,id,type){Luxena.Travel.ConsignmentViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.ConsignmentViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.ConsignmentViewForm($p1_0,id,type);});}
Luxena.Travel.ConsignmentViewForm.viewIssuedConsignment=function(id,consignmentNumber){Luxena.Travel.ReportPrinter.getIssuedConsignment(id,consignmentNumber);}
Luxena.Travel.ConsignmentViewForm.prototype={initComponent:function(){Luxena.Travel.ConsignmentViewForm.callBaseMethod(this, 'initComponent');this.$8_3=new Ext.Panel(new Ext.PanelConfig().autoHeight(true).border(false).toDictionary());this.$8_2=new Luxena.Travel.ConsignmentItemGridControl(200,false);this.$8_4=new Ext.Panel(new Ext.PanelConfig().autoHeight(true).border(false).cls('consignment-items').items([this.$8_2]).toDictionary());this.add(this.$8_3);this.add(this.$8_4);this.doLayout();},get_$8_0:function(){return this.get_instance();},getInstance:function(){Luxena.Travel.Services.ConsignmentService.GetConsignment(this.get_id(),ss.Delegate.create(this,this.load),ss.Delegate.create(this,function(){
LxnBase.UI.Tabs.close(this);}));},onLoad:function(){var $0=this.get_itemConfig().Columns;var $1=null;var $2=new ss.StringBuilder();$2.append("<div class='consignment-title'>");$2.append(Luxena.Travel.DomainRes.consignment);$2.append('</div>');var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;var $4=this.get_$8_0()[$3.Name];if($3.IsReference){if(Type.canCast($4,String)){$1=$4;}else if(Type.canCast($4,Array)){$1=($4)[LxnBase.Data.Reference.NamePos];}}if(ss.isNullOrUndefined($4)||$3.Hidden||$3.Name==='CreatedOn'||$3.Name==='CreatedBy'||$3.Name==='ModifiedOn'||$3.Name==='ModifiedBy'){continue;}var $5=LxnBase.UI.AutoControls.ControlFactory.createRenderer($3);var $6=(($5==null)?$4:$5($4));$6=$6.split('\n').join('<br/>');$2.append("<div class='viewItem'>");$2.append(String.format("<div class='itemCaption'>{0}</div>",$3.Caption+':'));$2.append(String.format("<div class='itemValue'>{0}</div>",$6));$2.append('</div>');}$2.append(this.$8_1());if($1==null){$1=this.get_itemConfig().Caption;}this.setTitle($1);new Ext.Template($2.toString()).overwrite(this.$8_3.body);if(this.get_$8_0().Items.length>0){this.$8_2.setInitialData(this.get_$8_0().Items);}this.doLayout();},$8_1:function(){var $0=new ss.StringBuilder();if(!this.get_$8_0().IssuedConsignments.length){return '';}$0.append("<div class='viewItem'>");$0.append(String.format("<div class='itemCaption'>{0}:</div>",Luxena.Travel.DomainRes.consignment_IssuedConsignments));var $enum1=ss.IEnumerator.getEnumerator(this.get_$8_0().IssuedConsignments);while($enum1.moveNext()){var $1=$enum1.current;var $2=String.format("<a href='javascript:void(0)' class='object-link' onclick='{0}.viewIssuedConsignment(\"{1}\", \"{2}\")'><img src='static/style/travel/img/xls_ico.gif' class='printed_icon'/> {3}</a>",(Luxena.Travel.ConsignmentViewForm).get_fullName(),$1.Id,this.get_$8_0().Number,$1.Number);$0.append(String.format("<div class='itemValue'>{0}({1})  </div>",$2,Ext.util.Format.date($1.TimeStamp,'d.m.Y')));}$0.append('</div>');return $0.toString();},$8_2:null,$8_3:null,$8_4:null}
Luxena.Travel.ConsignmentEditForm=function(args,itemConfig){Luxena.Travel.ConsignmentEditForm.initializeBase(this,[args,itemConfig]);this.get_window().setWidth(550);}
Luxena.Travel.ConsignmentEditForm.$2_1=function($p0){LxnBase.Data.ConfigManager.getEditConfig($p0.type,function($p1_0){
var $1_0=new Luxena.Travel.ConsignmentEditForm($p0,$p1_0);$1_0.open();});}
Luxena.Travel.ConsignmentEditForm.prototype={loadInstance:function(onLoaded){Luxena.Travel.Services.ConsignmentService.GetConsignment(this.get_args().idToLoad,onLoaded,null);},setFieldValues:function(){if(this.get_$2_0()==null){if(!ss.isNullOrUndefined(this.get_args().fieldValues)){if(Object.keyExists(this.get_args().fieldValues,'IsModified')){this.$2_D.set_isModified(true);}if(Object.keyExists(this.get_args().fieldValues,'Number')){this.$2_6.setValue(this.get_args().fieldValues['Number']);}if(Object.keyExists(this.get_args().fieldValues,'Discount')){this.$2_A.setValue(this.get_args().fieldValues['Discount']);}if(Object.keyExists(this.get_args().fieldValues,'Acquirer')){this.$2_8.get_widget().setValue(this.get_args().fieldValues['Acquirer']);}if(Object.keyExists(this.get_args().fieldValues,'Supplier')){this.$2_7.get_widget().setValue(this.get_args().fieldValues['Supplier']);}if(Object.keyExists(this.get_args().fieldValues,'TotalSupplied')){this.$2_9.setValue(this.get_args().fieldValues['TotalSupplied']);}if(Object.keyExists(this.get_args().fieldValues,'IssueDate')){this.$2_5.setValue(this.get_args().fieldValues['IssueDate']);}if(Object.keyExists(this.get_args().fieldValues,'Items')){this.$2_D.setInitialData(this.get_args().fieldValues['Items']);}this.$2_3();}return;}this.$2_6.setValue(this.get_$2_0().Number);this.$2_5.setValue(this.get_$2_0().IssueDate);this.$2_7.setValue(this.get_$2_0().Supplier);this.$2_8.setValue(this.get_$2_0().Acquirer);this.$2_9.setValue(this.get_$2_0().TotalSupplied);this.$2_A.setValue(this.get_$2_0().Discount);this.$2_B.setValue(this.get_$2_0().GrandTotal);this.$2_C.setValue(this.get_$2_0().Vat);this.$2_D.setInitialData(this.get_$2_0().Items);},onSave:function(){if(this.isModified()||this.$2_D.get_isModified()){Luxena.Travel.Services.ConsignmentService.UpdateConsignment(this.$2_2(),this.get_args().rangeRequest,ss.Delegate.create(this,this.completeSave),null);}else{this.cancel();}},onSaved:function(result){var $0=((result).Item);if(!ss.isNullOrUndefined($0)){Luxena.Travel.ReportPrinter.getLastIssuedConsignment($0.Id,$0.Number);}Luxena.Travel.ConsignmentEditForm.callBaseMethod(this, 'onSaved',[result]);},addFields:function(){this.$2_6=new Ext.form.TextField(new Ext.form.TextFieldConfig().selectOnFocus(true).width(93).fieldLabel(Luxena.Travel.DomainRes.consignment_Number).toDictionary());this.$2_5=LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('IssueDate'));this.$2_5.setValue(Date.get_today());this.$2_A=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.consignment_Discount).setAmountChangeHandler(ss.Delegate.create(this,this.$2_4)));this.$2_B=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.consignment_GrandTotal));this.$2_C=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.consignment_Vat));this.$2_C.get_decimalField().disable();this.$2_B.get_decimalField().disable();this.$2_C.get_decimalField().readOnly=true;this.$2_7=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.consignment_Supplier).selectOnFocus(true).forceSelection(true).width(170).allowBlank(false));this.$2_8=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.consignment_Acquirer).selectOnFocus(true).forceSelection(true).width(170).allowBlank(false));this.$2_9=LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('TotalSupplied'));this.$2_9.setWidth(170);this.$2_D=new Luxena.Travel.ConsignmentItemGridControl(200,true);this.$2_D.add_financeDataChanged(ss.Delegate.create(this,this.$2_3));var $0=[];$0.add(this.$2_7.get_widget());$0.add(this.$2_8.get_widget());$0.add(this.$2_9);$0.add(this.$2_6);$0.add(this.$2_5);$0.add(this.$2_A);$0.add(this.$2_B);$0.add(this.$2_C);var $1=new Ext.Panel(new Ext.PanelConfig().items([new Ext.Panel(new Ext.PanelConfig().items([this.$2_7.get_widget(),this.$2_8.get_widget(),this.$2_9]).layout('form').toDictionary()),new Ext.Panel(new Ext.PanelConfig().items([this.$2_6,this.$2_5]).layout('form').style('float: right;').toDictionary())]).layout('column').width(500).toDictionary());var $2=new Ext.Panel(new Ext.PanelConfig().items([this.$2_D]).layout('form').cls('positions').toDictionary());var $3=new Ext.Panel(new Ext.PanelConfig().items([this.$2_A,this.$2_B,this.$2_C]).cls('consignment-finance').layout('form').autoWidth(true).toDictionary());this.get_form().add($1);this.get_form().add($2);this.get_form().add($3);return $0;},get_$2_0:function(){return this.get_instance();},$2_2:function(){var $0=new Luxena.Travel.ConsignmentDto();if(this.get_$2_0()!=null){$0.Id=this.get_$2_0().Id;$0.Version=this.get_$2_0().Version;}$0.Number=this.$2_6.getValue().toString();if(!$0.Number){$0.Number=null;}$0.TotalSupplied=this.$2_9.getValue().toString();if(!$0.TotalSupplied){$0.TotalSupplied=null;}$0.Supplier=this.$2_7.getObjectInfo();$0.Acquirer=this.$2_8.getObjectInfo();$0.IssueDate=this.$2_5.getValue();$0.Discount=this.$2_A.getValue();$0.GrandTotal=this.$2_B.getValue();$0.Vat=this.$2_C.getValue();var $1=this.$2_D.get_items();$0.Items=new Array($1.length);for(var $2=0;$2<$1.length;$2++){$0.Items[$2]=new Luxena.Travel.OrderItemDto();$0.Items[$2].Id=$1[$2].Id;$0.Items[$2].Version=$1[$2].Version;$0.Items[$2].Text=$1[$2].Text;$0.Items[$2].GrandTotal=Luxena.Travel.MoneyDto.copyMoney($1[$2].GrandTotal);}return $0;},$2_3:function(){this.$2_A.setValue(this.$2_D.get_discount());this.$2_B.setValue(this.$2_D.get_grandTotal());this.$2_C.setValue(this.$2_D.get_vat());},$2_4:function($p0,$p1,$p2){var $0=this.$2_B.getValue();$0.Amount+=$p2-$p1;this.$2_B.setValue($0);var $1=this.$2_C.getValue();var $2=$p2-($p2*100)/(100+Luxena.Travel.AppManager.get_systemConfiguration().VatRate);var $3=$p1-($p1*100)/(100+Luxena.Travel.AppManager.get_systemConfiguration().VatRate);$1.Amount+=$2-$3;if($1.Amount<0){$1.Amount=0;}this.$2_C.setValue($1);},$2_5:null,$2_6:null,$2_7:null,$2_8:null,$2_9:null,$2_A:null,$2_B:null,$2_C:null,$2_D:null}
Luxena.Travel.ConsignmentItemGridControl=function(height,isEditable){Luxena.Travel.ConsignmentItemGridControl.initializeBase(this,[new Ext.grid.EditorGridPanelConfig().cls('invoce-records').height(height).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).collapsible(false).frame(false).custom('_isEditable',isEditable).toDictionary()]);}
Luxena.Travel.ConsignmentItemGridControl.$7_5=function($p0){if(ss.isNullOrUndefined($p0)){return '';}if(ss.isNullOrUndefined(($p0).Id)){return ($p0).Name;}return LxnBase.UI.Controls.ObjectLink.renderInfo(($p0));}
Luxena.Travel.ConsignmentItemGridControl.$7_9=function($p0,$p1){if(!ss.isNullOrUndefined($p0)&&!ss.isNullOrUndefined($p1)&&!ss.isNullOrUndefined($p0.Product)&&!ss.isNullOrUndefined($p1.Product)&&$p0.Product.Id===$p1.Product.Id&&$p0.LinkType===$p1.LinkType){return true;}return false;}
Luxena.Travel.ConsignmentItemGridControl.prototype={add_financeDataChanged:function(value){this.$7_0=ss.Delegate.combine(this.$7_0,value);},remove_financeDataChanged:function(value){this.$7_0=ss.Delegate.remove(this.$7_0,value);},$7_0:null,initComponent:function(){this.store=this.$7_2();if(this._isEditable){this.sm=this.$7_3();this.tbar=this.$7_1();}this.cm=this.$7_4();Luxena.Travel.ConsignmentItemGridControl.callBaseMethod(this, 'initComponent');},get_isModified:function(){return this.$7_B;},set_isModified:function(value){this.$7_B=value;return value;},get_items:function(){var $0=new Array(0);for(var $1=0;$1<this.store.data.length;$1++){$0[$1]=this.store.getAt($1).data;}return $0;},setInitialData:function(gridItems){if(gridItems!=null&&gridItems.length>0){this.$7_C.loadData(gridItems);}},get_discount:function(){var $0=new Luxena.Travel.MoneyDto();$0.Currency=this.get_grandTotal().Currency;$0.Amount=0;for(var $1=0;$1<this.getStore().data.length;$1++){var $2=this.getStore().getAt($1).data;if(!ss.isNullOrUndefined($2.Discount)&&LxnBase.Data.Reference.equals($0.Currency,$2.Discount.Currency)){$0.Amount+=$2.Discount.Amount;}}return $0;},get_grandTotal:function(){var $0=new Luxena.Travel.MoneyDto();$0.Currency=Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency;for(var $1=0;$1<this.getStore().data.length;$1++){var $2=this.getStore().getAt($1).data;if(!ss.isNullOrUndefined($2.GrandTotal)){if(LxnBase.Data.Reference.equals($0.Currency,$2.GrandTotal.Currency)){$0.Amount+=$2.GrandTotal.Amount;}}}return $0;},get_vat:function(){var $0=Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);var $1=Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);for(var $4=0;$4<this.getStore().data.length;$4++){var $5=this.getStore().getAt($4).data;if(!ss.isNullOrUndefined($5.HasVat)&&$5.HasVat){if($5.GivenVat!=null&&LxnBase.Data.Reference.equals($0.Currency,$5.GivenVat.Currency)){$0.Amount+=$5.GivenVat.Amount;}if($5.TaxedTotal!=null&&LxnBase.Data.Reference.equals($1.Currency,$5.TaxedTotal.Currency)){$1.Amount+=$5.TaxedTotal.Amount;}}}var $2=Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);var $3=this.get_discount()||Luxena.Travel.MoneyDto.getZeroMoney(this.get_grandTotal().Currency);if(!!$0.Amount){$2.Amount+=$0.Amount;}if(!!$1.Amount){$2.Amount+=($1.Amount-$3.Amount)*Luxena.Travel.AppManager.get_systemConfiguration().VatRate/(100+Luxena.Travel.AppManager.get_systemConfiguration().VatRate);}return $2;},$7_1:function(){this.$7_E=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$7_7)).disabled(true));var $0=new Ext.menu.Menu(new Ext.menu.MenuConfig().cls('simple-menu').items([new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_GetByOrderNumber).handler(ss.Delegate.create(this,function(){
LxnBase.UI.MessageBoxWrap.prompt(Luxena.Travel.Res.addDocument_Title,Luxena.Travel.Res.enterDocumentNumber_Text,ss.Delegate.create(this,function($p2_0,$p2_1){
if($p2_0==='ok'&&!String.isNullOrEmpty($p2_1)){this.$7_6($p2_1);}}));})).toDictionary())]).toDictionary());var $1=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add.toLowerCase()).menu($0));return new Ext.Toolbar(['->',$1,this.$7_E]);},$7_2:function(){this.$7_C=new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Version','Text','Price','Quantity','Total','Discount','GrandTotal','GivenVat','TaxedTotal','HasVat','Source','Order']).toDictionary());return this.$7_C;},$7_3:function(){this.$7_D=new Ext.grid.CheckboxSelectionModel();this.$7_D.singleSelect=false;this.$7_D.on('selectionchange',ss.Delegate.create(this,function(){
if(!this.$7_D.getCount()){this.$7_E.disable();}else{this.$7_E.enable();}}));return this.$7_D;},$7_4:function(){var $0=[];if(!ss.isNullOrUndefined(this.$7_D)&&!this.$7_D.singleSelect){$0.insert(0,this.$7_D);}$0.add(new Ext.grid.RowNumberer({header:Luxena.Travel.Res.common_ListNumber}));$0.add({id:'Text',header:Luxena.Travel.Res.orderItem_Text,sortable:false,dataIndex:'Text',width:245,renderer:function($p1_0){
return String.format('<pre>{0}</pre>',$p1_0);}});$0.add({id:'GrandTotal',header:Luxena.Travel.DomainRes.common_Amount,sortable:false,dataIndex:'GrandTotal',width:85,renderer:Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer()});$0.add({id:'Order',header:Luxena.Travel.DomainRes.order,sortable:false,dataIndex:'Order',width:85,renderer:Luxena.Travel.ConsignmentItemGridControl.$7_5});return new Ext.grid.ColumnModel($0);},$7_6:function($p0){Luxena.Travel.Services.OrderService.GetOrderItemsByNumber($p0,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($1_0.length>0){var $1_1=[];var $enum1=ss.IEnumerator.getEnumerator($1_0);while($enum1.moveNext()){var $1_2=$enum1.current;if(ss.isNullOrUndefined($1_2.Consignment)&&!ss.isNullOrUndefined($1_2.Product)){$1_1.add($1_2);}}if(!$1_1.length){LxnBase.UI.MessageBoxWrap.show('',Luxena.Travel.Res.invoiceItemsInConsignments_Warn,Ext.MessageBox.WARNING,Ext.MessageBox.OK);}else{$1_0=new Array($1_1.length);for(var $1_3=0;$1_3<$1_1.length;$1_3++){$1_0[$1_3]=$1_1[$1_3];}this.$7_8($1_0);}}else{LxnBase.UI.MessageBoxWrap.show('',String.format(Luxena.Travel.Res.noInvoiceFound_Text,$p0),Ext.MessageBox.WARNING,Ext.MessageBox.OK);}}),null);},$7_7:function(){if(!this.$7_D.getCount()){return;}var $0=this.$7_D.getSelections();if($0==null){return;}var $1=this.$7_D['lastActive'];for(var $2=0;$2<$0.length;$2++){this.$7_C.remove($0[$2]);}if(this.$7_0!=null){this.$7_0();}this.$7_A($1);this.$7_B=true;},$7_8:function($p0){if($p0==null||!$p0.length){return;}var $0=false;for(var $1=0;$1<$p0.length;$1++){var $2=$1;if(this.$7_C.findBy(function($p1_0,$p1_1){
return Luxena.Travel.ConsignmentItemGridControl.$7_9($p1_0.data,$p0[$2]);})!==-1){continue;}var $3=new Ext.data.Record($p0[$1]);this.$7_C.add([$3]);$0=true;}if($0){this.$7_B=true;if(this.$7_0!=null){this.$7_0();}}},$7_A:function($p0){if(!this.$7_C.getCount()){return;}this.getView().focusRow(0);if(!ss.isNullOrUndefined($p0)){var $0=this.$7_C.getCount();var $1=($p0<$0)?$p0:$0-1;this.$7_D.selectRow($1);}},_isEditable:false,$7_B:false,$7_C:null,$7_D:null,$7_E:null}
Luxena.Travel.QuickReceiptEditForm=function(){Luxena.Travel.QuickReceiptEditForm.initializeBase(this);}
Luxena.Travel.QuickReceiptEditForm.prototype={open:function(){var $0=this.get_form().addButton(Luxena.Travel.Res.create,ss.Delegate.create(this,this.save));var $1=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.$1_0=Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl(Luxena.Travel.DomainRes.common_Customer,200,false);this.$1_1=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.Res.quickReceipt_AviaTickets).setAllowBlank(false));this.$1_2=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.Res.quickReceipt_ServiceFee));this.$1_4=new Ext.form.TextArea(new Ext.form.TextAreaConfig().fieldLabel(Luxena.Travel.DomainRes.common_Note).height(80).width(300).toDictionary());this.$1_3=Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200,false);var $2=[];$2.add(this.$1_0.get_widget());$2.add(this.$1_1);$2.add(this.$1_2);$2.add(this.$1_3);$2.add(this.$1_4);this.get_form().add($2);$2.remove(this.$1_4);$2.add($0);$2.add($1);this.set_componentSequence($2);this.get_form().labelWidth=120;this.get_window().setTitle(Luxena.Travel.Res.quickReceipt_Title);this.get_window().setWidth(500);this.get_window().addClass('quick-receipt');this.get_window().show();},onSave:function(){var $0=this.$1_4.getValue();var $1=new Luxena.Travel.QuickReceiptRequest();$1.Customer=this.$1_0.getObjectInfo();$1.NotaxedAmount=this.$1_1.getValue();$1.TaxedAmount=this.$1_2.getValue();$1.Owner=this.$1_3.getObjectInfo();$1.Note=(String.isNullOrEmpty($0))?null:$0;Luxena.Travel.Services.OrderService.CreateQuickReceipt($1,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;Luxena.Travel.MessageFactory.objectUpdatedMsg(Luxena.Travel.DomainRes.order,LxnBase.UI.Controls.ObjectLink.renderInfo($1_0.Order),true);this.completeSave($p1_0);}),null);},$1_0:null,$1_1:null,$1_2:null,$1_3:null,$1_4:null}
Luxena.Travel.PaymentGridView=function(){Luxena.Travel.PaymentGridView.initializeBase(this,[new Ext.grid.GridViewConfig().forceFit(true).toDictionary()]);}
Luxena.Travel.PaymentGridView.prototype={getCustomRowClass:function(record){if(record.get('IsVoid')){return 'textColor-gray';}if(!record.get('PostedOn')){return 'rowColor-red';}return null;}}
Luxena.Travel.EntitySemantic=function(){this.Id=Luxena.Travel.SemanticEntity.get_member();this.Version=Luxena.Travel.SemanticEntity.get_member().int32().required();Luxena.Travel.EntitySemantic.initializeBase(this);this._name='Entity';this._className='Entity';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$0,$p1_0.$1,$p1_0.$2,$p1_0.$3,$p1_0.$4,$p1_0.$5,$p1_0.$6,$p1_0.$12,$p1_0.$13,$p1_0.$14,$p1_0.$15,$p1_0.$16,$p1_0.$17,$p1_0.$18,$p1_0.$19,$p1_0.$1A,$p1_0.$1B,$p1_0.$1C,$p1_0.$1D,$p1_0.$1E,$p1_0.$1F,$p1_0.$20,$p1_0.$21,$p1_0.$22,$p1_0.$23,$p1_0.$24,$p1_0.$25,$p1_0.$26,$p1_0.$27,$p1_0.$28,$p1_0.$29,$p1_0.$2A,$p1_0.$2B,$p1_0.$2C,$p1_0.$2D,$p1_0.$2E,$p1_0.$2F,$p1_0.$30,$p1_0.$31,$p1_0.$32,$p1_0.$33,$p1_0.$34,$p1_0.$35,$p1_0.$36,$p1_0.$37,$p1_0.$38,$p1_0.$39,$p1_0.$3A,$p1_0.$3C,$p1_0.$3D,$p1_0.$3E,$p1_0.$3F,$p1_0.$40,$p1_0.$41,$p1_0.$42];};}
Luxena.Travel.Entity2Semantic=function(){this.CreatedOn=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f').dateTime2().required().utility();this.CreatedBy=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0437\u0434\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c').string().required().utility();this.ModifiedOn=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f').dateTime2().utility();this.ModifiedBy=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c').string().utility();Luxena.Travel.Entity2Semantic.initializeBase(this);this._name='Entity2';this._className='Entity2';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$0,$p1_0.$1,$p1_0.$2,$p1_0.$3,$p1_0.$4,$p1_0.$5,$p1_0.$6,$p1_0.$12,$p1_0.$13,$p1_0.$14,$p1_0.$15,$p1_0.$16,$p1_0.$17,$p1_0.$18,$p1_0.$19,$p1_0.$1A,$p1_0.$1B,$p1_0.$1C,$p1_0.$1D,$p1_0.$1E,$p1_0.$1F,$p1_0.$20,$p1_0.$21,$p1_0.$22,$p1_0.$23,$p1_0.$24,$p1_0.$25,$p1_0.$26,$p1_0.$27,$p1_0.$28,$p1_0.$29,$p1_0.$2A,$p1_0.$2B,$p1_0.$2C,$p1_0.$2D,$p1_0.$2E,$p1_0.$2F,$p1_0.$34,$p1_0.$35,$p1_0.$36,$p1_0.$37,$p1_0.$38,$p1_0.$39,$p1_0.$3C,$p1_0.$3D,$p1_0.$3E,$p1_0.$40,$p1_0.$41,$p1_0.$42];};}
Luxena.Travel.Entity3Semantic=function(){this.Name=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435').string().required().entityName();Luxena.Travel.Entity3Semantic.initializeBase(this);this._name='Entity3';this._className='Entity3';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$1,$p1_0.$3,$p1_0.$4,$p1_0.$5,$p1_0.$6,$p1_0.$14,$p1_0.$15,$p1_0.$16,$p1_0.$28,$p1_0.$2B,$p1_0.$2C,$p1_0.$2D,$p1_0.$2E,$p1_0.$2F,$p1_0.$39,$p1_0.$41];};}
Luxena.Travel.Entity3DSemantic=function(){this.Description=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435').text(3);Luxena.Travel.Entity3DSemantic.initializeBase(this);this._name='Entity3D';this._className='Entity3D';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$1,$p1_0.$14,$p1_0.$15,$p1_0.$2E,$p1_0.$2F];};}
Luxena.Travel.PassportSemantic=function(){this.Owner=Luxena.Travel.SemanticEntity.get_member().reference('Person');this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.FirstName=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043c\u044f').string();this.MiddleName=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e').string();this.LastName=Luxena.Travel.SemanticEntity.get_member().title('\u0424\u0430\u043c\u0438\u043b\u0438\u044f').string();this.Citizenship=Luxena.Travel.SemanticEntity.get_member().title('\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e').reference('Country');this.Birthday=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f').date();this.Gender=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b').enumItems([[1,'\u0416\u0435\u043d\u0441\u043a\u0438\u0439'],[0,'\u041c\u0443\u0436\u0441\u043a\u043e\u0439']]);this.IssuedBy=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u0434\u0430\u0432\u0448\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0430').reference('Country');this.ExpiredOn=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e').date();this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);this.AmadeusString=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Amadeus').string();this.GalileoString=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f Galileo').string();Luxena.Travel.PassportSemantic.initializeBase(this);this._name='Passport';this._className='Passport';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u041f\u0430\u0441\u043f\u043e\u0440\u0442';this._titles='\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430';}
Luxena.Travel.PassportListTab=function(tabId,args){Luxena.Travel.PassportListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.PassportListTab.prototype={preInitialize:function(){Luxena.Travel.PassportListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$0;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Owner,this.se.Number,this.se.FirstName,this.se.MiddleName,this.se.LastName,this.se.Citizenship,this.se.Birthday,this.se.Gender,this.se.IssuedBy,this.se.ExpiredOn,this.se.Note]);}}
Luxena.Travel.PassportEditForm=function(){Luxena.Travel.PassportEditForm.initializeBase(this);}
Luxena.Travel.PassportEditForm.prototype={preInitialize:function(){Luxena.Travel.PassportEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$0;},se:null,initialize:function(){this.get_window().setWidth(500);this.get_form().labelWidth=120;},getNameBy:function(data){var $0=data;return (ss.isValue($0.Owner))?$0.Owner.Name:$0.Number;},createControls:function(){if(this._args.mode===LxnBase.UI.LoadMode.remote){this.get_form().add(this.mainDataPanel([this.se.Owner.toField(-3)]));}this.get_form().add(this.mainDataPanel([this.se.Number.toField(-2),this.se.FirstName,this.se.MiddleName,this.se.LastName,this.se.Citizenship,this.se.Birthday,this.se.Gender.toField(-2),this.se.IssuedBy,this.se.ExpiredOn,this.se.Note]));}}
Luxena.Travel.BankAccountSemantic=function(){this.IsDefault=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').bool().required();this.DisallowVat=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0415\u0417 \u041d\u0414\u0421').bool().required();this.CompanyDetails=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438').text(3);this.TotalSuffix=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0447\u0451\u0442: \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a \u0418\u0442\u043e\u0433\u043e (\u0441\u0443\u0444\u0438\u043a\u0441)').text(3);this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);Luxena.Travel.BankAccountSemantic.initializeBase(this);this._name='BankAccount';this._className='BankAccount';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442';this._titles='\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0441\u0447\u0451\u0442\u0430';}
Luxena.Travel.BankAccountEditForm=function(){Luxena.Travel.BankAccountEditForm.initializeBase(this);}
Luxena.Travel.BankAccountEditForm.prototype={preInitialize:function(){Luxena.Travel.BankAccountEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1;},se:null,createControls:function(){this.get_form().add(this.mainDataPanel([this.se.Name.toField(-3),this.se.CompanyDetails.toField(-3),this.se.TotalSuffix.toField(-3),this.se.Description.toField(-3),this.se.IsDefault.toField(-3),this.se.DisallowVat.toField(-3),this.se.Note.toField(-3)]));}}
Luxena.Travel.MilesCardSemantic=function(){this.Owner=Luxena.Travel.SemanticEntity.get_member().reference('Person');this.Number=Luxena.Travel.SemanticEntity.get_member().string().entityName();this.Organization=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');Luxena.Travel.MilesCardSemantic.initializeBase(this);this._name='MilesCard';this._className='MilesCard';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';}
Luxena.Travel.MilesCardListTab=function(tabId,args){Luxena.Travel.MilesCardListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.MilesCardListTab.prototype={preInitialize:function(){Luxena.Travel.MilesCardListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Owner,this.se.Number,this.se.Organization]);}}
Luxena.Travel.MilesCardEditForm=function(){Luxena.Travel.MilesCardEditForm.initializeBase(this);}
Luxena.Travel.MilesCardEditForm.prototype={preInitialize:function(){Luxena.Travel.MilesCardEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2;},se:null,initialize:function(){this.get_window().setWidth(500);this.get_form().labelWidth=120;},getNameBy:function(data){var $0=data;return (ss.isValue($0.Owner))?$0.Owner.Name:$0.Number;},createControls:function(){if(this._args.mode===LxnBase.UI.LoadMode.remote){this.get_form().add(this.mainDataPanel([this.se.Owner.toField(-3)]));}this.get_form().add(this.mainDataPanel([this.se.Owner,this.se.Number.toField(-2),this.se.Organization]));}}
Luxena.Travel.PartySemantic=function(){this.Type=Luxena.Travel.SemanticEntity.get_member().enumItems([[0,'Department'],[1,'Organization'],[2,'Person']]).required();this.LegalName=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435').string();this.Signature=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u043f\u0438\u0441\u044c').string();this.Code=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string();this.NameForDocuments=Luxena.Travel.SemanticEntity.get_member().string();this.BonusCardNumber=Luxena.Travel.SemanticEntity.get_member().title('\u2116 \u0431\u043e\u043d\u0443\u0441\u043d\u043e\u0439 \u043a\u0430\u0440\u0442\u044b').string();this.BonusAmount=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432').float2();this.Phone1=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043b\u0435\u0444\u043e\u043d 1').string();this.Phone2=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043b\u0435\u0444\u043e\u043d 2').string();this.Fax=Luxena.Travel.SemanticEntity.get_member().title('\u0424\u0430\u043a\u0441').string();this.Email1=Luxena.Travel.SemanticEntity.get_member().title('E-mail 1').string();this.Email2=Luxena.Travel.SemanticEntity.get_member().title('E-mail 2').string();this.WebAddress=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0435\u0431 \u0430\u0434\u0440\u0435\u0441').string();this.IsCustomer=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').bool().required();this.CanNotBeCustomer=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u043e\u043c').bool().required();this.IsSupplier=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a').bool().required();this.ReportsTo=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u0447\u0438\u043d\u044f\u0435\u0442\u0441\u044f').reference('Party');this.DefaultBankAccount=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442 \u0430\u0433\u0435\u043d\u0441\u0442\u0432\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').enumReference('BankAccount');this.Details=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f').text(3);this.LegalAddress=Luxena.Travel.SemanticEntity.get_member().title('\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441').text(4);this.ActualAddress=Luxena.Travel.SemanticEntity.get_member().title('\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441').text(4);this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3).lineCount(6);this.InvoiceSuffix=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u0435 \u043a \u043d\u043e\u043c\u0435\u0440\u0443 \u0441\u0447\u0451\u0442\u0430').string();this.Files=Luxena.Travel.SemanticEntity.get_member();this.$0=Luxena.Travel.SemanticEntity.get_member();this.$1=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.PartySemantic.initializeBase(this);this._name='Party';this._className='Party';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$4,$p1_0.$5,$p1_0.$6];};}
Luxena.Travel.PartySemantic.prototype={initialize:function(){Luxena.Travel.PartySemantic.callBaseMethod(this, 'initialize');this.Name.setEditor(-3);this.LegalName.setEditor(-3);this.ReportsTo.setEditor(-3);this.$0.toEditor=ss.Delegate.create(this,function(){
return this.rowPanel2c(Luxena.Travel.DomainRes.common_Phones,this.Phone1,null,this.Phone2,null);});this.$1.toEditor=ss.Delegate.create(this,function(){
return this.rowPanel2c(Luxena.Travel.DomainRes.common_Emails,this.Email1,null,this.Email2,null);});this.WebAddress.setEditor(-3);this.Note.setEditor(-3);}}
Luxena.Travel.OrganizationSemantic=function(){this.IsAirline=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439').bool().required();this.AirlineIataCode=Luxena.Travel.SemanticEntity.get_member().title('IATA \u043a\u043e\u0434').string(2);this.AirlinePrefixCode=Luxena.Travel.SemanticEntity.get_member().title('Prefix \u043a\u043e\u0434').string(3);this.AirlinePassportRequirement=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445').enumItems([[2,'\u041d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f'],[1,'\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f'],[0,'\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e']]).required();this.IsAccommodationProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f').bool().required();this.IsBusTicketProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432').bool().required();this.IsCarRentalProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0430\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e').bool().required();this.IsPasteboardProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432').bool().required();this.IsTourProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0442\u0443\u0440\u043e\u0432 (\u0433\u043e\u0442\u043e\u0432\u044b\u0445)').bool().required();this.IsTransferProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0442\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u043e\u0432').bool().required();this.IsGenericProductProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433').bool().required();this.IsProvider=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0443\u0441\u043b\u0443\u0433').bool().required();this.IsInsuranceCompany=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439').bool().required();this.IsRoamingOperator=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0420\u043e\u0443\u043c\u0438\u043d\u0433-\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c').bool().required();Luxena.Travel.OrganizationSemantic.initializeBase(this);this._name='Organization';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f';this._titles='\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438';this.Code.title('\u041a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f (\u0415\u0414\u0420\u041f\u041e\u0423)');}
Luxena.Travel.OrganizationListTab=function(tabId,args){Luxena.Travel.OrganizationListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.OrganizationListTab.prototype={preInitialize:function(){Luxena.Travel.OrganizationListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$4;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name.toColumn(false,150,this.se.getNameRenderer()),this.se.LegalName.toColumn(false,150,this.se.getNameRenderer()),this.se.Code.toColumn(false,80,this.se.getNameRenderer()),this.se.ReportsTo.toColumn(true),this.se.IsCustomer.toColumn(true),this.se.CanNotBeCustomer.toColumn(true),this.se.IsSupplier.toColumn(true),this.se.BonusCardNumber.toColumn(true),this.se.BonusAmount.toColumn(true),this.se.IsAirline,this.se.AirlineIataCode.toColumn(true),this.se.AirlinePrefixCode.toColumn(true),this.se.AirlinePassportRequirement.toColumn(true),this.se.IsProvider,this.se.IsAccommodationProvider.toColumn(true),this.se.IsBusTicketProvider.toColumn(true),this.se.IsCarRentalProvider.toColumn(true),this.se.IsPasteboardProvider.toColumn(true),this.se.IsTourProvider.toColumn(true),this.se.IsTransferProvider.toColumn(true),this.se.IsGenericProductProvider.toColumn(true),this.se.IsInsuranceCompany,this.se.Phone1,this.se.Phone2,this.se.Email1,this.se.Email2]);}}
Luxena.Travel.OrganizationEditForm=function(){Luxena.Travel.OrganizationEditForm.initializeBase(this);}
Luxena.Travel.OrganizationEditForm.prototype={preInitialize:function(){Luxena.Travel.OrganizationEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$4;},se:null,createControls:function(){this.get_form().add(this.tabPanel(450,[this.tabMainPane(this.se._title,[this.se.Name,this.se.LegalName,this.se.Signature.toField(-3),this.se.ReportsTo,this.se.Code.toField(-2,function($p1_0){
$p1_0.required(Luxena.Travel.AppManager.get_systemConfiguration().IsOrganizationCodeRequired);}),this.se.IsCustomer,this.se.CanNotBeCustomer,this.se.IsSupplier,this.se.DefaultBankAccount,this.se.$0,this.se.$1,this.se.Fax,this.se.WebAddress]),this.tabPane(this.se.Note._title,[this.se.Note.toField(526,function($p1_0){
$p1_0.hideLabel();$p1_0.height(398);})]),this.addressPanel(this.se,450),this.tabMainPane('\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440',[this.emptyRow(),this.se.IsBusTicketProvider.toField(-3),this.se.IsCarRentalProvider.toField(-3),this.se.IsPasteboardProvider.toField(-3),this.se.IsAccommodationProvider.toField(-3),this.se.IsTourProvider.toField(-3),this.se.IsTransferProvider.toField(-3),this.se.IsGenericProductProvider.toField(-3)]),this.tabMainPane(Luxena.Travel.DomainRes.airline,[this.emptyRow(),this.se.IsAirline.toField(-3),this.emptyRow(),this.se.AirlineIataCode,this.se.AirlinePrefixCode,this.se.AirlinePassportRequirement]),this.tabMainPane(Luxena.Travel.DomainRes.common_Misc,[this.emptyRow(),this.se.IsInsuranceCompany.toField(-3),this.se.IsRoamingOperator.toField(-3)]),this.bonusPanel(this.se)]));}}
Luxena.Travel.PersonSemantic=function(){this.Birthday=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f').date();this.Organization=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');this.Title=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c').string();this.Passports=Luxena.Travel.SemanticEntity.get_member();this.MilesCardsString=Luxena.Travel.SemanticEntity.get_member().string();this.MilesCards=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.PersonSemantic.initializeBase(this);this._name='Person';this._className='Person';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041f\u0435\u0440\u0441\u043e\u043d\u0430';this._titles='\u041f\u0435\u0440\u0441\u043e\u043d\u044b';}
Luxena.Travel.PersonListTab=function(tabId,args){Luxena.Travel.PersonListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.PersonListTab.prototype={preInitialize:function(){Luxena.Travel.PersonListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$5;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name.toColumn(false,150,this.se.getNameRenderer()),this.se.LegalName.toColumn(false,150,this.se.getNameRenderer()),this.se.Code.toColumn(false,80,this.se.getNameRenderer()),this.se.Organization,this.se.ReportsTo.toColumn(true),this.se.IsCustomer.toColumn(true),this.se.CanNotBeCustomer.toColumn(true),this.se.IsSupplier.toColumn(true),this.se.BonusCardNumber.toColumn(true),this.se.BonusAmount.toColumn(true),this.se.Phone1,this.se.Phone2,this.se.Email1,this.se.Email2]);}}
Luxena.Travel.PersonEditForm=function(){Luxena.Travel.PersonEditForm.initializeBase(this);}
Luxena.Travel.PersonEditForm.prototype={preInitialize:function(){Luxena.Travel.PersonEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$5;},se:null,createControls:function(){var $0=this.tabMainPane(this.se._title,[this.se.Name,this.se.LegalName,this.se.Title.toField(-3),this.se.Signature,this.se.IsCustomer,this.se.CanNotBeCustomer,this.se.IsSupplier,this.se.DefaultBankAccount,this.se.$0,this.se.$1,this.se.Fax,this.se.WebAddress,this.se.Birthday,this.se.Organization.toField(-3),this.se.ReportsTo]);var $1=this.tabPane(this.se.Note._title,[this.se.Note.toField(526,function($p1_0){
$p1_0.hideLabel();$p1_0.height(486);})]);this.get_form().add(this.tabPanel(540,[$0,$1,this.addressPanel(this.se,540),this.tabFitPane(Luxena.Travel.DomainRes.milesCard_Caption_List,this.se.gridMember('MilesCards',new Luxena.Travel.MilesCardGridControl())),this.tabFitPane(Luxena.Travel.DomainRes.passport_Caption_List,this.se.gridMember('Passports',new Luxena.Travel.PassportGridControl())),this.bonusPanel(this.se)]));}}
Luxena.Travel.DepartmentSemantic=function(){this.Organization=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');Luxena.Travel.DepartmentSemantic.initializeBase(this);this._name='Department';this._className='Department';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435';this._titles='\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f';}
Luxena.Travel.DepartmentListTab=function(tabId,args){Luxena.Travel.DepartmentListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.DepartmentListTab.prototype={preInitialize:function(){Luxena.Travel.DepartmentListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$6;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name.toColumn(false,150,this.se.getNameRenderer()),this.se.LegalName.toColumn(false,150,this.se.getNameRenderer()),this.se.Code.toColumn(false,80,this.se.getNameRenderer()),this.se.Organization,this.se.ReportsTo.toColumn(true),this.se.IsCustomer.toColumn(true),this.se.CanNotBeCustomer.toColumn(true),this.se.IsSupplier.toColumn(true),this.se.Phone1,this.se.Phone2,this.se.Email1,this.se.Email2]);}}
Luxena.Travel.DepartmentEditForm=function(){Luxena.Travel.DepartmentEditForm.initializeBase(this);}
Luxena.Travel.DepartmentEditForm.prototype={preInitialize:function(){Luxena.Travel.DepartmentEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$6;},se:null,createControls:function(){this.get_form().add(this.tabPanel(454,[this.tabMainPane(this.se._title,[this.se.Name,this.se.LegalName,this.se.IsCustomer,this.se.CanNotBeCustomer,this.se.IsSupplier,this.se.DefaultBankAccount,this.se.$0,this.se.$1,this.se.Fax,this.se.WebAddress,this.se.Organization.toField(-3),this.se.ReportsTo,this.se.Note]),this.addressPanel(this.se,454)]));}}
Luxena.Travel.AccommodationProviderSemantic=function(){Luxena.Travel.AccommodationProviderSemantic.initializeBase(this);this._name='AccommodationProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.BusTicketProviderSemantic=function(){Luxena.Travel.BusTicketProviderSemantic.initializeBase(this);this._name='BusTicketProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.PasteboardProviderSemantic=function(){Luxena.Travel.PasteboardProviderSemantic.initializeBase(this);this._name='PasteboardProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.TransferProviderSemantic=function(){Luxena.Travel.TransferProviderSemantic.initializeBase(this);this._name='TransferProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.GenericProductProviderSemantic=function(){Luxena.Travel.GenericProductProviderSemantic.initializeBase(this);this._name='GenericProductProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.CarRentalProviderSemantic=function(){Luxena.Travel.CarRentalProviderSemantic.initializeBase(this);this._name='CarRentalProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.TourProviderSemantic=function(){Luxena.Travel.TourProviderSemantic.initializeBase(this);this._name='TourProvider';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.RoamingOperatorSemantic=function(){Luxena.Travel.RoamingOperatorSemantic.initializeBase(this);this._name='RoamingOperator';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.InsuranceCompanySemantic=function(){Luxena.Travel.InsuranceCompanySemantic.initializeBase(this);this._name='InsuranceCompany';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f';this._titles='\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u044b\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';}
Luxena.Travel.AirlineSemantic=function(){Luxena.Travel.AirlineSemantic.initializeBase(this);this._name='Airline';this._className='Organization';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f';this._titles='\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';}
Luxena.Travel.CustomerSemantic=function(){Luxena.Travel.CustomerSemantic.initializeBase(this);this._name='Customer';this._className='Party';this._isAbstract=false;this._getDerivedEntities=null;}
Luxena.Travel.CustomerSemantic.prototype={initialize:function(){Luxena.Travel.CustomerSemantic.callBaseMethod(this, 'initialize');this._prepareNewData=function($p1_0){
$p1_0['IsCustomer']=true;};}}
Luxena.Travel.OrderSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.IssueDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430').date().required().entityDate();this.IsVoid=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();this.Customer=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').reference('Customer');this.BillTo=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').reference('Customer');this.BillToName=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').string();this.ShipTo=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c').reference('Customer');this.Intermediary=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a').reference('Party');this.Discount=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043a\u0438\u0434\u043a\u0430').money();this.Vat=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').money();this.UseServiceFeeOnlyInVat=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0414\u0421 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430').bool().required();this.Total=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0442\u043e\u0433\u043e').money();this.Paid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e').money();this.CheckPaid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u043d\u0430\u043b').money();this.WirePaid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u0431/\u043d\u0430\u043b').money();this.CreditPaid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u041a\u041a').money();this.RestPaid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u043f\u0440\u043e\u0447\u0435\u0435').money();this.TotalDue=Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043e\u043f\u043b\u0430\u0442\u0435').money();this.VatDue=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0414\u0421 \u043a \u043e\u043f\u043b\u0430\u0442\u0435').money();this.IsPaid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d').bool().required();this.DeliveryBalance=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043b\u0430\u043d\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432').float2().required();this.BonusDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0431\u043e\u043d\u0443\u0441\u043e\u0432').date();this.BonusSpentAmount=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043f\u0438\u0441\u0430\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432').float2();this.BonusRecipient=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c \u0431\u043e\u043d\u0443\u0441\u043e\u0432').reference('Party');this.AssignedTo=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439').reference('Person');this.BankAccount=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442').enumReference('BankAccount');this.Owner=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party');this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);this.IsPublic=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u0449\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f').bool().required();this.AllowAddProductsInClosedPeriod=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u0435').bool().required();this.IsSubjectOfPaymentsControl=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0435 \u043e\u043f\u043b\u0430\u0442').bool().required();this.SeparateServiceFee=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u0434\u0435\u043b\u044f\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440').bool().required();this.Items=Luxena.Travel.SemanticEntity.get_member();this.Invoices=Luxena.Travel.SemanticEntity.get_member();this.InvoiceLastIndex=Luxena.Travel.SemanticEntity.get_member().int32();this.ConsignmentLastIndex=Luxena.Travel.SemanticEntity.get_member().int32();this.Payments=Luxena.Travel.SemanticEntity.get_member();this.Tasks=Luxena.Travel.SemanticEntity.get_member();this.ServiceFee=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440').money();this.OutgoingTransfers=Luxena.Travel.SemanticEntity.get_member();this.IncomingTransfers=Luxena.Travel.SemanticEntity.get_member();this.ConsignmentNumbers=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435').string();this.InvoiceNumbers=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0447\u0435\u0442\u0430').string();this.FirstInvoiceNumber=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u0447\u0435\u0442').string();this.ConsignmentRefs=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.OrderSemantic.initializeBase(this);this._name='Order';this._className='Order';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0417\u0430\u043a\u0430\u0437';this._titles='\u0417\u0430\u043a\u0430\u0437\u044b';}
Luxena.Travel.CurrencyDailyRateSemantic=function(){this.Date=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required().entityDate().entityName();this.UAH_EUR=Luxena.Travel.SemanticEntity.get_member().title('UAH/EUR').float4();this.UAH_RUB=Luxena.Travel.SemanticEntity.get_member().title('UAH/RUB').float4();this.UAH_USD=Luxena.Travel.SemanticEntity.get_member().title('UAH/USD').float4();this.RUB_EUR=Luxena.Travel.SemanticEntity.get_member().title('RUB/EUR').float4();this.RUB_USD=Luxena.Travel.SemanticEntity.get_member().title('RUB/USD').float4();this.EUR_USD=Luxena.Travel.SemanticEntity.get_member().title('EUR/USD').float4();Luxena.Travel.CurrencyDailyRateSemantic.initializeBase(this);this._name='CurrencyDailyRate';this._className='CurrencyDailyRate';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Date';this._title='\u041a\u0443\u0440\u0441 \u0432\u0430\u043b\u044e\u0442\u044b';this._titles='\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442';}
Luxena.Travel.CateringTypeSemantic=function(){Luxena.Travel.CateringTypeSemantic.initializeBase(this);this._name='CateringType';this._className='CateringType';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f';this._titles='\u0422\u0438\u043f\u044b \u043f\u0438\u0442\u0430\u043d\u0438\u044f';}
Luxena.Travel.CateringTypeListTab=function(tabId,args){Luxena.Travel.CateringTypeListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.CateringTypeListTab.prototype={preInitialize:function(){Luxena.Travel.CateringTypeListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$14;},se:null}
Luxena.Travel.CateringTypeEditForm=function(){Luxena.Travel.CateringTypeEditForm.initializeBase(this);}
Luxena.Travel.CateringTypeEditForm.prototype={preInitialize:function(){Luxena.Travel.CateringTypeEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$14;},se:null}
Luxena.Travel.AccommodationTypeSemantic=function(){Luxena.Travel.AccommodationTypeSemantic.initializeBase(this);this._name='AccommodationType';this._className='AccommodationType';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0422\u0438\u043f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f';this._titles='\u0422\u0438\u043f\u044b \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f';}
Luxena.Travel.AccommodationTypeListTab=function(tabId,args){Luxena.Travel.AccommodationTypeListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AccommodationTypeListTab.prototype={preInitialize:function(){Luxena.Travel.AccommodationTypeListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$15;},se:null}
Luxena.Travel.AccommodationTypeEditForm=function(){Luxena.Travel.AccommodationTypeEditForm.initializeBase(this);}
Luxena.Travel.AccommodationTypeEditForm.prototype={preInitialize:function(){Luxena.Travel.AccommodationTypeEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$15;},se:null}
Luxena.Travel.GenericProductTypeSemantic=function(){Luxena.Travel.GenericProductTypeSemantic.initializeBase(this);this._name='GenericProductType';this._className='GenericProductType';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0412\u0438\u0434 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0443\u0441\u043b\u0443\u0433\u0438';this._titles='\u0412\u0438\u0434\u044b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433';}
Luxena.Travel.GenericProductTypeListTab=function(tabId,args){Luxena.Travel.GenericProductTypeListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.GenericProductTypeListTab.prototype={preInitialize:function(){Luxena.Travel.GenericProductTypeListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$16;},se:null}
Luxena.Travel.GenericProductTypeEditForm=function(){Luxena.Travel.GenericProductTypeEditForm.initializeBase(this);}
Luxena.Travel.GenericProductTypeEditForm.prototype={preInitialize:function(){Luxena.Travel.GenericProductTypeEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$16;},se:null}
Luxena.Travel.ProductPassengerSemantic=function(){this.Product=Luxena.Travel.SemanticEntity.get_member().title('\u0423\u0441\u043b\u0443\u0433\u0430').reference('Product');this.PassengerName=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043c\u044f \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430').emptyText('\u0438\u043c\u044f').string();this.Passenger=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').emptyText('\u043f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person');this.$0=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.ProductPassengerSemantic.initializeBase(this);this._name='ProductPassenger';this._className='ProductPassenger';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName=null;}
Luxena.Travel.ProductPassengerSemantic.prototype={initialize:function(){Luxena.Travel.ProductSemantic.$A(this.PassengerName,this.Passenger,this.$0);}}
Luxena.Travel.ProductPassengerListTab=function(tabId,args){Luxena.Travel.ProductPassengerListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.ProductPassengerListTab.prototype={preInitialize:function(){Luxena.Travel.ProductPassengerListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$17;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Product,this.se.PassengerName,this.se.Passenger]);}}
Luxena.Travel.ProductPassengerEditForm=function(){Luxena.Travel.ProductPassengerEditForm.initializeBase(this);}
Luxena.Travel.ProductPassengerEditForm.prototype={preInitialize:function(){Luxena.Travel.ProductPassengerEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$17;},se:null,getNameBy:function(data){var $0=data;return (ss.isValue($0.Passenger))?$0.Passenger.Name:$0.PassengerName;},createControls:function(){if(this._args.mode===LxnBase.UI.LoadMode.remote){this.get_form().add(this.mainDataPanel([this.se.Product.toField(-3)]));}this.get_form().add(this.mainDataPanel([this.se.$0]));}}
Luxena.Travel.BusTicketSemantic=function(){this.Passenger=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();this.DeparturePlace=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();this.DepartureDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();this.DepartureTime=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();this.ArrivalPlace=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();this.ArrivalDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();this.ArrivalTime=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();this.SeatNumber=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u0442\u0430').string();Luxena.Travel.BusTicketSemantic.initializeBase(this);this._name='BusTicket';this._className='BusTicket';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442';this._titles='\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b';this.RefundedProduct.reference('BusTicket');this.ReissueFor.reference('BusTicket');this.Provider.reference('BusTicketProvider');}
Luxena.Travel.BusTicketSemantic.prototype={initialize:function(){Luxena.Travel.BusTicketSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$A(this.PassengerName,this.Passenger,this.$2);this.Number.setColumn(false,80,this.$10());}}
Luxena.Travel.BusTicketListTab=function(tabId,args){Luxena.Travel.BusTicketListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.BusTicketListTab.prototype={preInitialize:function(){Luxena.Travel.BusTicketListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$18;},se:null,createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Number.toColumn(true,150,this.se.getNameRenderer()),this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.DeparturePlace,this.se.DepartureDate.toColumn(true),this.se.DepartureTime.toColumn(true),this.se.ArrivalPlace,this.se.ArrivalDate.toColumn(true),this.se.ArrivalTime.toColumn(true),this.se.SeatNumber.toColumn(true)]);}}
Luxena.Travel.BusTicketEditForm=function(){Luxena.Travel.BusTicketEditForm.initializeBase(this);}
Luxena.Travel.BusTicketEditForm.prototype={preInitialize:function(){Luxena.Travel.BusTicketEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$18;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.Number,this.se.$8,(this.get_isRefund())?this.se.RefundedProduct:null,this.se.$2,this.se.Provider,LxnBase.UI.BaseEditForm.rowPanel([this.se.DeparturePlace.toField(-1,function($p1_0){
$p1_0.label(Luxena.Travel.DomainRes.common_Departure);}),LxnBase.UI.BaseEditForm.textComponent('/'),this.se.DepartureDate.toField(-2,function($p1_0){
$p1_0.hideLabel();}),this.se.DepartureTime.toField(48,function($p1_0){
$p1_0.hideLabel();})]),LxnBase.UI.BaseEditForm.rowPanel([this.se.ArrivalPlace.toField(-1,function($p1_0){
$p1_0.label(Luxena.Travel.DomainRes.common_Arrival);}),LxnBase.UI.BaseEditForm.textComponent('/'),this.se.ArrivalDate.toField(-2,function($p1_0){
$p1_0.hideLabel();}),this.se.ArrivalTime.toField(48,function($p1_0){
$p1_0.hideLabel();})]),this.se.SeatNumber.toField(-2),this.se.$4,this.se.Intermediary,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.ExcursionSemantic=function(){this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();this.FinishDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();this.TourName=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0443\u0440\u0430').string().required();Luxena.Travel.ExcursionSemantic.initializeBase(this);this._name='Excursion';this._className='Excursion';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f';this._titles='\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u0438';this.ReissueFor.reference('Excursion');}
Luxena.Travel.ExcursionSemantic.prototype={initialize:function(){Luxena.Travel.ExcursionSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);}}
Luxena.Travel.ExcursionListTab=function(tabId,args){Luxena.Travel.ExcursionListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.ExcursionListTab.prototype={preInitialize:function(){Luxena.Travel.ExcursionListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$19;},se:null,useManyPassengers:function(){return true;},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Country,this.se.TourName,this.se.StartDate,this.se.FinishDate]);}}
Luxena.Travel.ExcursionEditForm=function(){Luxena.Travel.ExcursionEditForm.initializeBase(this);}
Luxena.Travel.ExcursionEditForm.prototype={preInitialize:function(){Luxena.Travel.ExcursionEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$19;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.$8,this.se.$2,this.se.$4,this.se.Intermediary,this.se.Country,this.se.TourName,this.se.StartDate,this.se.FinishDate,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.IsicSemantic=function(){this.Passenger=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');this.CardType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043a\u0430\u0440\u0442\u044b').enumItems([[1,'Isic'],[2,'ITIC'],[3,'IYTC'],[0,'\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e']]).required().defaultValue(1);this.Number1=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string(12).required();this.Number2=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string(1).required();Luxena.Travel.IsicSemantic.initializeBase(this);this._name='Isic';this._className='Isic';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0439 \u0431\u0438\u043b\u0435\u0442';this._titles='\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b';this.ReissueFor.reference('Isic');}
Luxena.Travel.IsicSemantic.prototype={initialize:function(){Luxena.Travel.IsicSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$A(this.PassengerName,this.Passenger,this.$2);this.Number1.setColumn(false,100,this.$10());this.Number2.setColumn(false,20);}}
Luxena.Travel.IsicListTab=function(tabId,args){Luxena.Travel.IsicListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.IsicListTab.prototype={preInitialize:function(){Luxena.Travel.IsicListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1A;},se:null,createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.CardType,this.se.Number1,this.se.Number2]);}}
Luxena.Travel.IsicEditForm=function(){Luxena.Travel.IsicEditForm.initializeBase(this);}
Luxena.Travel.IsicEditForm.prototype={preInitialize:function(){Luxena.Travel.IsicEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1A;},se:null,getNameBy:function(data){var $0=data;return $0.Number1+' '+$0.Number2;},createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.$8,this.se.$2,this.se.$4,this.se.Intermediary,this.se.CardType,LxnBase.UI.BaseEditForm.rowPanel([this.se.Number1.toField(114),this.se.Number2.toField(40,function($p1_0){
$p1_0.hideLabel();})]),this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.PasteboardSemantic=function(){this.Passenger=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();this.DeparturePlace=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();this.DepartureDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();this.DepartureTime=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();this.ArrivalPlace=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043d\u0435\u0447\u043d\u0430\u044f \u0441\u0442\u0430\u043d\u0446\u0438\u044f').emptyText('\u043c\u0435\u0441\u0442\u043e').string();this.ArrivalDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();this.ArrivalTime=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0432\u0440\u0435\u043c\u044f').string();this.Itinerary=Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0430\u0440\u0448\u0440\u0443\u0442').string();this.TrainNumber=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u043f\u043e\u0435\u0437\u0434\u0430').string();this.CarNumber=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0433\u043e\u043d\u0430').string();this.SeatNumber=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u043c\u0435\u0441\u0442\u0430').string();this.ServiceClass=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441').enumItems([[4,'\u043a\u0443\u043f\u0435'],[0,'1-\u0439 \u043a\u043b\u0430\u0441\u0441'],[2,'\u043b\u044e\u043a\u0441'],[3,'\u043f\u043b\u0430\u0446\u043a\u0430\u0440\u0442'],[1,'2-\u0439 \u043a\u043b\u0430\u0441\u0441'],[5,'\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e'],[6,'\u041e\u0431\u0449\u0438\u0439']]).required().defaultValue(0);Luxena.Travel.PasteboardSemantic.initializeBase(this);this._name='Pasteboard';this._className='Pasteboard';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442';this._titles='\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442\u044b';this.RefundedProduct.reference('Pasteboard');this.ReissueFor.reference('Pasteboard');this.Provider.reference('PasteboardProvider');}
Luxena.Travel.PasteboardSemantic.prototype={initialize:function(){Luxena.Travel.PasteboardSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$A(this.PassengerName,this.Passenger,this.$2);this.Number.setColumn(false,80,this.$10()).setEditor(-1);}}
Luxena.Travel.PasteboardListTab=function(tabId,args){Luxena.Travel.PasteboardListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.PasteboardListTab.prototype={preInitialize:function(){Luxena.Travel.PasteboardListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1B;},se:null,createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Number.toColumn(true,150,this.se.getNameRenderer()),this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.DeparturePlace,this.se.DepartureDate.toColumn(true),this.se.DepartureTime.toColumn(true),this.se.ArrivalPlace,this.se.ArrivalDate.toColumn(true),this.se.ArrivalTime.toColumn(true),this.se.Itinerary.toColumn(true)]);}}
Luxena.Travel.PasteboardEditForm=function(){Luxena.Travel.PasteboardEditForm.initializeBase(this);}
Luxena.Travel.PasteboardEditForm.prototype={preInitialize:function(){Luxena.Travel.PasteboardEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1B;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.Number,this.se.$8,(this.get_isRefund())?this.se.RefundedProduct:null,this.se.$2,this.se.Provider.toField(-3),LxnBase.UI.BaseEditForm.rowPanel([this.se.DeparturePlace.toField(-1,function($p1_0){
$p1_0.label(Luxena.Travel.DomainRes.common_Departure);}),LxnBase.UI.BaseEditForm.textComponent('/'),this.se.DepartureDate.toField(-2,function($p1_0){
$p1_0.hideLabel();}),this.se.DepartureTime.toField(48,function($p1_0){
$p1_0.hideLabel();})]),LxnBase.UI.BaseEditForm.rowPanel([this.se.ArrivalPlace.toField(-1,function($p1_0){
$p1_0.label(Luxena.Travel.DomainRes.common_Arrival);}),LxnBase.UI.BaseEditForm.textComponent('/'),this.se.ArrivalDate.toField(-2,function($p1_0){
$p1_0.hideLabel();}),this.se.ArrivalTime.toField(48,function($p1_0){
$p1_0.hideLabel();})]),this.se.ServiceClass.toField(-2),this.se.rowPanel3c('\u041f\u043e\u0435\u0437\u0434 / \u0432\u0430\u0433\u043e\u043d / \u043c\u0435\u0441\u0442\u043e',this.se.TrainNumber,null,this.se.CarNumber,null,this.se.SeatNumber,null),this.se.$4,this.se.Intermediary,this.se.Originator,this.se.$5,this.se.BookingFee,this.se.$6,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.TransferSemantic=function(){this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();Luxena.Travel.TransferSemantic.initializeBase(this);this._name='Transfer';this._className='Transfer';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440';this._titles='\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440\u044b';this.ReissueFor.reference('Transfer');this.Provider.reference('TransferProvider');}
Luxena.Travel.TransferSemantic.prototype={initialize:function(){Luxena.Travel.TransferSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);}}
Luxena.Travel.TransferListTab=function(tabId,args){Luxena.Travel.TransferListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.TransferListTab.prototype={preInitialize:function(){Luxena.Travel.TransferListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1C;},se:null,useManyPassengers:function(){return true;},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.Country.toColumn(true),this.se.StartDate]);}}
Luxena.Travel.TransferEditForm=function(){Luxena.Travel.TransferEditForm.initializeBase(this);}
Luxena.Travel.TransferEditForm.prototype={preInitialize:function(){Luxena.Travel.TransferEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1C;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.IssueDate,this.se.$8,this.se.ReissueFor,this.se.$2,this.se.Provider,this.se.$4,this.se.Intermediary,this.se.Country,this.se.StartDate,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.GenericProductSemantic=function(){this.GenericType=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0438\u0434 \u0443\u0441\u043b\u0443\u0433\u0438').reference('GenericProductType').required();this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date();this.FinishDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();Luxena.Travel.GenericProductSemantic.initializeBase(this);this._name='GenericProduct';this._className='GenericProduct';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430';this._titles='\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438';this.ReissueFor.reference('GenericProduct');this.Provider.reference('GenericProductProvider');}
Luxena.Travel.GenericProductSemantic.prototype={initialize:function(){Luxena.Travel.GenericProductSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);}}
Luxena.Travel.GenericProductListTab=function(tabId,args){Luxena.Travel.GenericProductListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.GenericProductListTab.prototype={preInitialize:function(){Luxena.Travel.GenericProductListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1D;},se:null,useManyPassengers:function(){return true;},onInitGrid:function(args,config){Luxena.Travel.GenericProductListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['RequiresProcessing','IsVoid','Name'];},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Number.toColumn(true,150,this.se.getNameRenderer()),this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.GenericType,this.se.StartDate,this.se.FinishDate,this.se.Country.toColumn(true)]);}}
Luxena.Travel.GenericProductEditForm=function(){Luxena.Travel.GenericProductEditForm.initializeBase(this);}
Luxena.Travel.GenericProductEditForm.prototype={preInitialize:function(){Luxena.Travel.GenericProductEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1D;},se:null,getNameBy:function(data){var $0=data;return ((ss.isValue($0.GenericType))?$0.GenericType.Name:Luxena.Travel.DomainRes.genericProduct)+((ss.isValue($0.Number))?' #'+$0.Number:'');},createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.Number,this.se.$8,this.se.$2,this.se.Provider,this.se.GenericType,this.se.$4,this.se.Intermediary,this.se.Country,this.se.rowPanel2v(this.se.StartDate,null,this.se.FinishDate,null),this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.CarRentalSemantic=function(){this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();this.FinishDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();this.CarBrand=Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0430\u0440\u043a\u0430 \u0430\u0432\u0442\u043e').string();Luxena.Travel.CarRentalSemantic.initializeBase(this);this._name='CarRental';this._className='CarRental';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0410\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f';this._titles='\u0410\u0440\u0435\u043d\u0434\u044b \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439';this.ReissueFor.reference('CarRental');this.Provider.reference('CarRentalProvider');}
Luxena.Travel.CarRentalSemantic.prototype={initialize:function(){Luxena.Travel.CarRentalSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);}}
Luxena.Travel.CarRentalListTab=function(tabId,args){Luxena.Travel.CarRentalListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.CarRentalListTab.prototype={preInitialize:function(){Luxena.Travel.CarRentalListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1E;},se:null,onInitGrid:function(args,config){Luxena.Travel.CarRentalListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['PassengerDtos','RequiresProcessing','IsVoid','Name','HotelOffice','HotelCode','PlacementOffice','PlacementCode'];},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.StartDate,this.se.FinishDate,this.se.Country.toColumn(true)]);}}
Luxena.Travel.CarRentalEditForm=function(){Luxena.Travel.CarRentalEditForm.initializeBase(this);}
Luxena.Travel.CarRentalEditForm.prototype={preInitialize:function(){Luxena.Travel.CarRentalEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1E;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.$8,this.se.$2,this.se.Provider,this.se.$4,this.se.Intermediary,this.se.Country,this.se.rowPanel2v(this.se.StartDate,null,this.se.FinishDate,null),this.se.CarBrand,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.TourSemantic=function(){this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();this.FinishDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();this.HotelName=Luxena.Travel.SemanticEntity.get_member().title('\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430').string();this.HotelOffice=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043e\u0444\u0438\u0441').string();this.HotelCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043a\u043e\u0434').string();this.PlacementName=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435').string();this.PlacementOffice=Luxena.Travel.SemanticEntity.get_member().emptyText('\u043e\u0444\u0438\u0441').string();this.PlacementCode=Luxena.Travel.SemanticEntity.get_member().emptyText('\u043a\u043e\u0434').string();this.AccommodationType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f').enumReference('AccommodationType');this.CateringType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f').enumReference('CateringType');this.AviaDescription=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)').string();this.TransferDescription=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440 (\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435)').string();this.$12=Luxena.Travel.SemanticEntity.get_member();this.$13=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.TourSemantic.initializeBase(this);this._name='Tour';this._className='Tour';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0422\u0443\u0440 (\u0433\u043e\u0442\u043e\u0432\u044b\u0439)';this._titles='\u0422\u0443\u0440\u044b (\u0433\u043e\u0442\u043e\u0432\u044b\u0435)';this.ReissueFor.reference('Tour');this.Provider.reference('TourProvider');}
Luxena.Travel.TourSemantic.$11=function($p0,$p1,$p2,$p3){var $0=$p0;$p3._name=$p0._name;$p3.setColumn(true,100,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
var $1_0=$p1_2.get($p0._name);var $1_1=$p1_2.get($p1._name);var $1_2=$p1_2.get($p2._name);if(ss.isValue($1_1)||ss.isValue($1_2)){$1_0+=' / '+($1_1||'')+' - '+($1_2||'');}return $1_0;});$p3.toEditor=function(){
return $p0.rowPanel([$p0.toField(),$0.textComponent('/'),$p1.toField(80,function($p2_0){
$p2_0.hideLabel();}),$0.textComponent('-'),$p2.toField(64,function($p2_0){
$p2_0.hideLabel();})]);};}
Luxena.Travel.TourSemantic.prototype={initialize:function(){Luxena.Travel.TourSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);Luxena.Travel.TourSemantic.$11(this.HotelName,this.HotelOffice,this.HotelCode,this.$12);Luxena.Travel.TourSemantic.$11(this.PlacementName,this.PlacementOffice,this.PlacementCode,this.$13);this.AccommodationType.setEditor(-2);this.CateringType.setEditor(-2);this.AviaDescription.setEditor(-3);this.TransferDescription.setEditor(-3);}}
Luxena.Travel.TourListTab=function(tabId,args){Luxena.Travel.TourListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.TourListTab.prototype={preInitialize:function(){Luxena.Travel.TourListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1F;},se:null,useManyPassengers:function(){return true;},onInitGrid:function(args,config){Luxena.Travel.TourListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['RequiresProcessing','IsVoid','Name','HotelOffice','HotelCode','PlacementOffice','PlacementCode'];},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.Country.toColumn(true),this.se.StartDate,this.se.FinishDate,this.se.HotelName,this.se.HotelOffice.toColumn(true),this.se.HotelCode.toColumn(true),this.se.PlacementName,this.se.PlacementOffice.toColumn(true),this.se.PlacementCode.toColumn(true)]);}}
Luxena.Travel.TourEditForm=function(){Luxena.Travel.TourEditForm.initializeBase(this);}
Luxena.Travel.TourEditForm.prototype={preInitialize:function(){Luxena.Travel.TourEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$1F;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.$8,this.se.$2,this.se.Provider,this.se.$4,this.se.Intermediary,this.se.Country,this.se.rowPanel2v(this.se.StartDate,null,this.se.FinishDate,null),this.se.$12,this.se.$13,this.se.rowPanel2(this.se.AccommodationType,null,this.se.CateringType,null),this.se.AviaDescription,this.se.TransferDescription,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.AccommodationSemantic=function(){this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();this.FinishDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();this.HotelName=Luxena.Travel.SemanticEntity.get_member().title('\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430').string();this.HotelOffice=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043e\u0444\u0438\u0441').string();this.HotelCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b').emptyText('\u043a\u043e\u0434').string();this.PlacementName=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435').string();this.PlacementOffice=Luxena.Travel.SemanticEntity.get_member().emptyText('\u043e\u0444\u0438\u0441').string();this.PlacementCode=Luxena.Travel.SemanticEntity.get_member().emptyText('\u043a\u043e\u0434').string();this.AccommodationType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f').enumReference('AccommodationType');this.CateringType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043f\u0438\u0442\u0430\u043d\u0438\u044f').enumReference('CateringType');this.$11=Luxena.Travel.SemanticEntity.get_member();this.$12=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.AccommodationSemantic.initializeBase(this);this._name='Accommodation';this._className='Accommodation';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435';this._titles='\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f';this.ReissueFor.reference('Accommodation');this.Provider.reference('AccommodationProvider');}
Luxena.Travel.AccommodationSemantic.prototype={initialize:function(){Luxena.Travel.AccommodationSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);Luxena.Travel.TourSemantic.$11(this.HotelName,this.HotelOffice,this.HotelCode,this.$11);Luxena.Travel.TourSemantic.$11(this.PlacementName,this.PlacementOffice,this.PlacementCode,this.$12);this.AccommodationType.setEditor(-2);this.CateringType.setEditor(-2);}}
Luxena.Travel.AccommodationListTab=function(tabId,args){Luxena.Travel.AccommodationListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AccommodationListTab.prototype={preInitialize:function(){Luxena.Travel.AccommodationListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$20;},se:null,onInitGrid:function(args,config){Luxena.Travel.AccommodationListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['PassengerDtos','RequiresProcessing','IsVoid','Name','HotelOffice','HotelCode','PlacementOffice','PlacementCode'];},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Provider,this.se.Country.toColumn(true),this.se.StartDate,this.se.FinishDate,this.se.HotelName,this.se.HotelOffice.toColumn(true),this.se.HotelCode.toColumn(true),this.se.PlacementName,this.se.PlacementOffice.toColumn(true),this.se.PlacementCode.toColumn(true)]);}}
Luxena.Travel.AccommodationEditForm=function(){Luxena.Travel.AccommodationEditForm.initializeBase(this);}
Luxena.Travel.AccommodationEditForm.prototype={preInitialize:function(){Luxena.Travel.AccommodationEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$20;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.$8,this.se.$2,this.se.Provider,this.se.$4,this.se.Intermediary,this.se.Country,this.se.rowPanel2v(this.se.StartDate,null,this.se.FinishDate,null),this.se.$11,this.se.$12,this.se.rowPanel2(this.se.AccommodationType,null,this.se.CateringType,null),this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.SimCardSemantic=function(){this.Passenger=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string(16).required();this.IsSale=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0434\u0430\u0436\u0430 SIM-\u043a\u0430\u0440\u0442\u044b').bool().required();Luxena.Travel.SimCardSemantic.initializeBase(this);this._name='SimCard';this._className='SimCard';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='SIM-\u043a\u0430\u0440\u0442\u0430';this._titles='SIM-\u043a\u0430\u0440\u0442\u044b';this.ReissueFor.reference('SimCard');this.Producer.title('\u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440').reference('RoamingOperator').required();}
Luxena.Travel.SimCardSemantic.prototype={initialize:function(){Luxena.Travel.SimCardSemantic.callBaseMethod(this, 'initialize');Luxena.Travel.ProductSemantic.$A(this.PassengerName,this.Passenger,this.$2);this.Number.setColumn(false,80,this.$10()).setEditor(100);}}
Luxena.Travel.SimCardListTab=function(tabId,args){Luxena.Travel.SimCardListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.SimCardListTab.prototype={preInitialize:function(){Luxena.Travel.SimCardListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$21;},se:null,createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Number.toColumn(true,150,this.se.getNameRenderer()),this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.Producer,this.se.PassengerName]);}}
Luxena.Travel.SimCardEditForm=function(){Luxena.Travel.SimCardEditForm.initializeBase(this);}
Luxena.Travel.SimCardEditForm.prototype={preInitialize:function(){Luxena.Travel.SimCardEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$21;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.Number,this.se.$8,this.se.ReissueFor,this.se.$2,this.se.Producer,this.se.IsSale,this.se.$4,this.se.Intermediary,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.InsuranceSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().required();this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required();this.FinishDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();Luxena.Travel.InsuranceSemantic.initializeBase(this);this._name='Insurance';this._className='Insurance';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430';this._titles='\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0438';this.ReissueFor.reference('Insurance');this.Producer.title('\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u0430\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').reference('InsuranceCompany').required();}
Luxena.Travel.InsuranceSemantic.prototype={initialize:function(){Luxena.Travel.InsuranceSemantic.callBaseMethod(this, 'initialize');this.Number.setColumn(false,100,this.$10());Luxena.Travel.ProductSemantic.$B(this.PassengerName,this.$2);}}
Luxena.Travel.InsuranceListTab=function(tabId,args){Luxena.Travel.InsuranceListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.InsuranceListTab.prototype={preInitialize:function(){Luxena.Travel.InsuranceListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$22;},se:null,onInitGrid:function(args,config){Luxena.Travel.InsuranceListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['PassengerDtos','RequiresProcessing','IsVoid','Name'];},createCustomColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Number.toColumn(true,150,this.se.getNameRenderer()),this.se.PnrCode.toColumn(true,150,this.se.getNameRenderer()),this.se.TourCode.toColumn(true),this.se.PassengerName,this.se.Producer,this.se.Provider,this.se.Country.toColumn(true),this.se.StartDate,this.se.FinishDate]);}}
Luxena.Travel.InsuranceEditForm=function(){Luxena.Travel.InsuranceEditForm.initializeBase(this);}
Luxena.Travel.InsuranceEditForm.prototype={preInitialize:function(){Luxena.Travel.InsuranceEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$22;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.rowPanel2v(this.se.IssueDate,null,this.se.ReissueFor,null),this.se.Number,this.se.$8,(this.get_isRefund())?this.se.RefundedProduct:null,this.se.$2,this.se.Producer,this.se.$4,this.se.Intermediary,this.se.Country,this.se.rowPanel2v(this.se.StartDate,null,this.se.FinishDate,null),this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.AviaDocumentSemantic=function(){this.Passenger=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').reference('Person');this.AirlineIataCode=Luxena.Travel.SemanticEntity.get_member().string(2);this.AirlinePrefixCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0410\u041a').string(3);this.AirlineName=Luxena.Travel.SemanticEntity.get_member().string();this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string();this.ConjunctionNumbers=Luxena.Travel.SemanticEntity.get_member().string();this.GdsPassportStatus=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0432 GDS').enumItems([[1,'\u0415\u0441\u0442\u044c'],[3,'\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0435\u043d'],[2,'\u041d\u0435\u0442'],[0,'\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e']]).required().defaultValue(0);this.GdsPassport=Luxena.Travel.SemanticEntity.get_member().string();this.Itinerary=Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0430\u0440\u0448\u0440\u0443\u0442').string();this.PaymentForm=Luxena.Travel.SemanticEntity.get_member().string();this.PaymentDetails=Luxena.Travel.SemanticEntity.get_member().string();this.AirlinePnrCode=Luxena.Travel.SemanticEntity.get_member().string();this.Remarks=Luxena.Travel.SemanticEntity.get_member().string();this.Fees=Luxena.Travel.SemanticEntity.get_member();this.Voidings=Luxena.Travel.SemanticEntity.get_member();this.FullNumber=Luxena.Travel.SemanticEntity.get_member().string();this.GdsFileIsExported=Luxena.Travel.SemanticEntity.get_member().bool().required();Luxena.Travel.AviaDocumentSemantic.initializeBase(this);this._name='AviaDocument';this._className='AviaDocument';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$25,$p1_0.$26,$p1_0.$27];};this._title='\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442';this._titles='\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b';this.ReissueFor.reference('AviaDocument');this.Producer.reference('Airline');this.Provider.title('\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a');}
Luxena.Travel.AviaDocumentSemantic.prototype={initialize:function(){Luxena.Travel.AviaDocumentSemantic.callBaseMethod(this, 'initialize');this.FullNumber.toEditor=ss.Delegate.create(new Luxena.Travel.AviaDocument_FullNumberEditor(this),new Luxena.Travel.AviaDocument_FullNumberEditor(this).toEditor);this.RefundedProduct.setEditor(0,function($p1_0){
$p1_0.dataProxy(Luxena.Travel.Services.AviaService.suggestNotRefundedDocumentsProxy());});Luxena.Travel.ProductSemantic.$A(this.PassengerName,this.Passenger,this.$2);this.GdsPassportStatus.setEditor(-2);this.Country._required=false;}}
Luxena.Travel.ProductSemantic=function(){this.Type=Luxena.Travel.SemanticEntity.get_member().enumItems([[8,'\u041f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u0435'],[2,'\u041c\u0421\u041e'],[1,'\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442'],[0,'\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442'],[13,'\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442'],[16,'\u0410\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442'],[11,'\u0410\u0440\u0435\u043d\u0434\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f'],[6,'\u042d\u043a\u0441\u043a\u0443\u0440\u0441\u0438\u044f'],[12,'\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0443\u0441\u043b\u0443\u0433\u0430'],[10,'\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430'],[15,'\u0421\u0442\u0440\u0430\u0445\u043e\u0432\u043a\u0430'],[5,'\u0421\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u0438\u0439 \u0431\u0438\u043b\u0435\u0442'],[3,'\u0416/\u0434 \u0431\u0438\u043b\u0435\u0442'],[14,'\u0412\u043e\u0437\u0432\u0440\u0430\u0442 \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u0430'],[4,'SIM-\u043a\u0430\u0440\u0442\u0430'],[7,'\u0422\u0443\u0440 (\u0433\u043e\u0442\u043e\u0432\u044b\u0439)'],[9,'\u0422\u0440\u0430\u043d\u0441\u0444\u0435\u0440']]).required();this.Name=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435').string().entityName();this.PassengerName=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440').string();this.IssueDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430').date().required();this.PureNumber=Luxena.Travel.SemanticEntity.get_member().string();this.PnrCode=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0430').string();this.TourCode=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0443\u0440\u043a\u043e\u0434').string();this.Producer=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440').reference('Organization');this.Provider=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440').reference('Organization');this.ReissueFor=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u0432\u044b\u043f\u0443\u0441\u043a \u0434\u043b\u044f').reference('Product');this.RefundedProduct=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442').reference('Product');this.Passengers=Luxena.Travel.SemanticEntity.get_member();this.PassengerDtos=Luxena.Travel.SemanticEntity.get_member();this.IsRefund=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsReservation=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsProcessed=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d').bool().required();this.MustBeUnprocessed=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsVoid=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();this.RequiresProcessing=Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435').bool().required();this.IsDelivered=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsPaid=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u043b\u0430\u0447\u0435\u043d').bool().required();this.Customer=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').reference('Customer');this.Order=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');this.Intermediary=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0440\u0435\u0434\u043d\u0438\u043a').reference('Party');this.Country=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0440\u0430\u043d\u0430').reference('Country').required();this.Booker=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a').reference('Person');this.BookerOffice=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430').emptyText('\u043e\u0444\u0438\u0441').string(20);this.BookerCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430').emptyText('\u043a\u043e\u0434').string(20);this.Ticketer=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043a\u0435\u0442\u0435\u0440').reference('Person');this.TicketerOffice=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0444\u0438\u0441 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430').emptyText('\u043e\u0444\u0438\u0441').string(20);this.TicketerCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0442\u0438\u043a\u0435\u0442\u0435\u0440\u0430').emptyText('\u043a\u043e\u0434').string(20);this.TicketingIataOffice=Luxena.Travel.SemanticEntity.get_member().title('IATA \u043e\u0444\u0438\u0441').string(10);this.IsTicketerRobot=Luxena.Travel.SemanticEntity.get_member().bool().required();this.Seller=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446').reference('Person');this.Owner=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').enumReference('DocumentOwner');this.LegalEntity=Luxena.Travel.SemanticEntity.get_member().title('\u042e\u0440\u043b\u0438\u0446\u043e').reference('Organization');this.Fare=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0430\u0440\u0438\u0444').money();this.Fare_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.Fare_USD=Luxena.Travel.SemanticEntity.get_member().money();this.EqualFare=Luxena.Travel.SemanticEntity.get_member().title('\u042d\u043a\u0432. \u0442\u0430\u0440\u0438\u0444').defaultMoney();this.EqualFare_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.EqualFare_USD=Luxena.Travel.SemanticEntity.get_member().money();this.FeesTotal=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0430\u043a\u0441\u044b').defaultMoney();this.FeesTotal_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.FeesTotal_USD=Luxena.Travel.SemanticEntity.get_member().money();this.ConsolidatorCommission=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430').money();this.Total=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0442\u043e\u0433\u043e').defaultMoney();this.Total_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.Total_USD=Luxena.Travel.SemanticEntity.get_member().money();this.BookingFee=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0431\u043e\u0440 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f').money();this.CancelFee=Luxena.Travel.SemanticEntity.get_member().title('\u0428\u0442\u0440\u0430\u0444 \u0437\u0430 \u043e\u0442\u043c\u0435\u043d\u0443').defaultMoney();this.CancelFee_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.CancelFee_USD=Luxena.Travel.SemanticEntity.get_member().money();this.Vat=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').defaultMoney();this.Vat_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.Vat_USD=Luxena.Travel.SemanticEntity.get_member().money();this.Commission=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f').defaultMoney();this.Commission_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.Commission_USD=Luxena.Travel.SemanticEntity.get_member().money();this.CommissionDiscount=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043a\u0438\u0434\u043a\u0430 \u043e\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438').defaultMoney();this.CommissionDiscount_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.CommissionDiscount_USD=Luxena.Travel.SemanticEntity.get_member().money();this.ServiceFee=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440').defaultMoney();this.ServiceFee_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.ServiceFee_USD=Luxena.Travel.SemanticEntity.get_member().money();this.Handling=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f. \u0434\u043e\u0445\u043e\u0434').defaultMoney();this.Handling_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.Handling_USD=Luxena.Travel.SemanticEntity.get_member().money();this.HandlingN=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f. \u0440\u0430\u0441\u0445\u043e\u0434').defaultMoney();this.HandlingN_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.HandlingN_USD=Luxena.Travel.SemanticEntity.get_member().money();this.Discount=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043a\u0438\u0434\u043a\u0430').defaultMoney();this.Discount_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.Discount_USD=Luxena.Travel.SemanticEntity.get_member().money();this.BonusDiscount=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u043e\u043d\u0443\u0441\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430').defaultMoney();this.BonusDiscount_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.BonusDiscount_USD=Luxena.Travel.SemanticEntity.get_member().money();this.BonusAccumulation=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u043e\u043d\u0443\u0441\u043d\u043e\u0435 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u0435').defaultMoney();this.BonusAccumulation_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.BonusAccumulation_USD=Luxena.Travel.SemanticEntity.get_member().money();this.RefundServiceFee=Luxena.Travel.SemanticEntity.get_member().title('C\u0431\u043e\u0440 \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442').defaultMoney();this.RefundServiceFee_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.RefundServiceFee_USD=Luxena.Travel.SemanticEntity.get_member().money();this.ServiceFeePenalty=Luxena.Travel.SemanticEntity.get_member().title('\u0428\u0442\u0440\u0430\u0444 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430').defaultMoney();this.ServiceFeePenalty_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.ServiceFeePenalty_USD=Luxena.Travel.SemanticEntity.get_member().money();this.ServiceTotal=Luxena.Travel.SemanticEntity.get_member().money();this.GrandTotal=Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043e\u043f\u043b\u0430\u0442\u0435').defaultMoney();this.GrandTotal_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.GrandTotal_USD=Luxena.Travel.SemanticEntity.get_member().money();this.CancelCommissionPercent=Luxena.Travel.SemanticEntity.get_member().float2();this.CancelCommission=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0438\u044f \u0437\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442').money();this.CancelCommission_EUR=Luxena.Travel.SemanticEntity.get_member().money();this.CancelCommission_USD=Luxena.Travel.SemanticEntity.get_member().money();this.CommissionPercent=Luxena.Travel.SemanticEntity.get_member().title('% \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438').float2();this.TotalToTransfer=Luxena.Travel.SemanticEntity.get_member().money();this.Profit=Luxena.Travel.SemanticEntity.get_member().money();this.ExtraCharge=Luxena.Travel.SemanticEntity.get_member().money();this.PaymentType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b').enumItems([[1,'Cash'],[3,'Check'],[4,'CreditCard'],[5,'Exchange'],[2,'Invoice'],[0,'Unknown'],[6,'\u0411\u0435\u0437 \u043e\u043f\u043b\u0430\u0442\u044b']]).required();this.TaxRateOfProduct=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0432\u043a\u0430 \u041d\u0414\u0421 \u0434\u043b\u044f \u0443\u0441\u043b\u0443\u0433\u0438').enumItems([[1,'\u0410 (\u0441 \u041d\u0414\u0421)'],[2,'\u0411 (\u0431\u0435\u0437 \u041d\u0414\u0421)'],[5,'\u0414 (\u0431\u0435\u0437 \u041d\u0414\u0421)'],[0,'\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e'],[-1,'\u043d\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c']]).required();this.TaxRateOfServiceFee=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0432\u043a\u0430 \u041d\u0414\u0421 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430').enumItems([[1,'\u0410 (\u0441 \u041d\u0414\u0421)'],[2,'\u0411 (\u0431\u0435\u0437 \u041d\u0414\u0421)'],[5,'\u0414 (\u0431\u0435\u0437 \u041d\u0414\u0421)'],[0,'\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e'],[-1,'\u043d\u0435 \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c']]).required();this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);this.Originator=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u0442\u043e\u0440').enumItems([[13,'Air Arabia'],[16,'AirLife'],[4,'Airline'],[1,'Amadeus'],[18,'Amadeus Altea'],[22,'Crazy Llama'],[10,'Delta TRAVEL'],[23,'Drct Aero'],[8,'E-Travels'],[12,'Fly Dubai'],[5,'Gabriel'],[2,'Galileo'],[7,'IATI'],[14,'Pegasus'],[17,'Sabre'],[3,'Sirena'],[19,'SPRK'],[9,'Ticket Consolidator'],[11,'Tickets.UA'],[20,'Travel & Marketing'],[21,'Travel Point'],[0,'Unknown'],[15,'\u0412\u0456\u0430\u041a\u0438\u0457\u0432'],[6,'Wizz Air']]).required();this.Origin=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a').enumItems([[0,'AmadeusAir'],[1,'AmadeusPrint'],[8,'AmadeusXml'],[4,'BspLink'],[14,'Drct'],[12,'GalileoBusXml'],[2,'GalileoMir'],[10,'GalileoRailXml'],[3,'GalileoTkt'],[7,'GalileoXml'],[11,'LuxenaXml'],[5,'Manual'],[9,'SabreFil'],[15,'SabreTerminal'],[6,'SirenaXml'],[16,'SPRK'],[13,'TravelPointXml']]).required();this.OriginalDocument=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442').reference('GdsFile');this.ProducerOrProviderAirlineIataCode=Luxena.Travel.SemanticEntity.get_member().string();this.TextForOrderItem=Luxena.Travel.SemanticEntity.get_member().string();this.IsAviaDocument=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsAviaTicket=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsAviaRefund=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsAviaMco=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsPasteboard=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsPasteboardRefund=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsSimCard=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsIsic=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsExcursion=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsTour=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsAccommodation=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsTransfer=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsInsurance=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsInsuranceRefund=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsCarRental=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsGenericProduct=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsBusTicket=Luxena.Travel.SemanticEntity.get_member().bool().required();this.IsBusTicketRefund=Luxena.Travel.SemanticEntity.get_member().bool().required();this.$0=Luxena.Travel.SemanticEntity.get_member().reference('Product').title(Luxena.Travel.DomainRes.common_ReissuedBy);this.$1=Luxena.Travel.SemanticEntity.get_member().reference('Product').title(Luxena.Travel.DomainRes.product_Refund);this.$2=Luxena.Travel.SemanticEntity.get_member();this.$3=Luxena.Travel.SemanticEntity.get_member();this.$4=Luxena.Travel.SemanticEntity.get_member();this.$5=Luxena.Travel.SemanticEntity.get_member();this.$6=Luxena.Travel.SemanticEntity.get_member();this.$7=Luxena.Travel.SemanticEntity.get_member();this.$8=Luxena.Travel.SemanticEntity.get_member();this.$9=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.ProductSemantic.initializeBase(this);this._name='Product';this._className='Product';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$18,$p1_0.$19,$p1_0.$1A,$p1_0.$1B,$p1_0.$1C,$p1_0.$1D,$p1_0.$1E,$p1_0.$1F,$p1_0.$20,$p1_0.$21,$p1_0.$22,$p1_0.$23,$p1_0.$25,$p1_0.$26,$p1_0.$27];};this._title='\u0423\u0441\u043b\u0443\u0433\u0430';this._titles='\u0412\u0441\u0435 \u0443\u0441\u043b\u0443\u0433\u0438';}
Luxena.Travel.ProductSemantic.$A=function($p0,$p1,$p2){$p0.setColumn(false,165,Luxena.Travel.ProductSemantic.$D);$p0.setEditor(-1,function($p1_0){
$p1_0.label(Luxena.Travel.DomainRes.aviaDocument_Passenger);$p1_0.boldLabel();});$p1.setEditor(-1,function($p1_0){
$p1_0.dataProxy(LxnBase.Services.GenericService.suggestProxy('Person'));$p1_0.hideLabel();});$p2.toEditor=function(){
return Luxena.Travel.SemanticEntity.rowPanel_([$p0.toEditor(),Luxena.Travel.SemanticEntity.textComponent_('/'),$p1.toEditor()]);};}
Luxena.Travel.ProductSemantic.$B=function($p0,$p1){$p0.setColumn(false,165,Luxena.Travel.ProductSemantic.$F);var $0=$p1.editForm;$p1.toEditor=function(){
var $1_0=new Luxena.Travel.ProductPassengerGridControl(16+2*$0.get_fieldMaxWidth(),160);$1_0.fieldLabel='<br><br><br><b>'+Luxena.Travel.DomainRes.common_Passenger+'</b>';var $1_1=new Luxena.Travel.FormMember($0,$p1,null);$1_1.add_onLoadValue(function(){
var $2_0=$0.getValue('Passengers');$1_0.setInitialData($0,$2_0);});$1_1.add_onSaveValue(function(){
var $2_0=$1_0.get_items();$0.setValue('Passengers',$2_0);});$1_1.add_onIsModified(function(){
return $1_0.get_isModified();});$0.get_members().add($1_1);return $1_0;};}
Luxena.Travel.ProductSemantic.$C=function($p0,$p1){return (!ss.isValue($p0))?$p1:(!ss.isValue($p1))?LxnBase.UI.Controls.ObjectLink.renderInfo($p0):String.format('{0} / {1}',$p1,LxnBase.UI.Controls.ObjectLink.renderInfo($p0));}
Luxena.Travel.ProductSemantic.$D=function($p0,$p1,$p2,$p3,$p4,$p5){var $0=$p2.get('Passenger');if($0==null){return $p0;}var $1=Type.safeCast($0,Array);if($1!=null){return LxnBase.UI.Controls.ObjectLink.render($1[LxnBase.Data.Reference.IdPos],$p0,$1[LxnBase.Data.Reference.TypePos]);}return LxnBase.UI.Controls.ObjectLink.renderInfo($0);}
Luxena.Travel.ProductSemantic.$E=function($p0,$p1,$p2,$p3,$p4,$p5){var $0=$p2.get('Passenger');return Luxena.Travel.ProductSemantic.$C($0,$p0);}
Luxena.Travel.ProductSemantic.$F=function($p0,$p1,$p2,$p3,$p4,$p5){var $0=Type.safeCast($p2.get('PassengerDtos'),Array);if($0==null){return $p0;}var $1='';var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;if(!!$1){$1+=', ';}$1+=Luxena.Travel.ProductSemantic.$C($2.Passenger,$2.PassengerName);}return $1;}
Luxena.Travel.ProductSemantic.prototype={initialize:function(){this.$4.toEditor=ss.Delegate.create(new Luxena.Travel.Product_CustomerAndOrderEditor(this),new Luxena.Travel.Product_CustomerAndOrderEditor(this).toEditor);this.$9.toEditor=ss.Delegate.create(new Luxena.Travel.Product_FinanceEditor(this),new Luxena.Travel.Product_FinanceEditor(this).toEditor);this.$7.toEditor=ss.Delegate.create(this,function(){
var $1_0=this.editForm;var $1_1=this.Seller.toField(-1,Luxena.Travel.SemanticEntity.boldLabel);var $1_2;if($1_0.get_displayOwnerAsLabel()){$1_2=new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().hideLabel(true).labelSeparator('').value($1_0.productOwners[0].Name).toDictionary());this.editForm.get_members().add3(this.editForm,function(){
},ss.Delegate.create(this,function(){
var $2_0=this.editForm.getValue(this.Owner._name);if(!ss.isValue($2_0)){$2_0=$1_0.productOwners[0];}this.editForm.setValue(this.Owner._name,$2_0);}));}else{var $1_3=new Luxena.Travel.ReferenceSelectorConfig($1_0.productOwners).hideLabel(true).labelSeparator('').width(this.editForm.get_fieldMaxWidth());var $1_4=this.editForm.get_members().add2(this.editForm,this.Owner,$1_3,null);$1_2=new LxnBase.UI.Controls.ComboBox($1_3.toDictionary());$1_4.setField($1_2);$1_4.add_onSaveValue(ss.Delegate.create(this,function(){
var $2_0=($1_2).getObjectInfo();this.editForm.setValue('Owner',$2_0);}));}return this.rowPanel([$1_1,this.textComponent('/'),$1_2]);});this.IssueDate.setColumn(false,null,this.getDateRenderer());this.ReissueFor.setColumn(true,100);this.Name.setColumn(false,100,this.$10());this.Intermediary.setColumn(true);this.Customer.setColumn(false,135);this.PaymentType.setColumn(true);this.$5.toEditor=ss.Delegate.create(this,function(){
return this.rowPanel([this.Booker.toField(),this.textComponent('/'),this.BookerOffice.toField(80,Luxena.Travel.SemanticEntity.hideLabel),this.textComponent('-'),this.BookerCode.toField(65,Luxena.Travel.SemanticEntity.hideLabel)]);});this.$6.toEditor=ss.Delegate.create(this,function(){
return this.rowPanel([this.Ticketer.toField(),this.textComponent('/'),this.TicketerOffice.toField(80,Luxena.Travel.SemanticEntity.hideLabel),this.textComponent('-'),this.TicketerCode.toField(65,Luxena.Travel.SemanticEntity.hideLabel)]);});this.PnrCode.setEditor(-2);this.TourCode.setEditor(-2);this.$8.toEditor=ss.Delegate.create(this,function(){
return this.rowPanel([this.PnrCode.toField(71,function($p2_0){
$p2_0.label(String.format('{0} / {1}',Luxena.Travel.DomainRes.aviaDocument_PnrCode,Luxena.Travel.DomainRes.aviaDocument_TourCode));}),this.textComponent('/'),this.TourCode.toField(72,Luxena.Travel.SemanticEntity.hideLabel)]);});this.EqualFare.setColumn(false,85,null,function($p1_0){
$p1_0.header(Luxena.Travel.DomainRes.common_Fare);});this.FeesTotal.setColumn(false,85);this.Vat.setColumn(false,85);this.Total.setColumn(false,85);this.ServiceFee.setColumn(true);this.Handling.setColumn(true);this.CommissionDiscount.setColumn(true);this.Discount.setColumn(true);this.GrandTotal.setColumn(false,95);this.Order.setColumn(false,80);this.Commission.setColumn(true);this.Seller.setColumn(true,110);this.Owner.setColumn(true,110);this.LegalEntity.setEditor(-3);this.IsProcessed.setColumn(true,70);this.IsVoid.setColumn(true,70);this.RequiresProcessing.setColumn(true,70);this.IsPaid.setColumn(true,70);this.Note.setColumn(true,100).setEditor(645,function($p1_0){
$p1_0.height(48);$p1_0.itemCls('commentField');});this.CreatedOn.setColumn(true);this.CreatedBy.setColumn(true);this.ModifiedOn.setColumn(true);this.ModifiedBy.setColumn(true);},$10:function(){return ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
if(ss.isNullOrUndefined($p1_0)){return String.format("<div style='text-align: center'>{0}</div>",LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(this._className)(Luxena.Travel.Res.aviaDocument_NoNumber,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5));}return LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(this._className)($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5);});}}
Luxena.Travel.AviaTicketSemantic=function(){this.Departure=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();this.Arrival=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f').emptyText('\u0434\u0430\u0442\u0430').date();this.LastDeparture=Luxena.Travel.SemanticEntity.get_member().date();this.FareBasises=Luxena.Travel.SemanticEntity.get_member().string();this.Domestic=Luxena.Travel.SemanticEntity.get_member().bool().required();this.Interline=Luxena.Travel.SemanticEntity.get_member().bool().required();this.SegmentClasses=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043b\u0430\u0441\u0441\u044b \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u043e\u0432').string();this.Endorsement=Luxena.Travel.SemanticEntity.get_member().string();this.IsManual=Luxena.Travel.SemanticEntity.get_member().bool().required();this.Segments=Luxena.Travel.SemanticEntity.get_member();this.FareTotal=Luxena.Travel.SemanticEntity.get_member().money();this.PenalizeOperations=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.AviaTicketSemantic.initializeBase(this);this._name='AviaTicket';this._className='AviaTicket';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442';this._titles='\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u044b';}
Luxena.Travel.AviaTicketListTab=function(tabId,args){Luxena.Travel.AviaTicketListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AviaTicketListTab.prototype={preInitialize:function(){Luxena.Travel.AviaTicketListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$25;},se:null}
Luxena.Travel.AviaTicketEditForm=function(){Luxena.Travel.AviaTicketEditForm.initializeBase(this);}
Luxena.Travel.AviaTicketEditForm.prototype={preInitialize:function(){Luxena.Travel.AviaTicketEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$25;},se:null,initialize:function(){this.get_window().cls+=' tabbed';this.get_form().cls='tabbed';},createControls:function(){var $0=this.columnPanel([this.mainDataPanel([this.se.IssueDate,this.se.FullNumber,this.se.$8,this.se.ReissueFor,this.se.$2,this.se.GdsPassportStatus,this.se.Provider.toField(-3),this.se.$4,this.se.Intermediary,this.se.Country,this.se.Originator,this.se.$5,this.se.$6,this.se.TicketingIataOffice,this.se.$7,this.se.LegalEntity]),this.se.$9]);$0.title=Luxena.Travel.DomainRes.productType_AviaTicket;this.get_form().add(this.tabPanel(600,[$0,this.tabFitPane(Luxena.Travel.DomainRes.aviaTicket_FlightSegment,this.se.gridMember('Segments',new Luxena.Travel.FlightSegmentGridControl()))]));this.get_form().add(this.se.Note.toEditor());},onSave:function(){Luxena.Travel.Services.AviaService.UpdateAviaTicket(this.getData(),this._args.rangeRequest,ss.Delegate.create(this,this.completeSave),ss.Delegate.create(this,this.failSave));}}
Luxena.Travel.AviaMcoSemantic=function(){this.Description=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435').text(3);this.InConnectionWith=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0432\u044f\u0437\u0430\u043d \u0441').reference('AviaDocument');Luxena.Travel.AviaMcoSemantic.initializeBase(this);this._name='AviaMco';this._className='AviaMco';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041c\u0421\u041e';this._titles='\u041c\u0421\u041e';}
Luxena.Travel.AviaMcoListTab=function(tabId,args){Luxena.Travel.AviaMcoListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AviaMcoListTab.prototype={preInitialize:function(){Luxena.Travel.AviaMcoListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$26;},se:null}
Luxena.Travel.AviaMcoEditForm=function(){Luxena.Travel.AviaMcoEditForm.initializeBase(this);}
Luxena.Travel.AviaMcoEditForm.prototype={preInitialize:function(){Luxena.Travel.AviaMcoEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$26;},se:null,createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.IssueDate,this.se.FullNumber,this.se.$8,this.se.ReissueFor,this.se.PassengerName,this.se.Provider.toField(-3),this.se.$4,this.se.Intermediary,this.se.Country,this.se.Originator,this.se.$5,this.se.$6,this.se.TicketingIataOffice,this.se.$7,this.se.LegalEntity,this.se.Description.toField(350,function($p1_0){
$p1_0.height(35);})]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.AviaRefundSemantic=function(){this.RefundedDocument=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442').reference('AviaDocument');Luxena.Travel.AviaRefundSemantic.initializeBase(this);this._name='AviaRefund';this._className='AviaRefund';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442';this._titles='\u0410\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b';}
Luxena.Travel.AviaRefundListTab=function(tabId,args){Luxena.Travel.AviaRefundListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AviaRefundListTab.prototype={preInitialize:function(){Luxena.Travel.AviaRefundListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$27;},se:null}
Luxena.Travel.AviaRefundEditForm=function(){Luxena.Travel.AviaRefundEditForm.initializeBase(this);}
Luxena.Travel.AviaRefundEditForm.prototype={preInitialize:function(){Luxena.Travel.AviaRefundEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$27;},se:null,get_isRefund:function(){return true;},createControls:function(){this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.IssueDate,this.se.FullNumber,this.se.$8,this.se.RefundedProduct,this.se.PassengerName,this.se.Provider.toField(-3),this.se.$4,this.se.Intermediary,this.se.Country,this.se.Originator,this.se.$5,this.se.$6,this.se.TicketingIataOffice,this.se.$7,this.se.LegalEntity]),this.se.$9]));this.get_form().add(this.mainDataPanel([this.se.Note]));}}
Luxena.Travel.CountrySemantic=function(){this.TwoCharCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 (2-\u0445 \u0441\u0438\u043c.)').string();this.ThreeCharCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 (3-\u0445 \u0441\u0438\u043c.)').string();this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(10);Luxena.Travel.CountrySemantic.initializeBase(this);this._name='Country';this._className='Country';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u0421\u0442\u0440\u0430\u043d\u0430';this._titles='\u0421\u0442\u0440\u0430\u043d\u044b';}
Luxena.Travel.CountryListTab=function(tabId,args){Luxena.Travel.CountryListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.CountryListTab.prototype={preInitialize:function(){Luxena.Travel.CountryListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$28;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name.toColumn(false,150),this.se.TwoCharCode.toColumn(false,80),this.se.ThreeCharCode.toColumn(false,80),this.se.Note.toColumn(false,500),this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);}}
Luxena.Travel.CountryEditForm=function(){Luxena.Travel.CountryEditForm.initializeBase(this);}
Luxena.Travel.CountryEditForm.prototype={preInitialize:function(){Luxena.Travel.CountryEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$28;},se:null,createControls:function(){this.get_window().width=-3;this.get_form().add(this.mainDataPanel([this.se.Name.toField(-3),this.se.TwoCharCode,this.se.ThreeCharCode,this.emptyRow(),this.se.Note.toField(-3,function($p1_0){
$p1_0.height(200);})]));}}
Luxena.Travel.AirlineServiceClassSemantic=function(){this.Airline=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').emptyText('\u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').reference('Organization');this.Code=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string().entityName();this.ServiceClass=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441').enumItems([[3,'\u0411\u0438\u0437\u043d\u0435\u0441'],[1,'\u042d\u043a\u043e\u043d\u043e\u043c'],[4,'\u041f\u0435\u0440\u0432\u044b\u0439'],[2,'\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c'],[0,'\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e']]).required();Luxena.Travel.AirlineServiceClassSemantic.initializeBase(this);this._name='AirlineServiceClass';this._className='AirlineServiceClass';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Code';this._title='\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';this._titles='\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441\u044b \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439';}
Luxena.Travel.AirlineServiceClassListTab=function(tabId,args){Luxena.Travel.AirlineServiceClassListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AirlineServiceClassListTab.prototype={preInitialize:function(){Luxena.Travel.AirlineServiceClassListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$29;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Airline,this.se.Code,this.se.ServiceClass,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},onAddToolbarButtons:function(toolbarItems,autoGrid){this.$7_8=this.getOperationStatus('ApplyServiceClassToDocuments');if(!this.$7_8.Visible){return;}this.$7_7=this.action(Luxena.Travel.Res.applyToDocuments_Text,ss.Delegate.create(this,this.$7_6),this.$7_8.IsDisabled,this.$7_8.DisableInfo);toolbarItems.add(new Ext.Toolbar.Separator());toolbarItems.add(this.$7_7);},onSelectionChange:function(model){if(!this.$7_8.IsEnabled){return;}this.$7_7.setDisabled((model).getCount()!==1);},$7_6:function(){var $0=this.get_autoGrid().get_selectionModel().getSelections();var $1=[];var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1.add($3.id);}var $2=new Luxena.Travel.SetDataToDocumentsForm(Luxena.Travel.Res.applyServiceClass_Title,'AirlineServiceClass');$2.add_saved(function($p1_0){
if(!$p1_0){return;}var $1_0=LxnBase.StringUtility.getNumberText($p1_0,Luxena.Travel.Res.appliedDataToDocuments_Text1,Luxena.Travel.Res.appliedDataToDocuments_Text2,Luxena.Travel.Res.appliedDataToDocuments_Text3);LxnBase.MessageRegister.info(Luxena.Travel.Res.applyServiceClass_Title,$1_0);});$2.open($1);},$7_7:null,$7_8:null}
Luxena.Travel.AirlineServiceClassEditForm=function(){Luxena.Travel.AirlineServiceClassEditForm.initializeBase(this);}
Luxena.Travel.AirlineServiceClassEditForm.prototype={preInitialize:function(){Luxena.Travel.AirlineServiceClassEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$29;},se:null,createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.Airline,this.se.Code,this.se.ServiceClass]));}}
Luxena.Travel.AirlineMonthCommissionSemantic=function(){this.Airline=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').emptyText('\u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f').reference('Organization').required();this.DateFrom=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430').date().required().entityName();this.DateTo=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f').date();this.CommissionPc=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043f.\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f, %').float2();Luxena.Travel.AirlineMonthCommissionSemantic.initializeBase(this);this._name='AirlineMonthCommission';this._className='AirlineMonthCommission';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='DateFrom';this._title='\u0414\u043e\u043f.\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';this._titles='\u0414\u043e\u043f.\u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439';}
Luxena.Travel.AirlineMonthCommissionListTab=function(tabId,args){Luxena.Travel.AirlineMonthCommissionListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AirlineMonthCommissionListTab.prototype={preInitialize:function(){Luxena.Travel.AirlineMonthCommissionListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2A;},se:null,createColumnConfigs:function(){this.addColumns([this.se.DateFrom.toColumn(false,80),this.se.DateTo.toColumn(true,80),this.se.Airline,this.se.CommissionPc.toColumn(false,80),this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);}}
Luxena.Travel.AirlineMonthCommissionEditForm=function(){Luxena.Travel.AirlineMonthCommissionEditForm.initializeBase(this);}
Luxena.Travel.AirlineMonthCommissionEditForm.prototype={preInitialize:function(){Luxena.Travel.AirlineMonthCommissionEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2A;},se:null,createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.Airline,this.se.DateFrom,this.se.CommissionPc]));}}
Luxena.Travel.AirportSemantic=function(){this.Code=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string();this.Country=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0440\u0430\u043d\u0430').reference('Country');this.Settlement=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 (\u0430\u043d\u0433\u043b.)').string();this.LocalizedSettlement=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442').string();this.Latitude=Luxena.Travel.SemanticEntity.get_member().title('\u0428\u0438\u0440\u043e\u0442\u0430').float2();this.Longitude=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u043b\u0433\u043e\u0442\u0430').float2();Luxena.Travel.AirportSemantic.initializeBase(this);this._name='Airport';this._className='Airport';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Code';this._title='\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442';this._titles='\u0410\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u044b';}
Luxena.Travel.AirportListTab=function(tabId,args){Luxena.Travel.AirportListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AirportListTab.prototype={preInitialize:function(){Luxena.Travel.AirportListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2B;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Code,this.se.Country,this.se.Settlement,this.se.LocalizedSettlement,this.se.Latitude.toColumn(true),this.se.Longitude.toColumn(true),this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);}}
Luxena.Travel.AirportEditForm=function(){Luxena.Travel.AirportEditForm.initializeBase(this);}
Luxena.Travel.AirportEditForm.prototype={preInitialize:function(){Luxena.Travel.AirportEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2B;},se:null,createControls:function(){this.get_window().width=-1;this.get_form().labelWidth=150;this.get_form().add(this.mainDataPanel([this.se.Name,this.se.Code,this.se.Country,this.se.Settlement,this.se.LocalizedSettlement,this.se.Latitude,this.se.Longitude]));}}
Luxena.Travel.PaymentSystemSemantic=function(){Luxena.Travel.PaymentSystemSemantic.initializeBase(this);this._name='PaymentSystem';this._className='PaymentSystem';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430';this._titles='\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b';}
Luxena.Travel.PaymentSystemListTab=function(tabId,args){Luxena.Travel.PaymentSystemListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.PaymentSystemListTab.prototype={preInitialize:function(){Luxena.Travel.PaymentSystemListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2C;},se:null}
Luxena.Travel.PaymentSystemEditForm=function(){Luxena.Travel.PaymentSystemEditForm.initializeBase(this);}
Luxena.Travel.PaymentSystemEditForm.prototype={preInitialize:function(){Luxena.Travel.PaymentSystemEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2C;},se:null}
Luxena.Travel.CurrencySemantic=function(){this.Code=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string().entityName();this.NumericCode=Luxena.Travel.SemanticEntity.get_member().title('\u0427\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u043a\u043e\u0434').int32().required();this.CyrillicCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u0438\u0440\u0438\u043b\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u043a\u043e\u0434').string();Luxena.Travel.CurrencySemantic.initializeBase(this);this._name='Currency';this._className='Currency';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Code';this._title='\u0412\u0430\u043b\u044e\u0442\u0430';this._titles='\u0412\u0430\u043b\u044e\u0442\u044b';}
Luxena.Travel.CurrencyListTab=function(tabId,args){Luxena.Travel.CurrencyListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.CurrencyListTab.prototype={preInitialize:function(){Luxena.Travel.CurrencyListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2D;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name,this.se.Code,this.se.NumericCode,this.se.CyrillicCode,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);}}
Luxena.Travel.CurrencyEditForm=function(){Luxena.Travel.CurrencyEditForm.initializeBase(this);}
Luxena.Travel.CurrencyEditForm.prototype={preInitialize:function(){Luxena.Travel.CurrencyEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$2D;},se:null,createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.Name,this.se.Code,this.se.NumericCode,this.se.CyrillicCode]));}}
Luxena.Travel.IdentitySemantic=function(){this.Preferences=Luxena.Travel.SemanticEntity.get_member();Luxena.Travel.IdentitySemantic.initializeBase(this);this._name='Identity';this._className='Identity';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [$p1_0.$2F];};}
Luxena.Travel.UserSemantic=function(){this.Person=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person');this.Password=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0430\u0440\u043e\u043b\u044c').password();this.ConfirmPassword=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f').confirmPassword('Password');this.Active=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439').bool().required().defaultValue(true);this.IsAdministrator=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440').bool().required().secondary();this.IsSupervisor=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u043f\u0435\u0440\u0432\u0438\u0437\u043e\u0440').bool().required().secondary();this.IsAgent=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0433\u0435\u043d\u0442').bool().required().secondary();this.IsCashier=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u0430\u0441\u0441\u0438\u0440').bool().required().secondary();this.IsAnalyst=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a').bool().required().secondary();this.IsSubAgent=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u0431\u0430\u0433\u0435\u043d\u0442').bool().required().secondary();this.AllowCustomerReport=Luxena.Travel.SemanticEntity.get_member().title("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c '\u041e\u0442\u0447\u0451\u0442 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0443'").bool().required().secondary();this.AllowRegistryReport=Luxena.Travel.SemanticEntity.get_member().title("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c '\u041e\u0442\u0447\u0451\u0442 \u0441 \u0440\u0435\u0435\u0441\u0442\u0440\u043e\u043c'").bool().required().secondary();this.AllowUnbalancedReport=Luxena.Travel.SemanticEntity.get_member().title("\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c '\u0417\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u0430\u043c'").bool().required().secondary();this.SessionId=Luxena.Travel.SemanticEntity.get_member().string();this.Roles=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u043e\u043b\u0438').string();Luxena.Travel.UserSemantic.initializeBase(this);this._name='User';this._className='User';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c';this._titles='\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438';this.Name.title('\u041b\u043e\u0433\u0438\u043d');}
Luxena.Travel.UserVisitSemantic=function(){this.User=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c').reference('User').required();this.StartDate=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u0437\u0430\u0445\u043e\u0434\u0430').dateTime2().required().entityDate().utility();this.IP=Luxena.Travel.SemanticEntity.get_member().title('IP').string().required();this.SessionId=Luxena.Travel.SemanticEntity.get_member().title('SessionId').string().required();this.Request=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0435').text(10);Luxena.Travel.UserVisitSemantic.initializeBase(this);this._name='UserVisit';this._className='UserVisit';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName=null;this._title='\u0417\u0430\u0445\u043e\u0434 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f';this._titles='\u0417\u0430\u0445\u043e\u0434\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439';}
Luxena.Travel.SystemConfigurationSemantic=function(){this.ModifiedOn=Luxena.Travel.SemanticEntity.get_member().date();this.ModifiedBy=Luxena.Travel.SemanticEntity.get_member().string();this.Company=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization');this.CompanyName=Luxena.Travel.SemanticEntity.get_member().string();this.CompanyDetails=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438').text(3);this.Country=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0440\u0430\u043d\u0430').reference('Country');this.DefaultCurrency=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').reference('Currency');this.UseDefaultCurrencyForInput=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u043b\u044e\u0442\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').bool().required();this.VatRate=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0432\u043a\u0430 \u041d\u0414\u0421,%').float2().required();this.AmadeusRizUsingMode=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 riz-\u0434\u0430\u043d\u043d\u044b\u0445 \u0432 Amadeus Air').enumItems([[2,'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e'],[0,'\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c'],[1,'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440']]).required();this.IsPassengerPassportRequired=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f\u043c\u0438').bool().required();this.AviaOrderItemGenerationOption=Luxena.Travel.SemanticEntity.get_member().title('\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u043d\u043a\u043b\u0430\u0442\u0443\u0440 \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u043e \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0443').enumItems([[0,'\u0412\u0441\u0435\u0433\u0434\u0430 \u043e\u0434\u043d\u0430 \u043f\u043e\u0437\u0438\u0446\u0438\u044f'],[2,'\u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e'],[1,'C\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0437\u0438\u0446\u0438\u0435\u0439']]).required();this.AllowAgentSetOrderVat=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041d\u0414\u0421 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435').bool().required();this.UseAviaDocumentVatInOrder=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u041d\u0414\u0421 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430 \u0432 \u0437\u0430\u043a\u0430\u0437\u0435').bool().required();this.AviaDocumentVatOptions=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0441\u0447\u0435\u0442 \u041d\u0414\u0421 \u0432 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0435').enumItems([[1,'\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043e\u0442 \u0438\u0442\u043e\u0433\u0430'],[0,'\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c HF \u0442\u0430\u043a\u0441\u0443']]).required();this.AccountantDisplayString=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u043b\u044f "\u0413\u043b\u0430\u0432\u043d\u044b\u0439 \u0431\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440"').text(3);this.IncomingCashOrderCorrespondentAccount=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0440\u0440\u0435\u0441\u043f\u043e\u043d\u0434\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0441\u0447\u0435\u0442 \u0434\u043b\u044f \u041f\u041a\u041e').string();this.SeparateDocumentAccess=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0434\u0435\u043b\u044f\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u043f\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443').bool().required();this.SeparateDocumentAccessByAgent=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0430\u0437\u0434\u0435\u043b\u044f\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c \u043f\u043e \u0430\u0433\u0435\u043d\u0442\u0443').bool().required();this.AllowOtherAgentsToModifyProduct=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0440\u0443\u0433\u0438\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432').bool().required();this.IsOrganizationCodeRequired=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0415\u0414\u0420\u041f\u041e\u0423 \u0434\u043b\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439').bool().required();this.UseConsolidatorCommission=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u044e \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430').bool().required();this.DefaultConsolidatorCommission=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043a\u043e\u043d\u0441\u043e\u043b\u0438\u0434\u0430\u0442\u043e\u0440\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').money();this.UseAviaHandling=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0430\u0432\u0438\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432').bool().required();this.UseHandlingInVat=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u043f. \u0434\u043e\u0445\u043e\u0434 \u043e\u0442 \u0410\u041a \u043f\u0440\u0438 \u0440\u0430\u0441\u0447\u0451\u0442\u0435 \u041d\u0414\u0421').bool().required();this.UseBonuses=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b').bool().required();this.DaysBeforeDeparture=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043d\u0435\u0439 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f').int32().required();this.BirthdayTaskResponsible=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0437\u0430 \u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438\u043d\u043d\u0438\u043a\u043e\u0432').reference('Person');this.IsOrderRequiredForProcessedDocument=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432').bool().required();this.MetricsFromDate=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441').date();this.ReservationsInOfficeMetrics=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0445 \u043f\u043e \u043e\u0444\u0438\u0441\u0443').bool().required();this.McoRequiresDescription=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f MCO').bool().required();this.NeutralAirlineCode=Luxena.Travel.SemanticEntity.get_member().title('Neutral Airline Code').string();this.Order_UseServiceFeeOnlyInVat=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u044b: \u041d\u0414\u0421 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0442 \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u043e\u0433\u043e \u0441\u0431\u043e\u0440\u0430').bool().required();this.Consignment_NumberMode=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435: \u043d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440').enumItems([[1,'\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430\u043a\u0430\u0437\u0430'],[0,'\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e']]).required();this.Invoice_NumberMode=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u043d\u043e\u0432\u044b\u0439 \u043d\u043e\u043c\u0435\u0440').enumItems([[1,'\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430\u043a\u0430\u0437\u0430'],[0,'\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e']]).required();this.Invoice_CanOwnerSelect=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0412\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u0440\u0438 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u0430').bool().required();this.InvoicePrinter_ShowVat=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u041d\u0414\u0421').bool().required();this.Invoice_DefaultIssuedBy=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u0432\u044b\u043f\u0443\u0449\u0435\u043d \u0430\u0433\u0435\u043d\u0442\u043e\u043c (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)').reference('Person');this.InvoicePrinter_FooterDetails=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u043d\u0432\u043e\u0439\u0441\u044b: \u0432\u0430\u0436\u043d\u043e\u0435 \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(6);this.DrctWebService_LoadedOn=Luxena.Travel.SemanticEntity.get_member().title('DrctWebService_LoadedOn').dateTime2();this.GalileoWebService_LoadedOn=Luxena.Travel.SemanticEntity.get_member().title('GalileoWebService_LoadedOn').dateTime2();this.GalileoRailWebService_LoadedOn=Luxena.Travel.SemanticEntity.get_member().title('GalileoRailWebService_LoadedOn').dateTime2();this.GalileoBusWebService_LoadedOn=Luxena.Travel.SemanticEntity.get_member().title('GalileoBusWebService_LoadedOn').dateTime2();this.TravelPointWebService_LoadedOn=Luxena.Travel.SemanticEntity.get_member().title('TravelPointWebService_LoadedOn').dateTime2();this.Consignment_SeparateBookingFee=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a\u0443 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f').bool().required();this.Pasterboard_DefaultPaymentType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b \u0434\u043b\u044f \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').enumItems([[1,'Cash'],[3,'Check'],[4,'CreditCard'],[5,'Exchange'],[2,'Invoice'],[0,'Unknown'],[6,'\u0411\u0435\u0437 \u043e\u043f\u043b\u0430\u0442\u044b']]);this.Ticket_NoPrintReservations=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0442\u044c \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0442\u044c \u0432\u0441\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0438\u0437 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438').bool().required();Luxena.Travel.SystemConfigurationSemantic.initializeBase(this);this._name='SystemConfiguration';this._className='SystemConfiguration';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName=null;this._title='\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b';}
Luxena.Travel.SystemConfigurationEditForm=function(){Luxena.Travel.SystemConfigurationEditForm.initializeBase(this);}
Luxena.Travel.SystemConfigurationEditForm.prototype={preInitialize:function(){Luxena.Travel.SystemConfigurationEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$31;},se:null,createControls:function(){this.get_window().cls+=' aviaDocument-edit tabbed';this.get_form().cls='tabbed';this.get_window().width=800;this.get_form().labelWidth=350;this.get_form().add(this.tabPanel(650,[this.tabPane('\u0422\u0443\u0440\u0430\u0433\u0435\u043d\u0441\u0442\u0432\u043e',[this.se.Company.toField(-3),this.se.CompanyDetails.toField(-3),this.se.AccountantDisplayString.toField(-3),this.emptyRow(),this.se.Country,this.se.DefaultCurrency,this.se.UseDefaultCurrencyForInput,this.se.VatRate]),this.tabPane('\u0423\u0441\u043b\u0443\u0433\u0438',[this.se.UseConsolidatorCommission,this.se.DefaultConsolidatorCommission,this.se.UseAviaHandling,this.se.UseHandlingInVat,this.se.UseBonuses,this.emptyRow(),this.se.IsPassengerPassportRequired,this.se.AviaDocumentVatOptions,this.se.NeutralAirlineCode,this.se.Ticket_NoPrintReservations,this.emptyRow(),this.se.DrctWebService_LoadedOn,this.se.GalileoWebService_LoadedOn,this.se.GalileoRailWebService_LoadedOn,this.se.GalileoBusWebService_LoadedOn,this.se.TravelPointWebService_LoadedOn,this.emptyRow(),this.se.Pasterboard_DefaultPaymentType,this.emptyRow(),this.se.AllowOtherAgentsToModifyProduct]),this.tabPane('\u0417\u0430\u043a\u0430\u0437\u044b',[this.se.AviaOrderItemGenerationOption.toField(-3),this.se.AmadeusRizUsingMode.toField(-3),this.se.IncomingCashOrderCorrespondentAccount,this.se.DaysBeforeDeparture,this.se.MetricsFromDate,this.emptyRow(),this.se.UseAviaDocumentVatInOrder,this.se.AllowAgentSetOrderVat,this.se.SeparateDocumentAccess,this.se.SeparateDocumentAccessByAgent,this.se.IsOrderRequiredForProcessedDocument,this.se.ReservationsInOfficeMetrics,this.se.McoRequiresDescription,this.se.Order_UseServiceFeeOnlyInVat]),this.tabPane('\u0421\u0447\u0435\u0442\u0430',[this.se.Invoice_NumberMode.toField(-3),this.se.Invoice_CanOwnerSelect,this.se.InvoicePrinter_ShowVat,this.se.InvoicePrinter_FooterDetails.toField(-3),this.se.Invoice_DefaultIssuedBy.toField(-3)]),this.tabPane('\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u044b\u0435',[this.se.Consignment_NumberMode.toField(-3),this.se.Consignment_SeparateBookingFee.toField(-3)]),this.tabPane('\u041f\u0440\u043e\u0447\u0435\u0435',[this.se.BirthdayTaskResponsible,this.se.IsOrganizationCodeRequired])]));}}
Luxena.Travel.AirlineCommissionPercentsSemantic=function(){this.Airline=Luxena.Travel.SemanticEntity.get_member().reference('Organization').entityName();this.Domestic=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b, %').float2().required();this.International=Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442, %').float2().required();this.InterlineDomestic=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u043b\u0435\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u0441\u0442\u0440\u0430\u043d\u044b (interline), %').float2().required();this.InterlineInternational=Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u043b\u0435\u0442 (interline), %').float2().required();Luxena.Travel.AirlineCommissionPercentsSemantic.initializeBase(this);this._name='AirlineCommissionPercents';this._className='AirlineCommissionPercents';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Airline';this._title='\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u044f \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438';this._titles='\u041a\u043e\u043c\u0438\u0441\u0441\u0438\u0438 \u043e\u0442 \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439';}
Luxena.Travel.AirlineCommissionPercentsListTab=function(tabId,args){Luxena.Travel.AirlineCommissionPercentsListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AirlineCommissionPercentsListTab.prototype={preInitialize:function(){Luxena.Travel.AirlineCommissionPercentsListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$32;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Airline,this.se.Domestic,this.se.International,this.se.InterlineDomestic,this.se.InterlineInternational]);}}
Luxena.Travel.AirlineCommissionPercentsEditForm=function(){Luxena.Travel.AirlineCommissionPercentsEditForm.initializeBase(this);}
Luxena.Travel.AirlineCommissionPercentsEditForm.prototype={preInitialize:function(){Luxena.Travel.AirlineCommissionPercentsEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$32;},se:null,createControls:function(){this.get_form().add(this.mainDataPanel([this.se.Airline,this.se.Domestic,this.se.International,this.se.InterlineDomestic,this.se.InterlineInternational]));}}
Luxena.Travel.DocumentOwnerSemantic=function(){this.Owner=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party').entityName();this.IsActive=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439').bool().required();this.IsDefault=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e').bool().required();Luxena.Travel.DocumentOwnerSemantic.initializeBase(this);this._name='DocumentOwner';this._className='DocumentOwner';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Owner';this._title='\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432';this._titles='\u0412\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u044b \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432';}
Luxena.Travel.DocumentOwnerListTab=function(tabId,args){Luxena.Travel.DocumentOwnerListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.DocumentOwnerListTab.prototype={preInitialize:function(){Luxena.Travel.DocumentOwnerListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$33;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Owner,this.se.IsActive,this.se.IsDefault]);}}
Luxena.Travel.DocumentOwnerEditForm=function(){Luxena.Travel.DocumentOwnerEditForm.initializeBase(this);}
Luxena.Travel.DocumentOwnerEditForm.prototype={preInitialize:function(){Luxena.Travel.DocumentOwnerEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$33;},se:null,createControls:function(){this.get_window().width=-3;this.get_form().add(this.mainDataPanel([this.se.Owner.toField(-3),this.se.IsActive,this.se.IsDefault]));}}
Luxena.Travel.DocumentAccessSemantic=function(){this.Person=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person').entityName();this.Owner=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').enumReference('DocumentOwner');this.FullDocumentControl=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f').bool().required();Luxena.Travel.DocumentAccessSemantic.initializeBase(this);this._name='DocumentAccess';this._className='DocumentAccess';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Person';this._title='\u0414\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u043c';}
Luxena.Travel.DocumentAccessListTab=function(tabId,args){Luxena.Travel.DocumentAccessListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.DocumentAccessListTab.prototype={preInitialize:function(){Luxena.Travel.DocumentAccessListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$34;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Person,this.se.Owner,this.se.FullDocumentControl]);}}
Luxena.Travel.DocumentAccessEditForm=function(){Luxena.Travel.DocumentAccessEditForm.initializeBase(this);}
Luxena.Travel.DocumentAccessEditForm.prototype={preInitialize:function(){Luxena.Travel.DocumentAccessEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$34;},se:null,createControls:function(){this.get_window().width=-3;this.get_form().add(this.mainDataPanel([this.se.Person.toField(-3),this.se.Owner.toField(-3),this.se.FullDocumentControl]));}}
Luxena.Travel.ClosedPeriodSemantic=function(){this.DateFrom=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441').date().required().entityDate();this.DateTo=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u043e').date().required();this.PeriodState=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435').enumItems([[2,'\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439'],[0,'\u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0439'],[1,'\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439']]).required().defaultValue(2);Luxena.Travel.ClosedPeriodSemantic.initializeBase(this);this._name='ClosedPeriod';this._className='ClosedPeriod';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName=null;this._title='\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434';this._titles='\u0417\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u044b';}
Luxena.Travel.OpeningBalanceSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.Date=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required();this.Party=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442').reference('Party');this.Balance=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0441\u0442\u0430\u0442\u043e\u043a').float2().required();Luxena.Travel.OpeningBalanceSemantic.initializeBase(this);this._name='OpeningBalance';this._className='OpeningBalance';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a';this._titles='\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043e\u0441\u0442\u0430\u0442\u043a\u0438';}
Luxena.Travel.InternalTransferSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.Date=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required().entityDate();this.FromOrder=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437 \u0437\u0430\u043a\u0430\u0437\u0430').reference('Order');this.FromParty=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430').reference('Customer').required();this.ToOrder=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0437\u0430\u043a\u0430\u0437').reference('Order');this.ToParty=Luxena.Travel.SemanticEntity.get_member().title('\u041a \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0443').reference('Customer').required();this.Amount=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u043c\u043c\u0430').float2().required();Luxena.Travel.InternalTransferSemantic.initializeBase(this);this._name='InternalTransfer';this._className='InternalTransfer';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0434';this._titles='\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b';}
Luxena.Travel.GdsAgentSemantic=function(){this.Person=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0441\u043e\u043d\u0430').reference('Person');this.Origin=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432').enumItems([[0,'AmadeusAir'],[1,'AmadeusPrint'],[8,'AmadeusXml'],[4,'BspLink'],[14,'Drct'],[12,'GalileoBusXml'],[2,'GalileoMir'],[10,'GalileoRailXml'],[3,'GalileoTkt'],[7,'GalileoXml'],[11,'LuxenaXml'],[5,'Manual'],[9,'SabreFil'],[15,'SabreTerminal'],[6,'SirenaXml'],[16,'SPRK'],[13,'TravelPointXml']]).required();this.Code=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0430\u0433\u0435\u043d\u0442\u0430').string().entityName();this.OfficeCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u043e\u0444\u0438\u0441\u0430').string();this.Provider=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a').reference('Organization');this.Office=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').enumReference('DocumentOwner');this.LegalEntity=Luxena.Travel.SemanticEntity.get_member().title('\u042e\u0440\u043b\u0438\u0446\u043e').reference('Organization');Luxena.Travel.GdsAgentSemantic.initializeBase(this);this._name='GdsAgent';this._className='GdsAgent';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Code';this._title='Gds-\u0430\u0433\u0435\u043d\u0442';this._titles='Gds-\u0430\u0433\u0435\u043d\u0442\u044b';}
Luxena.Travel.GdsAgentListTab=function(tabId,args){Luxena.Travel.GdsAgentListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.GdsAgentListTab.prototype={preInitialize:function(){Luxena.Travel.GdsAgentListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$38;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Person,this.se.Origin,this.se.Code,this.se.OfficeCode,this.se.Office,this.se.Provider,this.se.LegalEntity,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},onAddToolbarButtons:function(toolbarItems,autoGrid){this.$7_8=this.getOperationStatus('ApplyGdsAgentToDocuments');if(!this.$7_8.Visible){return;}this.$7_7=this.action(Luxena.Travel.Res.applyToDocuments_Text,ss.Delegate.create(this,this.$7_6),this.$7_8.IsDisabled,this.$7_8.DisableInfo);toolbarItems.add(new Ext.Toolbar.Separator());toolbarItems.add(this.$7_7);},$7_6:function(){var $0=this.get_autoGrid().get_selectionModel().getSelections();var $1=[];var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;$1.add($3.id);}var $2=new Luxena.Travel.SetDataToDocumentsForm(Luxena.Travel.Res.applyGdsAgent_Title,'GdsAgent');$2.add_saved(function($p1_0){
if(!$p1_0){return;}var $1_0=LxnBase.StringUtility.getNumberText($p1_0,Luxena.Travel.Res.appliedDataToDocuments_Text1,Luxena.Travel.Res.appliedDataToDocuments_Text2,Luxena.Travel.Res.appliedDataToDocuments_Text3);LxnBase.MessageRegister.info(Luxena.Travel.Res.applyGdsAgent_Title,$1_0);});$2.open($1);},onSelectionChange:function(model){if(ss.isValue(this.$7_7)&&!this.$7_8.IsDisabled){this.$7_7.setDisabled((model).getCount()!==1);}},$7_7:null,$7_8:null}
Luxena.Travel.GdsAgentEditForm=function(){Luxena.Travel.GdsAgentEditForm.initializeBase(this);}
Luxena.Travel.GdsAgentEditForm.prototype={preInitialize:function(){Luxena.Travel.GdsAgentEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$38;},se:null,createControls:function(){this.get_window().width=-1;this.get_form().add(this.mainDataPanel([this.se.Person,this.se.Origin,this.se.Code,this.se.OfficeCode,this.se.Office,this.se.Provider,this.se.LegalEntity]));}}
Luxena.Travel.GdsFileSemantic=function(){this.FileType=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f').enumItems([[0,'AirFile'],[6,'AmadeusXmlFile'],[12,'CrazyllamaPnrFile'],[13,'DrctXmlFile'],[10,'GalileoBusXmlFile'],[8,'GalileoRailXmlFile'],[5,'GalileoXmlFile'],[9,'LuxenaXmlFile'],[1,'MirFile'],[3,'PrintFile'],[7,'SabreFilFile'],[4,'SirenaFile'],[2,'TktFile'],[11,'TravelPointXmlFile']]).required();this.TimeStamp=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0438\u043c\u043f\u043e\u0440\u0442\u0430').dateTime2().required();this.Content=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435').text(10);this.ImportResult=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0430').enumItems([[2,'Error'],[0,'None'],[4,'Reimported'],[1,'Success'],[3,'Warn']]).required();this.ImportOutput=Luxena.Travel.SemanticEntity.get_member().title('\u0416\u0443\u0440\u043d\u0430\u043b').string();Luxena.Travel.GdsFileSemantic.initializeBase(this);this._name='GdsFile';this._className='GdsFile';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [];};this._title='Gds-\u0444\u0430\u0439\u043b';this._titles='Gds-\u0444\u0430\u0439\u043b\u044b';}
Luxena.Travel.InvoiceSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.Agreement=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u043e\u0433\u043e\u0432\u043e\u0440').string();this.IssueDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430').date().required();this.TimeStamp=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f').dateTime2().required().utility();this.Type=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f').enumItems([[2,'\u0410\u043a\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u0431\u043e\u0442'],[0,'\u0421\u0447\u0435\u0442'],[1,'\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f']]).required();this.Content=Luxena.Travel.SemanticEntity.get_member();this.Order=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');this.Customer=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a').reference('Customer');this.BillTo=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').reference('Party');this.BillToName=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').string();this.ShipTo=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c').reference('Party');this.IsOrderVoid=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();this.Owner=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party');this.IssuedBy=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u043f\u0443\u0449\u0435\u043d').reference('Person');this.Total=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0442\u043e\u0433\u043e').money();this.Vat=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').money();this.FileExtension=Luxena.Travel.SemanticEntity.get_member().title('\u0424\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430').string();Luxena.Travel.InvoiceSemantic.initializeBase(this);this._name='Invoice';this._className='Invoice';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0421\u0447\u0435\u0442/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f';this._titles='\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438';}
Luxena.Travel.ReceiptSemantic=function(){Luxena.Travel.ReceiptSemantic.initializeBase(this);this._name='Receipt';this._className='Invoice';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';}
Luxena.Travel.TaskSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.Subject=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043c\u0430').string();this.Description=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435').text(3);this.RelatedTo=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e').reference('Party');this.Order=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');this.AssignedTo=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439').reference('Party');this.Status=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0442\u0430\u0442\u0443\u0441').enumItems([[3,'\u0417\u0430\u043a\u0440\u044b\u0442\u0430'],[1,'\u0412\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f'],[0,'\u041e\u0442\u043a\u0440\u044b\u0442\u0430'],[2,'\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438 \u043e\u0442\u0432\u0435\u0442\u0430']]).required();this.DueDate=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e').date();this.Overdue=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u043d\u044b\u0439').bool().required();this.Comments=Luxena.Travel.SemanticEntity.get_member();this.CanModify=Luxena.Travel.SemanticEntity.get_member().bool().required();Luxena.Travel.TaskSemantic.initializeBase(this);this._name='Task';this._className='Task';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u0417\u0430\u0434\u0430\u0447\u0430';this._titles='\u0417\u0430\u0434\u0430\u0447\u0438';}
Luxena.Travel.TaskListTab=function(tabId,args){Luxena.Travel.TaskListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.TaskListTab.prototype={preInitialize:function(){Luxena.Travel.TaskListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3C;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Number,this.se.Subject,this.se.Description,this.se.RelatedTo,this.se.Order,this.se.AssignedTo,this.se.Status,this.se.DueDate,this.se.Overdue,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},onAddToolbarButtons:function($p0,$p1){this.$7_8=this.getOperationStatus('ChangeTaskStatus');if(!this.$7_8.Visible){return;}this.$7_7=this.menuAction(Luxena.Travel.DomainRes.common_Status.toLowerCase(),[this.menuItem(Luxena.Travel.DomainRes.taskStatus_Open,ss.Delegate.create(this,function(){
this.$7_6(0,Luxena.Travel.DomainRes.taskStatus_Open);})),this.menuItem(Luxena.Travel.DomainRes.taskStatus_InProgress,ss.Delegate.create(this,function(){
this.$7_6(1,Luxena.Travel.DomainRes.taskStatus_InProgress);})),this.menuItem(Luxena.Travel.DomainRes.taskStatus_WaitForResponse,ss.Delegate.create(this,function(){
this.$7_6(2,Luxena.Travel.DomainRes.taskStatus_WaitForResponse);})),this.menuItem(Luxena.Travel.DomainRes.taskStatus_Closed,ss.Delegate.create(this,function(){
this.$7_6(3,Luxena.Travel.DomainRes.taskStatus_Closed);}))]);},onSelectionChange:function($p0){if(ss.isValue(this.$7_7)){this.$7_7.setDisabled(!($p0).getCount());}},$7_6:function($p0,$p1){if(!this.get_autoGrid().get_selectionModel().getCount()){return;}var $0=this.get_autoGrid().get_selectionModel().getSelections();var $1=new Array($0.length);for(var $2=0;$2<$0.length;$2++){$1[$2]=$0[$2].id;}Luxena.Travel.Services.TaskService.ChangeStatus($1,$p0,this.get_autoGrid().getStore().baseParams,ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0)[1];(this.get_autoGrid().getStore().proxy).setResponse($1_0);this.get_autoGrid().reload(false);var $1_1=($p1_0)[0];var $1_2;if($1_1.length===1){$1_2=String.format(Luxena.Travel.Res.task_StatusChange_Msg,$p1,$1_1[0][LxnBase.Data.ObjectPropertyNames.reference]);}else{$1_2=LxnBase.StringUtility.getNumberText($1_1.length,Luxena.Travel.Res.task_StatusChange_Msg1,Luxena.Travel.Res.task_StatusChange_Msg2,Luxena.Travel.Res.task_StatusChange_Msg2);$1_2=String.format(Luxena.Travel.Res.task_StatusChange_Msg,$p1,$1_2);}if(ss.isNullOrUndefined($1_0.SelectedRow)){LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List,$1_2,LxnBase.BaseRes.autoGrid_NotDisplay_Msg);}else{LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List,$1_2);this.get_autoGrid().get_selectionModel().selectRow($1_0.SelectedRow);}}),null);},$7_7:null,$7_8:null}
Luxena.Travel.TaskEditForm=function(){Luxena.Travel.TaskEditForm.initializeBase(this);}
Luxena.Travel.TaskEditForm.prototype={preInitialize:function(){Luxena.Travel.TaskEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$3C;},se:null,createControls:function(){this.get_form().add(this.mainDataPanel([this.se.Number,this.se.Subject.toField(-3),this.se.Description.toField(-3),this.se.RelatedTo.toField(-3),this.se.Order,this.se.AssignedTo.toField(-3),this.se.Status,this.se.DueDate]));}}
Luxena.Travel.PaymentSemantic=function(){this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().entityName();this.Date=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().required();this.PaymentForm=Luxena.Travel.SemanticEntity.get_member().title('\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b').enumItems([[0,'\u041f\u041a\u041e'],[4,'\u0420\u041a\u041e'],[2,'\u041a\u0430\u0441\u0441\u043e\u0432\u044b\u0439 \u0447\u0435\u043a'],[3,'\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436'],[1,'\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436']]).required();this.DocumentNumber=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430').string();this.DocumentUniqueCode=Luxena.Travel.SemanticEntity.get_member().string();this.Payer=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0435\u043b\u044c\u0449\u0438\u043a').reference('Party').required();this.Order=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043a\u0430\u0437').reference('Order');this.Invoice=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f').reference('Receipt');this.InvoiceDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u0441\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438').date();this.Sign=Luxena.Travel.SemanticEntity.get_member().int32().required();this.Amount=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0443\u043c\u043c\u0430').money();this.Vat=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0442.\u0447. \u041d\u0414\u0421').money();this.ReceivedFrom=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043e\u043b\u0443\u0447\u0435\u043d \u043e\u0442').string();this.PostedOn=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u043a\u0438').date();this.SavePosted=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c').bool().required();this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);this.IsVoid=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d').bool().required();this.AssignedTo=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439').reference('Person');this.RegisteredBy=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d').reference('Person');this.IsPosted=Luxena.Travel.SemanticEntity.get_member().bool().required();this.Owner=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446').reference('Party');this.BankAccount=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442').enumReference('BankAccount');this.PrintedDocument=Luxena.Travel.SemanticEntity.get_member();this.PaymentSystem=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u043b\u0430\u0442\u0451\u0436\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430').reference('PaymentSystem');this.IsCashOrder=Luxena.Travel.SemanticEntity.get_member().bool().required().utility();this.IsCashInOrder=Luxena.Travel.SemanticEntity.get_member().bool().required().utility();this.IsCashOutOrder=Luxena.Travel.SemanticEntity.get_member().bool().required().utility();this.IsCheck=Luxena.Travel.SemanticEntity.get_member().bool().required().utility();this.IsElectronic=Luxena.Travel.SemanticEntity.get_member().bool().required().utility();this.IsWireTransfer=Luxena.Travel.SemanticEntity.get_member().bool().required().utility();Luxena.Travel.PaymentSemantic.initializeBase(this);this._name='Payment';this._className='Payment';this._isAbstract=true;this._getDerivedEntities=function($p1_0){
return [];};this._nameFieldName='Number';this._title='\u041f\u043b\u0430\u0442\u0451\u0436';this._titles='\u041f\u043b\u0430\u0442\u0435\u0436\u0438';}
Luxena.Travel.ContractSemantic=function(){this.Customer=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f').reference('Organization').required();this.Number=Luxena.Travel.SemanticEntity.get_member().title('\u041d\u043e\u043c\u0435\u0440').string().required().entityName();this.IssueDate=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0430\u0442\u0430').date().entityDate();this.DiscountPc=Luxena.Travel.SemanticEntity.get_member().title('\u0414\u0438\u0441\u043a\u043e\u043d\u0442, %').float2().required();this.Note=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435').text(3);Luxena.Travel.ContractSemantic.initializeBase(this);this._name='Contract';this._className='Contract';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Number';this._title='\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442';this._titles='\u041a\u043e\u043d\u0442\u0440\u0430\u043a\u0442\u044b';}
Luxena.Travel.ModificationSemantic=function(){this.TimeStamp=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f').dateTime2().required();this.Author=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0442\u043e\u0440').string();this.Type=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f').enumItems([[0,'\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d'],[2,'\u0423\u0434\u0430\u043b\u0451\u043d'],[1,'\u0418\u0437\u043c\u0435\u043d\u0451\u043d']]).required();this.InstanceType=Luxena.Travel.SemanticEntity.get_member().string();this.InstanceId=Luxena.Travel.SemanticEntity.get_member().string();this.InstanceString=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0431\u044a\u0435\u043a\u0442').string();this.Comment=Luxena.Travel.SemanticEntity.get_member().string();this.Items=Luxena.Travel.SemanticEntity.get_member();this.ItemsJson=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430').string();Luxena.Travel.ModificationSemantic.initializeBase(this);this._name='Modification';this._className='Modification';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName=null;this._title='\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435';this._titles='\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439';}
Luxena.Travel.FlightSegmentSemantic=function(){this.Ticket=Luxena.Travel.SemanticEntity.get_member().title('\u0410\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442').reference('AviaTicket');this.Position=Luxena.Travel.SemanticEntity.get_member().int32().required().entityName();this.Type=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0430').enumItems([[0,'Ticketed'],[1,'Unticketed'],[2,'Voided']]).required();this.FromAirportCode=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430').string();this.FromAirportName=Luxena.Travel.SemanticEntity.get_member().string();this.FromAirport=Luxena.Travel.SemanticEntity.get_member().title('\u0418\u0437 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442\u0430').reference('Airport');this.FromCountry=Luxena.Travel.SemanticEntity.get_member().reference('Country');this.ToAirportCode=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442').string();this.ToAirportName=Luxena.Travel.SemanticEntity.get_member().string();this.ToAirport=Luxena.Travel.SemanticEntity.get_member().title('\u0412 \u0430\u044d\u0440\u043e\u043f\u043e\u0440\u0442').reference('Airport');this.ToCountry=Luxena.Travel.SemanticEntity.get_member().reference('Country');this.CarrierIataCode=Luxena.Travel.SemanticEntity.get_member().string();this.CarrierPrefixCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434').string();this.CarrierName=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a').string();this.Carrier=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a').reference('Airline');this.Operator=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u043f\u0435\u0440\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043f\u0435\u0440\u0435\u0432\u043e\u0437\u0447\u0438\u043a').reference('Airline');this.FlightNumber=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u0439\u0441').string();this.Equipment=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0438\u043f \u0441\u0443\u0434\u043d\u0430').reference('AirplaneModel');this.ServiceClassCode=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u0434 \u0441\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441\u0430').string();this.ServiceClass=Luxena.Travel.SemanticEntity.get_member().title('\u0421\u0435\u0440\u0432\u0438\u0441-\u043a\u043b\u0430\u0441\u0441').enumItems([[3,'\u0411\u0438\u0437\u043d\u0435\u0441'],[1,'\u042d\u043a\u043e\u043d\u043e\u043c'],[4,'\u041f\u0435\u0440\u0432\u044b\u0439'],[2,'\u042d\u043a\u043e\u043d\u043e\u043c-\u043f\u0440\u0435\u043c\u0438\u0443\u043c'],[0,'\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e']]).defaultValue(1);this.DepartureTime=Luxena.Travel.SemanticEntity.get_member().title('\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435').dateTime();this.ArrivalTime=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0440\u0438\u0431\u044b\u0442\u0438\u0435').dateTime();this.MealCodes=Luxena.Travel.SemanticEntity.get_member().string();this.MealTypes=Luxena.Travel.SemanticEntity.get_member().title('\u041f\u0438\u0442\u0430\u043d\u0438\u0435').enumsItems([[2048,'\u041f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438'],[512,'\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0430\u043b\u043a\u043e\u0433\u043e\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u043f\u0438\u0442\u043a\u0438'],[1,'\u0417\u0430\u0432\u0442\u0440\u0430\u043a'],[32,'\u0425\u043e\u043b\u043e\u0434\u043d\u0430\u044f \u0435\u0434\u0430'],[2,'\u041a\u043e\u043d\u0442\u0438\u043d\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0432\u0442\u0440\u0430\u043a'],[8,'\u041e\u0431\u0435\u0434'],[4096,'Duty Free'],[1024,'\u041f\u043b\u0430\u0442\u043d\u0430\u044f \u0435\u0434\u0430'],[64,'\u0413\u043e\u0440\u044f\u0447\u0430\u044f \u0435\u0434\u0430'],[4,'\u041b\u0430\u043d\u0447'],[128,'\u0415\u0434\u0430'],[0,'NoData'],[8192,'no meal service'],[256,'\u041d\u0430\u043f\u0438\u0442\u043a\u0438'],[16,'\u0417\u0430\u043a\u0443\u0441\u043a\u0430']]);this.NumberOfStops=Luxena.Travel.SemanticEntity.get_member().title('\u041a\u043e\u043b-\u0432\u043e \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a').int32();this.Luggage=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u0433\u0430\u0436').string();this.CheckInTerminal=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b').string();this.CheckInTime=Luxena.Travel.SemanticEntity.get_member().title('\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f').string();this.Duration=Luxena.Travel.SemanticEntity.get_member().title('\u0412\u0440\u0435\u043c\u044f \u043f\u0435\u0440\u0435\u043b\u0435\u0442\u0430').string();this.ArrivalTerminal=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u0440\u043c\u0438\u043d\u0430\u043b').string();this.Seat=Luxena.Travel.SemanticEntity.get_member().title('\u041c\u0435\u0441\u0442\u043e').string();this.FareBasis=Luxena.Travel.SemanticEntity.get_member().title('\u0411\u0430\u0437\u0430 \u0442\u0430\u0440\u0438\u0444\u0430').string();this.Stopover=Luxena.Travel.SemanticEntity.get_member().title('\u042d\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442').bool().required();this.Surcharges=Luxena.Travel.SemanticEntity.get_member().float2();this.IsInclusive=Luxena.Travel.SemanticEntity.get_member().bool().required();this.Fare=Luxena.Travel.SemanticEntity.get_member().float2();this.StopoverOrTransferCharge=Luxena.Travel.SemanticEntity.get_member().float2();this.IsSideTrip=Luxena.Travel.SemanticEntity.get_member().bool().required();this.Distance=Luxena.Travel.SemanticEntity.get_member().float2().required();this.Amount=Luxena.Travel.SemanticEntity.get_member().money();this.CouponAmount=Luxena.Travel.SemanticEntity.get_member().money();Luxena.Travel.FlightSegmentSemantic.initializeBase(this);this._name='FlightSegment';this._className='FlightSegment';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='Position';this._title='\u041f\u043e\u043b\u0451\u0442\u043d\u044b\u0439 \u0441\u0435\u0433\u043c\u0435\u043d\u0442';this._titles='\u041f\u043e\u043b\u0451\u0442\u043d\u044b\u0435 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u044b';}
Luxena.Travel.FlightSegmentListTab=function(tabId,args){Luxena.Travel.FlightSegmentListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.FlightSegmentListTab.prototype={preInitialize:function(){Luxena.Travel.FlightSegmentListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$40;},se:null,onInitGrid:function($p0,$p1){Luxena.Travel.FlightSegmentListTab.callBaseMethod(this, 'onInitGrid',[$p0,$p1]);$p0.setDefaultSort('DepartureTime','DESC');},createColumnConfigs:function(){this.addColumns([this.se.Ticket,this.se.Position.toColumn(true),this.se.FromAirport,this.se.ToAirport,this.se.Carrier,this.se.FlightNumber,this.se.Seat,this.se.ServiceClassCode.toColumn(true),this.se.ServiceClass,this.se.DepartureTime,this.se.CheckInTime.toColumn(true),this.se.CheckInTerminal.toColumn(true),this.se.ArrivalTime,this.se.ArrivalTerminal.toColumn(true),this.se.NumberOfStops.toColumn(true),this.se.Luggage,this.se.Duration,this.se.FareBasis,this.se.Stopover,this.se.MealTypes,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},onAddToolbarButtons:function($p0,$p1){$p0.remove($p1.get_createAction());$p0.remove($p1.get_copyAction());}}
Luxena.Travel.FlightSegmentEditForm=function(){Luxena.Travel.FlightSegmentEditForm.initializeBase(this);}
Luxena.Travel.FlightSegmentEditForm.prototype={preInitialize:function(){Luxena.Travel.FlightSegmentEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$40;},se:null,createControls:function(){this.get_window().cls+=' segment-edit';this.get_window().width=-6;this.get_form().labelWidth=140;this.get_form().add(this.columnPanel([this.mainDataPanel([this.se.FromAirport.toField(-3),this.se.ToAirport.toField(-3),this.se.Carrier.toField(-3),this.se.Operator.toField(-3),this.se.rowPanel2(this.se.FlightNumber,null,this.se.Seat,null),this.se.rowPanel2(this.se.ServiceClassCode,null,this.se.ServiceClass,null),this.se.Equipment.toField(-3),this.se.rowPanel2(this.se.CheckInTime,null,this.se.CheckInTerminal,null),this.se.DepartureTime.toField(-1),this.se.rowPanel2(this.se.ArrivalTime,null,this.se.ArrivalTerminal,null),this.emptyRow(),this.se.Stopover,this.se.Type]),this.mainDataPanel([this.se.NumberOfStops,this.se.Luggage,this.se.Duration,this.se.FareBasis,this.emptyRow(),this.se.MealTypes.toField(-3)])]));}}
Luxena.Travel.AirplaneModelSemantic=function(){this.IataCode=Luxena.Travel.SemanticEntity.get_member().title('IATA \u043a\u043e\u0434').string(3).required();this.IcaoCode=Luxena.Travel.SemanticEntity.get_member().title('ICAO \u043a\u043e\u0434').string(4);Luxena.Travel.AirplaneModelSemantic.initializeBase(this);this._name='AirplaneModel';this._className='AirplaneModel';this._isAbstract=false;this._getDerivedEntities=null;this._title='\u041c\u043e\u0434\u0435\u043b\u044c \u0441\u0430\u043c\u043e\u043b\u0451\u0442\u0430';this._titles='\u041c\u043e\u0434\u0435\u043b\u0438 \u0441\u0430\u043c\u043e\u043b\u0451\u0442\u043e\u0432 (\u0442\u0438\u043f\u044b \u0441\u0443\u0434\u043e\u0432)';}
Luxena.Travel.AirplaneModelListTab=function(tabId,args){Luxena.Travel.AirplaneModelListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AirplaneModelListTab.prototype={preInitialize:function(){Luxena.Travel.AirplaneModelListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$41;},se:null,createColumnConfigs:function(){this.addColumns([this.se.Name,this.se.IataCode,this.se.IcaoCode,this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);}}
Luxena.Travel.AirplaneModelEditForm=function(){Luxena.Travel.AirplaneModelEditForm.initializeBase(this);}
Luxena.Travel.AirplaneModelEditForm.prototype={preInitialize:function(){Luxena.Travel.AirplaneModelEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$41;},se:null,createControls:function(){this.get_window().width=-1;this.get_form().labelWidth=150;this.get_form().add(this.mainDataPanel([this.se.Name,this.se.IataCode,this.se.IcaoCode]));}}
Luxena.Travel.AmadeusAviaSftpRsaKeySemantic=function(){this.PPK=Luxena.Travel.SemanticEntity.get_member().title('\u0422\u0435\u043a\u0441\u0442 PPK').text(20).required().entityName();Luxena.Travel.AmadeusAviaSftpRsaKeySemantic.initializeBase(this);this._name='AmadeusAviaSftpRsaKey';this._className='AmadeusAviaSftpRsaKey';this._isAbstract=false;this._getDerivedEntities=null;this._nameFieldName='PPK';this._title='RSA-\u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438\u0437 Amadeus';this._titles='RSA-\u043a\u043b\u044e\u0447\u0438 \u0434\u043b\u044f \u0430\u0432\u0438\u0430\u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0438\u0437 Amadeus';}
Luxena.Travel.AmadeusAviaSftpRsaKeyListTab=function(tabId,args){Luxena.Travel.AmadeusAviaSftpRsaKeyListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AmadeusAviaSftpRsaKeyListTab.prototype={preInitialize:function(){Luxena.Travel.AmadeusAviaSftpRsaKeyListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$42;},se:null,createColumnConfigs:function(){this.addColumns([this.se.CreatedOn.toColumn(false),this.se.PPK,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);}}
Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm=function(){Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm.initializeBase(this);}
Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm.prototype={preInitialize:function(){Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$42;},se:null,createControls:function(){this.get_window().width=-3;this.get_form().labelWidth=180;this.set_fieldMaxWidth(360);this.get_form().add(this.mainDataPanel([this.se.PPK.toField(-1)]));}}
Luxena.Travel.PartyReplaceForm=function(){Luxena.Travel.PartyReplaceForm.initializeBase(this);}
Luxena.Travel.PartyReplaceForm.prototype={preInitialize:function(){Luxena.Travel.PartyReplaceForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=new Luxena.Travel.PartyReplaceParams();},se:null,initialize:function(){this._args.mode=LxnBase.UI.LoadMode.local;this.get_window().title='\u0417\u0430\u043c\u0435\u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442\u0430';this.get_window().setWidth(500);this.get_form().labelWidth=120;},createControls:function(){this.get_form().add(this.mainDataPanel([this.se.fromParty,this.se.toParty]));},onSave:function(){var $0=this.getData();Luxena.Travel.Services.PartyService.Replace($0['FromParty'],$0['ToParty'],ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;LxnBase.MessageRegister.info(this.get_window().title,'\u0411\u044b\u043b\u043e \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u043e '+$1_0+' \u0437\u0430\u043f\u0438\u0441\u0435\u0439');this.completeSave($p1_0);}),null);}}
Luxena.Travel.PartyReplaceParams=function(){this.fromParty=Luxena.Travel.SemanticEntity.get_member().title('\u0417\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u043a\u043e\u043d\u0442\u0440\u0430\u0433\u0435\u043d\u0442').reference('Party').required();this.toParty=Luxena.Travel.SemanticEntity.get_member().title('\u043d\u0430').reference('Party').required();Luxena.Travel.PartyReplaceParams.initializeBase(this);}
Luxena.Travel.PartyListTab=function(tabId,args){Luxena.Travel.PartyListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.PartyListTab.prototype={onAddToolbarButtons:function(toolbarItems,autoGrid){this.$7_8=this.getOperationStatus('PartyReplace');if(!this.$7_8.Visible){return;}},$7_6:function(){var $0=(this.get_autoGrid().get_selectionModel().getSelections())[0];LxnBase.UI.FormsRegistry.editObject('PartyReplace',null,{FromParty:$0.id},null,null);},onSelectionChange:function(model){if(ss.isValue(this.$7_7)&&!this.$7_8.IsDisabled){this.$7_7.setDisabled((model).getCount()!==1);}},$7_7:null,$7_8:null}
Luxena.Travel.PartyEditForm=function(){Luxena.Travel.PartyEditForm.initializeBase(this);}
Luxena.Travel.PartyEditForm.prototype={preInitialize:function(){Luxena.Travel.PartyEditForm.callBaseMethod(this, 'preInitialize');this.get_window().cls+=' aviaDocument-edit tabbed';this.get_form().cls='tabbed';this.get_form().labelWidth=140;this.get_window().width=-3;},addressPanel:function(se,height){var $0=height/3-40;return this.tabMainPane(Luxena.Travel.DomainRes.common_Addresses,[se.ActualAddress.setEditor(-3,function($p1_0){
$p1_0.height($0);}),se.LegalAddress.setEditor(-3,function($p1_0){
$p1_0.height($0);}),se.Details.setEditor(-3,function($p1_0){
$p1_0.height($0);}),se.InvoiceSuffix]);},bonusPanel:function(se){return this.tabMainPane('\u0411\u043e\u043d\u0443\u0441\u044b',[this.emptyRow(),se.BonusCardNumber.toField(-1),se.BonusAmount]);}}
Luxena.Travel.AccommodationViewForm=function(tabId,id,type){Luxena.Travel.AccommodationViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.AccommodationViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.AccommodationViewForm,type,id,newTab);}
Luxena.Travel.AccommodationViewForm.prototype={getClassName:function(){return 'Accommodation';},getClassTitle:function(){return Luxena.Travel.DomainRes.accommodation;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$20;var $1="<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+$0.Provider.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.FinishDate.toHtmlTr2(this.r)+this.getHotelHtml($0.HotelName,this.r.HotelName,this.r.HotelOffice,this.r.HotelCode)+this.getHotelHtml($0.PlacementName,this.r.PlacementName,this.r.PlacementOffice,this.r.PlacementCode)+$0.AccommodationType.toHtmlTr2(this.r)+$0.CateringType.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';return $1;},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.FlightSegmentGridControl=function(){this.initialize();}
Luxena.Travel.FlightSegmentGridControl.$2=function(){var $0=[];$0.add({id:'Position',header:'#',sortable:false,dataIndex:'Position',width:40});$0.add({id:'FromAirport',header:Luxena.Travel.DomainRes.flightSegment_FromAirportName,sortable:false,dataIndex:'FromAirport',width:80,renderer:Luxena.Travel.FlightSegmentGridControl.$A});$0.add({id:'ToAirport',header:Luxena.Travel.DomainRes.flightSegment_ToAirportName,sortable:false,dataIndex:'ToAirport',width:68,renderer:Luxena.Travel.FlightSegmentGridControl.$A});$0.add({id:'Carrier',header:Luxena.Travel.DomainRes.flightSegment_Carrier,sortable:false,dataIndex:'Carrier',width:72,renderer:Luxena.Travel.FlightSegmentGridControl.$A});$0.add({id:'FlightNumber',header:Luxena.Travel.DomainRes.flightSegment_FlightNumber,sortable:false,dataIndex:'FlightNumber',width:33});$0.add({id:'Seat',header:Luxena.Travel.DomainRes.flightSegment_Seat,sortable:false,dataIndex:'Seat',width:40});$0.add({id:'ServiceClassCode',header:Luxena.Travel.DomainRes.flightSegment_ServiceClass,sortable:false,dataIndex:'ServiceClassCode',width:40});$0.add({id:'Equipment',header:'\u0422\u0438\u043f \u0441\u0443\u0434\u043d\u0430',sortable:false,dataIndex:'Equipment',width:72,renderer:Luxena.Travel.FlightSegmentGridControl.$A});var $1=new LxnBase.Services.DateTimeColumnConfig();$1.Type=LxnBase.Services.TypeEnum.date;$0.add({id:'DepartureTime',header:Luxena.Travel.DomainRes.flightSegment_DepartureTime,sortable:false,dataIndex:'DepartureTime',width:78,renderer:Luxena.Travel.FlightSegmentGridControl.$9});$0.add({id:'CheckInTime',header:Luxena.Travel.Res.flightSegment_Registration,sortable:false,dataIndex:'CheckInTime',width:75});$0.add({id:'ArrivalTime',header:Luxena.Travel.DomainRes.flightSegment_ArrivalTime,sortable:false,dataIndex:'ArrivalTime',width:78,renderer:Luxena.Travel.FlightSegmentGridControl.$9});$0.add({id:'Duration',header:Luxena.Travel.DomainRes.flightSegment_Duration,sortable:false,dataIndex:'Duration',width:51});$0.add({id:'FareBasis',header:Luxena.Travel.DomainRes.flightSegment_FareBasis,sortable:false,dataIndex:'FareBasis',width:51});$0.add({id:'NumberOfStops',header:Luxena.Travel.DomainRes.flightSegment_NumberOfStops,sortable:false,dataIndex:'NumberOfStops',width:65});$0.add({id:'Luggage',header:Luxena.Travel.DomainRes.flightSegment_Luggage,sortable:false,dataIndex:'Luggage',width:40});$0.add({id:'Type',header:'\u0422\u0438\u043f',sortable:false,dataIndex:'Type',width:40});return new Ext.grid.ColumnModel($0);}
Luxena.Travel.FlightSegmentGridControl.$9=function($p0){return Ext.util.Format.date($p0,'d.m.y H:i');}
Luxena.Travel.FlightSegmentGridControl.$A=function($p0){if(!ss.isValue($p0)){return null;}if(ss.isValue(($p0).Name)){return ($p0).Name;}return ($p0)[1];}
Luxena.Travel.FlightSegmentGridControl.prototype={get_widget:function(){return this.$C;},loadData:function(data){this.$B=data;if(this.$B!=null&&this.$B.length>0){this.$C.getStore().loadData(this.$B);}},initialize:function(){this.$C=new Ext.grid.EditorGridPanel(new Ext.grid.EditorGridPanelConfig().store(this.initStore()).cls('segments-grid').sm(this.$1()).cm(Luxena.Travel.FlightSegmentGridControl.$2()).tbar(this.$0()).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).height(115).clicksToEdit(2).collapsible(false).frame(false).toDictionary());},isModified:function(){return this.$14;},getData:function(){return this.getFlightSegments();},getFlightSegments:function(){var $0=this.$D.getCount();if(!$0){return new Array(0);}var $1=new Array($0);for(var $2=0;$2<$0;$2++){$1[$2]=this.$D.getAt($2).data;$1[$2].Position=$2;}return $1;},initStore:function(){this.$D=new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Version','Position','FromAirport','FromAirportName','ToAirport','ToAirportName','CarrierCode','Carrier','Operator','FlightNumber','Seat','Equipment','ServiceClassCode','ServiceClass','DepartureTime','CheckInTerminal','CheckInTime','ArrivalTime','ArrivalTerminal','NumberOfStops','Luggage','Duration','FareBasis','Stopover','Type','MealTypes']).listeners({update:ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
if($p1_2===Ext.data.Record.EDIT){$p1_1.commit();this.$14=true;}})}).toDictionary());return this.$D;},$0:function(){this.$F=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.createItem_Lower).handler(ss.Delegate.create(this,this.$3)));this.$10=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this,this.$4)).disabled(true));this.$11=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$5)).disabled(true));this.$12=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text('\u0432\u0432\u0435\u0440\u0445').disabled(true).handler(ss.Delegate.create(this,this.up)));this.$13=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text('\u0432\u043d\u0438\u0437').disabled(true).handler(ss.Delegate.create(this,this.$8)));return new Ext.Toolbar(['->',this.$12,this.$13,this.$F,this.$10,this.$11]);},$1:function(){this.$E=new Ext.grid.CheckboxSelectionModel();this.$E.singleSelect=false;this.$E.on('selectionchange',ss.Delegate.create(this,function(){
if(!this.$E.getCount()){this.$11.disable();this.$12.disable();this.$13.disable();}else{this.$11.enable();var $1_0=this.$E.getSelected();this.$12.enable();this.$13.enable();var $1_1=($1_0.data)['Position'];if(!$1_1){this.$12.disable();}if($1_1===this.$B.length-1){this.$13.disable();}}if(this.$E.getCount()!==1){this.$10.disable();}else{this.$10.enable();}}));return this.$E;},$3:function(){LxnBase.UI.FormsRegistry.editObject('FlightSegment',null,null,ss.Delegate.create(this,function($p1_0){
var $1_0=new Ext.data.Record();$1_0.data=($p1_0).Item;$1_0.fields=this.$D.fields;this.$D.add([$1_0]);this.$14=true;}),null,null,LxnBase.UI.LoadMode.local);},$4:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelected();var $1=$0.data;LxnBase.UI.FormsRegistry.editObject('FlightSegment',$1['Id'],$1,ss.Delegate.create(this,function($p1_0){
this.$6(($p1_0).Item,$0);}),null,null,LxnBase.UI.LoadMode.local);},$5:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelections();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$D.remove($1);}this.$14=true;},$6:function($p0,$p1){var $0=$p1.fields.getRange();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.name;var $3=$p0[$2];if(!ss.isUndefined($3)){$p1.data[$2]=$3;}}$p1.commit();this.$14=true;},handleKeyEvent:function(keyEvent){var $0=Ext.EventObject;var $1=keyEvent.keyCode;var $2=keyEvent.ctrlKey||keyEvent.shiftKey||keyEvent.altKey;var $3=keyEvent.ctrlKey&&!keyEvent.shiftKey&&!keyEvent.altKey;if($1===$0['UP']){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$7();return true;}if($1===$0['DOWN']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$7();return true;}if($1===$0['F2']&&!$2){if(this.$E.getSelections().length!==1){return true;}keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$C.startEditing(this.$D.indexOf(this.$E.getSelected()),1);return true;}if($1===$0['ESC']){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$7();return true;}if($1===$0['INSERT']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$3();return true;}if($1===$0['ENTER']&&!keyEvent.ctrlKey&&keyEvent.shiftKey&&!keyEvent.altKey){keyEvent.cancelBubble=true;keyEvent.returnValue=false;if(!this.$E.getSelections().length){return true;}this.$4();return true;}if($1===$0['DELETE']&&$3){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$5();return true;}if($1===$0['HOME']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$E.selectRow(0);return true;}if($1===$0['END']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$E.selectRow(this.$D.getCount()-1);return true;}return false;},$7:function(){this.$C.getView().focusRow(0);},up:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelected();var $1=$0.data;var $2=$1['Position'];var $3=-1;for(var $4=0;$4<this.$B.length;$4++){if(this.$B[$4].Position===$2){$3=$4;break;}}if($3>0){var $5=this.$B[$3];var $6=this.$B[$3-1];$5.Position-=1;$6.Position=$5.Position+1;this.$B[$3]=$6;this.$B[$3-1]=$5;this.$C.getStore().loadData(this.$B);this.$14=true;}},$8:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelected();var $1=$0.data;var $2=$1['Position'];var $3=-1;for(var $4=0;$4<this.$B.length;$4++){if(this.$B[$4].Position===$2){$3=$4;break;}}if($3>-1&&$3<this.$B.length-1){var $5=this.$B[$3];var $6=this.$B[$3+1];$5.Position+=1;$6.Position=$5.Position-1;this.$B[$3]=$6;this.$B[$3+1]=$5;this.$C.getStore().loadData(this.$B);this.$14=true;}},$B:null,$C:null,$D:null,$E:null,$F:null,$10:null,$11:null,$12:null,$13:null,$14:false}
Luxena.Travel.GdsFileEditForm=function(){Luxena.Travel.GdsFileEditForm.initializeBase(this);}
Luxena.Travel.GdsFileEditForm.prototype={preInitialize:function(){Luxena.Travel.GdsFileEditForm.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$39;},createControls:function(){this.get_window().width=-3;this.get_form().labelWidth=150;this.get_form().add(this.mainDataPanel([this.se.Name.toField(-3),this.se.FileType,this.emptyRow(),this.se.Content.toField(-3,function($p1_0){
}),this.se.TimeStamp,this.emptyRow(),this.se.ImportResult.toField(-3),this.se.ImportOutput.toField(-3)]));},se:null}
Luxena.Travel.CarRentalViewForm=function(tabId,id,type){Luxena.Travel.CarRentalViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.CarRentalViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.CarRentalViewForm,type,id,newTab);}
Luxena.Travel.CarRentalViewForm.prototype={getClassName:function(){return 'CarRental';},getClassTitle:function(){return Luxena.Travel.DomainRes.carRental;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$1E;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+$0.Provider.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.FinishDate.toHtmlTr2(this.r)+$0.CarBrand.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.BusTicketRefundEditForm=function(){Luxena.Travel.BusTicketRefundEditForm.initializeBase(this);}
Luxena.Travel.BusTicketRefundEditForm.prototype={get_className:function(){return 'BusTicketRefund';},get_isRefund:function(){return true;}}
Luxena.Travel.BusTicketViewForm=function(tabId,id,type){Luxena.Travel.BusTicketViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.BusTicketViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.BusTicketViewForm,type,id,newTab);}
Luxena.Travel.BusTicketViewForm.prototype={getClassName:function(){return 'BusTicket';},getClassTitle:function(){return Luxena.Travel.DomainRes.busTicket;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$18;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Number.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengerHtml(this.r.Passenger,this.r.PassengerName)+$0.Provider.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+Luxena.Travel.ProductViewForm.getOriginHtml(this.r)+"<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.common_Departure+":</td><td class='fieldValue'>"+this.r.DeparturePlace+' / '+Ext.util.Format.date(this.r.DepartureDate,'d.m.Y')+' '+this.r.DepartureTime+'</td></tr>'+"<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.common_Arrival+":</td><td class='fieldValue'>"+this.r.ArrivalPlace+' / '+Ext.util.Format.date(this.r.ArrivalDate,'d.m.Y')+' '+this.r.ArrivalTime+'</td></tr>'+$0.SeatNumber.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},addRefund:function(){this.stdAddRefund(this.r,'BusTicketRefund',['PassengerName','Passenger','Provider','Number','DeparturePlace','DepartureDate','DepartureTime','ArrivalPlace','ArrivalDate','ArrivalTime','SeatNumber']);},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.BusTicketRefundViewForm=function(tabId,id,type){Luxena.Travel.BusTicketRefundViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.BusTicketRefundViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.BusTicketRefundViewForm,type,id,newTab);}
Luxena.Travel.BusTicketRefundViewForm.prototype={getClassName:function(){return 'BusTicketRefund';},getClassTitle:function(){return Luxena.Travel.DomainRes.busTicketRefund;},get_isRefund:function(){return true;}}
Luxena.Travel.GenericProductViewForm=function(tabId,id,type){Luxena.Travel.GenericProductViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.GenericProductViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.GenericProductViewForm,type,id,newTab);}
Luxena.Travel.GenericProductViewForm.prototype={getClassName:function(){return 'GenericProduct';},getClassTitle:function(){return Luxena.Travel.DomainRes.genericProduct;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$1D;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+$0.Provider.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.FinishDate.toHtmlTr2(this.r)+$0.TourCode.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.InsuranceRefundEditForm=function(){Luxena.Travel.InsuranceRefundEditForm.initializeBase(this);}
Luxena.Travel.InsuranceRefundEditForm.prototype={get_className:function(){return 'InsuranceRefund';},get_isRefund:function(){return true;}}
Luxena.Travel.InsuranceViewForm=function(tabId,id,type){Luxena.Travel.InsuranceViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.InsuranceViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.InsuranceViewForm,type,id,newTab);}
Luxena.Travel.InsuranceViewForm.prototype={getClassName:function(){return 'Insurance';},getClassTitle:function(){return Luxena.Travel.DomainRes.insurance;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$22;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+$0.Producer.toHtmlTr2(this.r)+$0.Provider.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.FinishDate.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},addRefund:function(){this.stdAddRefund(this.r,'InsuranceRefund',['PassengerName','Passengers','Producer','Provider','Number','StartDate','FinishDate','Country']);},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.InsuranceRefundViewForm=function(tabId,id,type){Luxena.Travel.InsuranceRefundViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.InsuranceRefundViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.InsuranceRefundViewForm,type,id,newTab);}
Luxena.Travel.InsuranceRefundViewForm.prototype={getClassName:function(){return 'InsuranceRefund';},getClassTitle:function(){return Luxena.Travel.DomainRes.insuranceRefund;},get_isRefund:function(){return true;}}
Luxena.Travel.AllProductListTab=function(tabId,args){Luxena.Travel.AllProductListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AllProductListTab.listObject=function(args,newTab){Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType(Luxena.Travel.AllProductListTab,args,newTab);}
Luxena.Travel.AllProductListTab.prototype={onInitGrid:function(args,config){Luxena.Travel.AllProductListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['RequiresProcessing','IsVoid'];},createCustomColumnConfigs:function(){var $0=new Luxena.Travel.SemanticDomain(this);var $1=$0.$24;this.addColumns([$1.Name,$1.PassengerName,$0.$23.Producer,$1.Provider,$1.Country.toColumn(true),$1.PnrCode.toColumn(true),$1.TourCode.toColumn(true),$0.$23.TicketingIataOffice]);},handleAltEnterPress:function(){if(!!this.get_autoGrid().get_selectionModel().getSelections().length){this.$7_B();}},onAddToolbarButtons:function(toolbarItems,grid){if(this.get_listConfig().IsEditAllowed.Visible){this.$7_D=this.action(Luxena.Travel.Res.aviaDocument_Handle_Action.toLowerCase(),ss.Delegate.create(this,this.$7_B),true,this.get_listConfig().IsEditAllowed.DisableInfo);this.$7_E=this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(),ss.Delegate.create(this,this.$7_C),true);this.menuAction(LxnBase.BaseRes.createItem_Lower,[this.menuCreateItem(Luxena.Travel.DomainRes.aviaTicket,'AviaTicket'),this.menuCreateItem(Luxena.Travel.DomainRes.aviaMco,'AviaMco'),this.menuCreateItem(Luxena.Travel.DomainRes.aviaRefund,'AviaRefund'),Luxena.Travel.AppActions.aviaConsoleParser,'-',this.menuCreateItem(Luxena.Travel.DomainRes.busTicket,'BusTicket'),this.menuCreateItem(Luxena.Travel.DomainRes.carRental,'CarRental'),this.menuCreateItem(Luxena.Travel.DomainRes.pasteboard,'Pasteboard'),this.menuCreateItem(Luxena.Travel.DomainRes.accommodation,'Accommodation'),this.menuCreateItem(Luxena.Travel.DomainRes.insurance,'Insurance'),this.menuCreateItem(Luxena.Travel.DomainRes.isic,'Isic'),this.menuCreateItem(Luxena.Travel.DomainRes.simCard,'SimCard'),this.menuCreateItem(Luxena.Travel.DomainRes.transfer,'Transfer'),this.menuCreateItem(Luxena.Travel.DomainRes.tour,'Tour'),this.menuCreateItem(Luxena.Travel.DomainRes.excursion,'Excursion'),'-',this.menuCreateItem(Luxena.Travel.DomainRes.genericProduct,'GenericProduct')]);}this.createStdToolbarActions();if(grid!=null){if(toolbarItems.contains(grid.get_createAction())){toolbarItems.remove(grid.get_createAction());}if(toolbarItems.contains(grid.get_exportAction())){toolbarItems.remove(grid.get_exportAction());}}toolbarItems.insertRange(0,this.toolbarActions);},onRowChange:function(selections){Luxena.Travel.AllProductListTab.callBaseMethod(this, 'onRowChange',[selections]);if(this.$7_D!=null&&!this.get_listConfig().IsEditAllowed.IsDisabled){this.$7_D.setDisabled(selections.length!==1);}this.$7_E.setDisabled(!selections.length||!this.isTickets);},$7_B:function(){var $0=this.get_autoGrid().get_selectionModel().getSelected();var $1=$0.data[LxnBase.Data.ObjectPropertyNames.objectClass];if($1==='AviaMco'||$1==='AviaRefund'||$1==='AviaTicket'){Luxena.Travel.AviaDocumentListTab.baseTryProcess(this.get_autoGrid(),this._baseParams,null);}else{this.get_autoGrid().edit();}},$7_C:function(){var $0=JSON.stringify(this.getSelectedIds());LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/ticket/Tickets_{0}.pdf',Date.get_now().format('Y-m-d_H-i-s')),{tickets:$0});},$7_D:null,$7_E:null}
Luxena.Travel.AllAgencyProductListTab=function(tabId,args){Luxena.Travel.AllAgencyProductListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AllAgencyProductListTab.listObject=function(args,newTab){args.type='Product';args.baseRequest=new LxnBase.Data.RangeRequest();args.baseRequest.Params={forAllAgency:true};Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType2(Luxena.Travel.AllAgencyProductListTab,'AllAgencyProduct',args,newTab);}
Luxena.Travel.AllAgencyProductListTab.prototype={onLoad:function(){this.setTitle('\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430');},onInitGrid:function(args,config){Luxena.Travel.AllAgencyProductListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.listConfig.IsCreationAllowed.Visible=true;args.forcedProperties=['Name','RequiresProcessing','IsRefund','IsVoid'];args.baseRequest.setDefaultSort('IssueDate');config.view(new Luxena.Travel.ProductGridView(null));},onAddToolbarButtons:function(toolbarItems,autoGrid){},createColumnConfigs:function(){var $0=new Luxena.Travel.SemanticDomain(this);var $1=$0.$24;this.addColumns([$1.IssueDate,this.columnCfg('Type'),$1.Name,$1.PassengerName,$0.$23.Producer,$1.Provider,$0.$23.TicketingIataOffice,$1.Customer,$1.GrandTotal,$1.Order,$1.Booker,$1.Ticketer,$1.Seller,$1.IsPaid,$1.Owner,$1.CreatedOn.toColumn(true),$1.CreatedBy.toColumn(true),$1.ModifiedOn.toColumn(true),$1.ModifiedBy.toColumn(true),new Ext.grid.ColumnConfig().header('Id').dataIndex('Id').hidden(true).toDictionary()]);}}
Luxena.Travel.TransferViewForm=function(tabId,id,type){Luxena.Travel.TransferViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.TransferViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.TransferViewForm,type,id,newTab);}
Luxena.Travel.TransferViewForm.prototype={getClassName:function(){return 'Transfer';},getClassTitle:function(){return Luxena.Travel.DomainRes.transfer;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$1C;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.TourViewForm=function(tabId,id,type){Luxena.Travel.TourViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.TourViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.TourViewForm,type,id,newTab);}
Luxena.Travel.TourViewForm.prototype={getClassName:function(){return 'Tour';},getClassTitle:function(){return Luxena.Travel.DomainRes.tour;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$1F;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+$0.Provider.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.FinishDate.toHtmlTr2(this.r)+this.getHotelHtml($0.HotelName,this.r.HotelName,this.r.HotelOffice,this.r.HotelCode)+this.getHotelHtml($0.PlacementName,this.r.PlacementName,this.r.PlacementOffice,this.r.PlacementCode)+$0.AccommodationType.toHtmlTr2(this.r)+$0.CateringType.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.ExcursionViewForm=function(tabId,id,type){Luxena.Travel.ExcursionViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.ExcursionViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.ExcursionViewForm,type,id,newTab);}
Luxena.Travel.ExcursionViewForm.prototype={getClassName:function(){return 'Excursion';},getClassTitle:function(){return Luxena.Travel.DomainRes.excursion;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$19;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengersHtml(this.r.Passengers)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Country.toHtmlTr2(this.r)+$0.TourName.toHtmlTr2(this.r)+$0.StartDate.toHtmlTr2(this.r)+$0.FinishDate.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.IsicViewForm=function(tabId,id,type){Luxena.Travel.IsicViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.IsicViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.IsicViewForm,type,id,newTab);}
Luxena.Travel.IsicViewForm.prototype={getClassName:function(){return 'Isic';},getClassTitle:function(){return Luxena.Travel.DomainRes.isic;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$1A;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Name.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengerHtml(this.r.Passenger,this.r.PassengerName)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.CardType.toHtmlTr2(this.r,true)+$0.Number1.toHtmlTr2(this.r)+$0.Number2.toHtmlTr2(this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.ProductPassengerGridControl=function(width,height){Luxena.Travel.ProductPassengerGridControl.initializeBase(this,[new Ext.grid.EditorGridPanelConfig().cls('invoce-records').width(width).height(height).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).collapsible(false).frame(false).toDictionary()]);}
Luxena.Travel.ProductPassengerGridControl.$7_9=function($p0,$p1){return !ss.isNullOrUndefined($p0)&&!ss.isNullOrUndefined($p1)&&$p0.PassengerName===$p1.PassengerName&&(!ss.isNullOrUndefined($p0.Passenger)&&!ss.isNullOrUndefined($p1.Passenger)||$p0.Passenger.Id===$p1.Passenger.Id);}
Luxena.Travel.ProductPassengerGridControl.prototype={initComponent:function(){this.store=this.$7_1();this.sm=this.$7_2();this.cm=this.$7_3();this.tbar=this.$7_0();Luxena.Travel.ProductPassengerGridControl.callBaseMethod(this, 'initComponent');},get_isModified:function(){return this.$7_A;},get_items:function(){var $0=new Array(0);for(var $1=0;$1<this.store.data.length;$1++){$0[$1]=this.store.getAt($1).data;}return $0;},set_items:function(value){var $enum1=ss.IEnumerator.getEnumerator(value);while($enum1.moveNext()){var $0=$enum1.current;var $1=new Ext.data.Record($0);this.$7_B.add([$1]);}return value;},setInitialData:function(form,passengers){if(passengers==null||passengers.length<=0){return;}if(form.get_args().isCopy||form.get_args().get_isNew()){var $enum1=ss.IEnumerator.getEnumerator(passengers);while($enum1.moveNext()){var $0=$enum1.current;$0.Id=null;$0.Version=0;}}this.$7_B.loadData(passengers);},$7_0:function(){var $0=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add.toLowerCase()).handler(ss.Delegate.create(this,this.$7_4)));this.$7_D=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this,this.$7_5)).disabled(true));this.$7_E=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$7_7)).disabled(true));return new Ext.Toolbar(['->',$0,this.$7_D,this.$7_E]);},$7_1:function(){this.$7_B=new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','PassengerName','Passenger']).toDictionary());return this.$7_B;},$7_2:function(){this.$7_C=new Ext.grid.CheckboxSelectionModel();this.$7_C.singleSelect=false;this.$7_C.on('selectionchange',ss.Delegate.create(this,function(){
this.$7_E.setDisabled(!this.$7_C.getCount());this.$7_D.setDisabled(this.$7_C.getCount()!==1);}));return this.$7_C;},$7_3:function(){var $0=[];if(!this.$7_C.singleSelect){$0.insert(0,this.$7_C);}$0.add(new Ext.grid.RowNumberer({header:Luxena.Travel.Res.common_ListNumber}));$0.add({id:'PassengerName',header:Luxena.Travel.DomainRes.common_PassengerName,sortable:false,dataIndex:'PassengerName',width:270,renderer:Luxena.Travel.ProductSemantic.$E});return new Ext.grid.ColumnModel($0);},$7_4:function(){LxnBase.UI.FormsRegistry.editObject('ProductPassenger',null,null,ss.Delegate.create(this,function($p1_0){
this.$7_8(($p1_0).Item);}),null,null,LxnBase.UI.LoadMode.local);},$7_5:function(){if(!this.$7_C.getCount()){return;}var $0=this.$7_C.getSelected();var $1=$0.data;LxnBase.UI.FormsRegistry.editObject('ProductPassenger',$1.Id,$1,ss.Delegate.create(this,function($p1_0){
this.$7_6(($p1_0).Item,$0);}),null,null,LxnBase.UI.LoadMode.local);},$7_6:function($p0,$p1){$p1.data=$p0;$p1.commit();this.$7_A=true;},$7_7:function(){if(!this.$7_C.getCount()){return;}var $0=this.$7_C.getSelections();if($0==null){return;}var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$7_B.remove($1);}this.$7_A=true;},$7_8:function($p0){if($p0==null){return;}if(this.$7_B.findBy(function($p1_0,$p1_1){
return Luxena.Travel.ProductPassengerGridControl.$7_9($p1_0.data,$p0);})!==-1){return;}this.$7_B.add([new Ext.data.Record($p0)]);this.$7_A=true;},$7_A:false,$7_B:null,$7_C:null,$7_D:null,$7_E:null}
Luxena.Travel.SimCardViewForm=function(tabId,id,type){Luxena.Travel.SimCardViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.SimCardViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.SimCardViewForm,type,id,newTab);}
Luxena.Travel.SimCardViewForm.prototype={getClassName:function(){return 'SimCard';},getClassTitle:function(){return Luxena.Travel.DomainRes.simCard;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$21;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Number.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengerHtml(this.r.Passenger,this.r.PassengerName)+$0.Producer.toHtmlTr2(this.r,true)+$0.IsSale.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.ProductViewForm=function(tabId,id,type){Luxena.Travel.ProductViewForm.initializeBase(this,[tabId,id,type,'aviaDocumentView']);}
Luxena.Travel.ProductViewForm.viewProduct=function(viewFormType,type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new viewFormType($p1_0,id,type);});}
Luxena.Travel.ProductViewForm.getOriginHtml=function(r){return LxnBase.UI.BasicViewForm.hasValue(r.OriginString,function(){
return "\r\n\t\t\t\t<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.aviaDocument_Origin+":</td>\r\n\t\t\t\t<td class='fieldValue'>"+LxnBase.UI.BasicViewForm.link(r.OriginalDocument,LxnBase.UI.BasicViewForm.notEmpty(r.OriginString))+'</td></tr>';});}
Luxena.Travel.ProductViewForm.getBookerAndTicketerHtml=function(v,r){var $0=Luxena.Travel.ProductViewForm.getAgentStr(r.Booker,r.BookerOffice,r.BookerCode);var $1=Luxena.Travel.ProductViewForm.getAgentStr(r.Ticketer,r.TicketerOffice,r.TicketerCode);return LxnBase.UI.BasicViewForm.hasValue($0,function(){
return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>"+v.Booker._title+":</td>\r\n\t\t\t\t\t<td class='fieldValue'>"+$0+'</td></tr>';})+LxnBase.UI.BasicViewForm.hasValue($1,function(){
return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>"+v.Ticketer._title+":</td>\r\n\t\t\t\t\t<td class='fieldValue'>"+$1+'</td></tr>';});}
Luxena.Travel.ProductViewForm.getAgentStr=function(person,office,code){var $0=null;if(!String.isNullOrEmpty(office)&&!String.isNullOrEmpty(code)){$0=String.format('{0}-{1}',office,code);}else if(!String.isNullOrEmpty(office)){$0=office;}else if(!String.isNullOrEmpty(code)){$0=code;}if(ss.isValue(person)&&ss.isValue($0)){$0=String.format('{0} ({1})',LxnBase.UI.BasicViewForm.link(person),$0);}else if(ss.isValue(person)){$0=LxnBase.UI.BasicViewForm.link(person);}return $0;}
Luxena.Travel.ProductViewForm.prototype={get_isRefund:function(){return false;},onLoadFail:function(e){LxnBase.UI.Tabs.close(this);},createToolbarItems:function(){return this.createStdToolbarItems();},createStdToolbarItems:function(){var $0=[];$0.addRange([this._voidButton=this.action(Luxena.Travel.Res.void_Action.toLowerCase(),ss.Delegate.create(this,this.toggleVoid)),this._addRefundButton=this.action(Luxena.Travel.Res.aviaDocument_AddRefund_Action.toLowerCase(),ss.Delegate.create(this,this.addRefund)),new Ext.Toolbar.Separator(),this._createOrderButton=this.menuAction(Luxena.Travel.Res.aviaDocument_AddToOrder.toLowerCase(),[this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderNew.toLowerCase(),ss.Delegate.create(this,function(){
this.$6_1();})),this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderExist.toLowerCase(),ss.Delegate.create(this,function(){
this.$6_2();}))]),new Ext.Toolbar.Separator(),this._copyButton=this.action(LxnBase.BaseRes.copy.toLowerCase(),ss.Delegate.create(this,this.copyEntity)),this._editButton=this.action(LxnBase.BaseRes.edit.toLowerCase(),ss.Delegate.create(this,this.$6_0)),this._deleteButton=this.action(LxnBase.BaseRes.remove.toLowerCase(),ss.Delegate.create(this,this.removeEntity))]);return $0;},loadInstance:function(){Luxena.Travel.Services.ProductService.getObject1(this.getClassName(),this._id,ss.Delegate.create(this,this.load),ss.Delegate.create(this,this.onLoadFail));},load:function(response){this.stdLoad(response);},stdLoad:function(response){this.set_product(response);this.preRender();},prepareButtons:function(){if(!Luxena.Travel.LxnTravel$0.$0(this.get_product())){this._deleteButton.hide();}if(!Luxena.Travel.LxnTravel$0.$1(this.get_product())){this._voidButton.setDisabled(true);this._editButton.setDisabled(true);this._copyButton.setDisabled(true);this._createOrderButton.setDisabled(true);}else{this._createOrderButton.setDisabled(this.get_product().IsVoid);}if(this.get_product().IsRefund){this._addRefundButton.hide();}else if(ss.isValue(this.get_product().Refund)){this._addRefundButton.setDisabled(true);}},preRender:function(){var $0=this.get_product();if(ss.isNullOrUndefined($0)){return;}this.prepareButtons();this.setTitle($0.Name||this.getClassTitle());this._titleLabel.setText(this.getTitle());this._titleLabel.removeClass('processed');this._titleLabel.removeClass('unprocessed');this._titleLabel.removeClass('voided');this._voidButton.setText(Luxena.Travel.Res.void_Action.toLowerCase());if($0.RequiresProcessing){this._titleLabel.addClass('unprocessed');}else if($0.IsVoid){this._titleLabel.addClass('voided');this._voidButton.setText(Luxena.Travel.Res.restore_Action.toLowerCase());}else{this._titleLabel.addClass('processed');}this._contentPanel.body.dom.innerHTML=this.getFullHtml();},getTitle:function(){return this.getProductTitle(this.getClassTitle());},getProductTitle:function(classTitle){var $0=this.get_product();var $1=classTitle;var $2=($0.RequiresProcessing)?Luxena.Travel.Res.aviaDocument_Unprocessed:(($0.IsVoid)?Luxena.Travel.Res.aviaDocument_Voided:Luxena.Travel.Res.aviaDocument_Processed);$1=String.format('{0} ({1})',$1,$2.toLowerCase());if(ss.isNullOrUndefined($0.Name)){$1=String.format('{0} - {1}',$1,Luxena.Travel.Res.aviaDocument_NotIssued);}return $1;},$6_1:function(){var $0={AviaDocuments:[this.get_product().Id]};$0['SeparateServiceFee']=true;LxnBase.UI.FormsRegistry.editObject('Order',null,$0,ss.Delegate.create(this,function($p1_0){
this.loadInstance();var $1_0=$p1_0;LxnBase.UI.FormsRegistry.viewObject('Order',($1_0.Item).Id);}),null);},$6_2:function(){var $0={};$0[this.get_product().Id]=this.get_product().Name;Luxena.Travel.LxnTravel$0.$2($0,true,this.get_product().Name,ss.Delegate.create(this,this.loadInstance));},getFullHtml:function(){var $0=new ss.StringBuilder();$0.append(this.getCommonDataHtml());$0.append(this.getFinanceDataHtml());$0.append(LxnBase.UI.BasicViewForm.hasValue(this.get_product().Note,ss.Delegate.create(this,function(){
return String.format("<div class='note'><h2>{0}</h2><pre>{1}</pre></div>",Luxena.Travel.DomainRes.common_Note,this.get_product().Note);})));return $0.toString();},getCompositeFieldHtml:function(r,view1,value1,view2,value2,view3,value3){if(ss.isNullOrUndefined(r)){return '';}var $0=view1._title+' / '+view2._title;var $1=view1.getValueHtml(r,value1)+' / '+view2.getValueHtml(r,value2);if(!ss.isNullOrUndefined(view3)){$0+=' / '+view3._title;$1+=' / '+view3.getValueHtml(r,value3);}return "<tr><td class='fieldLabel'>"+$0+':</td>'+"<td class='fieldValue'>"+$1+'</td></tr>';},getPnrCodeAndTourCodeHtml:function(){var $0=this.get_product();return LxnBase.UI.BasicViewForm.hasValue([$0.PnrCode,$0.TourCode],function(){
var $1_0=LxnBase.UI.BasicViewForm.notEmpty($0.PnrCode);if(ss.isValue($0.TourCode)){$1_0+=' / '+($0.TourCode||'');}return "<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.aviaDocument_PnrCode+' / '+Luxena.Travel.DomainRes.aviaDocument_TourCode+':</td>'+"<td class='fieldValue'>"+LxnBase.UI.BasicViewForm.notEmpty($1_0)+'</td></tr>';});},getPassengerHtml:function(passenger,passengerName){var $0=Luxena.Travel.ProductSemantic.$C(passenger,passengerName);return "<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.aviaDocument_Passenger+":</td><td class='fieldValue'>"+$0+'</td></tr>';},getPassengersHtml:function(passengers){var $0='';var $enum1=ss.IEnumerator.getEnumerator(passengers);while($enum1.moveNext()){var $1=$enum1.current;$0+=Luxena.Travel.ProductSemantic.$C($1.Passenger,$1.PassengerName)+'<br/>';}return "<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.aviaDocument_Passenger+":</td><td class='fieldValue'>"+$0+'</td></tr>';},getCustomerAndIntermediaryHtml:function(customer,intermediary){var $0=this.get_product();return "<tr name='Customer'><td class='fieldLabel "+(($0.Customer==null)?'error':'')+"'>"+Luxena.Travel.DomainRes.common_Customer+' / '+Luxena.Travel.DomainRes.common_Intermediary+':</td>'+LxnBase.UI.BasicViewForm.hasValue([$0.Customer,$0.Intermediary],function(){
return "<td class='fieldValue'>"+LxnBase.UI.BasicViewForm.link($0.Customer)+' / '+LxnBase.UI.BasicViewForm.link($0.Intermediary)+'</td></tr>';},'<td/></tr>');},getHotelHtml:function(nameMember,name,office,code){return LxnBase.UI.BasicViewForm.hasValue([name,office,code],function(){
if(ss.isValue(office)||ss.isValue(code)){name+=' / '+(office||'')+' - '+(code||'');}return "<tr><td class='fieldLabel'>"+nameMember._title+':</td>'+"<td class='fieldValue'>"+LxnBase.UI.BasicViewForm.notEmpty(name)+'</td></tr>';});},getFinanceDataHtml:function(){var $0=this.get_product();var $1=new Luxena.Travel.SemanticDomain(this).$24;return "<div class='financeData'><table>"+$1.Fare.toHtmlTr4($0,true)+$1.EqualFare.toHtmlTr4($0,false,true)+$1.FeesTotal.toHtmlTr4($0)+$1.ConsolidatorCommission.toHtmlTr4($0)+$1.Total.toHtmlTr4($0,true,false,true)+$1.Vat.toHtmlTr4($0,false)+$1.Commission.toHtmlTr4($0,false,false,false,LxnBase.UI.BasicViewForm.hasValue($0.CommissionPercent,function(){
return "<td class='fieldValue gray'>("+$0.CommissionPercent.format('N2')+'%)</td>';}))+$1.ServiceFee.toHtmlTr4($0,true,false,true)+$1.CommissionDiscount.toHtmlTr4($0)+$1.Handling.toHtmlTr4($0)+$1.HandlingN.toHtmlTr4($0)+$1.Discount.toHtmlTr4($0)+$1.BonusDiscount.toHtmlTr4($0)+$1.BonusAccumulation.toHtmlTr4($0)+((!this.get_isRefund())?'':$1.RefundServiceFee.toHtmlTr4($0,true)+$1.ServiceFeePenalty.toHtmlTr4($0,true))+$1.GrandTotal.toHtmlTr4($0,true)+$1.PaymentType.toHtmlTr4($0)+'</table></div>';},toggleVoid:function(){var $0=this.get_product();LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation,($0.IsVoid)?Luxena.Travel.Res.document_Restore_Confirmation:Luxena.Travel.Res.document_Void_Confirmation,ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}Luxena.Travel.Services.ProductService.ChangeVoidStatus([$0.Id],null,ss.Delegate.create(this,function($p2_0){
var $2_0=($p2_0)[0];$0.IsVoid=$2_0.IsVoid;$0.RequiresProcessing=$2_0.RequiresProcessing;$0.Order=$2_0.Order;this.preRender();}),null);}));},addRefund:function(){throw new Error('NotImplement');},stdAddRefund:function(r,className,addProperties){var $0={};$0['IssueDate']=Date.get_now();var $enum1=ss.IEnumerator.getEnumerator(addProperties);while($enum1.moveNext()){var $1=$enum1.current;LxnBase.UI.BasicViewForm.addValue($0,r,$1);}$0['RefundedProduct']=LxnBase.Data.Reference.create(this._type,r.Name,r.Id);LxnBase.UI.BasicViewForm.addValue($0,r,'Producer');LxnBase.UI.BasicViewForm.addValue($0,r,'Provider');LxnBase.UI.BasicViewForm.addValue($0,r,'Customer');LxnBase.UI.BasicViewForm.addValue($0,r,'Intermediary');LxnBase.UI.BasicViewForm.addValue($0,r,'Originator');LxnBase.UI.BasicViewForm.addValue($0,r,'Order');$0['Seller']=Luxena.Travel.AppManager.get_currentPerson();LxnBase.UI.BasicViewForm.addValue($0,r,'Fare');LxnBase.UI.BasicViewForm.addValue($0,r,'EqualFare');LxnBase.UI.BasicViewForm.addValue($0,r,'FeesTotal');LxnBase.UI.BasicViewForm.addValue($0,r,'Total');LxnBase.UI.BasicViewForm.addValue($0,r,'Vat');LxnBase.UI.BasicViewForm.addValue($0,r,'Commission');LxnBase.UI.BasicViewForm.addValue($0,r,'ServiceFee');LxnBase.UI.BasicViewForm.addValue($0,r,'Discount');LxnBase.UI.BasicViewForm.addValue($0,r,'GrandTotal');LxnBase.UI.BasicViewForm.addValue($0,r,'TaxRateOfProduct');LxnBase.UI.BasicViewForm.addValue($0,r,'TaxRateOfServiceFee');LxnBase.UI.FormsRegistry.editObject(className,null,$0,ss.Delegate.create(this,function($p1_0){
if($p1_0==null){return;}var $1_0=($p1_0).Item;r.Refund=LxnBase.Data.Reference.create(className,$1_0.Name,$1_0.Id);this.load(r);LxnBase.UI.FormsRegistry.viewObject(className,$1_0.Id);}),null);},_printButton:null,_blankButton:null,_createOrderButton:null,_voidButton:null,_addRefundButton:null,_editButton:null,_copyButton:null,_deleteButton:null}
Luxena.Travel.PasteboardViewForm=function(tabId,id,type){Luxena.Travel.PasteboardViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.PasteboardViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.PasteboardViewForm,type,id,newTab);}
Luxena.Travel.PasteboardViewForm.prototype={getClassName:function(){return 'Pasteboard';},getClassTitle:function(){return Luxena.Travel.DomainRes.pasteboard;},getCommonDataHtml:function(){var $0=new Luxena.Travel.SemanticDomain(this).$1B;return "<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2(this.r,true)+$0.Number.toHtmlTr2(this.r,true)+this.getPnrCodeAndTourCodeHtml()+$0.ReissueFor.toHtmlTr2(this.r)+$0.$0.toHtmlTr2(this.r)+$0.$1.toHtmlTr2(this.r)+$0.RefundedProduct.toHtmlTr2(this.r)+this.getPassengerHtml(this.r.Passenger,this.r.PassengerName)+$0.Provider.toHtmlTr2(this.r)+"<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.common_Departure+":</td><td class='fieldValue'>"+this.r.DeparturePlace+' / '+Ext.util.Format.date(this.r.DepartureDate,'d.m.Y')+' '+this.r.DepartureTime+'</td></tr>'+"<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.common_Arrival+":</td><td class='fieldValue'>"+this.r.ArrivalPlace+' / '+Ext.util.Format.date(this.r.ArrivalDate,'d.m.Y')+' '+this.r.ArrivalTime+'</td></tr>'+$0.ServiceClass.toHtmlTr2(this.r)+$0.TrainNumber.toHtmlTr2(this.r)+$0.CarNumber.toHtmlTr2(this.r)+$0.SeatNumber.toHtmlTr2(this.r)+this.getCustomerAndIntermediaryHtml(this.r.Customer,this.r.Intermediary)+Luxena.Travel.ProductViewForm.getOriginHtml(this.r)+Luxena.Travel.ProductViewForm.getBookerAndTicketerHtml($0,this.r)+$0.Seller.toHtmlTr2(this.r,true)+$0.Owner.toHtmlTr2(this.r,true)+$0.LegalEntity.toHtmlTr2(this.r)+$0.Order.toHtmlTr2(this.r,true)+'</table></div>';},addRefund:function(){this.stdAddRefund(this.r,'PasteboardRefund',['PassengerName','Passenger','Number','DeparturePlace','DepartureDate','DepartureTime','ArrivalPlace','ArrivalDate','ArrivalTime','ServiceClass','TrainNumber','CarNumber','SeatNumber']);},r:null,get_product:function(){return this.r;},set_product:function(value){this.r=value;return value;}}
Luxena.Travel.PasteboardRefundViewForm=function(tabId,id,type){Luxena.Travel.PasteboardRefundViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.PasteboardRefundViewForm.viewObject=function(type,id,newTab){Luxena.Travel.ProductViewForm.viewProduct(Luxena.Travel.PasteboardRefundViewForm,type,id,newTab);}
Luxena.Travel.PasteboardRefundViewForm.prototype={getClassName:function(){return 'PasteboardRefund';},getClassTitle:function(){return Luxena.Travel.DomainRes.pasteboardRefund;},get_isRefund:function(){return true;}}
Luxena.Travel.ProductEditForm=function(){Luxena.Travel.ProductEditForm.initializeBase(this);}
Luxena.Travel.ProductEditForm.registerEdit=function(className,formType){LxnBase.UI.FormsRegistry.registerEdit(className,function($p1_0){
LxnBase.Data.ConfigManager.getEditConfig($p1_0.type,function($p2_0){
Luxena.Travel.Services.AppService.GetDocumentOwners(function($p3_0){
var $3_0=new formType();$3_0.productOwners=$p3_0;$3_0.init($p1_0,$p2_0);$3_0.open();},null);});});}
Luxena.Travel.ProductEditForm.prototype={get_isRefund:function(){return false;},get_isTicket:function(){return this._args.type==='AviaTicket';},get_isMco:function(){return this._args.type==='AviaMco';},get_useConsolidatorCommission:function(){return Luxena.Travel.AppManager.get_systemConfiguration().UseConsolidatorCommission;},get_useHandling:function(){return Luxena.Travel.AppManager.get_systemConfiguration().UseAviaHandling&&this.canUseHandling();},canUseHandling:function(){return true;},get_useBonuses:function(){return Luxena.Travel.AppManager.get_systemConfiguration().UseBonuses;},get_displayOwnerAsLabel:function(){return this.productOwners.length===1&&(this.initData==null||LxnBase.Data.Reference.equals((this.initData).Owner,this.productOwners[0]));},productOwners:null,preInitialize:function(){Luxena.Travel.ProductEditForm.callBaseMethod(this, 'preInitialize');var $enum1=ss.IEnumerator.getEnumerator(this.productOwners);while($enum1.moveNext()){var $0=$enum1.current;delete ($0).__type;}this.get_window().cls+=' aviaDocument-edit';this.get_window().width=910;this.get_form().labelWidth=140;},getInitData:function(){return {IssueDate:Date.get_today(),TaxRateOfProduct:0,TaxRateOfServiceFee:0};}}
Luxena.Travel.PasteboardRefundEditForm=function(){Luxena.Travel.PasteboardRefundEditForm.initializeBase(this);}
Luxena.Travel.PasteboardRefundEditForm.prototype={get_className:function(){return 'PasteboardRefund';},get_isRefund:function(){return true;}}
Luxena.Travel.AviaDocument_FullNumberEditor=function(v){this.v=v;}
Luxena.Travel.AviaDocument_FullNumberEditor.prototype={v:null,toEditor:function(){return this.v.rowPanel([this.$2=this.v.AirlinePrefixCode.toField(35,ss.Delegate.create(this,function($p1_0){
$p1_0.label(String.format('{0} / {1}',Luxena.Travel.DomainRes.common_Number,Luxena.Travel.DomainRes.airline));$p1_0.boldLabel();$p1_0.onBlur(ss.Delegate.create(this,this.$0));$p1_0.onKeyPress(ss.Delegate.create(this,this.$1));})),this.v.textComponent('-'),this.v.Number.toField(90,function($p1_0){
$p1_0.hideLabel();}),this.v.textComponent('/'),this.$3=this.v.Producer.toField(this.v.Producer.editForm.get_fieldMaxWidth()+19,function($p1_0){
$p1_0.hideLabel();})]);},$0:function(){var $0=this.$2.getValue();if($0==null||!$0){return;}var $1=this.$2.startValue;if($0!==$1||this.$4){Luxena.Travel.Services.AviaService.FindAirlineByPrefixCode($0,ss.Delegate.create(this,function($p1_0){
if($p1_0!=null){this.$3.setValue($p1_0);}}),null);}this.$4=false;},$1:function($p0,$p1){var $0=$p1;if($0.getKey()>=$0.ZERO&&$0.getKey()<=$0.NINE){this.$4=true;}},$2:null,$3:null,$4:false}
Luxena.Travel.AviaDocumentDto=function(){Luxena.Travel.AviaDocumentDto.initializeBase(this);}
Luxena.Travel.AviaDocumentDto.numberToString=function(number){return (ss.isNullOrUndefined(number))?'':number.toString().padLeft(10,'0');}
Luxena.Travel.AviaDocumentDto.prototype={Number:0,Conjunction:null,AirlinePrefixCode:null,Producer:null,PassengerName:null,Passenger:null,GdsPassportStatus:0,GdsPassport:null,Itinerary:null,AirlinePnrCode:null,TicketingIataOffice:null,Voidings:null,PaymentForm:null,PaymentDetails:null,Fees:null}
Luxena.Travel.Product_CustomerAndOrderEditor=function(v){this.v=v;}
Luxena.Travel.Product_CustomerAndOrderEditor.prototype={v:null,$0:null,$1:null,toEditor:function(){return this.v.rowPanel([this.$0=this.v.Customer.toField(-1,ss.Delegate.create(this,function($p1_0){
$p1_0.dataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy());$p1_0.label(String.format('{0} / {1}',this.v.Customer._title,this.v.Order._title));$p1_0.onChangeValue(ss.Delegate.create(this,this.$3));})),this.v.textComponent('/'),this.$1=this.v.Order.toField(-1,ss.Delegate.create(this,function($p1_0){
$p1_0.valueProperties(['Customer']);$p1_0.hideLabel();$p1_0.onChangeValue(ss.Delegate.create(this,this.$2));}))]);},$2:function($p0,$p1,$p2){if(this.v.editForm.get_updating()||$p1==null){return;}var $0=$p1;var $1=(($p0).store).getById($0[LxnBase.Data.Reference.IdPos]);var $2=$1.get('Customer');this.v.editForm.set_updating(true);this.$0.setValue($2);this.v.editForm.set_updating(false);},$3:function($p0,$p1,$p2){if(this.v.editForm.get_updating()||$p1===$p2||this.$1.getValue()==null){return;}var $0=$p2;var $1=$p1;if($0!=null&&$1!=null&&$0[0]===$1[0]){return;}LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation,Luxena.Travel.Res.aviaDocumentProcessForm_CustomerChanged,ss.Delegate.create(this,function($p1_0,$p1_1){
this.v.editForm.set_updating(true);if($p1_0==='yes'){this.$1.setValue(null);}else{this.$0.setValue($p2);}this.v.editForm.set_updating(false);}));}}
Luxena.Travel.Product_FinanceEditor=function(v){this.v=v;}
Luxena.Travel.Product_FinanceEditor.prototype={v:null,$0:null,$1:null,$2:null,$3:null,$4:null,$5:null,$6:null,$7:null,$8:null,$9:null,$A:null,$B:null,$C:null,$D:null,$E:null,$F:null,$10:null,$11:null,toEditor:function(){var $0=this.v.editForm;var $1=ss.Delegate.create(this,function($p1_0){
$p1_0.onChangeValue(ss.Delegate.create(this,this.$12));});var $2=ss.Delegate.create(this,function($p1_0){
$p1_0.onChangeValue(ss.Delegate.create(this,this.$12));$p1_0.boldLabel();});var $3=[];$3.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.aviaDocument_CalculateFare).handler(ss.Delegate.create(this,function(){
this.$14(this.$0);this.$4.focus();})).toDictionary()));$3.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.aviaDocument_CalculateFeesTotal).handler(ss.Delegate.create(this,function(){
this.$14(this.$1);this.$4.focus();})).toDictionary()));if($0.get_isRefund()){$3.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.aviaDocument_CalculateCancelFee).handler(ss.Delegate.create(this,function(){
this.$14(this.$C);this.$4.focus();})).toDictionary()));}var $4=[];$4.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFee_Text).handler(this.$13(ss.Delegate.create(this,function(){
return this.$6;}))).toDictionary()));if($0.get_useHandling()){$4.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateHandling_Text).handler(this.$13(ss.Delegate.create(this,function(){
return this.$7;}))).toDictionary()));$4.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateCommissionDiscount_Text).handler(this.$13(ss.Delegate.create(this,function(){
return this.$5;}))).toDictionary()));}$4.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateDiscount_Text).handler(this.$13(ss.Delegate.create(this,function(){
return this.$9;}))).toDictionary()));if($0.get_isRefund()){$4.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateRefundServiceFee_Text).handler(this.$13(ss.Delegate.create(this,function(){
return this.$D;}))).toDictionary()));$4.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFeePenalty_Text).handler(this.$13(ss.Delegate.create(this,function(){
return this.$E;}))).toDictionary()));}var $5=[];$5.addRange([this.v.Fare.toEditor(),this.$0=this.v.EqualFare.toField(0,$2),this.$1=this.v.FeesTotal.toField(0,$1)]);if($0.get_useConsolidatorCommission()){$5.add(this.$2=this.v.ConsolidatorCommission.toField(0,$1));}if($0.get_isRefund()){$5.add(this.$C=this.v.CancelFee.toField(0,$1));}$5.addRange([this.$3=this.v.Total.toField(0,function($p1_0){
$p1_0.menuOnChange($3);$p1_0.boldLabel();}),this.$4=this.v.Vat.toField(),this.v.Commission.toField(0,function($p1_0){
$p1_0.boldLabel();})]);if($0.get_useHandling()){$5.add(this.$5=this.v.CommissionDiscount.toField(0,$1));}$5.add(this.$6=this.v.ServiceFee.toField(0,$2));if($0.get_useHandling()){$5.add(this.$7=this.v.Handling.toField(0,$1));$5.add(this.$8=this.v.HandlingN.toField(0,$1));}$5.add(this.$9=this.v.Discount.toField(0,$1));if($0.get_isRefund()){$5.addRange([this.$D=this.v.RefundServiceFee.toField(0,$1),this.$E=this.v.ServiceFeePenalty.toField(0,$1)]);}else if($0.get_useBonuses()){$5.addRange([this.$A=this.v.BonusDiscount.toField(0,$1),this.v.BonusAccumulation.toField(0)]);}$5.add(this.$F=this.v.CancelCommission.toField(0,$1));$5.add(this.$B=this.v.GrandTotal.toField(0,function($p1_0){
$p1_0.menuOnChange($4);$p1_0.boldLabel();}));$5.add(this.v.PaymentType.toField(145));$5.add(this.v.TaxRateOfProduct.toField(145));$5.add(this.v.TaxRateOfServiceFee.toField(145));this.$15();return new Ext.Panel(new Ext.form.FormPanelConfig().items($5).layout('form').cls('finance-data').labelWidth(160).toDictionary());},$12:function($p0,$p1,$p2){this.$10.recalculate(this.$3);this.$11.recalculate(this.$B);},$13:function($p0){return ss.Delegate.create(this,function(){
this.$14($p0());this.$B.focus();});},$14:function($p0){var $0=$p0;if(this.$10.has($0)){this.$10.recalculate($0);this.$11.recalculate(this.$B);}else if(this.$11.has($0)){this.$11.recalculate($0);}},$15:function(){this.$10=new Luxena.Travel.Controls.MoneyControlCalculator().add(this.$0,1).add(this.$1,1).add(this.$2,1).add(this.$C,-1).add(this.$3,-1);this.$11=new Luxena.Travel.Controls.MoneyControlCalculator().add(this.$3,1).add(this.$6,1).add(this.$7,1).add(this.$8,-1).add(this.$5,-1).add(this.$9,-1).add(this.$A,-1).add(this.$D,-1).add(this.$E,-1).add(this.$B,-1);}}
Luxena.Travel.PassportCompareForm=function(personPassport,gdsPassport){Luxena.Travel.PassportCompareForm.initializeBase(this);this.$1_1=personPassport;this.$1_2=gdsPassport;}
Luxena.Travel.PassportCompareForm.$1_0=function($p0,$p1,$p2,$p3,$p4){var $0='';if($p4){$0=' different';}$p0.append(String.format("\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class='caption {3}'>{0}:</td>\r\n\t\t\t\t\t\t<td class='value {3}'>{1}</td>\r\n\t\t\t\t\t\t<td class='value {3}'>{2}</td>\r\n\t\t\t\t\t</tr>",$p1,$p2,$p3,$0));}
Luxena.Travel.PassportCompareForm.prototype={open:function(){this.get_window().setTitle(Luxena.Travel.Res.passportCompare_Caption);this.get_window().addClass('passport-compare');var $0=new ss.StringBuilder();$0.append(String.format("\r\n\t\t\t\t<table class='passports'>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t<td class='main-caption'>{0}</td>\r\n\t\t\t\t\t\t<td class='main-caption'>{1}</td>\r\n\t\t\t\t\t</tr>",Luxena.Travel.Res.passportCompare_PersonPassport,Luxena.Travel.Res.passportCompare_GdsPassport));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.common_Number,this.$1_1.Number,this.$1_2.Number,!String.equals(this.$1_1.Number,this.$1_2.Number,true));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_LastName,this.$1_1.LastName,this.$1_2.LastName,!String.equals(this.$1_1.LastName,this.$1_2.LastName,true));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_FirstName,this.$1_1.FirstName,this.$1_2.FirstName,!String.equals(this.$1_1.FirstName,this.$1_2.FirstName,true));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_MiddleName,this.$1_1.MiddleName,this.$1_2.MiddleName,!String.equals(this.$1_1.MiddleName,this.$1_2.MiddleName,true));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_Citizenship,LxnBase.StringUtility.toString(this.$1_1.Citizenship),LxnBase.StringUtility.toString(this.$1_2.Citizenship),!LxnBase.Data.Reference.equals(this.$1_1.Citizenship,this.$1_2.Citizenship));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_Birthday,LxnBase.StringUtility.toString(this.$1_1.Birthday),LxnBase.StringUtility.toString(this.$1_2.Birthday),LxnBase.StringUtility.toString(this.$1_1.Birthday)!==LxnBase.StringUtility.toString(this.$1_2.Birthday));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_Gender,LxnBase.EnumUtility.localize(Luxena.Travel.Gender,this.$1_1.Gender,Luxena.Travel.DomainRes),LxnBase.EnumUtility.localize(Luxena.Travel.Gender,this.$1_2.Gender,Luxena.Travel.DomainRes),this.$1_1.Gender!==this.$1_2.Gender);Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_IssuedBy,LxnBase.StringUtility.toString(this.$1_1.IssuedBy),LxnBase.StringUtility.toString(this.$1_2.IssuedBy),!LxnBase.Data.Reference.equals(this.$1_1.IssuedBy,this.$1_2.IssuedBy));Luxena.Travel.PassportCompareForm.$1_0($0,Luxena.Travel.DomainRes.passport_ExpiredOn,LxnBase.StringUtility.toString(this.$1_1.ExpiredOn),LxnBase.StringUtility.toString(this.$1_2.ExpiredOn),LxnBase.StringUtility.toString(this.$1_1.ExpiredOn)!==LxnBase.StringUtility.toString(this.$1_2.ExpiredOn));$0.append('</table>');var $1=new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({html:$0.toString()}).cls('passport-data').toDictionary());this.get_form().add($1);var $2=this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.passportCompare_UsePersonPassport).handler(ss.Delegate.create(this,function(){
this.completeSave(true);})).toDictionary());var $3=this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.passportCompare_UseGdsPassport).handler(ss.Delegate.create(this,function(){
this.completeSave(false);})).toDictionary());var $4=this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.cancel).handler(ss.Delegate.create(this,this.cancel)).toDictionary());this.set_componentSequence([$2,$3,$4]);this.get_window().show();},onSave:function(){},$1_1:null,$1_2:null}
Luxena.Travel.PassportListForm=function(gdsOriginator,personId){Luxena.Travel.PassportListForm.initializeBase(this);this.$1_4=gdsOriginator;this.$1_5=personId;}
Luxena.Travel.PassportListForm.$1_2=function($p0){var $0=new ss.StringBuilder();$0.append(String.format('<div><b>{0}</b></div>',$p0.Number));$0.append('<table>');var $1=new ss.StringBuilder();if(!String.isNullOrEmpty($p0.LastName)){$1.append($p0.LastName);}if(!String.isNullOrEmpty($p0.FirstName)){$1.append($p0.FirstName);}if(!String.isNullOrEmpty($p0.MiddleName)){$1.append($p0.MiddleName);}var $2=new ss.StringBuilder();if(!$1.isEmpty){$2.append($1.toString(' '));}if(!ss.isNullOrUndefined($p0.Birthday)){$2.append($p0.Birthday.format('d.m.Y'));}if(!ss.isNullOrUndefined($p0.Gender)){$2.append(LxnBase.EnumUtility.localize(Luxena.Travel.Gender,$p0.Gender,Luxena.Travel.Res));}if($p0.Citizenship!=null){$2.append($p0.Citizenship.Name);}if(!$2.isEmpty){$0.append(String.format("<tr><td class='caption'>{0}: </td><td>{1}</td></tr>",Luxena.Travel.Res.passport_PrivateData,$2.toString(', ')));}if($p0.IssuedBy!=null){$0.append(String.format("<tr><td class='caption'>{0}: </td><td>{1}</td></tr>",Luxena.Travel.Res.passport_IssuedBy,$p0.IssuedBy.Name));}if(!ss.isNullOrUndefined($p0.ExpiredOn)){$0.append(String.format("<tr><td class='caption'>{0}: </td><td>{1}</td></tr>",Luxena.Travel.DomainRes.passport_ExpiredOn,$p0.ExpiredOn.format('d.m.Y')));}$0.append('</table>');return $0.toString();}
Luxena.Travel.PassportListForm.prototype={open:function(){Luxena.Travel.Services.PartyService.GetPerson(this.$1_5,ss.Delegate.create(this,function($p1_0){
this.$1_6=$p1_0;this.$1_0();this.get_window().show();}),null);},$1_0:function(){this.get_window().setTitle(String.format(Luxena.Travel.Res.passport_List_Title,this.$1_6.Name));this.get_window().addClass('passport-list');if(this.$1_6.Passports==null||!this.$1_6.Passports.length){this.get_form().add(new Ext.form.Label('no passport'));return;}for(var $1=0;$1<this.$1_6.Passports.length;$1++){var $2=this.$1_6.Passports[$1];this.get_form().add(this.$1_1($2,!$1));}var $0=this.get_form().addButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.close_Action).handler(ss.Delegate.create(this,function(){
this.get_window().close();})).toDictionary());this.registerFocusComponent($0);},$1_1:function($p0,$p1){var $0=Luxena.Travel.PassportListForm.$1_2($p0);var $1=new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({html:$0}).cls('passport-data').toDictionary());var $2=new Ext.form.TextField(new Ext.form.TextFieldConfig().readOnly(true).selectOnFocus(true).value(this.$1_3($p0)).width(420).toDictionary());this.registerFocusComponent($2);var $3='passport';if($p1){$3+=' first-item';}return new Ext.Container(new Ext.ContainerConfig().items([$1,$2]).cls($3).toDictionary());},$1_3:function($p0){switch(this.$1_4){case 1:return $p0.AmadeusString;case 2:return $p0.GalileoString;default:return null;}},onSave:function(){},$1_4:0,$1_5:null,$1_6:null}
Luxena.Travel.AviaConsoleParserForm=function(){Luxena.Travel.AviaConsoleParserForm.initializeBase(this);}
Luxena.Travel.AviaConsoleParserForm.prototype={$1_0:null,$1_1:null,$1_2:null,$1_3:null,open:function(){this.get_window().setTitle(Luxena.Travel.Res.aviaConsoleParserForm_Title);this.get_window().addClass('avia-console-parser');this.get_window().setSize(800,765);this.get_form().add(new Ext.form.Label(new Ext.form.LabelConfig().html('\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0430\u0432\u0438\u0430-\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430 \u0441\u0438\u0441\u0442\u0435\u043c Amadeus, Galileo \u0438 Sabre:<br/>\r\n<br/>\r\n1) \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043f\u043e\u043e\u0447\u0435\u0440\u0451\u0434\u043d\u043e \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b:<br/>\r\n<br/>\r\n   - \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b <b>Amadeus</b>: rt[\u043d\u043e\u043c\u0435\u0440 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438] \u0438 tqt; \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0441\u0447\u0451\u0442\u043e\u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e - tqt/T1, tqt/T2 ... \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e; <br/>\r\n<br/>\r\n   - \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b <b>Galileo</b>: rt[\u043d\u043e\u043c\u0435\u0440 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438] \u0438 tqt; \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043f\u0440\u043e\u0441\u0447\u0451\u0442\u043e\u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e - tqt/T1, tqt/T2 ... \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e; <br/>\r\n<br/>\r\n   - \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u044b <b>Sabre</b>: <br/>\r\n&nbsp; &nbsp; *SPAXAV \u043a\u043e\u043c\u0430\u043d\u0434\u0430-\u0437\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0438\u043b\u0438 <br/>\r\n&nbsp; &nbsp; *R \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u043a\u0443 \u0438\u043b\u0438 <br/>\r\n&nbsp; &nbsp; *-TKACH \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u043e \u0444\u0430\u043c\u0438\u043b\u0438\u0438; <br/>\r\n\r\n<br/>\r\n2) \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441 \u044d\u043a\u0440\u0430\u043d\u0430 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0430 \u0442\u0435\u043a\u0441\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043c\u0430\u043d\u0434 \u0432 \u0431\u0443\u0444\u0435\u0440 \u043e\u0431\u043c\u0435\u043d\u0430;<br/>\r\n<br/>\r\n3) \u0432\u0441\u0442\u0430\u0432\u0442\u0435 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432 \u043f\u043e\u043b\u0435 \u043d\u0438\u0436\u0435.<br/>\r\n<br/>').toDictionary()));this.$1_0=new Ext.form.TextArea(new Ext.form.TextAreaConfig().width(756).height(360).hideLabel(true).allowBlank(false).style('font-family: Consolas, Courier New, courier').toDictionary());this.$1_3=Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl(Luxena.Travel.DomainRes.common_Seller,200,false);this.$1_3.setValue(Luxena.Travel.AppManager.get_currentPerson());this.$1_1=Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(200,false);if(ss.isValue(this.$1_2)){this.$1_1.setValue(this.$1_2);}this.get_form().add(this.$1_0);this.get_form().add(this.$1_3.get_widget());this.get_form().add(this.$1_1);var $0=this.get_form().addButton(Luxena.Travel.Res.aviaConsoleParserForm_Parse,ss.Delegate.create(this,this.save));var $1=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_componentSequence([$0,$1]);this.get_window().show();},onValidate:function(){return !String.isNullOrEmpty(this.$1_0.getValue().toString());},onSave:function(){this.$1_2=this.$1_1.getObjectInfo();Luxena.Travel.Services.AviaService.AddDocumentsByConsoleContent(this.$1_0.getValue(),this.$1_3.getObjectId(),this.$1_1.getSelectedId(),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $enum1=ss.IEnumerator.getEnumerator($1_0);while($enum1.moveNext()){var $1_1=$enum1.current;LxnBase.UI.FormsRegistry.viewObject($1_1.Type,$1_1.Id);}this.get_window().close();}),null);}}
Luxena.Travel.DepartmentModel=function(){this.Organization=ko.observable();Luxena.Travel.DepartmentModel.initializeBase(this);this.IsDepartment=true;this.InfoTitle=Luxena.Travel.Res.departmentView_Info;this.InfoPrompt=ko.dependentObservable(ss.Delegate.create(this,function(){
return this.Phone1()==null&&this.Phone2()==null&&this.Email1()==null&&this.Email2()==null&&this.WebAddress()==null&&this.ActualAddress()==null&&this.LegalAddress()==null;}));this.Organization(new Luxena.Travel.OrganizationModel());}
Luxena.Travel.FileModel=function(){this.Id=ko.observable();this.FileName=ko.observable();this.TimeStamp=ko.observable();this.UploadedBy=ko.observable();this.Party=ko.observable();}
Luxena.Travel.OrganizationModel=function(){this.Code=ko.observable();this.Departments=ko.observableArray();this.Employees=ko.observableArray();Luxena.Travel.OrganizationModel.initializeBase(this);this.IsOrganization=true;this.InfoTitle=Luxena.Travel.Res.organizationView_Info;this.InfoPrompt=ko.dependentObservable(ss.Delegate.create(this,function(){
return this.Phone1()==null&&this.Phone2()==null&&this.Email1()==null&&this.Email2()==null&&this.WebAddress()==null&&this.ActualAddress()==null&&this.LegalAddress()==null&&this.Code()==null;}));}
Luxena.Travel.OrganizationModel.prototype={AddEmployee:null,AddDepartment:null}
Luxena.Travel.PartyViewForm=function(tabId,id,className){Luxena.Travel.PartyViewForm.initializeBase(this,[new Ext.PanelConfig().closable(true).autoScroll(true).title(LxnBase.BaseRes.loading).bodyCssClass('banded party '+className.toLowerCase()).toDictionary(),tabId]);this.$6_8=className;LxnBase.Data.ConfigManager.getViewConfig(className,ss.Delegate.create(this,function($p1_0){
Luxena.Travel.PartyViewForm.$6_0(this.$6_9,$p1_0.IsEditAllowed);Luxena.Travel.PartyViewForm.$6_0(this.$6_A,$p1_0.IsCreationAllowed);Luxena.Travel.PartyViewForm.$6_0(this.$6_B,$p1_0.IsRemovingAllowed);this.getParty(id);}));}
Luxena.Travel.PartyViewForm.$6_0=function($p0,$p1){if(ss.isNullOrUndefined($p1)){return;}$p0.setVisible($p1.Visible);$p0.setDisabled($p1.IsDisabled);$p0.setTooltip($p1.DisableInfo);}
Luxena.Travel.PartyViewForm.prototype={initComponent:function(){this.$6_9=new Ext.Button(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this,this.$6_2)).toDictionary());this.$6_A=new Ext.Button(new Ext.ButtonConfig().text(LxnBase.BaseRes.copy_Lower).handler(ss.Delegate.create(this,this.$6_3)).toDictionary());this.$6_B=new Ext.Button(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$6_4)).toDictionary());this.tbar=new Ext.Toolbar([this.$6_9,this.$6_A,this.$6_B]);Luxena.Travel.PartyViewForm.callBaseMethod(this, 'initComponent');},onActivate:function(isFirst){if(!isFirst){this.getParty(this.dto.Id);}},setParty:function(result){if(result==null){return;}this.dto=result;this.setTitle(this.dto.Name);if(this.model==null){this.model=this.createModel();this.initModel();ko.mapping.fromJS(this.dto,null,this.model);this.view=$(LxnTravel.Parties.Party.main.renderTo(this.body.dom,this.model));this.initView();}else{ko.mapping.fromJS(this.dto,null,this.model);}},initModel:function(){this.model.Edit=ss.Delegate.create(this,this.$6_2);this.model.AddFile=ss.Delegate.create(this,this.$6_5);this.model.DownloadFile=ss.Delegate.create(this,this.$6_6);this.model.DeleteFile=ss.Delegate.create(this,this.$6_7);this.model.AddOrder=ss.Delegate.create(this,function(){
LxnBase.UI.FormsRegistry.editObject('Order',null,{Customer:LxnBase.Data.Reference.create(null,this.dto.Name,this.dto.Id)},ss.Delegate.create(this,function(){
this.getParty(this.dto.Id);}),null);});this.model.OpenAllProducts=ss.Delegate.create(this,function(){
this.openAllProducts();});this.model.OpenAllOrders=ss.Delegate.create(this,function(){
this.openAllOrders();});this.model.OpenAllInvoices=ss.Delegate.create(this,function(){
this.openAllInvoices();});},initView:function(){this.$6_1();},$6_1:function(){var $0=this.view.find('.tabs-menu li');var $1=this.view.find('.tabs-content > div');var $2=$0.eq(0);var $3=$1.eq(0);$2.addClass('active');$3.css('display','block');$0.click(function($p1_0){
if($p1_0.currentTarget===$2.get(0)){return;}$2.removeClass('active');$3.hide();$2=$($p1_0.currentTarget);$3=$1.eq($2.index());$2.addClass('active');$3.show();});},$6_2:function(){LxnBase.UI.FormsRegistry.editObject(this.$6_8,this.dto.Id,null,ss.Delegate.create(this,function($p1_0){
this.setParty(($p1_0).Item);}),null);},$6_3:function(){LxnBase.UI.FormsRegistry.editObject(this.$6_8,this.dto.Id,null,ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0).Item;LxnBase.UI.FormsRegistry.viewObject(this.$6_8,$1_0.Id);}),null,null,LxnBase.UI.LoadMode.remote,true);},$6_4:function(){LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation,LxnBase.BaseRes.delete_Confirmation,ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}LxnBase.Services.GenericService.Delete(this.$6_8,[this.dto.Id],null,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;if($2_0.Success){LxnBase.UI.Tabs.close(this);LxnBase.MessageRegister.info(this.listCaption,LxnBase.BaseRes.deleted+' '+this.dto.Name);}else{this.onDeleteFailed();}}),ss.Delegate.create(this,function(){
this.onDeleteFailed();}));}));},addDetail:function(className,masterField){var $0=LxnBase.Data.Reference.create(null,this.dto.Name,this.dto.Id);var $1={};$1[masterField]=$0;LxnBase.UI.FormsRegistry.editObject(className,null,$1,ss.Delegate.create(this,function(){
this.getParty(this.dto.Id);}),null);},onDeleteFailed:function(){LxnBase.UI.ReplaceForm.exec('Party',this.dto.Id,this);},$6_5:function(){var $0=new Luxena.Travel.FileUploadForm(this.dto.Id);$0.add_uploaded(ss.Delegate.create(this,function($p1_0){
var $1_0=ko.mapping.fromJS($p1_0);this.model.Files.unshift($1_0);}));$0.open();},$6_6:function($p0){LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/party/{0}',$p0.FileName()),{file:$p0.Id()});},$6_7:function($p0){LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation,String.format(Luxena.Travel.Res.partyView_Confirm_File_Delete,$p0.FileName()),ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}Luxena.Travel.Services.PartyService.DeleteFile($p0.Id(),ss.Delegate.create(this,function(){
this.model.Files.remove($p0);LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.party_Files,String.format(Luxena.Travel.Res.file_Deleted,$p0.FileName()));}),null);}));},openAllProducts:function(){var $0=new LxnBase.Data.PropertyFilter();$0.Property='Customer';var $1=new LxnBase.Data.PropertyFilterCondition();$1.Operator=LxnBase.Data.FilterOperator.equals;$1.Value=this.dto.Name;$0.Conditions=[$1];var $2=new LxnBase.Data.RangeRequest();$2.Filters=[$0];LxnBase.UI.FormsRegistry.listObjects('Product',$2,false);},openAllOrders:function(){var $0=new LxnBase.Data.PropertyFilter();$0.Property='Customer';var $1=new LxnBase.Data.PropertyFilterCondition();$1.Operator=LxnBase.Data.FilterOperator.equals;$1.Value=this.dto.Name;$0.Conditions=[$1];var $2=new LxnBase.Data.RangeRequest();$2.Filters=[$0];LxnBase.UI.FormsRegistry.listObjects('Order',$2,false);},openAllInvoices:function(){var $0=new LxnBase.Data.PropertyFilter();$0.Property='Customer';var $1=new LxnBase.Data.PropertyFilterCondition();$1.Operator=LxnBase.Data.FilterOperator.equals;$1.Value=this.dto.Name;$0.Conditions=[$1];var $2=new LxnBase.Data.RangeRequest();$2.Filters=[$0];LxnBase.UI.FormsRegistry.listObjects('Invoice',$2,false);},listCaption:null,dto:null,model:null,view:null,$6_8:null,$6_9:null,$6_A:null,$6_B:null}
Luxena.Travel.DepartmentViewForm=function(tabId,departmentId){Luxena.Travel.DepartmentViewForm.initializeBase(this,[tabId,departmentId,'Department']);this.listCaption=Luxena.Travel.DomainRes.department_Caption_List;}
Luxena.Travel.DepartmentViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.DepartmentViewForm($p1_0,id);});}
Luxena.Travel.DepartmentViewForm.prototype={createModel:function(){return new Luxena.Travel.DepartmentModel();},getParty:function(id){Luxena.Travel.Services.PartyService.GetDepartment(id,ss.Delegate.create(this,this.setParty),ss.Delegate.create(this,function(){
this.close();}));}}
Luxena.Travel.PartyFile=function(){}
Luxena.Travel.PartyFile.getFile=function(fileId,fileName){LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/party/{0}',fileName),{file:fileId});}
Luxena.Travel.FileUploadForm=function(partyId){this.$7=partyId;this.$6=new Ext.form.FormPanel(new Ext.form.FormPanelConfig().bodyBorder(false).border(false).items([new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'input',type:'file',name:'uploadedFile',size:30}).toDictionary())]).toDictionary());this.$6.getForm().fileUpload=true;this.$6.getForm().standardSubmit=false;this.$6.getForm().timeout=50000;this.$6.getForm().waitTitle=Luxena.Travel.Res.file_WaitUpload;this.$5=new Ext.Window(new Ext.WindowConfig().title(Luxena.Travel.Res.fileUpload_Title).baseCls('x-panel').cls('file-upload').items(this.$6).resizable(false).modal(true).buttons([new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.file_UploadAction).handler(ss.Delegate.create(this,this.$1)).toDictionary()),new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.close_Action).handler(ss.Delegate.create(this,this.$2)).toDictionary())]).buttonAlign('center').toDictionary());}
Luxena.Travel.FileUploadForm.prototype={add_uploaded:function(value){this.$0=ss.Delegate.combine(this.$0,value);},remove_uploaded:function(value){this.$0=ss.Delegate.remove(this.$0,value);},$0:null,open:function(){this.$5.addClass('file-form');this.$5.show();},$1:function(){this.$6.getForm().submit({url:LxnBase.Net.WebService.root+'PartyService.asmx/UploadFile',params:{partyId:this.$7},waitMsg:Luxena.Travel.Res.file_WaitUpload,success:ss.Delegate.create(this,this.$3),failure:ss.Delegate.create(this,this.$4)});},$2:function(){this.$5.close();},$3:function($p0,$p1){var $0=$p1.response;var $1=JSON.parse($0.responseText).File;this.$2();LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.party_Files,String.format(Luxena.Travel.Res.file_Upload_Success,$1.FileName));if(this.$0!=null){this.$0($1);}},$4:function($p0,$p1){var $0=$p1.result;LxnBase.MessageRegister.error(Luxena.Travel.DomainRes.party_Files,String.format(Luxena.Travel.Res.file_Upload_Failed,$0.ErrorMessage));},$5:null,$6:null,$7:null}
Luxena.Travel.OrderGridView=function(){Luxena.Travel.OrderGridView.initializeBase(this);}
Luxena.Travel.OrderGridView.prototype={getCustomRowClass:function(record){if(record.get('IsVoid')){return 'textColor-gray';}var $0=record.get('DeliveryBalance');if($0<0){return 'rowColor-red';}var $1=record.get('TotalDue');if(ss.isValue($1)&&$1[0]>0){return 'rowColor-orange';}return ($0>0)?'rowColor-green':null;}}
Luxena.Travel.ReportPrinter=function(){}
Luxena.Travel.ReportPrinter.getOrderDocument=function(invoiceId,number,type,fileExtension){LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/invoice/{0}_{1}.{2}',type.toString(),number,fileExtension||'xls'),{invoice:invoiceId});}
Luxena.Travel.ReportPrinter.getCashOrder=function(paymentId,number){LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/payment/CashOrder_{0}.xls',number),{payment:paymentId});}
Luxena.Travel.ReportPrinter.getLastIssuedConsignment=function(consignmentId,number){LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/consignment/Consignment_{0}.xls',number),{consignment:consignmentId});}
Luxena.Travel.ReportPrinter.getIssuedConsignment=function(fileId,number){LxnBase.UI.AutoControls.ReportLoader.load(String.format('files/consignment/Consignment_{0}.xls',number),{file:fileId});}
Luxena.Travel.PaymentEditForm=function(args,config,paymentSystems){Luxena.Travel.PaymentEditForm.initializeBase(this,[args,config]);this.$2_1D=paymentSystems;this.get_window().addClass('payment-edit');}
Luxena.Travel.PaymentEditForm.editObject=function(args){LxnBase.Data.ConfigManager.getEditConfig(args.type,function($p1_0){
Luxena.Travel.Services.PaymentService.GetPaymentSystems(function($p2_0){
var $2_0=new Luxena.Travel.PaymentEditForm(args,$p1_0,$p2_0);$2_0.open();},null);});}
Luxena.Travel.PaymentEditForm.$2_6=function($p0){if($p0==null){return null;}if(!(Type.canCast($p0,Array))){return $p0;}var $0=$p0;var $1=new Luxena.Travel.MoneyDto();$1.Amount=$0[0];$1.Currency=new LxnBase.Data.Reference();$1.Currency.Name=$0[1];$1.Currency.Id=$0[2];$1.Currency.Type='Currency';return $1;}
Luxena.Travel.PaymentEditForm.$2_B=function($p0){var $0=$p0.getValue();if(String.isNullOrEmpty($0)){return null;}return $0;}
Luxena.Travel.PaymentEditForm.prototype={get_$2_0:function(){return this.get_instance();},loadInstance:function(onLoaded){Luxena.Travel.Services.DomainService.get(this.get_args().type,this.get_args().idToLoad,onLoaded,null);},addFields:function(){this.$2_C=this.createEditor('Date');this.$2_D=this.createEditor('DocumentNumber');this.$2_D.fieldLabel=this.$2_7();this.$2_D.width=166;if(this.get_args().type==='CashInOrderPayment'){this.$2_D.emptyText=Luxena.Travel.Res.auto;this.$2_D.emptyClass='auto-text';}else if(this.get_args().type==='ElectronicPayment'){this.$2_1B=this.createEditor('AuthorizationCode');this.$2_1B.width=166;this.$2_1C=new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Name']).data(this.$2_1D).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel(Luxena.Travel.DomainRes.electronicPayment_PaymentSystem).allowBlank(true).toDictionary());}var $0=(this.get_args().type==='WireTransfer')?Luxena.Travel.DomainRes.invoiceType_Invoice:Luxena.Travel.DomainRes.invoiceType_Receipt;this.$2_17=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().valueProperties(['Order','BillTo','TotalDue','VatDue','Owner','BankAccount']).setDataProxy(Luxena.Travel.Services.OrderService.suggestInvoicesProxy(this.get_args().type)).customActions(this.$2_1()).fieldLabel($0));this.$2_16=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Order').valueProperties(['Customer','BillTo','TotalDue','VatDue','Owner','BankAccount']).fieldLabel(Luxena.Travel.DomainRes.order));this.$2_E=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.payment_Payer).width(230).allowBlank(false));this.$2_F=this.createEditor('Amount');this.$2_F.get_decimalField().on('change',ss.Delegate.create(this,this.$2_A));this.$2_10=this.createEditor('Vat');if(this.get_args().type!=='WireTransfer'){this.$2_11=LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('ReceivedFrom'));}this.$2_13=Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl(230,false);this.$2_14=Luxena.Travel.Controls.ControlFactoryExt.createBankAccountControl(230);this.$2_15=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Person').allowCreate(false).setDataProxy(LxnBase.Services.GenericService.suggestProxy('Person')).fieldLabel(Luxena.Travel.DomainRes.common_AssignedTo).width(230));this.$2_12=LxnBase.UI.AutoControls.ControlFactory.createEditor(this.getFieldConfig('Note'));this.$2_12.addClass('note');if(this.get_args().type==='CashInOrderPayment'){this.$2_18=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().labelSeparator('').boxLabel(Luxena.Travel.Res.cashInOrderPayment_SavePosted.toLowerCase()).toDictionary());this.$2_18.setValue(true);}var $1=[];$1.addRange([this.$2_C,this.$2_D]);if(this.get_args().type==='ElectronicPayment'){$1.addRange([this.$2_1B,this.$2_1C]);}$1.addRange([this.$2_17.get_widget(),this.$2_16.get_widget(),this.$2_E.get_widget(),this.$2_F,this.$2_10]);if(this.$2_11!=null){$1.add(this.$2_11);}$1.addRange([this.$2_13,this.$2_15.get_widget(),this.$2_14,this.$2_12]);if(this.$2_18!=null){$1.add(this.$2_18);}this.get_form().add($1);return $1;},$2_1:function(){var $0=this.getArgsValue('Invoices');if(!!!$0||!$0.length){return null;}var $1=[];for(var $2=0;$2<$0.length;++$2){$1.add(this.$2_2($0[$2]));}return $1;},$2_2:function($p0){return new Ext.Action(new Ext.ActionConfig().text($p0.Name).handler(ss.Delegate.create(this,function(){
this.$2_19=true;this.$2_1A=true;try{this.$2_E.setValue(this.getArgsValue('Payer'));this.$2_16.setValue(this.getArgsValue('Order'));this.$2_17.setValue($p0);}finally{this.$2_19=false;this.$2_1A=false;}})).toDictionary());},initComponentSequence:function(fields,buttons){var $0=[];$0.addRange(fields);$0.addRange(buttons);$0.remove(this.$2_12);this.set_componentSequence($0);},$2_3:function($p0,$p1,$p2){if($p1==null||this.$2_1A){return;}var $0=(($p0).store).getById(($p1)[LxnBase.Data.Reference.IdPos]);this.$2_19=true;this.$2_16.setValue($0.get('Order'));this.$2_19=false;if(this.get_$2_0()==null){this.$2_5($0);}},$2_4:function($p0,$p1,$p2){if($p1==null||this.$2_19){return;}if($p2==null||($p2)[0]!==($p1)[0]){this.$2_1A=true;this.$2_17.setValue(null);this.$2_1A=false;}if(this.get_$2_0()==null){var $0=(($p0).store).getById(($p1)[0]);this.$2_5($0);}},$2_5:function($p0){var $0=$p0.get('Customer');var $1=$p0.get('BillTo');var $2=$p0.get('TotalDue');var $3=$p0.get('VatDue');var $4=$p0.get('Owner');var $5=$p0.get('BankAccount');this.$2_E.setValue($1||$0);this.$2_F.setValue(Luxena.Travel.PaymentEditForm.$2_6($2));this.$2_10.setValue(Luxena.Travel.PaymentEditForm.$2_6($3));if(Luxena.Travel.AppManager.get_allowSetDocumentOwner()){this.$2_13.setValue($4);}this.$2_14.setValue($5);},$2_7:function(){switch(this.get_args().type){case 'WireTransfer':return Luxena.Travel.Res.wireTransfer_DocumentName;case 'CashInOrderPayment':return Luxena.Travel.Res.cashInOrderPayment_DocumentName;case 'CashOutOrderPayment':return Luxena.Travel.Res.cashOutOrderPayment_DocumentName;case 'CheckPayment':return Luxena.Travel.Res.checkPayment_DocumentName;case 'ElectronicPayment':return Luxena.Travel.Res.electronicPayment_DocumentName;}return null;},setFieldValues:function(){this.$2_C.setValue(this.getInstancePropertyValue('Date')||Date.get_today());if(this.get_$2_0()!=null||this.get_args().fieldValues!=null){this.$2_D.setValue(this.getInstancePropertyValue('DocumentNumber'));this.$2_E.setValue(this.getInstancePropertyValue('Payer'));this.$2_F.setValue(this.getInstancePropertyValue('Amount'));this.$2_10.setValue(this.getInstancePropertyValue('Vat'));if(this.$2_11!=null){this.$2_11.setValue(this.getInstancePropertyValue('ReceivedFrom'));}if(this.$2_1B!=null){this.$2_1B.setValue(this.getInstancePropertyValue('AuthorizationCode'));}if(this.$2_1C!=null){this.$2_1C.setValue(this.getInstancePropertyValue('PaymentSystem'));}this.$2_17.setValue(this.getInstancePropertyValue('Invoice'));this.$2_16.setValue(this.getInstancePropertyValue('Order'));this.$2_13.setValue(this.getInstancePropertyValue('Owner'));this.$2_14.setValue(this.getInstancePropertyValue('BankAccount'));this.$2_15.setValue(this.getInstancePropertyValue('AssignedTo'));this.$2_12.setValue(this.getInstancePropertyValue('Note'));}else{this.$2_C.setValue(Date.get_today());}this.$2_16.get_widget().on('changeValue',ss.Delegate.create(this,this.$2_4));this.$2_17.get_widget().on('changeValue',ss.Delegate.create(this,this.$2_3));},onSave:function(){if(this.get_$2_0()==null||this.isModified()){this.startSave();Luxena.Travel.Services.DomainService.update(this.get_args().type,this.$2_8(),this.get_args().rangeRequest,ss.Delegate.create(this,this.completeSave),ss.Delegate.create(this,this.failSave));}else{this.cancel();}},onSaved:function(result){var $0=(result).Item;if(!this.get_localMode()&&this.get_$2_0()==null&&!ss.isNullOrUndefined(this.get_args().fieldValues)){Luxena.Travel.MessageFactory.objectUpdatedMsg(this.get_instanceConfig().ListCaption,LxnBase.UI.Controls.ObjectLink.render($0.Id,$0.Number,this.get_args().type),this.get_args().get_isNew());}Luxena.Travel.PaymentEditForm.callBaseMethod(this, 'onSaved',[result]);},$2_8:function(){var $0=new Luxena.Travel.PaymentDto();if(this.get_$2_0()!=null){$0.Id=this.get_$2_0().Id;$0.Version=this.get_$2_0().Version;}$0.Date=this.$2_C.getValue();$0.DocumentNumber=Luxena.Travel.PaymentEditForm.$2_B(this.$2_D);if(this.$2_1B!=null){$0.AuthorizationCode=Luxena.Travel.PaymentEditForm.$2_B(this.$2_1B);}if(this.$2_1C!=null){$0.PaymentSystem=this.$2_1C.getObjectInfo();}$0.Payer=this.$2_E.getObjectInfo();$0.Amount=this.$2_F.getValue();$0.Vat=this.$2_10.getValue();if(this.$2_11!=null){$0.ReceivedFrom=Luxena.Travel.PaymentEditForm.$2_B(this.$2_11);}$0.Note=Luxena.Travel.PaymentEditForm.$2_B(this.$2_12);$0.Invoice=this.$2_17.getObjectInfo();$0.Order=this.$2_16.getObjectInfo();$0.Owner=this.$2_13.getObjectInfo();$0.BankAccount=this.$2_14.getObjectInfo();$0.AssignedTo=this.$2_15.getObjectInfo();if(this.$2_18==null||this.$2_18.getValue()){$0.SavePosted=true;}return $0;},$2_9:function(){var $0=this.getArgsValue('Amount');var $1=this.getArgsValue('Vat');var $2=this.$2_F.getValue();if($0!=null&&$1!=null&&$2!=null){var $3=Luxena.Travel.MoneyDto.getZeroMoney();$3.Amount=$1.Amount*$2.Amount/$0.Amount;return $3;}return null;},$2_A:function($p0,$p1,$p2){if(this.get_$2_0()!=null){return;}var $0=this.$2_9();if($0!=null){this.$2_10.setValue($0);}},$2_C:null,$2_D:null,$2_E:null,$2_F:null,$2_10:null,$2_11:null,$2_12:null,$2_13:null,$2_14:null,$2_15:null,$2_16:null,$2_17:null,$2_18:null,$2_19:false,$2_1A:false,$2_1B:null,$2_1C:null,$2_1D:null}
Luxena.Travel.PaymentListTab=function(tabId,args){Luxena.Travel.PaymentListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.PaymentListTab.prototype={onInitGrid:function(args,config){Luxena.Travel.PaymentListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.forcedProperties=['IsVoid','PostedOn'];if(args.baseRequest==null){args.baseRequest=new LxnBase.Data.RangeRequest();}if(args.baseRequest.sort==null){args.baseRequest.sort='Date';args.baseRequest.dir='DESC';}config.view(new Luxena.Travel.PaymentGridView());},onAddToolbarButtons:function(toolbarItems,autoGrid){var $0=0;if(this.get_listConfig().IsCreationAllowed.Visible){toolbarItems.removeAt($0++);var $1=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashInOrder_Action).handler(ss.Delegate.create(this,function(){
this.$7_7('CashInOrderPayment');})).toDictionary());var $2=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCashOutOrder_Action).handler(ss.Delegate.create(this,function(){
this.$7_7('CashOutOrderPayment');})).toDictionary());var $3=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateNonCashPayment_Action).handler(ss.Delegate.create(this,function(){
this.$7_7('WireTransfer');})).toDictionary());var $4=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateCheckPayment_Action).handler(ss.Delegate.create(this,function(){
this.$7_7('CheckPayment');})).toDictionary());var $5=new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.payment_CreateElecronicPayment_Action).handler(ss.Delegate.create(this,function(){
this.$7_7('ElectronicPayment');})).toDictionary());var $6=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.payment_CreatePayment_Action).custom('menu',new Ext.menu.Menu(new Ext.menu.MenuConfig().items([$1,$2,$3,$4,$5]).toDictionary())).toDictionary());toolbarItems.insert(0,$6);}if(this.get_listConfig().IsEditAllowed.Visible){++$0;}toolbarItems.removeAt($0);if(this.get_listConfig().IsEditAllowed.Visible){this.$7_8=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.void_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_4)).disabled(true).toDictionary());this.$7_9=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.posted_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_6)).disabled(true).toDictionary());toolbarItems.insert(0,this.$7_8);toolbarItems.insert(1,this.$7_9);toolbarItems.insert(2,new Ext.Toolbar.Separator());}},onSelectionChange:function(selectionModel){var $0=selectionModel;var $1=$0.getSelections();if(!this.get_listConfig().IsEditAllowed.IsDisabled){if(!$1.length){this.$7_8.disable();this.$7_9.disable();}else{var $2=$1[0].get('IsVoid');var $3=false;var $4=true;for(var $5=0;$5<$1.length;$5++){if(($2^$1[$5].get('IsVoid'))===1){$4=false;}if(!ss.isNullOrUndefined($1[$5].get('PostedOn'))){$3=true;}}if($4){this.$7_8.setText(($2)?Luxena.Travel.Res.restore_Action.toLowerCase():Luxena.Travel.Res.void_Action.toLowerCase());this.$7_8.enable();}else{this.$7_8.disable();}if($2||$3){this.$7_9.disable();}else{this.$7_9.enable();}}}},$7_4:function(){var $0=this.get_autoGrid().get_selectionModel();if(!$0.getSelections().length){return;}var $1=$0.getSelections();var $2=[];for(var $3=0;$3<$1.length;$3++){$2.add($1[$3].id);}Luxena.Travel.Services.PaymentService.CanUpdate($2,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if(!$1_0.IsEnabled){var $1_2=(ss.isNullOrUndefined($1_0.DisableInfo))?LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg:$1_0.DisableInfo;LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.error,msg:$1_2,icon:Ext.MessageBox.ERROR,buttons:Ext.MessageBox.OK});return;}var $1_1=$1[0].data.IsVoid;Luxena.Travel.MessageFactory.voidingConfirmation(Luxena.Travel.Res.document_Void_Confirmation1,Luxena.Travel.Res.document_Void_Confirmation2,Luxena.Travel.Res.document_Void_Confirmation3,Luxena.Travel.Res.document_Restore_Confirmation1,Luxena.Travel.Res.document_Restore_Confirmation2,Luxena.Travel.Res.document_Restore_Confirmation3,$1_1,$1.length,ss.Delegate.create(this,function(){
Luxena.Travel.Services.PaymentService.ChangeVoidStatus($2,this.get_autoGrid().get_baseRequest(),ss.Delegate.create(this,this.$7_5),null);}));}),null);},$7_5:function($p0){var $0=$p0;var $1=$0.Items;var $2=$0.RangeResponse;(this.get_autoGrid().store.proxy).setResponse($2);this.get_autoGrid().reload(false);Luxena.Travel.MessageFactory.voidCompletedMsg(Luxena.Travel.DomainRes.payment_Caption_List,Luxena.Travel.Res.document_VoidDocument_Msg,Luxena.Travel.Res.document_VoidDocuments_Msg,Luxena.Travel.Res.document_RestoreDocument_Msg,Luxena.Travel.Res.document_RestoreDocuments_Msg,$1[0].IsVoid,$1.length,$1[0].Number,(ss.isNullOrUndefined($2.SelectedRow))?LxnBase.BaseRes.autoGrid_NotDisplay_Msg:null);if(!ss.isNullOrUndefined($2.SelectedRow)){this.get_autoGrid().get_selectionModel().selectRow($2.SelectedRow);}},$7_6:function(){Luxena.Travel.Services.PaymentService.PostPayments(this.get_autoGrid().getSelectedIds(),this.get_autoGrid().get_baseRequest(),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=$1_0.RangeResponse;(this.get_autoGrid().store.proxy).setResponse($1_1);this.get_autoGrid().reload(false);LxnBase.MessageRegister.info(this.get_listConfig().Caption,String.format(Luxena.Travel.Res.paymentList_PostedDocuments,$1_0.Items.length));if(!ss.isNullOrUndefined($1_1.SelectedRow)){this.get_autoGrid().get_selectionModel().selectRow($1_1.SelectedRow);}}),null);},$7_7:function($p0){LxnBase.UI.FormsRegistry.editObject($p0,null,null,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=$1_0.Item;var $1_2=LxnBase.BaseRes.created+' '+$1_1.Number;if(ss.isNullOrUndefined($1_0.RangeResponse.SelectedRow)){LxnBase.MessageRegister.info(this.get_listConfig().Caption,$1_2,LxnBase.BaseRes.autoGrid_NotDisplay_Msg);return;}LxnBase.MessageRegister.info(this.get_listConfig().Caption,$1_2);(this.get_autoGrid().store.proxy).setResponse($1_0.RangeResponse);this.get_autoGrid().reload(false);this.get_autoGrid().get_selectionModel().selectRow($1_0.RangeResponse.SelectedRow);if($p0==='CashInOrderPayment'){Luxena.Travel.ReportPrinter.getCashOrder($1_1.Id,$1_1.DocumentNumber);}}),null,this.get_autoGrid().get_baseRequest());},$7_8:null,$7_9:null}
Luxena.Travel.PaymentViewForm=function(tabId,id,type){Luxena.Travel.PaymentViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.PaymentViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.PaymentViewForm($p1_0,id,type);});}
Luxena.Travel.PaymentViewForm.$7_4=function(){var $0=new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_PaymentForm,'PaymentForm').setPropertyType(6).setEnumType(Luxena.Travel.PaymentForm),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Amount,'Amount').setPropertyType(4).setCssClass('amount-value'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Vat,'Vat').setPropertyType(4).setCssClass('amount-value')]).setCssClass('payment-amount');return new Luxena.Travel.Controls.PropertyListControl($0);}
Luxena.Travel.PaymentViewForm.prototype={get_$7_0:function(){return this.get_instance();},onInitToolBar:function(toolbarItems){toolbarItems.removeAt(1);this.$7_9=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.void_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_1)).toDictionary());this.$7_A=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.posted_Action.toLowerCase()).handler(ss.Delegate.create(this,this.$7_2)).toDictionary());toolbarItems.insert(0,this.$7_9);toolbarItems.insert(1,this.$7_A);toolbarItems.insert(2,new Ext.Toolbar.Separator());},initComponent:function(){this.cls='payment-view';this.layout=null;Luxena.Travel.PaymentViewForm.callBaseMethod(this, 'initComponent');this.$7_8=new Ext.form.Label(new Ext.form.LabelConfig().cls('title').toDictionary());this.$7_6=this.$7_3();this.$7_7=Luxena.Travel.PaymentViewForm.$7_4();var $0=new Ext.Panel(new Ext.PanelConfig().items([this.$7_8,this.$7_6,this.$7_7]).border(false).cls('content-panel').toDictionary());this.add($0);},updateActionsStatus:function(){LxnBase.UI.BaseClassViewForm.setActionStatus(this.$7_9,this.get_$7_0().Permissions.CanUpdate);LxnBase.UI.BaseClassViewForm.setActionStatus(this.$7_A,this.get_$7_0().Permissions.CanUpdate);this.$7_9.setText((this.get_$7_0().IsVoid)?Luxena.Travel.Res.restore_Action.toLowerCase():Luxena.Travel.Res.void_Action.toLowerCase());if(!ss.isNullOrUndefined(this.get_$7_0().PostedOn)||this.get_$7_0().IsVoid){this.$7_A.disable();}else{this.$7_A.enable();}Luxena.Travel.PaymentViewForm.callBaseMethod(this, 'updateActionsStatus');},getInstance:function(){Luxena.Travel.Services.DomainService.get(this._type,this.get_id(),ss.Delegate.create(this,this.load),ss.Delegate.create(this,function(){
LxnBase.UI.Tabs.close(this);}));},onLoad:function(){this.setTitle(this.get_$7_0().Number);this.$7_8.removeClass('voided');this.$7_8.removeClass('nonposted');var $0=Luxena.Travel.DomainRes.payment;if(this.get_$7_0().IsVoid){this.$7_8.addClass('voided');$0=String.format('{0} ({1})',$0,Luxena.Travel.Res.payment_Voided);}else if(ss.isNullOrUndefined(this.get_$7_0().PostedOn)){this.$7_8.addClass('nonposted');$0=String.format('{0} ({1})',$0,Luxena.Travel.Res.payment_NonPosted);}this.$7_8.setText($0);this.$7_6.loadInstance(this.get_$7_0());this.$7_7.loadInstance(this.get_$7_0());var $1=this.$7_6.body.select('.doc-number .fieldLabel');if(!!$1.getCount()){$1.first().dom.innerHTML=this.$7_5();}},$7_1:function(){Luxena.Travel.MessageFactory.voidingConfirmation(Luxena.Travel.Res.payment_Void_Confirmation,null,null,Luxena.Travel.Res.payment_Restore_Confirmation,null,null,this.get_$7_0().IsVoid,1,ss.Delegate.create(this,function(){
Luxena.Travel.Services.PaymentService.ChangeVoidStatus([this.get_$7_0().Id],null,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;var $2_1=$2_0.Items[0];this.load($2_1);Luxena.Travel.MessageFactory.voidCompletedMsg(Luxena.Travel.DomainRes.payment,Luxena.Travel.Res.document_VoidDocument_Msg,null,Luxena.Travel.Res.document_RestoreDocument_Msg,null,$2_1.IsVoid,1,$2_1.Number,null);}),null);}));},$7_2:function(){Luxena.Travel.Services.PaymentService.PostPayments([this.get_$7_0().Id],null,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=$1_0.Items[0];this.load($1_1);LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.payment_Caption_List,String.format(Luxena.Travel.Res.paymentView_Posted,this.get_$7_0().Number));}),null);},$7_3:function(){var $0=new Luxena.Travel.Controls.PropertyListControlConfig().setListItems([new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Number,'Number'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Date,'Date').setPropertyType(2),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_PostedOn,'PostedOn').setPropertyType(2),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_Payer,'Payer').setPropertyType(5),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_AssignedTo,'AssignedTo'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Owner,'Owner').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442','BankAccount').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_RegisteredBy,'RegisteredBy'),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.payment_ReceivedFrom,'ReceivedFrom').setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.payment_Invoice,'Invoice').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.order,'Order').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.Res.paymentView_Document,'DocumentNumber').setCssClass('doc-number').setHideIsEmpty(true).setRenderer(ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
var $1_0=this.get_$7_0();if($p1_1==null){return;}var $1_1=$1_0.DocumentNumber;if(!!$1_0.PaymentForm&&$1_0.PaymentForm!==4){$p1_2.append($1_1);}else{var $1_2=$("<div class='cashorder-link'></div>");var $1_3=$('<span></span>').html($1_1);var $1_4=function($p2_0,$p2_1){
$1_3.click(function(){
Luxena.Travel.ReportPrinter.getCashOrder($p2_0,$p2_1);});};$1_4($1_0.Id,$1_0.DocumentNumber);$p1_2.append($1_2.append($1_3));}})),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.electronicPayment_AuthorizationCode,'AuthorizationCode').setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.electronicPayment_PaymentSystem,'PaymentSystem').setPropertyType(5).setHideIsEmpty(true),new Luxena.Travel.Controls.PropertyItem(Luxena.Travel.DomainRes.common_Note,'Note').setHideIsEmpty(true)]).setCssClass('payment-properties');return new Luxena.Travel.Controls.PropertyListControl($0);},$7_5:function(){var $0=null;switch(this.get_$7_0().PaymentForm){case 1:$0=Luxena.Travel.Res.wireTransfer_DocumentName;break;case 2:$0=Luxena.Travel.Res.checkPayment_DocumentName;break;case 0:$0=Luxena.Travel.Res.cashInOrderPayment_DocumentName;break;case 4:$0=Luxena.Travel.Res.cashOutOrderPayment_DocumentName;break;case 3:$0=Luxena.Travel.Res.electronicPayment_DocumentName;break;}return $0+':';},$7_6:null,$7_7:null,$7_8:null,$7_9:null,$7_A:null}
Luxena.Travel.CashPaymentRegisterFormArgs=function(payer,amount,vat,documentIds){this.payer=payer;this.amount=amount;this.vat=vat;this.documentIds=documentIds;}
Luxena.Travel.CashPaymentRegisterFormArgs.prototype={payer:null,amount:null,vat:null,documentIds:null}
Luxena.Travel.CashPaymentRegisterForm=function(args){Luxena.Travel.CashPaymentRegisterForm.initializeBase(this);this.$1_5=args;}
Luxena.Travel.CashPaymentRegisterForm.prototype={open:function(){Luxena.Travel.Services.AppService.GetDocumentOwners(ss.Delegate.create(this,function($p1_0){
this.$1_10=$p1_0;this.$1_0();this.get_window().show();}),null);},$1_0:function(){this.$1_11=this.get_form().addButton(LxnBase.BaseRes.save,ss.Delegate.create(this,this.save));this.$1_12=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields(this.$1_1());var $0=[];$0.addRange(this.get_fields());$0.add(this.$1_11);$0.add(this.$1_12);this.set_componentSequence($0);this.get_window().setTitle(Luxena.Travel.Res.cashPaymentRegisterForm_Title);this.get_window().addClass('cashPaymentForm');},$1_1:function(){this.$1_6=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.DomainRes.common_Date).format('d.m.Y').selectOnFocus(true).allowBlank(false).toDictionary());this.$1_7=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').selectOnFocus(true).allowBlank(false).width(230).fieldLabel(Luxena.Travel.DomainRes.payment_Payer));this.$1_8=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.cashInOrderPayment_DocumentName).selectOnFocus(true).allowBlank(true).width(230).toDictionary());this.$1_9=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.payment_Amount,true).setAllowBlank(false));this.$1_9.get_decimalField().on('change',ss.Delegate.create(this,this.$1_3));this.$1_A=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.payment_Vat,true));this.$1_B=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.DomainRes.payment_ReceivedFrom).selectOnFocus(true).allowBlank(true).width(230).toDictionary());if(Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption===2){this.$1_C=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.order_SeparateServiceFee).toDictionary());this.$1_C.setValue(true);}if(this.$1_10.length>1){this.$1_D=new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().name('Office').store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().data(this.$1_10).fields(['Id','Name']).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel(Luxena.Travel.DomainRes.common_Owner).width(170).allowBlank(false).toDictionary());}this.$1_E=new Ext.form.TextArea(new Ext.form.TextAreaConfig().name('Note').fieldLabel(Luxena.Travel.DomainRes.common_Note).selectOnFocus(true).allowBlank(true).height(70).width(230).toDictionary());this.$1_6.setValue(Date.get_today());this.$1_7.setValue(this.$1_5.payer);this.$1_9.setValue(this.$1_5.amount);this.$1_A.setValue(this.$1_5.vat);this.$1_F=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.cashPaymentRegisterForm_DoCreateConsignment.toLowerCase()).toDictionary());this.$1_13=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().labelSeparator('').boxLabel(Luxena.Travel.Res.cashInOrderPayment_SavePosted.toLowerCase()).value(true).toDictionary());this.$1_13.setValue(true);var $0=[];$0.add(this.$1_6);$0.add(this.$1_7.get_widget());$0.add(this.$1_8);$0.add(this.$1_9);$0.add(this.$1_A);$0.add(this.$1_B);var $1=[];$1.addRange($0);if(this.$1_D!=null){$0.add(this.$1_D);$1.add(this.$1_D);}$1.add(this.$1_E);if(this.$1_C!=null){$0.add(this.$1_C);$1.add(this.$1_C);}$0.add(this.$1_F);$1.add(this.$1_F);$0.add(this.$1_13);$1.add(this.$1_13);this.get_form().add(new Ext.Panel(new Ext.PanelConfig().items($1).layout('form').toDictionary()));return $0;},onValidate:function(){if(this.$1_9.getValue()==null){return false;}return true;},onSave:function(){Luxena.Travel.Services.PaymentService.CreateCashPayment(this.$1_2(),ss.Delegate.create(this,this.completeSave),null);},onSaved:function(result){var $0=result;var $1=$0.Payment;var $2=$0.Consignment;var $3=String.format(Luxena.Travel.Res.quickCashPayment_Msg,LxnBase.UI.Controls.ObjectLink.render($1.Id,$1.Number,'CashInOrderPayment'),LxnBase.UI.Controls.ObjectLink.renderInfo($1.Order));if(!ss.isNullOrUndefined($2)){$3+=String.format(Luxena.Travel.Res.quickCashPayment_Consiment_Msg,LxnBase.UI.Controls.ObjectLink.render($2.Id,$2.Number,'Consignment'));}LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.payment_Caption_List,$3);Luxena.Travel.ReportPrinter.getCashOrder($1.Id,$1.Number);if(!ss.isNullOrUndefined($2)){Luxena.Travel.ReportPrinter.getLastIssuedConsignment($2.Id,$2.Number);}Luxena.Travel.CashPaymentRegisterForm.callBaseMethod(this, 'onSaved',[result]);},$1_2:function(){var $0=new Luxena.Travel.CashInOrderPaymentRequest();$0.Date=this.$1_6.getValue();$0.Payer=this.$1_7.getObjectInfo();var $1=this.$1_8.getValue();$0.Number=(!String.isNullOrEmpty($1))?$1:null;$0.Amount=this.$1_9.getValue();$0.PaymentVat=this.$1_A.getValue();$0.Owner=(this.$1_10.length===1)?LxnBase.Data.Reference.copy(this.$1_10[0]):this.$1_D.getObjectInfo();var $2=this.$1_B.getValue();if(!!$2){$0.ReceivedFrom=$2;}$2=this.$1_E.getValue();if(!!$2){$0.Note=$2;}$0.IsPosted=this.$1_13.getValue();switch(Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption){case 1:$0.SeparateServiceFee=true;break;case 0:$0.SeparateServiceFee=false;break;case 2:$0.SeparateServiceFee=this.$1_C.getValue();break;}$0.DocumentIds=this.$1_5.documentIds;$0.CreateConsignment=this.$1_F.getValue();return $0;},$1_3:function($p0,$p1,$p2){if(!ss.isNullOrUndefined(this.$1_9.getValue())){this.$1_A.setValue(this.$1_4());}},$1_4:function(){if(this.$1_5.vat==null||this.$1_5.amount==null||this.$1_9.getValue()==null){return null;}var $0=new Luxena.Travel.MoneyDto();$0.Amount=(this.$1_9.getValue().Amount*this.$1_5.vat.Amount)/this.$1_5.amount.Amount;$0.Currency=this.$1_5.vat.Currency;return $0;},$1_5:null,$1_6:null,$1_7:null,$1_8:null,$1_9:null,$1_A:null,$1_B:null,$1_C:null,$1_D:null,$1_E:null,$1_F:null,$1_10:null,$1_11:null,$1_12:null,$1_13:null}
Luxena.Travel.ServerEvents=function(){}
Luxena.Travel.ServerEvents.prototype={add_versionChanged:function(value){this.$0=ss.Delegate.combine(this.$0,value);},remove_versionChanged:function(value){this.$0=ss.Delegate.remove(this.$0,value);},$0:null,add_newAviaDocumentImported:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_newAviaDocumentImported:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,add_newTaskAssigned:function(value){this.$2=ss.Delegate.combine(this.$2,value);},remove_newTaskAssigned:function(value){this.$2=ss.Delegate.remove(this.$2,value);},$2:null,add_userRolesChanged:function(value){this.$3=ss.Delegate.combine(this.$3,value);},remove_userRolesChanged:function(value){this.$3=ss.Delegate.remove(this.$3,value);},$3:null,setup:function(timeout){this.$9=timeout;this.$A=timeout;this.refresh();},refresh:function(){if(this.$E){this.$D=true;}else{this.$7();this.$4();}},$4:function(){var $0=new Luxena.Travel.AppStateRequest();$0.ClearUserData=this.$C;$0.CheckImportedDocuments=!ss.isNullOrUndefined(this.$1);$0.CheckNewTasks=!ss.isNullOrUndefined(this.$2);$0.CheckUserRoleChanges=!ss.isNullOrUndefined(this.$3);this.$E=true;Luxena.Travel.Services.AppService.GetAppStateChanges($0,ss.Delegate.create(this,this.$5),ss.Delegate.create(this,this.$8));},$5:function($p0){this.$C=false;this.$E=false;this.$A=this.$9;var $0=$p0;if(Luxena.Travel.AppManager.get_version()!==$0.Version&&this.$0!=null){this.$0();}if($0.ImportedDocuments!=null&&$0.ImportedDocuments.length>0&&this.$1!=null){this.$1($0.ImportedDocuments);}if($0.AssignedTasks!=null&&$0.AssignedTasks.length>0&&this.$2!=null){this.$2($0.AssignedTasks);}if($0.IsUserRolesChanged&&this.$3!=null){this.$3();}if(this.$D){this.$D=false;this.$4();}else{this.$6(this.$9);}},$6:function($p0){if(!!$p0){this.$B=window.setTimeout(ss.Delegate.create(this,this.$4),$p0);}},$7:function(){if(!this.$B){return;}window.clearTimeout(this.$B);this.$B=0;},$8:function($p0){$p0.set_handled(true);this.$A*=2;this.$6(this.$A);},$9:0,$A:0,$B:0,$C:true,$D:false,$E:false}
Luxena.Travel.AppManager=function(){}
Luxena.Travel.AppManager.get_appParameters=function(){return Luxena.Travel.AppManager.$0;}
Luxena.Travel.AppManager.get_systemConfiguration=function(){return Luxena.Travel.AppManager.$0.SystemConfiguration;}
Luxena.Travel.AppManager.get_currentPerson=function(){return Luxena.Travel.AppManager.$0.UserPerson;}
Luxena.Travel.AppManager.get_currentUser=function(){return Luxena.Travel.AppManager.$0.CurrentUser;}
Luxena.Travel.AppManager.get_mainPageSettings=function(){return Luxena.Travel.AppManager.$0.MainPageSettings;}
Luxena.Travel.AppManager.get_allowedActions=function(){return Luxena.Travel.AppManager.$0.AllowedActions;}
Luxena.Travel.AppManager.get_departments=function(){return Luxena.Travel.AppManager.$0.Departments;}
Luxena.Travel.AppManager.get_bankAccounts=function(){return Luxena.Travel.AppManager.$0.BankAccounts;}
Luxena.Travel.AppManager.get_allowSetDocumentOwner=function(){return Luxena.Travel.AppManager.$0.Departments.length>1;}
Luxena.Travel.AppManager.get_version=function(){return Luxena.Travel.AppManager.$0.Version;}
Luxena.Travel.AppManager.init=function(parameters){Luxena.Travel.AppManager.$0=parameters;}
Luxena.Travel.AirlineListTab=function(tabId,args){Luxena.Travel.AirlineListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AirlineListTab.listObject=function(args,newTab){LxnBase.UI.Tabs.open(newTab,args.type,function($p1_0){
return new Luxena.Travel.AirlineListTab($p1_0,args);},args.baseRequest);}
Luxena.Travel.AirlineListTab.prototype={onAddToolbarButtons:function(toolbarItems,autoGrid){this.$7_6=this.getOperationStatus('ApplyAirlineToDocuments');if(!this.$7_6.Visible){return;}this.$7_5=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.applyToDocuments_Text).handler(ss.Delegate.create(this,this.$7_4)).disabled(this.$7_6.IsDisabled).custom('tooltip',this.$7_6.DisableInfo).toDictionary());toolbarItems.add(new Ext.Toolbar.Separator());toolbarItems.add(this.$7_5);},onSelectionChange:function(model){if(!this.$7_6.Visible||this.$7_6.IsDisabled){return;}if((model).getCount()===1){this.$7_5.enable();}else{this.$7_5.disable();}},$7_4:function(){var $0=this.get_autoGrid().get_selectionModel().getSelections();var $1=[];for(var $3=0;$3<$0.length;$3++){$1.add($0[$3].id);}var $2=new Luxena.Travel.SetDataToDocumentsForm(Luxena.Travel.Res.applyAirline_Title,'Airline');$2.add_saved(function($p1_0){
if(!$p1_0){return;}var $1_0=LxnBase.StringUtility.getNumberText($p1_0,Luxena.Travel.Res.appliedDataToDocuments_Text1,Luxena.Travel.Res.appliedDataToDocuments_Text2,Luxena.Travel.Res.appliedDataToDocuments_Text3);LxnBase.MessageRegister.info(Luxena.Travel.Res.applyAirline_Title,$1_0);});$2.open($1);},$7_5:null,$7_6:null}
Luxena.Travel.AviaDocumentListTab=function(tabId,args){Luxena.Travel.AviaDocumentListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.AviaDocumentListTab.listObject=function(args,newTab){Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType(Luxena.Travel.AviaDocumentListTab,args,newTab);}
Luxena.Travel.AviaDocumentListTab.baseTryProcess=function(autoGrid,baseParams,saveAndContinueAction){var $0=autoGrid.get_selectionModel().getSelected();var $1=$0.data[LxnBase.Data.ObjectPropertyNames.objectClass];Luxena.Travel.Services.AviaService.CanProcess($0.id,$1,function($p1_0){
var $1_0=$p1_0;var $1_1=new LxnBase.Data.OperationStatus();if(Object.keyExists($1_0.CustomActionPermissions,'CanProcess')){$1_1=$1_0.CustomActionPermissions['CanProcess'];}if(!$1_0.CanUpdate.IsEnabled){LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.error,msg:$1_0.CanUpdate.DisableInfo||LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg,icon:Ext.MessageBox.ERROR,buttons:Ext.MessageBox.OK});return;}if(!$1_1.IsEnabled){LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.warning,msg:$1_1.DisableInfo,icon:Ext.MessageBox.WARNING,buttons:Ext.MessageBox.YESNO,fn:function($p2_0,$p2_1){
if($p2_0!=='yes'){return;}LxnBase.UI.FormsRegistry.editObject($1,$0.id,null,function($p3_0){
var $3_0=($p3_0);var $3_1=$3_0.Item;var $3_2=$3_0.RangeResponse;var $3_3=LxnBase.BaseRes.updated+' '+$3_1[LxnBase.Data.ObjectPropertyNames.reference];if(ss.isNullOrUndefined($3_2.SelectedRow)){LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List,$3_3,LxnBase.BaseRes.autoGrid_NotDisplay_Msg);return;}LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List,$3_3);(autoGrid.store.proxy).setResponse($3_2);autoGrid.reload(false);autoGrid.get_selectionModel().selectRow($3_2.SelectedRow);},null,baseParams);}});return;}Luxena.Travel.AviaDocumentListTab.$7_C(autoGrid,$0.id,$1,$1_0.Args,saveAndContinueAction);},null);}
Luxena.Travel.AviaDocumentListTab.$7_C=function($p0,$p1,$p2,$p3,$p4){var $0=$p0.store;$p3.AllowSaveAndContinue=$p4!=null;var $1=new Luxena.Travel.AviaDocumentProcessForm($p3);$1.add_saved(function($p1_0){
var $1_0=$p1_0;var $1_1=[];var $enum1=ss.IEnumerator.getEnumerator($1_0);while($enum1.moveNext()){var $1_2=$enum1.current;$1_1.add($1_2.Id);}if($p4!=null&&$1.get_saveAndContinue()){$p4($1,$0.indexOf($p0.get_selectionModel().getSelected()),$1_1);}$p0.reload(false);});$1.open($p1,$p2);}
Luxena.Travel.AviaDocumentListTab.prototype={handleAltEnterPress:function(){if(!!this.get_autoGrid().get_selectionModel().getSelections().length){this.$7_B();}},handleInsertPress:function(){this.create('AviaTicket');},onAddToolbarButtons:function(toolbarItems,autoGrid){if(this.get_listConfig().IsEditAllowed.Visible){this.$7_10=this.action(Luxena.Travel.Res.aviaDocument_Handle_Action.toLowerCase(),ss.Delegate.create(this,this.$7_B),true,this.get_listConfig().IsEditAllowed.DisableInfo);this.createVoidAction(ss.Delegate.create(this,this.$7_D));}this.$7_11=this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(),ss.Delegate.create(this,this.$7_E),true);if(this.get_listConfig().IsEditAllowed.Visible){this.menuAction(LxnBase.BaseRes.createItem_Lower,[this.menuItem(Luxena.Travel.DomainRes.aviaTicket,ss.Delegate.create(this,function(){
this.create('AviaTicket');})),this.menuItem(Luxena.Travel.DomainRes.aviaMco,ss.Delegate.create(this,function(){
this.create('AviaMco');})),this.menuItem(Luxena.Travel.DomainRes.aviaRefund,ss.Delegate.create(this,function(){
this.create('AviaRefund');})),Luxena.Travel.AppActions.aviaConsoleParser]);}this.createStdToolbarActions();if(autoGrid!=null){if(toolbarItems.contains(autoGrid.get_createAction())){toolbarItems.remove(autoGrid.get_createAction());}if(toolbarItems.contains(autoGrid.get_exportAction())){toolbarItems.remove(autoGrid.get_exportAction());}}toolbarItems.insertRange(0,this.toolbarActions);},onRowChange:function(selections){Luxena.Travel.AviaDocumentListTab.callBaseMethod(this, 'onRowChange',[selections]);if(this.$7_10!=null&&!this.get_listConfig().IsEditAllowed.IsDisabled){this.$7_10.setDisabled(selections.length!==1);}this.$7_11.setDisabled(!selections.length||!this.isTickets);},createColumnConfigs:function(){var $0=new Luxena.Travel.SemanticDomain(this).$23;this.addColumns([$0.IssueDate,this.columnCfg('Type'),$0.Producer.toColumn(true),$0.AirlinePrefixCode.toColumn(false,50,Luxena.Travel.CellRenderers.right),$0.Number.toColumn(false,70,$0.$10()),$0.ReissueFor.toColumn(true),$0.PassengerName.toColumn(false,165,Luxena.Travel.ProductSemantic.$D),$0.Customer,$0.PaymentType,$0.EqualFare,$0.Commission,$0.Total,$0.ServiceFee,$0.FeesTotal.toColumn(true),$0.Vat.toColumn(true),$0.GrandTotal,$0.Order,$0.Seller,$0.IsPaid,$0.PnrCode.toColumn(true,70),this.columnCfg('ConjunctionNumbers',true),$0.GdsPassportStatus.toColumn(true,100),this.columnCfg('GdsPassport',true,135),this.columnCfg('Itinerary',true,80),$0.Intermediary.toColumn(true)]);if(Luxena.Travel.ProductListTab.get_useHandling()){this.addColumns([$0.Handling.toColumn(true),$0.CommissionDiscount.toColumn(true)]);}this.addColumns([$0.Discount.toColumn(true),$0.BonusDiscount.toColumn(true),$0.BonusAccumulation.toColumn(true),$0.BookerOffice.toColumn(true),$0.BookerCode.toColumn(true),$0.Booker.toColumn(true),$0.TicketerOffice.toColumn(true),$0.TicketerCode.toColumn(true),$0.Ticketer.toColumn(true),$0.TicketingIataOffice.toColumn(true),$0.Owner.toColumn(true),$0.Originator.toColumn(true),this.columnCfg('Origin',true),this.columnCfg('AirlinePnrCode',true),$0.TourCode.toColumn(true),$0.IsProcessed.toColumn(true),$0.IsVoid.toColumn(true),$0.RequiresProcessing.toColumn(true),$0.Note.toColumn(true),$0.CreatedOn.toColumn(true),$0.CreatedBy.toColumn(true),$0.ModifiedOn.toColumn(true),$0.ModifiedBy.toColumn(true)]);},$7_B:function(){Luxena.Travel.AviaDocumentListTab.baseTryProcess(this.get_autoGrid(),this._baseParams,ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
this.$7_12=$p1_0;this.$7_13=$p1_1;this.$7_14=$p1_2;}));},$7_D:function(){this.voidObjects(Luxena.Travel.Services.AviaService.CanUpdate,Luxena.Travel.Services.AviaService.ChangeVoidStatus);},$7_E:function(){var $0=JSON.stringify(this.getSelectedIds());LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/ticket/Tickets_{0}.pdf',Date.get_now().format('Y-m-d_H-i-s')),{tickets:$0});},onStoreLoad:function(sender,records,options){if(ss.isNullOrUndefined(this.$7_12)){return;}this.$7_F(records);},$7_F:function($p0){while(this.$7_13<$p0.length){var $0=$p0[this.$7_13];if(($0.get('RequiresProcessing'))&&!this.$7_14.contains($0.id)){LxnBase.Services.GenericService.CanUpdate('AviaDocument',$0.id,ss.Delegate.create(this,function($p1_0){
if(!$p1_0){++this.$7_13;this.$7_F($p0);return;}this.$7_12.set_saveAndContinue(true);this.get_autoGrid().get_selectionModel().selectRow(this.$7_13);this.$7_12.open($0.id,$0.data[LxnBase.Data.ObjectPropertyNames.objectClass]);this.$7_12=null;}),null);return;}++this.$7_13;}this.$7_12.closeWindow();this.$7_12=null;},$7_10:null,$7_11:null,$7_12:null,$7_13:0,$7_14:null}
Luxena.Travel.AviaDocumentSelectForm=function(args,config){Luxena.Travel.AviaDocumentSelectForm.initializeBase(this,[args,config]);this.set_width(850);this.set_height(450);}
Luxena.Travel.AviaDocumentSelectForm.$1_0=function($p0){LxnBase.Data.ConfigManager.getListConfig($p0.type,function($p1_0){
new Luxena.Travel.AviaDocumentSelectForm($p0,$p1_0).open();});}
Luxena.Travel.AviaDocumentSelectForm.prototype={onInitGrid:function(args,config){args.forcedProperties=['RequiresProcessing','IsVoid'];args.columnsConfig=this.$1_1();config.view(new Luxena.Travel.ProductGridView(args.columnsConfig));},$1_1:function(){var $0=[];$0.add(this.$1_2('IssueDate',false,70));$0.add(this.$1_2('Type',false,45));$0.add(this.$1_2('Producer',true));$0.add(this.$1_2('AirlinePrefixCode',false,55));$0.add(this.$1_2('Number',false,70,function($p1_0){
return $p1_0;}));$0.add(this.$1_2('ConjunctionNumbers',true));$0.add(this.$1_2('PassengerName',false,145));$0.add(this.$1_2('Intermediary',true));$0.add(this.$1_2('Customer',false,140));$0.add(this.$1_2('PaymentForm',true));$0.add(this.$1_2('EqualFare',false,85));$0.add(this.$1_2('FeesTotal',false,85));$0.add(this.$1_2('Total',false,85));$0.add(this.$1_2('ServiceFee',true));$0.add(this.$1_2('Discount',true));$0.add(this.$1_2('GrandTotal',true,95));$0.add(this.$1_2('Commission',true));$0.add(this.$1_2('BookerOffice',true));$0.add(this.$1_2('BookerCode',true));$0.add(this.$1_2('Booker',true));$0.add(this.$1_2('TicketerOffice',true));$0.add(this.$1_2('TicketerCode',true));$0.add(this.$1_2('Ticketer',true));$0.add(this.$1_2('Seller',true,110));$0.add(this.$1_2('Originator',true));$0.add(this.$1_2('Origin',true));$0.add(this.$1_2('PnrCode',true));$0.add(this.$1_2('AirlinePnrCode',true));$0.add(this.$1_2('TourCode',true));$0.add(this.$1_2('IsProcessed',true,70));$0.add(this.$1_2('IsVoid',true,70));$0.add(this.$1_2('RequiresProcessing',true,70));$0.add({id:LxnBase.Data.ObjectPropertyNames.id,header:'Id',sortable:false,dataIndex:LxnBase.Data.ObjectPropertyNames.id,hidden:true});$0.add(this.$1_2('CreatedOn',true));$0.add(this.$1_2('CreatedBy',true));$0.add(this.$1_2('ModifiedOn',true));$0.add(this.$1_2('ModifiedBy',true));return $0;},$1_2:function($p0,$p1,$p2,$p3){var $0=this.$1_3($p0);var $1=new Ext.grid.ColumnConfig().id($0.Name).header($0.Caption).sortable($0.IsPersistent).dataIndex($0.Name).hidden($p1);if(($p3=$p3||LxnBase.UI.AutoControls.ControlFactory.createRenderer($0))!=null){$1.renderer($p3);}if(!ss.isNullOrUndefined($p2)){$1.width($p2);}return $1.toDictionary();},$1_3:function($p0){var $0=this.get_listConfig().Columns;for(var $1=0;$1<$0.length;$1++){if($0[$1].Name===$p0){return $0[$1];}}throw new Error('Unknown column '+$p0);}}
Luxena.Travel.PenalizeOperationEditForm=function(operations,allowAfterDeparturePenalties){this.$1_B=new Ext.form.ComboBox();this.$1_C=new Ext.form.TextField();this.$1_D=new Ext.form.ComboBox();this.$1_E=new Ext.form.TextField();this.$1_F=new Ext.form.ComboBox();this.$1_10=new Ext.form.TextField();this.$1_11=new Ext.form.ComboBox();this.$1_12=new Ext.form.TextField();this.$1_13=new Ext.form.ComboBox();this.$1_14=new Ext.form.TextField();this.$1_15=new Ext.form.ComboBox();this.$1_16=new Ext.form.TextField();Luxena.Travel.PenalizeOperationEditForm.initializeBase(this);this.$1_9=operations||[];this.$1_A=allowAfterDeparturePenalties;this.$1_0();this.$1_2();this.get_window().addClass('penalize-operation');this.get_window().setTitle(Luxena.Travel.Res.penalizeOperationEditForm_Caption);}
Luxena.Travel.PenalizeOperationEditForm.prototype={open:function(){this.get_window().show();},onSave:function(){this.completeSave(this.$1_4());},$1_0:function(){var $0=new Ext.Panel(new Ext.PanelConfig().layout('form').items([new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'div',html:Luxena.Travel.Res.aviaTicket_BeforeDeparture}).cls('penalties-caption').toDictionary()),this.$1_1(Luxena.Travel.Res.aviaTicket_ChangesPenalty,0),this.$1_1(Luxena.Travel.Res.aviaTicket_RefundPenalty,2),this.$1_1(Luxena.Travel.Res.aviaTicket_NoShowPenalty_Short,4)]).toDictionary());this.get_form().add($0);if(this.$1_A){var $3=new Ext.Panel(new Ext.PanelConfig().layout('form').cls('afterDeparture-panel').items([new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'div',html:Luxena.Travel.Res.aviaTicket_AfterDeparture}).cls('penalties-caption').toDictionary()),this.$1_1(Luxena.Travel.Res.aviaTicket_ChangesPenalty,1),this.$1_1(Luxena.Travel.Res.aviaTicket_RefundPenalty,3),this.$1_1(Luxena.Travel.Res.aviaTicket_NoShowPenalty_Short,5)]).toDictionary());this.get_form().add($3);}this.$1_17=this.get_form().addButton(LxnBase.BaseRes.save,ss.Delegate.create(this,this.save));this.$1_18=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));var $1=[];$1.addRange([this.$1_B,this.$1_C,this.$1_D,this.$1_E,this.$1_F,this.$1_10]);if(this.$1_A){$1.addRange([this.$1_11,this.$1_12,this.$1_13,this.$1_14,this.$1_15,this.$1_16]);}this.set_fields($1);var $2=[];$2.addRange($1);$2.add(this.$1_17);$2.add(this.$1_18);this.set_componentSequence($2);},$1_1:function($p0,$p1){var $0=this.$1_7($p1);var $1=this.$1_8($p1);var $2=[];$2.add([0,Luxena.Travel.DomainRes.penalizeOperationStatus_NotAllowed]);$2.add([1,Luxena.Travel.DomainRes.penalizeOperationStatus_NotChargeable]);$2.add([2,Luxena.Travel.DomainRes.penalizeOperationStatus_Chargeable]);var $3=new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data($2).toDictionary());$0.store=$3;$0.fieldLabel=$p0.toLowerCase();$0.typeAhead=true;$0.mode='local';$0.forceSelection=true;$0.displayField='Name';$0.valueField='Id';$0.triggerAction='all';$0.selectOnFocus=true;$0.width=100;$1.hideLabel=true;$1.labelSeparator='';$1.addClass('description');$1.setDisabled(true);$1.selectOnFocus=true;$1.width=170;var $4=function($p1_0){
if($p1_0!==2){$1.setValue('');$1.setDisabled(true);}else{$1.setDisabled(false);}};$0.on('select',function($p1_0,$p1_1,$p1_2){
$4($p1_1.get('Id'));});$0.on('change',function($p1_0,$p1_1,$p1_2){
$4($p1_1);});return new Ext.Panel(new Ext.form.FormPanelConfig().layout('form').itemCls('float-left').labelAlign('left').labelWidth(80).items([$0,$1]).toDictionary());},$1_2:function(){this.$1_3(0);this.$1_3(1);this.$1_3(2);this.$1_3(3);this.$1_3(4);this.$1_3(5);},$1_3:function($p0){var $0=this.$1_7($p0);var $1=this.$1_8($p0);var $2=this.$1_6($p0);if($2==null){return;}$0.setValue($2.Status);if($2.Status===2){$1.setValue($2.Description);$1.setDisabled(false);}else{$1.setDisabled(true);}},$1_4:function(){var $0=[];this.$1_5($0,0);this.$1_5($0,1);this.$1_5($0,2);this.$1_5($0,3);this.$1_5($0,4);this.$1_5($0,5);return $0;},$1_5:function($p0,$p1){var $0=this.$1_7($p1);var $1=this.$1_8($p1);var $2=$0.getValue();if(ss.isNullOrUndefined($2)||$2===''){return;}var $3=new Luxena.Travel.PenalizeOperationDto();$3.Type=$p1;$3.Status=$2;if($3.Status===2){$3.Description=$1.getValue();}$p0.add($3);},$1_6:function($p0){var $enum1=ss.IEnumerator.getEnumerator(this.$1_9);while($enum1.moveNext()){var $0=$enum1.current;if($0.Type===$p0){return $0;}}return null;},$1_7:function($p0){switch($p0){case 0:return this.$1_B;case 1:return this.$1_11;case 2:return this.$1_D;case 3:return this.$1_13;case 4:return this.$1_F;case 5:return this.$1_15;}return null;},$1_8:function($p0){switch($p0){case 0:return this.$1_C;case 1:return this.$1_12;case 2:return this.$1_E;case 3:return this.$1_14;case 4:return this.$1_10;case 5:return this.$1_16;}return null;},$1_9:null,$1_A:false,$1_17:null,$1_18:null}
Luxena.Travel.HomeSettingsForm=function(){Luxena.Travel.HomeSettingsForm.initializeBase(this);this.get_window().cls+=' home-settings-form';this.get_window().setTitle(Luxena.Travel.Res.homeSettingsForm_Title);this.get_form().labelWidth=150;this.$1_0();this.$1_4=this.get_form().addButton(Luxena.Travel.Res.apply,ss.Delegate.create(this,this.save));this.$1_5=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields([this.$1_2,this.$1_3]);this.set_componentSequence([this.$1_2,this.$1_3,this.$1_4,this.$1_5]);}
Luxena.Travel.HomeSettingsForm.prototype={open:function(){this.get_window().show();},get_from:function(){return this.$1_2.getValue();},set_from:function(value){this.$1_2.setValue(value);return value;},get_to:function(){return this.$1_3.getValue();},set_to:function(value){this.$1_3.setValue(value);return value;},$1_0:function(){this.$1_2=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.homeSettingsForm_Reports).format('d.m.Y').toDictionary());this.$1_3=new Ext.form.DateField(new Ext.form.DateFieldConfig().hideLabel(true).format('d.m.Y').toDictionary());var $0=new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'div',html:'&nbsp;-&nbsp;'}).cls('x-form-item float-left box-label').toDictionary());var $1=new Ext.Panel(new Ext.PanelConfig().layout('form').itemCls('float-left').items([this.$1_2,$0,this.$1_3]).toDictionary());this.get_form().add($1);},onValidate:function(){if(!!this.$1_2.getRawValue()&&!!this.$1_3.getRawValue()){var $0=(this.$1_3.getValue()-this.$1_2.getValue())/Luxena.Travel.HomeSettingsForm.$1_1+1;if($0>10){this.$1_2.markInvalid(Luxena.Travel.Res.homeSettingsForm_IntervalTooBig);return false;}if($0<0){this.$1_2.markInvalid(Luxena.Travel.Res.homeSettingsForm_IntervalTooSmall);return false;}}return true;},onSave:function(){this.completeSave(null);},$1_2:null,$1_3:null,$1_4:null,$1_5:null}
Luxena.Travel.ProductListTab=function(tabId,args){Luxena.Travel.ProductListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.ProductListTab.$7_6=function($p0,$p1){var $0=($p0)?Luxena.Travel.Res.document_Restore_Confirmation1:Luxena.Travel.Res.document_Void_Confirmation1;var $1=($p0)?Luxena.Travel.Res.document_Restore_Confirmation2:Luxena.Travel.Res.document_Void_Confirmation2;var $2=($p0)?Luxena.Travel.Res.document_Restore_Confirmation3:Luxena.Travel.Res.document_Void_Confirmation3;return LxnBase.StringUtility.getNumberText($p1,$0,$1,$2);}
Luxena.Travel.ProductListTab.get_useHandling=function(){return Luxena.Travel.AppManager.get_systemConfiguration().UseAviaHandling;}
Luxena.Travel.ProductListTab.prototype={_voidButton:null,_createOrderButton:null,_createPaymentButton:null,_separateServiceFee:null,isTickets:false,isVoid:false,isRefund:function(){return false;},useManyPassengers:function(){return false;},onInitGrid:function(args,config){Luxena.Travel.ProductListTab.callBaseMethod(this, 'onInitGrid',[args,config]);args.listConfig.IsCreationAllowed.Visible=true;args.forcedProperties=['Name','RequiresProcessing','IsRefund','IsVoid',(this.useManyPassengers())?'PassengerDtos':'Passenger'];args.baseRequest.setDefaultSort('IssueDate');config.view(new Luxena.Travel.ProductGridView(null));},onAddToolbarButtons:function(toolbarItems,autoGrid){this.createVoidAction(ss.Delegate.create(this,this.voidProducts));this.createStdToolbarActions();toolbarItems.insertRange(0,this.toolbarActions);},createVoidAction:function(voidAction){if(this.get_listConfig().IsEditAllowed.Visible){this._voidButton=this.action(Luxena.Travel.Res.void_Action.toLowerCase(),voidAction,true,this.get_listConfig().IsEditAllowed.DisableInfo);}},createStdToolbarActions:function(){var $0=[];$0.addRange([this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderNew.toLowerCase(),ss.Delegate.create(this,function(){
this.$7_7();})),this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderExist.toLowerCase(),ss.Delegate.create(this,function(){
this.$7_A();}))]);if(Luxena.Travel.AppManager.get_systemConfiguration().AviaOrderItemGenerationOption===2){this._separateServiceFee=new Ext.menu.CheckItem(new Ext.menu.CheckItemConfig().hideOnClick(false).checked_(true).text(Luxena.Travel.Res.order_SeparateServiceFee).toDictionary());$0.addRange(['-',this._separateServiceFee]);}this._createOrderButton=this.menuAction(Luxena.Travel.Res.aviaDocument_AddToOrder.toLowerCase(),$0,true);this._createPaymentButton=this.action(Luxena.Travel.Res.aviaDocumentList_CreateCashPayment,ss.Delegate.create(this,this.$7_8),true);},createCustomColumnConfigs:function(){throw new Error('NotImplemented');},createColumnConfigs:function(){var $0=new Luxena.Travel.SemanticDomain(this).$24;this.addColumns([$0.IssueDate,this.columnCfg('Type')]);this.createCustomColumnConfigs();this.addColumns([$0.ReissueFor.toColumn(true),$0.Customer,$0.PaymentType,$0.Fare,$0.EqualFare,$0.ConsolidatorCommission.toColumn(true),$0.Commission,$0.CancelCommission.toColumn(true),$0.CancelCommissionPercent.toColumn(true),$0.Total,$0.ServiceFee,$0.BookingFee.toColumn(true)]);if(this.isRefund()){this.addColumns([$0.CancelFee]);}this.addColumns([$0.FeesTotal.toColumn(true),$0.Vat.toColumn(true),$0.GrandTotal,$0.Order,$0.Seller,$0.Booker.toColumn(true),$0.BookerCode.toColumn(true),$0.BookerOffice.toColumn(true),$0.Ticketer.toColumn(true),$0.TicketerCode.toColumn(true),$0.TicketerOffice.toColumn(true),$0.IsPaid]);if(Luxena.Travel.ProductListTab.get_useHandling()){this.addColumns([$0.Handling.toColumn(true),$0.HandlingN.toColumn(true),$0.CommissionDiscount.toColumn(true)]);}this.addColumns([$0.Discount.toColumn(true),$0.BonusDiscount.toColumn(true),$0.BonusAccumulation.toColumn(true),$0.Owner.toColumn(false),$0.LegalEntity.toColumn(true),$0.IsProcessed.toColumn(true),$0.IsVoid.toColumn(true),$0.RequiresProcessing.toColumn(true),$0.Note.toColumn(true),$0.CreatedOn.toColumn(true),$0.CreatedBy.toColumn(true),$0.ModifiedOn.toColumn(true),$0.ModifiedBy.toColumn(true),new Ext.grid.ColumnConfig().header('Id').dataIndex('Id').hidden(true).toDictionary()]);},onSelectionChange:function(selectionModel){var $0=selectionModel;var $1=$0.getSelections();if(this._voidButton!=null&&!this.get_listConfig().IsEditAllowed.IsDisabled){if(!$1.length){this._voidButton.disable();}else{var $2=$1[0].data.IsVoid;var $3=false;var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $4=$enum1.current;if(!$3&&$4.data.IsVoid!==$2){$3=true;}}if(!$3){this._voidButton.enable();this._voidButton.setText(($2)?Luxena.Travel.Res.restore_Action.toLowerCase():Luxena.Travel.Res.void_Action.toLowerCase());}else{this._voidButton.disable();}}}if(!$1.length){this._createOrderButton.disable();this._createPaymentButton.disable();}else{this.isTickets=true;this.isVoid=false;var $5=false;var $enum2=ss.IEnumerator.getEnumerator($1);while($enum2.moveNext()){var $6=$enum2.current;if($6.data[LxnBase.Data.ObjectPropertyNames.objectClass]!=='AviaTicket'){this.isTickets=false;}if($6.data.IsRefund){$5=true;}if($6.data.IsVoid){this.isVoid=true;}}if(this.isVoid){this._createOrderButton.disable();}else{this._createOrderButton.enable();}if(this.isVoid||$5){this._createPaymentButton.disable();}else{this._createPaymentButton.enable();}}this.onRowChange($1);},onRowChange:function(selections){},voidProducts:function(){this.voidObjects(Luxena.Travel.Services.ProductService.CanUpdate,Luxena.Travel.Services.ProductService.ChangeVoidStatus);},voidObjects:function(canUpdate,changeVoidStatus){var $0=this.get_autoGrid().get_selectionModel();if(!$0.getSelections().length){return;}var $1=$0.getSelections();var $2=[];var $enum1=ss.IEnumerator.getEnumerator($1);while($enum1.moveNext()){var $3=$enum1.current;$2.add($3.id);}canUpdate($2,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if(!$1_0.IsEnabled){var $1_2=(ss.isNullOrUndefined($1_0.DisableInfo))?LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg:$1_0.DisableInfo;LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.error,msg:$1_2,icon:Ext.MessageBox.ERROR,buttons:Ext.MessageBox.OK});return;}var $1_1=$1[0].data.IsVoid;LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation,Luxena.Travel.ProductListTab.$7_6($1_1,$1.length),ss.Delegate.create(this,function($p2_0,$p2_1){
if($p2_0!=='yes'){return;}changeVoidStatus($2,this._baseParams,ss.Delegate.create(this,function($p3_0){
var $3_0=($p3_0)[0];var $3_1=($p3_0)[1];(this.get_autoGrid().store.proxy).setResponse($3_1);this.get_autoGrid().reload(false);var $3_2;if($3_0[0].IsVoid){this._voidButton.setText(Luxena.Travel.Res.restore_Action.toLowerCase());$3_2=($3_0.length===1)?String.format(Luxena.Travel.Res.document_VoidDocument_Msg,$3_0[0].Name):String.format(Luxena.Travel.Res.document_VoidDocuments_Msg,$3_0.length);}else{this._voidButton.setText(Luxena.Travel.Res.void_Action.toLowerCase());$3_2=($3_0.length===1)?String.format(Luxena.Travel.Res.document_RestoreDocument_Msg,$3_0[0].Name):String.format(Luxena.Travel.Res.document_RestoreDocuments_Msg,$3_0.length);}if(ss.isNullOrUndefined($3_1.SelectedRow)){LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List,$3_2,LxnBase.BaseRes.autoGrid_NotDisplay_Msg);}else{LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List,$3_2);this.get_autoGrid().get_selectionModel().selectRow($3_1.SelectedRow);}}),null);}));}),null);},$7_7:function(){var $0={AviaDocuments:this.get_autoGrid().getSelectedIds()};if(this._separateServiceFee!=null){$0['SeparateServiceFee']=this._separateServiceFee.checked;}LxnBase.UI.FormsRegistry.editObject('Order',null,$0,ss.Delegate.create(this,function($p1_0){
this.get_autoGrid().reload(false);var $1_0=$p1_0;LxnBase.UI.FormsRegistry.viewObject('Order',($1_0.Item).Id);}),null);},$7_8:function(){var $0=this.getSelectedIds();Luxena.Travel.Services.PaymentService.CanCreatePayment($0,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($1_0.OrderItems==null||!$1_0.OrderItems.length){this.$7_9($1_0.DocumentIds,$1_0.Payer,$1_0.Total,$1_0.Vat);}else{if($1_0.DocumentIds!=null&&$1_0.DocumentIds.length>0){Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocumentList_CreateCashPayment_Title,Luxena.Travel.Res.aviaDocumentList_CannotCreatePayment,$1_0.OrderItems,Luxena.Travel.Res.aviaDocumentList_AddToPayment,ss.Delegate.create(this,function(){
this.$7_9($1_0.DocumentIds,$1_0.Payer,$1_0.Total,$1_0.Vat);}));}else{Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocumentList_CreateCashPayment_Title,Luxena.Travel.Res.aviaDocumentList_CannotCreatePayment,$1_0.OrderItems);}}}),null);},$7_9:function($p0,$p1,$p2,$p3){var $0=new Luxena.Travel.CashPaymentRegisterForm(new Luxena.Travel.CashPaymentRegisterFormArgs($p1,$p2,$p3,$p0));$0.open();},$7_A:function(){var $0=this.get_selectedRecords();var $1={};var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $2=$enum1.current;$1[$2.id]=($2.data).Name;}Luxena.Travel.LxnTravel$0.$2($1,this._separateServiceFee!=null&&this._separateServiceFee.checked,this.get_listConfig().Caption,ss.Delegate.create(this,function(){
this.get_autoGrid().reload(false);}));},getSelectedIds:function(){return this.get_autoGrid().getSelectedIds();}}
Luxena.Travel.LxnTravel$0=function(){}
Luxena.Travel.LxnTravel$0.$0=function($p0){return !ss.isValue($p0.CanDelete)||($p0.CanDelete.Visible&&!$p0.CanDelete.IsDisabled);}
Luxena.Travel.LxnTravel$0.$1=function($p0){return !ss.isValue($p0.CanUpdate)||($p0.CanUpdate.Visible&&!$p0.CanUpdate.IsDisabled);}
Luxena.Travel.LxnTravel$0.$2=function($p0,$p1,$p2,$p3){if(!Object.getKeyCount($p0)){return;}var $0=new LxnBase.Data.RangeRequest();$0.sort='IssueDate';$0.dir='DESC';$0.VisibleProperties=['Number','IssueDate','Customer','AssignedTo','Total','Note'];LxnBase.UI.FormsRegistry.selectObjects('Order',$0,true,function($p1_0){
if(($p1_0).length!==1){return;}var $1_0=($p1_0)[0];var $1_1=Luxena.Travel.Controls.AutoListTabExt2.getDictionaryKeys($p0);Luxena.Travel.Services.OrderService.GetOrdersByAviaDocuments($1_1,function($p2_0){
var $2_0=$p2_0;if($2_0==null||!$2_0.length){Luxena.Travel.LxnTravel$0.$4($p0,$1_0,$p1,$p2,$p3);return;}Luxena.Travel.LxnTravel$0.$3($2_0,$p0,$1_0,$p1,$p2,$p3);},null);},null);}
Luxena.Travel.LxnTravel$0.$3=function($p0,$p1,$p2,$p3,$p4,$p5){var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.current;delete $p1[$0.Product.Id];}if(Object.getKeyCount($p1)>0){Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title,Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg,$p0,Luxena.Travel.Res.aviaDocument_ContinueAddToOrder_Msg,function(){
Luxena.Travel.LxnTravel$0.$4($p1,$p2,$p3,$p4,$p5);});}else{Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title,Luxena.Travel.Res.aviaDocument_CannotAddDocumentsToOrder_Msg,$p0);}}
Luxena.Travel.LxnTravel$0.$4=function($p0,$p1,$p2,$p3,$p4){Luxena.Travel.Services.OrderService.AddAviaDocuments($p1,Luxena.Travel.Controls.AutoListTabExt2.getDictionaryKeys($p0),$p2,function($p1_0){
var $1_0=$p1_0;if($1_0.Errors!=null){Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder(Luxena.Travel.Res.aviaDocument_AddToOrder_Title,Luxena.Travel.Res.order_CannotRestoreOrder_Msg,$1_0.Errors);}else{var $1_1=String.format(Luxena.Travel.Res.aviaDocument_Was_Added,Luxena.Travel.Controls.AutoListTabExt2.getDictionaryValues($p0).join(', '),LxnBase.UI.Controls.ObjectLink.renderInfo($1_0.Item));LxnBase.MessageRegister.info($p3,$1_1);$p4();LxnBase.UI.FormsRegistry.viewObject('Order',($1_0.Item).Id);}},null);}
Luxena.Travel.LxnTravel$0.prototype={Id:null,Version:0,IsRefund:false,ReissueFor:null,RefundedProduct:null,Refund:null,IssueDate:null,RequiresProcessing:false,IsVoid:false,Customer:null,Intermediary:null,Note:null,Originator:0,OriginString:null,OriginalDocument:null,BookerOffice:null,BookerCode:null,Booker:null,TicketerOffice:null,TicketerCode:null,Ticketer:null,Seller:null,Owner:null,Country:null,PnrCode:null,TourCode:null,Fare:null,EqualFare:null,FeesTotal:null,Total:null,Vat:null,Commission:null,CommissionDiscount:null,CommissionPercent:0,Discount:null,ServiceFee:null,Handling:null,GrandTotal:null,PaymentType:0,Name:null,Order:null,CanUpdate:null,CanDelete:null}
Luxena.Travel.SetDataToDocumentsForm=function(title,type){Luxena.Travel.SetDataToDocumentsForm.initializeBase(this);this.$1_A=type;this.get_window().cls+=' apply-to-documents';this.get_window().setTitle(title);this.$1_0();this.$1_4=this.get_form().addButton(Luxena.Travel.Res.apply_Text,ss.Delegate.create(this,this.save));this.$1_5=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields([this.$1_6,this.$1_7]);this.set_componentSequence([this.$1_6,this.$1_7,this.$1_4,this.$1_5]);}
Luxena.Travel.SetDataToDocumentsForm.$1_3=function($p0){var $0=$p0.getValue();if(!$0){return null;}return $0;}
Luxena.Travel.SetDataToDocumentsForm.prototype={open:function(ids){this.$1_9=ids;this.$1_2();this.get_window().show();},$1_0:function(){var $0=new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'div',html:Luxena.Travel.Res.applyAirline_SelectDates_Text}).cls('x-form-item box-label').toDictionary());this.$1_6=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.fromDate_Text).value(Date.get_today()).format('d.m.Y').listeners({change:ss.Delegate.create(this,this.$1_1)}).toDictionary());this.$1_7=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).value(Date.get_today()).format('d.m.Y').listeners({change:ss.Delegate.create(this,this.$1_1)}).toDictionary());this.$1_8=new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'div',html:String.format(Luxena.Travel.Res.customerReportForm_DocumentCount_Text,0)}).cls('total-count').toDictionary());this.get_form().add($0);this.get_form().add(this.$1_6);this.get_form().add(this.$1_7);this.get_form().add(this.$1_8);},$1_1:function($p0,$p1,$p2){if($p0===this.$1_6&&this.$1_6.getValue()>this.$1_7.getValue()){this.$1_6.setValue(this.$1_7.getValue());}else if($p0===this.$1_7&&this.$1_7.getValue()<this.$1_6.getValue()){this.$1_7.setValue(this.$1_6.getValue());}this.$1_2();},$1_2:function(){Luxena.Travel.Services.AviaService.GetDocumentCountForUpdate(this.$1_A,this.$1_9,Luxena.Travel.SetDataToDocumentsForm.$1_3(this.$1_6),Luxena.Travel.SetDataToDocumentsForm.$1_3(this.$1_7),ss.Delegate.create(this,function($p1_0){
this.$1_8.getEl().update(String.format(Luxena.Travel.Res.customerReportForm_DocumentCount_Text,$p1_0));}),null);},onSave:function(){Luxena.Travel.Services.AviaService.ApplyDataToDocuments(this.$1_A,this.$1_9,Luxena.Travel.SetDataToDocumentsForm.$1_3(this.$1_6),Luxena.Travel.SetDataToDocumentsForm.$1_3(this.$1_7),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if(!$1_0){LxnBase.MessageRegister.info(Luxena.Travel.Res.applyAirline_Msg_Title,Luxena.Travel.Res.airlineApplied_NotFound_Msg);}this.completeSave($p1_0);}),null);},$1_4:null,$1_5:null,$1_6:null,$1_7:null,$1_8:null,$1_9:null,$1_A:null}
Luxena.Travel.GdsFileViewForm=function(tabId,id,type){Luxena.Travel.GdsFileViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.GdsFileViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.GdsFileViewForm($p1_0,id,type);});}
Luxena.Travel.GdsFileViewForm.prototype={onInitToolBar:function(toolbarItems){this.$8_1=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.gdsFile_Reimport_Text).handler(ss.Delegate.create(this,this.$8_0)).toDictionary());this.$8_2=new Ext.Toolbar.Separator();toolbarItems.add(this.$8_2);toolbarItems.add(this.$8_1);},onLoadConfig:function(){if(!ss.isValue(this.get_itemConfig().CustomActionPermissions)){return;}var $0=this.get_itemConfig().CustomActionPermissions['ReimportGdsDocuments'];LxnBase.UI.BaseClassViewForm.setActionStatus(this.$8_1,$0);this.$8_2.setVisible($0.Visible);Luxena.Travel.GdsFileViewForm.callBaseMethod(this, 'onLoadConfig');},updateActionsStatus:function(){if(!ss.isValue(this.get_permissions().CustomActionPermissions)){return;}var $0=this.get_permissions().CustomActionPermissions['ReimportGdsDocuments'];LxnBase.UI.BaseClassViewForm.setActionStatus(this.$8_1,$0);this.$8_2.setVisible($0.Visible);Luxena.Travel.GdsFileViewForm.callBaseMethod(this, 'updateActionsStatus');},onLoad:function(){var $0=this.get_itemConfig().Columns;var $1=null;var $2=new ss.StringBuilder();$2.append('<table>');var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $3=$enum1.current;var $4=this.get_instance()[$3.Name];if(ss.isNullOrUndefined($4)){continue;}if($3.IsReference){$1=$4;}var $5=LxnBase.UI.AutoControls.ControlFactory.createRenderer($3);var $6=(($5==null)?$4:$5($4));if($3.Name==='Content'){$6='<pre>'+Ext.util.Format.htmlEncode($6)+'</pre>';}$2.append('<tr>');$2.append(String.format("<td valign='top'class='gsdFileViewCaption'>{0}</td>",$3.Caption+':'));$2.append(String.format("<td class='gsdFileViewValue'><pre>{0}</pre></td>",$6));$2.append('</tr>');}$2.append('</table>');if($1==null){$1=this.get_itemConfig().Caption;}this.setTitle($1);new Ext.Template($2.toString()).overwrite(this.body,this.get_instance());this.doLayout();},$8_0:function(){Luxena.Travel.Services.GdsFileService.Reimport([this.get_id()],null,ss.Delegate.create(this,function($p1_0){
var $1_0=null;var $1_1='';var $enum1=ss.IEnumerator.getEnumerator(this.get_itemConfig().Columns);while($enum1.moveNext()){var $1_2=$enum1.current;if($1_2.Name==='ImportResult'){$1_0=$1_2;break;}}var $enum2=ss.IEnumerator.getEnumerator($1_0.Items);while($enum2.moveNext()){var $1_3=$enum2.current;var $1_4=$1_3;if($1_4[LxnBase.Data.Reference.IdPos]===$p1_0[$1_0.Name]){$1_1=($1_4[LxnBase.Data.Reference.NamePos]).toLowerCase();break;}}$1_1=String.format('{0} {1}. {2} - {3}.',Luxena.Travel.Res.imported,$p1_0[LxnBase.Data.ObjectPropertyNames.reference],$1_0.Caption,$1_1);LxnBase.MessageRegister.info(this.get_itemConfig().ListCaption,$1_1);this.load($p1_0);}),null);},$8_1:null,$8_2:null}
Luxena.Travel.OrderTransferDto=function(){}
Luxena.Travel.OrderTransferDto.prototype={Transfer:null,Date:null,Party:null,Order:null,Amount:0}
Luxena.Travel.QuickReceiptRequest=function(){}
Luxena.Travel.QuickReceiptRequest.prototype={Customer:null,NotaxedAmount:null,TaxedAmount:null,Owner:null,Note:null}
Luxena.Travel.QuickReceiptResponse=function(){}
Luxena.Travel.QuickReceiptResponse.prototype={Order:null,Receipt:null}
Luxena.Travel.AviaPaymentResponse=function(){}
Luxena.Travel.AviaPaymentResponse.prototype={Payer:null,Total:null,Vat:null,DocumentIds:null,OrderItems:null}
Luxena.Travel.CashInOrderPaymentRequest=function(){}
Luxena.Travel.CashInOrderPaymentRequest.prototype={Date:null,Payer:null,Number:null,Amount:null,OrderVat:null,PaymentVat:null,ReceivedFrom:null,Owner:null,Note:null,IsPosted:false,SeparateServiceFee:false,DocumentIds:null,IsAdditionalPayment:false,CreateConsignment:false}
Luxena.Travel.ConsignmentItemsDto=function(){}
Luxena.Travel.ConsignmentItemsDto.prototype={IssueDate:null,Supplier:null,Acquirer:null,Discount:null,Items:null}
Luxena.Travel.GenerateOrderItemsResponse=function(){}
Luxena.Travel.GenerateOrderItemsResponse.prototype={Customer:null,Items:null,OrderItems:null}
Luxena.Travel.ClosedPeriodDto=function(){}
Luxena.Travel.ClosedPeriodDto.prototype={Id:null,Version:0,DateFrom:null,DateTo:null,PeriodState:0}
Luxena.Travel.CashPaymentResponse=function(){}
Luxena.Travel.CashPaymentResponse.prototype={Payment:null,Consignment:null}
Luxena.Travel.ConsignmentDto=function(){}
Luxena.Travel.ConsignmentDto.prototype={Id:null,Version:0,Number:null,IssueDate:null,Supplier:null,Acquirer:null,Vat:null,GrandTotal:null,Total:null,Discount:null,TotalSupplied:null,Items:null,IssuedConsignments:null,Permissions:null}
Luxena.Travel.IssuedConsignmentDto=function(){}
Luxena.Travel.IssuedConsignmentDto.prototype={Id:null,Number:null,TimeStamp:null,Consignment:null,IssuedBy:null}
Luxena.Travel.OrderItemDto=function(){}
Luxena.Travel.OrderItemDto.prototype={Id:null,Version:0,Order:null,LinkType:null,Product:null,Text:null,ProductText:null,Price:null,Quantity:0,Total:null,Discount:null,GrandTotal:null,GivenVat:null,TaxedTotal:null,HasVat:false,IsForceDelivered:false,Consignment:null}
Luxena.Travel.PaymentDto=function(){}
Luxena.Travel.PaymentDto.prototype={Id:null,Version:0,PaymentForm:0,Date:null,Number:null,DocumentNumber:null,AuthorizationCode:null,PaymentSystem:null,Payer:null,Amount:null,Vat:null,ReceivedFrom:null,PostedOn:null,SavePosted:false,AssignedTo:null,RegisteredBy:null,Note:null,IsVoid:false,Invoice:null,Order:null,Owner:null,BankAccount:null,Permissions:null}
Luxena.Travel.InvoiceDto=function(){}
Luxena.Travel.InvoiceDto.prototype={Id:null,Number:null,IssueDate:null,TimeStamp:null,IssuedBy:null,Total:null,Type:0,FileExtension:null}
Luxena.Travel.OrderDto=function(){}
Luxena.Travel.OrderDto.prototype={Type:null,Id:null,Text:null,Version:0,Number:null,IssueDate:null,Customer:null,BillTo:null,ShipTo:null,Intermediary:null,IsVoid:false,Discount:null,Vat:null,Total:null,Paid:null,TotalDue:null,VatDue:null,UseServiceFeeOnlyInVat:false,ServiceFee:null,DeliveryBalance:0,AssignedTo:null,Owner:null,BankAccount:null,BonusDate:null,BonusSpentAmount:null,BonusRecipient:null,Note:null,IsPublic:false,AllowAddProductsInClosedPeriod:false,IsSubjectOfPaymentsControl:false,Items:null,Invoices:null,Payments:null,Tasks:null,Transfers:null,Permissions:null,CanCreateTransfer:false,CanChangeAssignedTo:false}
Luxena.Travel.ProductProviderDto=function(){}
Luxena.Travel.ProductProviderDto.prototype={Id:null,Version:0,Name:null,UseForAccommodation:false,UseForCarRental:false,UseForInsurance:false,UseForPasteboard:false,UseForTransfer:false}
Luxena.Travel.ProductPassengerDto=function(){}
Luxena.Travel.ProductPassengerDto.prototype={Id:null,Version:0,PassengerName:null,Passenger:null}
Luxena.Travel.GenericProductTypeDto=function(){}
Luxena.Travel.GenericProductTypeDto.prototype={Id:null,Version:0,Name:null}
Luxena.Travel.GenericProductDto=function(){Luxena.Travel.GenericProductDto.initializeBase(this);}
Luxena.Travel.GenericProductDto.prototype={Passengers:null,Provider:null,GenericType:null,Number:null,StartDate:null,FinishDate:null}
Luxena.Travel.PasteboardDto=function(){Luxena.Travel.PasteboardDto.initializeBase(this);}
Luxena.Travel.PasteboardDto.prototype={PassengerName:null,Passenger:null,Number:null,DeparturePlace:null,DepartureDate:null,DepartureTime:null,ArrivalPlace:null,ArrivalDate:null,ArrivalTime:null}
Luxena.Travel.SimCardDto=function(){Luxena.Travel.SimCardDto.initializeBase(this);}
Luxena.Travel.SimCardDto.prototype={PassengerName:null,Passenger:null,Number:null,Operator:0,IsSale:false}
Luxena.Travel.IsicDto=function(){Luxena.Travel.IsicDto.initializeBase(this);}
Luxena.Travel.IsicDto.prototype={PassengerName:null,Passenger:null,CardType:0,Number1:null,Number2:null}
Luxena.Travel.BusTicketDto=function(){Luxena.Travel.BusTicketDto.initializeBase(this);}
Luxena.Travel.BusTicketDto.prototype={PassengerName:null,Passenger:null,DeparturePlace:null,DepartureDate:null,DepartureTime:null,ArrivalPlace:null,ArrivalDate:null,ArrivalTime:null,SeatNumber:null}
Luxena.Travel.ExcursionDto=function(){Luxena.Travel.ExcursionDto.initializeBase(this);}
Luxena.Travel.ExcursionDto.prototype={Passengers:null,StartDate:null,FinishDate:null,TourName:null}
Luxena.Travel.TourDto=function(){Luxena.Travel.TourDto.initializeBase(this);}
Luxena.Travel.TourDto.prototype={Passengers:null,StartDate:null,FinishDate:null,HotelName:null,HotelOffice:null,HotelCode:null,HotelRoom:null,PlacementName:null,PlacementOffice:null,PlacementCode:null,Diet:null,AviaDescription:null,TransferDescription:null}
Luxena.Travel.AccommodationDto=function(){Luxena.Travel.AccommodationDto.initializeBase(this);}
Luxena.Travel.AccommodationDto.prototype={Passengers:null,Provider:null,StartDate:null,FinishDate:null,HotelName:null,HotelOffice:null,HotelCode:null,HotelRoom:null,PlacementName:null,PlacementOffice:null,PlacementCode:null,Diet:null}
Luxena.Travel.TransferDto=function(){Luxena.Travel.TransferDto.initializeBase(this);}
Luxena.Travel.TransferDto.prototype={Passengers:null,Provider:null,StartDate:null}
Luxena.Travel.InsuranceDto=function(){Luxena.Travel.InsuranceDto.initializeBase(this);}
Luxena.Travel.InsuranceDto.prototype={Passengers:null,Provider:null,StartDate:null,FinishDate:null}
Luxena.Travel.CarRentalDto=function(){Luxena.Travel.CarRentalDto.initializeBase(this);}
Luxena.Travel.CarRentalDto.prototype={Passengers:null,Provider:null,StartDate:null,FinishDate:null,CarBrand:null}
Luxena.Travel.AviaDocumentProcessDto=function(){}
Luxena.Travel.AviaDocumentProcessDto.prototype={Id:null,Type:0,AirlinePrefixCode:null,Number:0,Originator:0,PassengerName:null,Customer:null,Intermediary:null,Seller:null,Commission:null,CommissionDiscount:null,CommissionPercent:0,Fare:null,EqualFare:null,Total:null,ServiceFee:null,Handling:null,Discount:null,GrandTotal:null,PaymentType:0,RequiresProcessing:false,IsVoid:false,Note:null,Order:null,Name:null}
Luxena.Travel.AviaMcoProcessDto=function(){Luxena.Travel.AviaMcoProcessDto.initializeBase(this);}
Luxena.Travel.AviaMcoProcessDto.prototype={Description:null}
Luxena.Travel.AviaDocumentProcessArgs=function(){}
Luxena.Travel.AviaDocumentProcessArgs.prototype={AllowSaveAndContinue:false,AllowEditParty:false,HasAccessToDocumentList:false}
Luxena.Travel.AviaTicketProcessDto=function(){Luxena.Travel.AviaTicketProcessDto.initializeBase(this);}
Luxena.Travel.AviaTicketProcessDto.prototype={PenalizeOperations:null,SegmentCount:0,Passenger:null,GdsPassport:null,GdsPassportStatus:0,Passport:null,PassportRequired:false,PassportValidationResult:0,SuggestPassenger:null}
Luxena.Travel.PassportValidationResponse=function(){}
Luxena.Travel.PassportValidationResponse.prototype={Passport:null,PassportValidationResult:0}
Luxena.Travel.PenalizeOperationDto=function(){}
Luxena.Travel.PenalizeOperationDto.prototype={Type:0,Status:0,Description:null}
Luxena.Travel.ProcessOperationPermissionsResponse=function(){Luxena.Travel.ProcessOperationPermissionsResponse.initializeBase(this);}
Luxena.Travel.ProcessOperationPermissionsResponse.prototype={Args:null}
Luxena.Travel.GdsAgentDto=function(){}
Luxena.Travel.GdsAgentDto.prototype={Origin:null,OfficeCode:null,AgentCode:null}
Luxena.Travel.AviaMcoDto=function(){Luxena.Travel.AviaMcoDto.initializeBase(this);}
Luxena.Travel.AviaMcoDto.prototype={Description:null,InConnectionWith:null}
Luxena.Travel.AviaRefundDto=function(){Luxena.Travel.AviaRefundDto.initializeBase(this);}
Luxena.Travel.AviaRefundDto.prototype={CancelFee:null,ServiceFeePenalty:null,RefundServiceFee:null}
Luxena.Travel.AviaRefundProcessDto=function(){Luxena.Travel.AviaRefundProcessDto.initializeBase(this);}
Luxena.Travel.AviaRefundProcessDto.prototype={ServiceFeePenalty:null,RefundServiceFee:null}
Luxena.Travel.AviaDocumentFeeDto=function(){}
Luxena.Travel.AviaDocumentFeeDto.prototype={Code:null,Amount:null}
Luxena.Travel.AviaTicketDto=function(){Luxena.Travel.AviaTicketDto.initializeBase(this);}
Luxena.Travel.AviaTicketDto.prototype={Segments:null,PenalizeOperations:null,PassportRequired:false,PassportValidationResult:0}
Luxena.Travel.FlightSegmentDto=function(){}
Luxena.Travel.FlightSegmentDto.prototype={Id:null,Position:0,FromAirport:null,FromAirportName:null,ToAirport:null,ToAirportName:null,CarrierCode:null,Carrier:null,FlightNumber:null,ServiceClassCode:null,ServiceClass:null,ServiceClassName:null,DepartureTime:null,ArrivalTime:null,MealValue:null,MealString:null,NumberOfStops:null,Luggage:null,CheckInTerminal:null,CheckInTime:null,Duration:null,ArrivalTerminal:null,Seat:null,FareBasis:null,Stopover:false,Type:0,CouponAmount:null}
Luxena.Travel.DayStats=function(){}
Luxena.Travel.DayStats.prototype={Date:null,DateText:null,Unprocessed:0,Total:0,Void:0,ReportUrl:null}
Luxena.Travel.ItemListResponse=function(){}
Luxena.Travel.ItemListResponse.prototype={Items:null,RangeResponse:null}
Luxena.Travel.SystemConfigurationDto=function(){}
Luxena.Travel.SystemConfigurationDto.prototype={Id:null,CompanyName:null,VatRate:0,DefaultCurrency:null,UseDefaultCurrencyForInput:false,UseConsolidatorCommission:false,UseAviaHandling:false,UseBonuses:false,AviaOrderItemGenerationOption:0,IsOrganizationCodeRequired:false,IsOrderRequiredForProcessedDocument:false,ReservationsInOfficeMetrics:false,Order_UseServiceFeeOnlyInVat:false,Invoice_CanOwnerSelect:false,Invoice_DefaultIssuedBy:null,Ticket_NoPrintReservations:false}
Luxena.Travel.AppParameters=function(){}
Luxena.Travel.AppParameters.prototype={UserPerson:null,CurrentUser:null,AllowedActions:null,MainPageSettings:null,SystemConfiguration:null,Departments:null,BankAccounts:null,Version:null}
Luxena.Travel.AppStateResponse=function(){}
Luxena.Travel.AppStateResponse.prototype={ImportedDocuments:null,AssignedTasks:null,IsUserRolesChanged:false,Version:null}
Luxena.Travel.AppStateRequest=function(){}
Luxena.Travel.AppStateRequest.prototype={ClearUserData:false,CheckImportedDocuments:false,CheckNewTasks:false,CheckUserRoleChanges:false}
Luxena.Travel.ObjectStateInfo=function(){Luxena.Travel.ObjectStateInfo.initializeBase(this);}
Luxena.Travel.ObjectStateInfo.prototype={State:null}
Luxena.Travel.ProfileDto=function(){}
Luxena.Travel.ProfileDto.prototype={Person:null,Login:null,Roles:null,GdsAgents:null}
Luxena.Travel.MoneyDto=function(){}
Luxena.Travel.MoneyDto.create=function(money){if(money==null){return null;}if(!(Type.canCast(money,Array))){return money;}var $0=money;var $1=new Luxena.Travel.MoneyDto();$1.Amount=$0[0];$1.Currency=LxnBase.Data.Reference.create('Currency',$0[1],$0[2]);return $1;}
Luxena.Travel.MoneyDto.copyMoney=function(source){if(source==null||source.Currency==null){return null;}var $0=new Luxena.Travel.MoneyDto();$0.Amount=source.Amount;$0.Currency=LxnBase.Data.Reference.copy(source.Currency);return $0;}
Luxena.Travel.MoneyDto.decimalToMoneyString=function(val){return (ss.isNullOrUndefined(val))?null:val.format('N2');}
Luxena.Travel.MoneyDto.toMoneyString=function(dto){return (dto==null)?null:dto.Amount.format('N2');}
Luxena.Travel.MoneyDto.toMoneyFullString=function(dto){return (dto==null)?null:String.format('{0} {1}',Luxena.Travel.MoneyDto.toMoneyString(dto),dto.Currency.Name);}
Luxena.Travel.MoneyDto.getZeroMoney=function(currency){var $0=new Luxena.Travel.MoneyDto();$0.Amount=0;$0.Currency=LxnBase.Data.Reference.copy((ss.isNullOrUndefined(currency))?Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency:currency);return $0;}
Luxena.Travel.MoneyDto.prototype={Amount:0,Currency:null}
Luxena.Travel.FileDto=function(){}
Luxena.Travel.FileDto.prototype={Id:null,FileName:null,TimeStamp:null,UploadedBy:null,Party:null}
Luxena.Travel.PartyDto=function(){}
Luxena.Travel.PartyDto.prototype={Type:null,Id:null,Text:null,Version:0,Name:null,LegalName:null,Phone1:null,Phone2:null,Fax:null,Email1:null,Email2:null,WebAddress:null,IsCustomer:false,IsSupplier:false,ReportsTo:null,LegalAddress:null,ActualAddress:null,Note:null,Files:null,Permissions:null,Balance:null}
Luxena.Travel.DepartmentDto=function(){Luxena.Travel.DepartmentDto.initializeBase(this);}
Luxena.Travel.DepartmentDto.prototype={Organization:null}
Luxena.Travel.OpeningBalanceDto=function(){}
Luxena.Travel.OpeningBalanceDto.prototype={Id:null,Text:null,Type:null,Date:null,Balance:0}
Luxena.Travel.OrderBalance=function(){}
Luxena.Travel.OrderBalance.prototype={Order:null,Owner:null,FirstDocumentDate:null,LastDocumentDate:null,Delivered:0,Paid:0,Balance:0}
Luxena.Travel.PartyBalance=function(){}
Luxena.Travel.PartyBalance.prototype={Party:null,OpeningBalance:null,FirstDocumentDate:null,LastDocumentDate:null,Delivered:0,Paid:0,Overall:0,ByOrders:null}
Luxena.Travel.TaskDto=function(){}
Luxena.Travel.TaskDto.prototype={Type:null,Id:null,Text:null,Version:0,Number:null,Subject:null,Description:null,RelatedTo:null,Order:null,AssignedTo:null,Status:0,DueDate:null,Overdue:false,CanModify:false}
Luxena.Travel.UploadFileResponse=function(){}
Luxena.Travel.UploadFileResponse.prototype={success:false,File:null,ErrorMessage:null}
Luxena.Travel.MilesCardDto=function(){}
Luxena.Travel.MilesCardDto.prototype={Id:null,Version:null,Owner:null,Number:null,Organization:null}
Luxena.Travel.PassportDto=function(){}
Luxena.Travel.PassportDto.prototype={Id:null,Version:null,FirstName:null,MiddleName:null,LastName:null,Owner:null,Gender:0,GenderString:null,Number:null,Citizenship:null,IssuedBy:null,IssuedByCode:null,Birthday:null,ExpiredOn:null,Note:null,AmadeusString:null,GalileoString:null}
Luxena.Travel.PersonDto=function(){Luxena.Travel.PersonDto.initializeBase(this);}
Luxena.Travel.PersonDto.prototype={Birthday:null,BonusCardNumber:null,Passports:null,MilesCards:null,Organization:null,Title:null}
Luxena.Travel.OrganizationDto=function(){Luxena.Travel.OrganizationDto.initializeBase(this);}
Luxena.Travel.OrganizationDto.prototype={Code:null}
Luxena.Travel.AppActions=function(){}
Luxena.Travel.AppActions.init=function(){Luxena.Travel.AppActions.consignmentList=LxnBase.UI.ActionFactory.createListAction('Consignment',Luxena.Travel.DomainRes.consignment_Caption_List);Luxena.Travel.AppActions.updateAnalytics=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.updateAnalytics_Action).handler(function(){
var $1_0=Luxena.Travel.Services.AppService.service.get_timeOut();Luxena.Travel.Services.AppService.service.set_timeOut(300000);Luxena.Travel.Services.AppService.UpdateAnalytics(function(){
LxnBase.MessageRegister.info(Luxena.Travel.Res.updateAnalytics_Success);},function($p2_0){
LxnBase.MessageRegister.error(Luxena.Travel.Res.updateAnalytics_Error+$p2_0.get_error().Message);$p2_0.set_handled(true);});Luxena.Travel.Services.AppService.service.set_timeOut($1_0);LxnBase.MessageRegister.info(Luxena.Travel.Res.updateAnalytics_Info);}).toDictionary());Luxena.Travel.AppActions.newOrder=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.newOrder_Action).handler(function(){
LxnBase.UI.FormsRegistry.editObject('Order',null,null,function($p2_0){
var $2_0=$p2_0;LxnBase.UI.FormsRegistry.viewObject('Order',($2_0.Item).Id);},null);}).toDictionary());Luxena.Travel.AppActions.quickReceipt=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.quickReceipt_Action).handler(function(){
var $1_0=new Luxena.Travel.QuickReceiptEditForm();$1_0.add_saved(function($p2_0){
var $2_0=$p2_0;LxnBase.UI.FormsRegistry.viewObject('Order',$2_0.Order.Id);Luxena.Travel.ReportPrinter.getOrderDocument($2_0.Receipt.Id,$2_0.Receipt.Name,1,null);});$1_0.open();}).toDictionary());Luxena.Travel.AppActions.newTask=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.newTask_Action).handler(function(){
LxnBase.UI.FormsRegistry.editObject('Task',null,null,function($p2_0){
var $2_0=$p2_0;LxnBase.UI.FormsRegistry.viewObject('Task',($2_0.Item).Id);},null);}).toDictionary());Luxena.Travel.AppActions.aviaConsoleParser=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.aviaConsoleParser_Action).handler(Luxena.Travel.AppActions.$0).toDictionary());}
Luxena.Travel.AppActions.listPositioning=function(type,id,newTab){var $0=new LxnBase.Data.RangeRequest();$0.PositionableObjectId=id;LxnBase.UI.FormsRegistry.listObjects(type,$0,newTab);}
Luxena.Travel.AppActions.$0=function(){var $0=new Luxena.Travel.AviaConsoleParserForm();$0.open();}
Luxena.Travel.AppActions.signOut=function(){$('<form action="LogOut" method="post"></form>').appendTo(document.body).submit();}
Luxena.Travel.LocalStorageProvider=function(){Luxena.Travel.LocalStorageProvider.initializeBase(this);}
Luxena.Travel.LocalStorageProvider.isSupported=function(){return !ss.isNullOrUndefined(Luxena.Travel.LocalStorageProvider.$2_0);}
Luxena.Travel.LocalStorageProvider.prototype={set:function(name,value){if(ss.isNullOrUndefined(value)){this.clear(name);return;}Luxena.Travel.LocalStorageProvider.$2_0.setItem(name,JSON.stringify(value));Luxena.Travel.LocalStorageProvider.callBaseMethod(this, 'set',[name,value]);},clear:function(name){Luxena.Travel.LocalStorageProvider.$2_0.removeItem(name);Luxena.Travel.LocalStorageProvider.callBaseMethod(this, 'clear',[name]);},get:function(name){return JSON.parse(Luxena.Travel.LocalStorageProvider.$2_0.getItem(name));}}
Luxena.Travel.MessageFactory=function(){}
Luxena.Travel.MessageFactory.error=function(msg){LxnBase.UI.MessageBoxWrap.show(LxnBase.BaseRes.error,msg,Ext.MessageBox.ERROR,Ext.MessageBox.OK);}
Luxena.Travel.MessageFactory.warn=function(msg){LxnBase.UI.MessageBoxWrap.show(LxnBase.BaseRes.warning,msg,Ext.MessageBox.WARNING,Ext.MessageBox.OK);}
Luxena.Travel.MessageFactory.actionNotPermittedMsg=function(){LxnBase.UI.MessageBoxWrap.show(LxnBase.BaseRes.error,LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg,Ext.MessageBox.ERROR,Ext.MessageBox.OK);}
Luxena.Travel.MessageFactory.voidingConfirmation=function(voidMsg1,voidMsg2,voidMsg3,restoreMsg1,restoreMsg2,restoreMsg3,isVoid,count,onConfirm){LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation,Luxena.Travel.MessageFactory.$0(voidMsg1,voidMsg2,voidMsg3,restoreMsg1,restoreMsg2,restoreMsg3,isVoid,count),function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}onConfirm();});}
Luxena.Travel.MessageFactory.voidCompletedMsg=function(title,voidMsg1,voidMsg2,restoreMsg1,restoreMsg2,isVoid,count,objectDisplayString,details){var $0=(isVoid)?((count===1)?String.format(voidMsg1,objectDisplayString):String.format(voidMsg2,count)):((count===1)?String.format(restoreMsg1,objectDisplayString):String.format(restoreMsg2,count));LxnBase.MessageRegister.info(title,$0,details);}
Luxena.Travel.MessageFactory.objectUpdatedMsg=function(caption,objectDisplayString,isCreated){LxnBase.MessageRegister.info(caption,((isCreated)?LxnBase.BaseRes.created:LxnBase.BaseRes.updated)+' '+objectDisplayString);}
Luxena.Travel.MessageFactory.continueOperationConfirmation=function(title,errorMsg,invalidItems,continueOperationMsg,onConfirm){var $0='<br/>';var $1=new ss.StringBuilder();$1.append(errorMsg);$1.append($0);for(var $2=0;$2<invalidItems.length;$2++){var $3=invalidItems[$2];$1.append($0);$1.append($3);}if(String.isNullOrEmpty(continueOperationMsg)){LxnBase.UI.MessageBoxWrap.show(title,$1.toString(),Ext.MessageBox.WARNING,Ext.MessageBox.OK,null);}else{$1.append($0);$1.append($0);$1.append(continueOperationMsg);LxnBase.UI.MessageBoxWrap.confirm(title,$1.toString(),function($p1_0,$p1_1){
if($p1_0==='yes'){onConfirm();}});}}
Luxena.Travel.MessageFactory.invoiceAddedToPayment=function(title,payment,invoice){var $0=String.format('{0} {1} {2}',Luxena.Travel.DomainRes.order.toLowerCase(),invoice.Name,Luxena.Travel.Res.payment_AddedToPayment_Msg1);LxnBase.MessageRegister.info(title,String.format('{0} {1}',$0,LxnBase.UI.Controls.ObjectLink.renderInfo(payment)));}
Luxena.Travel.MessageFactory.documentsAlreadyAddedToOrder=function(title,msg,sources,confirmation,onConfirm){var $0='<br/>';var $1=new ss.StringBuilder(msg);$1.append($0);$1.append($0);var $enum1=ss.IEnumerator.getEnumerator(sources);while($enum1.moveNext()){var $2=$enum1.current;$1.append(String.format(Luxena.Travel.Res.order_DocumentAlreadyAddedToOrder_Msg,$2.Product.Name,$2.Order.Name));$1.append($0);}if(!ss.isNullOrUndefined(confirmation)&&!ss.isNullOrUndefined(onConfirm)){$1.append($0);$1.append(confirmation);LxnBase.UI.MessageBoxWrap.confirm(title,$1.toString(),function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}onConfirm();});}else{LxnBase.UI.MessageBoxWrap.show(title,$1.toString(),Ext.MessageBox.WARNING,Ext.MessageBox.OK);}}
Luxena.Travel.MessageFactory.postedPaymentsInInvoice=function(title,msg,payments){var $0='<br/>';var $1=new ss.StringBuilder(msg);$1.append($0);$1.append($0);var $enum1=ss.IEnumerator.getEnumerator(payments);while($enum1.moveNext()){var $2=$enum1.current;$1.append(String.format(Luxena.Travel.Res.order_PostedPaymentInOrder_Msg,$2.Number,$2.Order.Name));$1.append($0);}LxnBase.UI.MessageBoxWrap.show(title,$1.toString(),Ext.MessageBox.WARNING,Ext.MessageBox.OK);}
Luxena.Travel.MessageFactory.$0=function($p0,$p1,$p2,$p3,$p4,$p5,$p6,$p7){var $0=($p6)?$p3:$p0;var $1=($p6)?$p4:$p1;var $2=($p6)?$p5:$p2;return LxnBase.StringUtility.getNumberText($p7,$0,$1,$2);}
Luxena.Travel.PartyModel=function(){this.Id=ko.observable();this.Version=ko.observable();this.Name=ko.observable();this.LegalName=ko.observable();this.Phone1=ko.observable();this.Phone2=ko.observable();this.Fax=ko.observable();this.Email1=ko.observable();this.Email2=ko.observable();this.WebAddress=ko.observable();this.IsCustomer=ko.observable();this.IsSupplier=ko.observable();this.ReportsTo=ko.observable();this.LegalAddress=ko.observable();this.ActualAddress=ko.observable();this.Note=ko.observable();this.Balance=ko.observable();this.Files=ko.observableArray();this.orders=ko.observableArray();this.invoices=ko.observableArray();this.Permissions=ko.observable();}
Luxena.Travel.PartyModel.prototype={IsPerson:false,IsOrganization:false,IsDepartment:false,InfoTitle:null,InfoPrompt:null,Edit:null,AddFile:null,DownloadFile:null,DeleteFile:null,AddOrder:null,OpenAllProducts:null,OpenAllOrders:null,OpenAllInvoices:null}
Luxena.Travel.PersonModel=function(){this.Birthday=ko.observable();this.Passports=ko.observableArray();this.MilesCards=ko.observableArray();this.Organization=ko.observable();this.Title=ko.observable();this.BonusCardNumber=ko.observable();Luxena.Travel.PersonModel.initializeBase(this);this.IsPerson=true;this.InfoTitle=Luxena.Travel.Res.personView_Personal_Info;this.InfoPrompt=ko.dependentObservable(ss.Delegate.create(this,function(){
return this.Phone1()==null&&this.Phone2()==null&&this.Email1()==null&&this.Email2()==null&&this.WebAddress()==null&&this.ActualAddress()==null&&this.LegalAddress()==null&&(this.MilesCards()==null||!this.MilesCards().length)&&(this.Passports()==null||!this.Passports().length);}));this.Organization(new Luxena.Travel.OrganizationModel());}
Luxena.Travel.PassportGridControl=function(){this.initialize();}
Luxena.Travel.PassportGridControl.$2=function(){var $0=[];$0.add({id:'Number',header:Luxena.Travel.DomainRes.passport,sortable:false,dataIndex:'Number',width:70,editor:new Ext.form.TextField(new Ext.form.TextFieldConfig().allowBlank(false).toDictionary())});$0.add({id:'LastName',header:Luxena.Travel.DomainRes.passport_LastName,sortable:false,dataIndex:'LastName',width:90,editor:new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary())});$0.add({id:'FirstName',header:Luxena.Travel.DomainRes.passport_FirstName,sortable:false,dataIndex:'FirstName',width:75,editor:new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary())});$0.add({id:'MiddleName',header:Luxena.Travel.DomainRes.passport_MiddleName,sortable:false,dataIndex:'MiddleName',width:80,editor:new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary())});var $1=new LxnBase.Services.ClassColumnConfig();$1.Type=LxnBase.Services.TypeEnum.object;$1.IsRequired=false;($1).Clazz='Country';$0.add({id:'Citizenship',header:Luxena.Travel.DomainRes.passport_Citizenship,sortable:false,dataIndex:'Citizenship',width:82,editor:LxnBase.UI.AutoControls.ControlFactory.createEditor($1),renderer:LxnBase.UI.AutoControls.ControlFactory.createRenderer($1)});var $2=new LxnBase.Services.DateTimeColumnConfig();$2.Type=LxnBase.Services.TypeEnum.date;$0.add({id:'Birthday',header:Luxena.Travel.DomainRes.passport_Birthday,sortable:false,dataIndex:'Birthday',width:90,editor:LxnBase.UI.AutoControls.ControlFactory.createEditor($2),renderer:LxnBase.UI.AutoControls.ControlFactory.createRenderer($2)});var $3=new LxnBase.Services.ListColumnConfig();$3.Type=LxnBase.Services.TypeEnum.list;$3.IsRequired=true;$3.Items=[[0,Luxena.Travel.Res.personEditForm_Male],[1,Luxena.Travel.Res.personEditForm_Female]];$0.add({id:'Gender',header:Luxena.Travel.DomainRes.passport_Gender,sortable:false,dataIndex:'Gender',width:40,editor:LxnBase.UI.AutoControls.ControlFactory.createEditor($3),renderer:function($p1_0){
var $1_0=$3.Items;if(Type.canCast($p1_0,Number)){var $enum1=ss.IEnumerator.getEnumerator($1_0);while($enum1.moveNext()){var $1_1=$enum1.current;if($1_1[0]===$p1_0){return $1_1[1];}}}return $p1_0;}});$0.add({id:'IssuedBy',header:Luxena.Travel.DomainRes.passport_IssuedBy,sortable:false,dataIndex:'IssuedBy',width:105,editor:LxnBase.UI.AutoControls.ControlFactory.createEditor($1),renderer:LxnBase.UI.AutoControls.ControlFactory.createRenderer($1)});$0.add({id:'ExpiredOn',header:Luxena.Travel.DomainRes.passport_ExpiredOn,sortable:false,dataIndex:'ExpiredOn',width:100,editor:LxnBase.UI.AutoControls.ControlFactory.createEditor($2),renderer:LxnBase.UI.AutoControls.ControlFactory.createRenderer($2)});$0.add({id:'Note',header:Luxena.Travel.DomainRes.common_Note,sortable:false,dataIndex:'Note',width:80,editor:new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary())});return new Ext.grid.ColumnModel($0);}
Luxena.Travel.PassportGridControl.$9=function($p0){var $0=new Luxena.Travel.PassportDto();$0.Id=$p0.get('Id');$0.Version=$p0.get('Version');$0.Number=$p0.get('Number');$0.FirstName=$p0.get('FirstName');$0.MiddleName=$p0.get('MiddleName');$0.LastName=$p0.get('LastName');var $1=$p0.get('Citizenship');if($1!=null&&Type.canCast($1,Array)){$0.Citizenship=Luxena.Travel.PassportGridControl.$A($1);}else{$0.Citizenship=$1;}$0.Birthday=$p0.get('Birthday');$0.Gender=$p0.get('Gender');var $2=$p0.get('IssuedBy');if($2!=null&&Type.canCast($2,Array)){$0.IssuedBy=Luxena.Travel.PassportGridControl.$A($2);}else{$0.IssuedBy=$2;}$0.ExpiredOn=$p0.get('ExpiredOn');$0.Note=$p0.get('Note');return $0;}
Luxena.Travel.PassportGridControl.$A=function($p0){var $0=new LxnBase.Data.Reference();$0.Id=$p0[LxnBase.Data.Reference.IdPos];$0.Name=$p0[LxnBase.Data.Reference.NamePos];$0.Type=$p0[LxnBase.Data.Reference.TypePos];return $0;}
Luxena.Travel.PassportGridControl.prototype={get_widget:function(){return this.$C;},loadData:function(data){this.$B=data;if(this.$B!=null&&this.$B.length>0){this.$C.getStore().loadData(this.$B);}},initialize:function(){this.$C=new Ext.grid.EditorGridPanel(new Ext.grid.EditorGridPanelConfig().store(this.initStore()).cls('passport-grid').sm(this.$1()).cm(Luxena.Travel.PassportGridControl.$2()).tbar(this.$0()).stripeRows(true).enableHdMenu(false).enableColumnResize(true).enableColumnMove(false).autoScroll(true).height(115).clicksToEdit(2).collapsible(false).frame(false).toDictionary());},isModified:function(){return this.$13;},getData:function(){return this.getPassports();},getPassports:function(){var $0=this.$D.getCount();if(!$0){return new Array(0);}var $1=new Array($0);for(var $2=0;$2<$0;$2++){$1[$2]=Luxena.Travel.PassportGridControl.$9(this.$D.getAt($2));}return $1;},initStore:function(){this.$D=new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Version','Number','FirstName','LastName','MiddleName','Citizenship','Birthday','Gender','IssuedBy','ExpiredOn','Note']).listeners({update:ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
if($p1_2===Ext.data.Record.EDIT){$p1_1.commit();this.$13=true;}})}).toDictionary());return this.$D;},$0:function(){this.$F=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.createItem_Lower).handler(ss.Delegate.create(this,this.$3)));this.$10=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this,this.$4)).disabled(true));this.$11=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.copy_Lower).handler(ss.Delegate.create(this,this.$5)).disabled(true));this.$12=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$6)).disabled(true));return new Ext.Toolbar(['->',this.$F,this.$10,this.$11,this.$12]);},$1:function(){this.$E=new Ext.grid.CheckboxSelectionModel();this.$E.singleSelect=false;this.$E.on('selectionchange',ss.Delegate.create(this,function(){
if(!this.$E.getCount()){this.$12.disable();}else{this.$12.enable();}if(this.$E.getCount()!==1){this.$10.disable();this.$11.disable();}else{this.$10.enable();this.$11.enable();}}));return this.$E;},$3:function(){LxnBase.UI.FormsRegistry.editObject('Passport',null,null,ss.Delegate.create(this,function($p1_0){
var $1_0=new Ext.data.Record();$1_0.data=($p1_0).Item;$1_0.fields=this.$D.fields;this.$D.add([$1_0]);this.$13=true;}),null,null,LxnBase.UI.LoadMode.local);},$4:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelected();var $1=$0.data;LxnBase.UI.FormsRegistry.editObject('Passport',$1['Id'],$1,ss.Delegate.create(this,function($p1_0){
this.$7(($p1_0).Item,$0);}),null,null,LxnBase.UI.LoadMode.local);},$5:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelected();var $1=$0.data;LxnBase.UI.FormsRegistry.editObject('Passport',null,$1,ss.Delegate.create(this,function($p1_0){
var $1_0=new Ext.data.Record();$1_0.data=($p1_0).Item;$1_0.fields=this.$D.fields;this.$D.add([$1_0]);this.$13=true;}),null,null,LxnBase.UI.LoadMode.local);},$6:function(){if(!this.$E.getCount()){return;}var $0=this.$E.getSelections();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$D.remove($1);}this.$13=true;},$7:function($p0,$p1){var $0=$p1.fields.getRange();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.name;var $3=$p0[$2];if(!ss.isUndefined($3)){$p1.data[$2]=$3;}}$p1.commit();this.$13=true;},handleKeyEvent:function(keyEvent){var $0=Ext.EventObject;var $1=keyEvent.keyCode;var $2=keyEvent.ctrlKey||keyEvent.shiftKey||keyEvent.altKey;var $3=keyEvent.ctrlKey&&!keyEvent.shiftKey&&!keyEvent.altKey;if($1===$0['UP']){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$8();return true;}if($1===$0['DOWN']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$8();return true;}if($1===$0['F2']&&!$2){if(this.$E.getSelections().length!==1){return true;}keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$C.startEditing(this.$D.indexOf(this.$E.getSelected()),1);return true;}if($1===$0['ESC']){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$8();return true;}if($1===$0['INSERT']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$3();return true;}if($1===$0['ENTER']&&!keyEvent.ctrlKey&&keyEvent.shiftKey&&!keyEvent.altKey){keyEvent.cancelBubble=true;keyEvent.returnValue=false;if(!this.$E.getSelections().length){return true;}this.$4();return true;}if($1===$0['DELETE']&&$3){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$6();return true;}if($1===$0['HOME']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$E.selectRow(0);return true;}if($1===$0['END']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$E.selectRow(this.$D.getCount()-1);return true;}return false;},$8:function(){this.$C.getView().focusRow(0);},$B:null,$C:null,$D:null,$E:null,$F:null,$10:null,$11:null,$12:null,$13:false}
Luxena.Travel.MilesCardGridControl=function(){this.initialize();}
Luxena.Travel.MilesCardGridControl.$2=function(){var $0=[];$0.add({id:'Number',header:Luxena.Travel.DomainRes.milesCard,dataIndex:'Number',width:110,editor:new Ext.form.TextField(new Ext.form.TextFieldConfig().toDictionary())});var $1=new LxnBase.Services.ClassColumnConfig();$1.Type=LxnBase.Services.TypeEnum.object;$1.IsRequired=true;($1).Clazz='Airline';$0.add({id:'Organization',header:Luxena.Travel.DomainRes.milesCard_Organization,dataIndex:'Organization',width:200,editor:LxnBase.UI.AutoControls.ControlFactory.createEditor($1),renderer:LxnBase.UI.AutoControls.ControlFactory.createRenderer($1)});return new Ext.grid.ColumnModel($0);}
Luxena.Travel.MilesCardGridControl.$8=function($p0){var $0=new Luxena.Travel.MilesCardDto();$0.Id=$p0.get('Id');$0.Version=$p0.get('Version');$0.Number=$p0.get('Number');var $1=$p0.get('Organization');if($1!=null&&Type.canCast($1,Array)){var $2=$1;$0.Organization=new LxnBase.Data.Reference();$0.Organization.Id=$2[LxnBase.Data.Reference.IdPos];$0.Organization.Name=$2[LxnBase.Data.Reference.NamePos];$0.Organization.Type=$2[LxnBase.Data.Reference.TypePos];}else{$0.Organization=$1;}return $0;}
Luxena.Travel.MilesCardGridControl.prototype={get_widget:function(){return this.$A;},loadData:function(data){this.$9=data;if(this.$9!=null&&this.$9.length>0){this.$A.getStore().loadData(this.$9);}},initialize:function(){this.$A=new Ext.grid.EditorGridPanel(new Ext.grid.EditorGridPanelConfig().store(this.initStore()).cls('miles-card-grid').sm(this.$1()).cm(Luxena.Travel.MilesCardGridControl.$2()).tbar(this.$0()).stripeRows(true).enableHdMenu(false).enableColumnResize(false).enableColumnMove(false).autoScroll(true).clicksToEdit(2).collapsible(false).frame(false).height(115).toDictionary());},isModified:function(){return this.$10;},getData:function(){return this.getCards();},getCards:function(){var $0=this.$B.getCount();if(!$0){return null;}var $1=new Array($0);for(var $2=0;$2<$0;$2++){$1[$2]=Luxena.Travel.MilesCardGridControl.$8(this.$B.getAt($2));}return $1;},initStore:function(){this.$B=new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Version','Number','Organization']).listeners({update:ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
if($p1_2==='edit'){$p1_1.commit();this.$10=true;}})}).toDictionary());return this.$B;},$0:function(){this.$D=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.createItem_Lower).handler(ss.Delegate.create(this,this.$3)));this.$E=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.edit_Lower).handler(ss.Delegate.create(this,this.$4)).disabled(true));this.$F=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(LxnBase.BaseRes.remove_Lower).handler(ss.Delegate.create(this,this.$5)).disabled(true));return new Ext.Toolbar(['->',this.$D,this.$E,this.$F]);},$1:function(){this.$C=new Ext.grid.CheckboxSelectionModel();this.$C.singleSelect=false;this.$C.on('selectionchange',ss.Delegate.create(this,function(){
if(!this.$C.getCount()){this.$F.disable();}else{this.$F.enable();}if(this.$C.getCount()!==1){this.$E.disable();}else{this.$E.enable();}}));return this.$C;},$3:function(){LxnBase.UI.FormsRegistry.editObject('MilesCard',null,null,ss.Delegate.create(this,function($p1_0){
var $1_0=new Ext.data.Record();$1_0.data=($p1_0).Item;$1_0.fields=this.$B.fields;this.$B.add([$1_0]);this.$10=true;}),null,null,LxnBase.UI.LoadMode.local);},$4:function(){if(!this.$C.getCount()){return;}var $0=this.$C.getSelected();var $1=$0.data;LxnBase.UI.FormsRegistry.editObject('MilesCard',$1['Id'],$1,ss.Delegate.create(this,function($p1_0){
this.$6(($p1_0).Item,$0);}),null,null,LxnBase.UI.LoadMode.local);},$5:function(){if(!this.$C.getCount()){return;}var $0=this.$C.getSelections();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;this.$B.remove($1);}this.$10=true;},$6:function($p0,$p1){var $0=$p1.fields.getRange();var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;var $2=$1.name;var $3=$p0[$2];if(!ss.isNullOrUndefined($3)){$p1.data[$2]=$3;}}$p1.commit();this.$10=true;},handleKeyEvent:function(keyEvent){var $0=Ext.EventObject;var $1=keyEvent.keyCode;var $2=keyEvent.ctrlKey||keyEvent.shiftKey||keyEvent.altKey;var $3=keyEvent.ctrlKey&&!keyEvent.shiftKey&&!keyEvent.altKey;if($1===$0['UP']){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$7();return true;}if($1===$0['DOWN']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$7();return true;}if($1===$0['F2']&&!$2){if(this.$C.getSelections().length!==1){return true;}keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$A.startEditing(this.$B.indexOf(this.$C.getSelected()),1);return true;}if($1===$0['ESC']){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$7();return true;}if($1===$0['INSERT']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$3();return true;}if($1===$0['ENTER']&&!keyEvent.ctrlKey&&keyEvent.shiftKey&&!keyEvent.altKey){keyEvent.cancelBubble=true;keyEvent.returnValue=false;if(!this.$C.getSelections().length){return true;}this.$4();return true;}if($1===$0['DELETE']&&$3){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$5();return true;}if($1===$0['HOME']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$C.selectRow(0);return true;}if($1===$0['END']&&!$2){keyEvent.cancelBubble=true;keyEvent.returnValue=false;this.$C.selectRow(this.$B.getCount()-1);return true;}return false;},$7:function(){this.$A.getView().focusRow(0);},$9:null,$A:null,$B:null,$C:null,$D:null,$E:null,$F:null,$10:false}
Luxena.Travel.PersonViewForm=function(tabId,personId){Luxena.Travel.PersonViewForm.initializeBase(this,[tabId,personId,'Person']);this.listCaption=Luxena.Travel.DomainRes.person_Caption_List;}
Luxena.Travel.PersonViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.PersonViewForm($p1_0,id);});}
Luxena.Travel.PersonViewForm.prototype={createModel:function(){return new Luxena.Travel.PersonModel();},getParty:function(id){Luxena.Travel.Services.PartyService.GetPerson(id,ss.Delegate.create(this,this.setParty),ss.Delegate.create(this,function(){
this.close();}));},initView:function(){Luxena.Travel.PersonViewForm.callBaseMethod(this, 'initView');this.view.find('.pass-copy a').live('click',function($p1_0){
$($p1_0.currentTarget).next().fadeIn().focus().select();});this.view.find('.pass-copy input').live('blur',function($p1_0){
$($p1_0.currentTarget).fadeOut();}).live('keydown',function($p1_0){
if($p1_0.which===Ext.EventObject.ESC||($p1_0.which===Ext.EventObject.C&&$p1_0.ctrlKey)){$($p1_0.currentTarget).fadeOut();}});}}
Luxena.Travel.TaskViewForm=function(tabId,id,type){Luxena.Travel.TaskViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.TaskViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.TaskViewForm($p1_0,id,type);});}
Luxena.Travel.TaskViewForm.prototype={onInitToolBar:function(toolbarItems){this.$8_1=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.common_Status.toLowerCase()).custom('menu',[new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_Open).handler(ss.Delegate.create(this,function(){
this.$8_0(0,Luxena.Travel.DomainRes.taskStatus_Open);})).toDictionary()),new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_InProgress).handler(ss.Delegate.create(this,function(){
this.$8_0(1,Luxena.Travel.DomainRes.taskStatus_InProgress);})).toDictionary()),new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_WaitForResponse).handler(ss.Delegate.create(this,function(){
this.$8_0(2,Luxena.Travel.DomainRes.taskStatus_WaitForResponse);})).toDictionary()),new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.DomainRes.taskStatus_Closed).handler(ss.Delegate.create(this,function(){
this.$8_0(3,Luxena.Travel.DomainRes.taskStatus_Closed);})).toDictionary())]).toDictionary());this.$8_2=new Ext.Toolbar.Separator();toolbarItems.add(this.$8_2);toolbarItems.add(this.$8_1);},onLoadConfig:function(){var $0=this.get_itemConfig().CustomActionPermissions['ChangeTaskStatus'];LxnBase.UI.BaseClassViewForm.setActionStatus(this.$8_1,$0);this.$8_2.setVisible($0.Visible);Luxena.Travel.TaskViewForm.callBaseMethod(this, 'onLoadConfig');},updateActionsStatus:function(){var $0=this.get_permissions().CustomActionPermissions['ChangeTaskStatus'];LxnBase.UI.BaseClassViewForm.setActionStatus(this.$8_1,$0);this.$8_2.setVisible($0.Visible);Luxena.Travel.TaskViewForm.callBaseMethod(this, 'updateActionsStatus');},$8_0:function($p0,$p1){var $0=[this.get_instance().Id];Luxena.Travel.Services.TaskService.ChangeStatus($0,$p0,null,ss.Delegate.create(this,function($p1_0){
this.load($p1_0);var $1_0=String.format(Luxena.Travel.Res.task_StatusChange_Msg,$p1,$p1_0[LxnBase.Data.ObjectPropertyNames.reference]);LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List,$1_0);}),null);},$8_1:null,$8_2:null}
Luxena.Travel.ReportProvider=function(){$(ss.Delegate.create(this,function(){
this.$0=$("<div style='display:none'><iframe></iframe><iframe></iframe></div>");this.$0.appendTo(document.body);this.$0=this.$0.find('iframe');}));}
Luxena.Travel.ReportProvider.prototype={loadReport:function(url,parameters){url=window.location.pathname+encodeURI(url);var $0=$("<form action='"+url+"' method='post'></form>");if(ss.isValue(parameters)){var $dict1=parameters;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$("<input type='hidden' name='"+$1.key+"' />").val($1.value).appendTo($0);}}$0.appendTo((this.$0[++this.$1%this.$0.length]).contentWindow.document.body);$0.submit().remove();},$0:null,$1:0}
Luxena.Travel.Application=function(parameters){if(Luxena.Travel.LocalStorageProvider.isSupported()){Ext.state.Manager.setProvider(new Luxena.Travel.LocalStorageProvider());}Luxena.Travel.AppManager.init(parameters);Luxena.Travel.Application.$0();Luxena.Travel.Application.$1();Luxena.Travel.Application.$4();Ext.QuickTips.init();LxnBase.MessageRegister.add_newMessage(Luxena.Travel.Application.$2);var $0=new Luxena.Travel.Header({id:'header',region:'north',margins:'0 0 0 0'});LxnBase.UI.Tabs.init({id:'content',region:'center'});LxnTravel.App.HomeTab.init();var $1=new LxnBase.UI.Messages({region:'south',split:true,height:100,minSize:100,maxSize:200,collapsible:true,margins:'0 0 0 0',collapsed:true,autoScroll:true});LxnBase.UI.Infos.init();LxnBase.UI.AutoControls.ReportLoader.set_instance(new Luxena.Travel.ReportProvider());Luxena.Travel.Application.$3();$('#app-loading').remove();var $2=new Ext.Viewport(new Ext.ViewportConfig().layout('border').items([$0.get_widget(),LxnBase.UI.Tabs.get_widget(),$1.get_widget()]).toDictionary());$1.setLayoutRegion($2.getLayout().south);$(window).bind('beforeunload',function(){
return Luxena.Travel.Res.unloadApplication_Confirm_Msg;});}
Luxena.Travel.Application.$0=function(){LxnBase.UI.AutoForms.AutoFormCallbacks.registerAsDefaults();LxnBase.UI.FormsRegistry.registerDefaultList(Luxena.Travel.Controls.AutoListTabExt.listObjects);LxnBase.UI.FormsRegistry.registerView('Organization',Luxena.Travel.OrganizationViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Department',Luxena.Travel.DepartmentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Airline',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('Person',Luxena.Travel.PersonViewForm.viewObject);LxnBase.UI.FormsRegistry.registerList('Product',Luxena.Travel.AllProductListTab.listObject);LxnBase.UI.FormsRegistry.registerList('AllAgencyProduct',Luxena.Travel.AllAgencyProductListTab.listObject);LxnBase.UI.FormsRegistry.registerList('AviaDocument',Luxena.Travel.AviaDocumentListTab.listObject);LxnBase.UI.FormsRegistry.registerView('AviaTicket',Luxena.Travel.AviaDocumentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('AviaMco',Luxena.Travel.AviaDocumentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('AviaRefund',Luxena.Travel.AviaDocumentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Accommodation',Luxena.Travel.AccommodationViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Isic',Luxena.Travel.IsicViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Excursion',Luxena.Travel.ExcursionViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Pasteboard',Luxena.Travel.PasteboardViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('PasteboardRefund',Luxena.Travel.PasteboardRefundViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('SimCard',Luxena.Travel.SimCardViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Tour',Luxena.Travel.TourViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Transfer',Luxena.Travel.TransferViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Insurance',Luxena.Travel.InsuranceViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('InsuranceRefund',Luxena.Travel.InsuranceRefundViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('CarRental',Luxena.Travel.CarRentalViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('BusTicket',Luxena.Travel.BusTicketViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('BusTicketRefund',Luxena.Travel.BusTicketRefundViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('GenericProduct',Luxena.Travel.GenericProductViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('AirFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('SirenaFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('MirFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('TktFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('PrintFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('GalileoXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('GalileoRailXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('GalileoBusXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('AmadeusXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('SabreFilFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('LuxenaXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('TravelPointXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('CrazyllamaPnrFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('DrctXmlFile',Luxena.Travel.GdsFileViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('Task',Luxena.Travel.TaskViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('AirlineServiceClass',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('Airport',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('Currency',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('Invoice',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('PaymentSystem',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('AirlineCommissionPercents',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('DocumentOwner',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('DocumentAccess',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('GdsAgent',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('OpeningBalance',Luxena.Travel.AppActions.listPositioning,false);LxnBase.UI.FormsRegistry.registerView('InternalTransfer',Luxena.Travel.AppActions.listPositioning,false);}
Luxena.Travel.Application.$1=function(){Luxena.Travel.Controls.ControlFactoryExt.init();Luxena.Travel.Controls.GridFilterPluginExtention.init();LxnBase.Knockout.ResBindingHandler.get_resources().addRange([Luxena.Travel.Res,Luxena.Travel.DomainRes,LxnBase.BaseRes]);}
Luxena.Travel.Application.$2=function($p0,$p1){if($p1.get_type()===LxnBase.MessageType.error&&!$p1.get_handled()){LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.error,msg:$p1.get_message(),buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.ERROR});}}
Luxena.Travel.Application.$3=function(){Luxena.Travel.ServerEvents.instance.add_versionChanged(Luxena.Travel.Application.$5);Luxena.Travel.ServerEvents.instance.add_newAviaDocumentImported(Luxena.Travel.Application.$6);Luxena.Travel.ServerEvents.instance.add_newTaskAssigned(Luxena.Travel.Application.$7);Luxena.Travel.ServerEvents.instance.add_userRolesChanged(Luxena.Travel.Application.$8);Luxena.Travel.ServerEvents.instance.setup(30000);}
Luxena.Travel.Application.$4=function(){Luxena.Travel.AppActions.init();}
Luxena.Travel.Application.$5=function(){LxnBase.MessageRegister.info(Luxena.Travel.Res.attention,Luxena.Travel.Res.applicationVersionChanged);}
Luxena.Travel.Application.$6=function($p0){var $0=$p0;if(ss.isNullOrUndefined($0)||!$0.length){return;}for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];var $3=LxnBase.UI.Controls.ObjectLink.renderInfo($2);var $4=null;switch($2.Type){case 'AviaTicket':$4=Luxena.Travel.DomainRes.aviaTicket.toLowerCase();break;case 'AviaMco':$4=Luxena.Travel.DomainRes.aviaMco.toLowerCase();break;case 'AviaRefund':$4=Luxena.Travel.DomainRes.aviaRefund.toLowerCase();break;}var $5=null;switch($2.State){case 0:$5=String.format(Luxena.Travel.Res.importAviaDocument_Msg.toLowerCase(),$4,$3);break;case 2:$5=String.format(Luxena.Travel.Res.restoreAviaDocument_Msg,$4,$3);break;case 1:$5=String.format(Luxena.Travel.Res.voidAviaDocument_Msg,$4,$3);break;}if(!ss.isNullOrUndefined($5)){LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.aviaDocument_Caption_List,$5);}}}
Luxena.Travel.Application.$7=function($p0){var $0=$p0;if(ss.isNullOrUndefined($0)||!$0.length){return;}for(var $1=0;$1<$0.length;$1++){var $2=$0[$1];LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.task_Caption_List,String.format(Luxena.Travel.Res.newTask_Msg.toLowerCase(),LxnBase.UI.Controls.ObjectLink.renderInfo($2)));}}
Luxena.Travel.Application.$8=function(){LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.warning,msg:Luxena.Travel.Res.userRolesChanged_Msg,buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING});}
Luxena.Travel.ProductGridView=function(config){Luxena.Travel.ProductGridView.initializeBase(this,[config]);}
Luxena.Travel.ProductGridView.prototype={getCustomRowClass:function(record){if(record.get('IsVoid')){return 'textColor-gray';}if(record.get('RequiresProcessing')){return 'rowColor-red';}return null;}}
Luxena.Travel.AviaDocumentViewForm=function(tabId,id,type){Luxena.Travel.AviaDocumentViewForm.initializeBase(this,[tabId,id,type,'aviaDocumentView']);}
Luxena.Travel.AviaDocumentViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.AviaDocumentViewForm($p1_0,id,type);});}
Luxena.Travel.AviaDocumentViewForm.showFees=function(){var $0=document.getElementById('showFeesButton');if($0.className.indexOf('feesClosed')>=0){$0.className=$0.className.replaceAll('feesClosed','feesOpened');}else if($0.className.indexOf('feesOpened')>=0){$0.className=$0.className.replaceAll('feesOpened','feesClosed');}var $1=document.getElementsByTagName('tr');for(var $2=0;$2<$1.length;$2++){var $3=$1[$2];if($1[$2].className==='feeRow'){$3.style.display=($3.style.display!=='none')?'none':'';}}}
Luxena.Travel.AviaDocumentViewForm.$6_E=function($p0){if($p0==null||!$p0.length){return '';}var $0='';var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $1=$enum1.current;$0+=String.format('<div>{0}</div>',$1);}return $0;}
Luxena.Travel.AviaDocumentViewForm.prototype={loadInstance:function(){Luxena.Travel.Services.AviaService.GetAviaDocument(this._id,this._type,false,ss.Delegate.create(this,this.load),ss.Delegate.create(this,function(){
LxnBase.UI.Tabs.close(this);}));},createToolbarItems:function(){return [this.$6_1D=this.action(Luxena.Travel.Res.aviaDocument_Handle_Action.toLowerCase(),ss.Delegate.create(this,this.$6_F)),this.$6_1E=this.action(Luxena.Travel.Res.aviaDocument_Print_Action.toLowerCase(),ss.Delegate.create(this,this.$6_14),true),this.$6_1F=this.action(Luxena.Travel.Res.aviaDocument_Blank_Action,ss.Delegate.create(this,this.$6_15),true),this.$6_20=this.action(Luxena.Travel.Res.void_Action.toLowerCase(),ss.Delegate.create(this,this.$6_13)),this.$6_21=this.action(Luxena.Travel.Res.aviaDocument_AddRefund_Action.toLowerCase(),ss.Delegate.create(this,this.$6_12)),new Ext.Toolbar.Separator(),this.$6_22=this.menuAction(Luxena.Travel.Res.aviaDocument_AddToOrder.toLowerCase(),[this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderNew.toLowerCase(),ss.Delegate.create(this,function(){
this.$6_10();})),this.menuItem(Luxena.Travel.Res.aviaDocument_AddToOrderExist.toLowerCase(),ss.Delegate.create(this,function(){
this.$6_11();}))]),new Ext.Toolbar.Separator(),this.$6_24=this.action(LxnBase.BaseRes.copy.toLowerCase(),ss.Delegate.create(this,this.copyEntity)),this.$6_23=this.action(LxnBase.BaseRes.edit.toLowerCase(),ss.Delegate.create(this,this.$6_0)),this.$6_25=this.action(LxnBase.BaseRes.remove.toLowerCase(),ss.Delegate.create(this,this.removeEntity))];},load:function(response){this.$6_19=response;this.$6_2();},$6_1:function(){if(this._type==='AviaTicket'){this.$6_1A=this.$6_19;this.$6_1E.setDisabled(false);this.$6_1F.setDisabled(false);if(this.$6_1A.Refund!=null){this.$6_21.hide();}}else if(this._type==='AviaMco'){this.$6_1B=this.$6_19;if(this.$6_1B.Refund!=null){this.$6_21.hide();}}else{this.$6_1C=this.$6_19;this.$6_21.hide();this.$6_1E.hide();this.$6_1F.hide();}if(!ss.isNullOrUndefined(this.$6_19.CanDelete)&&(!this.$6_19.CanDelete.Visible||this.$6_19.CanDelete.IsDisabled)){this.$6_25.hide();}if(!ss.isNullOrUndefined(this.$6_19.CanUpdate)&&(!this.$6_19.CanUpdate.Visible||this.$6_19.CanUpdate.IsDisabled)){this.$6_1D.setDisabled(true);this.$6_20.setDisabled(true);this.$6_23.setDisabled(true);this.$6_22.setDisabled(true);}else{this.$6_22.setDisabled(this.$6_19.IsVoid);}},$6_2:function(){this.$6_3();this.$6_1();this._titleLabel.setText(this.getTitle());this._titleLabel.removeClass('processed');this._titleLabel.removeClass('unprocessed');this._titleLabel.removeClass('voided');this.$6_20.setText(Luxena.Travel.Res.void_Action.toLowerCase());if(this.$6_19.RequiresProcessing){this._titleLabel.addClass('unprocessed');}else if(this.$6_19.IsVoid){this._titleLabel.addClass('voided');this.$6_20.setText(Luxena.Travel.Res.restore_Action.toLowerCase());}else{this._titleLabel.addClass('processed');}this._contentPanel.body.dom.innerHTML=this.$6_4();},$6_3:function(){var $0=this.$6_19.Name;var $1='T';if(this.$6_1C!=null){$1='R';}else if(this.$6_1B!=null){$1='M';}else if(this.$6_1A!=null&&this.$6_1A.ReissueFor!=null){$1='RI';}this.setTitle(String.format('{0} {1}',$1,$0));},getTitle:function(){var $0=Luxena.Travel.DomainRes.aviaTicket;if(this.$6_1C!=null){$0=Luxena.Travel.DomainRes.aviaRefund;}else if(this.$6_1B!=null){$0=Luxena.Travel.DomainRes.aviaMco;}var $1=(this.$6_19.RequiresProcessing)?Luxena.Travel.Res.aviaDocument_Unprocessed:((this.$6_19.IsVoid)?Luxena.Travel.Res.aviaDocument_Voided:Luxena.Travel.Res.aviaDocument_Processed);$0=String.format('{0} ({1})',$0,$1.toLowerCase());if(ss.isNullOrUndefined(this.$6_19.Number)){$0=String.format('{0} - {1}',$0,Luxena.Travel.Res.aviaDocument_NotIssued);}return $0;},$6_4:function(){var $0=new ss.StringBuilder();$0.append(this.$6_5());$0.append(this.$6_9());if(this.$6_1A!=null){if(this.$6_1A.Segments!=null&&this.$6_1A.Segments.length>0){$0.append(String.format("<div class='segments'><h2>{0}</h2><div style='padding-top: 5px'>{1}</div></div>",Luxena.Travel.DomainRes.aviaTicket_FlightSegment,this.$6_A()));}if(this.$6_1A.PenalizeOperations!=null&&this.$6_1A.PenalizeOperations.length>0){$0.append(String.format("<div class='penalizeOperations'><h2>{0}</h2><div style='padding-top: 5px'>{1}</div></div>",Luxena.Travel.DomainRes.aviaTicket_PenalizeOperations,this.$6_B()));}}$0.append(LxnBase.UI.BasicViewForm.hasValue(this.$6_19.Note,ss.Delegate.create(this,function(){
return String.format("<div class='note'><h2>{0}</h2><pre>{1}</pre></div>",Luxena.Travel.DomainRes.common_Note,this.$6_19.Note);})));return $0.toString();},$6_5:function(){var $0=new Luxena.Travel.SemanticDomain(this).$23;var $1=this.$6_19;var $2="<div class='commonData'><table><col style='width: 135px' />"+$0.IssueDate.toHtmlTr2($1,true)+"<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.common_Number+' / '+Luxena.Travel.DomainRes.airline+':</td>'+"<td class='fieldValue'>"+this.$6_6()+' / '+LxnBase.UI.BasicViewForm.hasValue(this.$6_19.Producer,ss.Delegate.create(this,function(){
return LxnBase.UI.BasicViewForm.link(this.$6_19.Producer);}),this.$6_19.AirlinePrefixCode)+'</td></tr>'+LxnBase.UI.BasicViewForm.hasValue([$1.PnrCode,$1.AirlinePnrCode,$1.TourCode],function(){
return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>"+$0.PnrCode._title+' / '+$0.TourCode._title+":</td>\r\n\t\t\t\t\t<td class='fieldValue'>"+LxnBase.UI.BasicViewForm.notEmpty($1.PnrCode)+LxnBase.UI.BasicViewForm.hasValue($1.AirlinePnrCode,function(){
return String.format(' ({0})',$1.AirlinePnrCode);})+' / '+LxnBase.UI.BasicViewForm.notEmpty($1.TourCode)+'</td></tr>';})+$0.ReissueFor.toHtmlTr2($1)+$0.$0.toHtmlTr2($1)+$0.$1.toHtmlTr2($1)+$0.RefundedProduct.toHtmlTr2($1)+this.$6_7()+this.$6_8()+$0.Provider.toHtmlTr2($1)+"<tr name='Customer'><td class='fieldLabel "+((this.$6_19.Customer==null)?'error':'')+"'>"+Luxena.Travel.DomainRes.common_Customer+' / '+Luxena.Travel.DomainRes.common_Intermediary+':</td>'+LxnBase.UI.BasicViewForm.hasValue([this.$6_19.Customer,this.$6_19.Intermediary],ss.Delegate.create(this,function(){
return "\r\n\t\t\t\t\t<td class='fieldValue'>"+LxnBase.UI.BasicViewForm.link(this.$6_19.Customer)+' / '+LxnBase.UI.BasicViewForm.link(this.$6_19.Intermediary)+'</td></tr>';}),'<td/></tr>')+Luxena.Travel.ProductViewForm.getOriginHtml($1)+Luxena.Travel.ProductViewForm.getBookerAndTicketerHtml($0,$1)+$0.TicketingIataOffice.toHtmlTr2($1,true)+$0.Seller.toHtmlTr2($1,true)+$0.Owner.toHtmlTr2($1,true)+$0.LegalEntity.toHtmlTr2($1)+$0.Order.toHtmlTr2($1,true)+LxnBase.UI.BasicViewForm.hasValue(this.$6_19.Voidings,ss.Delegate.create(this,function(){
return "\r\n\t\t\t\t\t<tr><td class='fieldLabel'>"+Luxena.Travel.Res.aviaDocument_Voidings+":</td>\r\n\t\t\t\t\t<td class='fieldValue'>"+Luxena.Travel.AviaDocumentViewForm.$6_E(this.$6_19.Voidings)+'</td></tr>';}))+'</table></div>';return $2;},$6_6:function(){if(ss.isNullOrUndefined(this.$6_19.Number)){return '';}return String.format('{0}-{1}{2}',this.$6_19.AirlinePrefixCode,Luxena.Travel.AviaDocumentDto.numberToString(this.$6_19.Number),(!String.isNullOrEmpty(this.$6_19.Conjunction))?'-'+this.$6_19.Conjunction:'');},$6_7:function(){var $0=(ss.isValue(this.$6_19.Passenger))?String.format('{0} ({1})',LxnBase.UI.BasicViewForm.link(this.$6_19.Passenger),this.$6_19.PassengerName):this.$6_19.PassengerName;if(this.$6_1A!=null&&this.$6_1A.Passenger!=null){var $1=null;var $2='passengerPassport-warn';switch(this.$6_1A.PassportValidationResult){case 0:var $3;if(String.isNullOrEmpty(this.$6_1A.GdsPassport)){$3=String.format(Luxena.Travel.Res.passenger_NoPassport_Warning,this.$6_19.Originator);}else{$3=String.format(Luxena.Travel.Res.passenger_NoGdsPassport_Warning,(!this.$6_19.Originator)?'GDS':LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator,this.$6_19.Originator));}$1=$3;break;case 2:$1=Luxena.Travel.Res.passenger_PassportExpired_Warning;break;case 1:var $4=(!this.$6_19.Originator)?'GDS':LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator,this.$6_19.Originator);$1=String.format(Luxena.Travel.Res.passenger_PassportDataDoesntMatch_Warning,$4);$2='passengerPassport-error';break;}if($1!=null){$0+="<div class='"+$2+"'>"+$1+'</div>';}}return "<tr><td class='fieldLabel'>"+Luxena.Travel.DomainRes.aviaDocument_Passenger+":</td><td class='fieldValue'>"+$0+'</td></tr>';},$6_8:function(){if(this.$6_1A==null){return '';}var $0='<div>'+LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus,this.$6_1A.GdsPassportStatus,Luxena.Travel.DomainRes)+'</div>';if(!String.isNullOrEmpty(this.$6_19.GdsPassport)){$0+='<div>'+this.$6_1A.GdsPassport+'</div>';}if(this.$6_1A.GdsPassportStatus!==1&&this.$6_1A.PassportRequired){$0+="<div class='gdsPassportStatus-error'>"+Luxena.Travel.Res.aviaTicket_PassengerPassportRequired+'</div>';}var $1="\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class='fieldLabel'>"+Luxena.Travel.DomainRes.aviaDocument_GdsPassportStatus+":</td>\r\n\t\t\t\t\t\t<td class='fieldValue' style='width: 390px;'>"+$0+'</td>\r\n\t\t\t\t\t</tr>';return $1;},$6_9:function(){var $0=new Luxena.Travel.SemanticDomain(this).$23;var $1=this.$6_19;return "<div class='financeData'><table>"+$0.Fare.toHtmlTr4($1,true)+$0.EqualFare.toHtmlTr4($1,false,true)+$0.FeesTotal.toHtmlTr4($1,true,false,false,(ss.isNullOrUndefined($1.Fees))?null:(Luxena.Travel.AviaDocumentViewForm).get_fullName()+'.showFees()')+this.$6_D()+$0.ConsolidatorCommission.toHtmlTr4($1,false)+$0.CancelFee.toHtmlTr4($1,false)+$0.Total.toHtmlTr4($1,true,false,true)+$0.Vat.toHtmlTr4($1,false)+$0.Commission.toHtmlTr4($1,false,false,false,LxnBase.UI.BasicViewForm.hasValue($1.CommissionPercent,function(){
return "<td class='fieldValue gray'>("+$1.CommissionPercent.format('N2')+'%)</td>';}))+$0.ServiceFee.toHtmlTr4($1,true,false,true)+$0.CommissionDiscount.toHtmlTr4($1)+$0.Handling.toHtmlTr4($1)+$0.HandlingN.toHtmlTr4($1)+$0.Discount.toHtmlTr4($1)+$0.BonusDiscount.toHtmlTr4($1)+$0.BonusAccumulation.toHtmlTr4($1)+$0.RefundServiceFee.toHtmlTr4($1,ss.isValue(this.$6_1C))+$0.ServiceFeePenalty.toHtmlTr4($1,ss.isValue(this.$6_1C))+$0.CancelCommission.toHtmlTr4($1)+$0.PaymentType.toHtmlTr4($1)+((String.isNullOrEmpty($1.PaymentDetails))?'':"<tr><td class='fieldValue gray rightAlign' colspan='2'>"+$1.PaymentDetails+'</td><td/><td/></tr>')+$0.GrandTotal.toHtmlTr4($1,true)+'</table></div>';},$6_A:function(){if(this.$6_1A.Segments==null||!this.$6_1A.Segments.length){return '';}var $0='<br/>';var $1="\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr class='alternate'>\r\n\t\t\t\t\t\t<th>"+Luxena.Travel.DomainRes.flightSegment_FromAirportName+'</th>\r\n\t\t\t\t\t\t<th>'+Luxena.Travel.DomainRes.flightSegment_ToAirportName+'</th>\r\n\t\t\t\t\t\t<th>'+Luxena.Travel.DomainRes.flightSegment_Carrier+"</th>\r\n\t\t\t\t\t\t<th style='width: 40px'>"+Luxena.Travel.DomainRes.flightSegment_FlightNumber+"</th>\r\n\t\t\t\t\t\t<th style='width: 60px'>"+Luxena.Travel.DomainRes.flightSegment_ServiceClass+$0+Luxena.Travel.DomainRes.flightSegment_Seat+"</th>\r\n\t\t\t\t\t\t<th style='width: 130px'>"+Luxena.Travel.Res.flightSegment_Departure+','+$0+Luxena.Travel.Res.flightSegment_Registration+"</th>\r\n\t\t\t\t\t\t<th style='width: 120px'>"+Luxena.Travel.Res.flightSegment_Arrival+"</th>\r\n\t\t\t\t\t\t<th style='width: 60px'>"+Luxena.Travel.Res.flightSegment_Duration+$0+Luxena.Travel.Res.flightSegment_Stops+"</th>\r\n\t\t\t\t\t\t<th style='width: 60px'>"+Luxena.Travel.DomainRes.flightSegment_FareBasis+"</th>\r\n\t\t\t\t\t\t<th style='width: 80px'>"+Luxena.Travel.DomainRes.flightSegment_Luggage+$0+Luxena.Travel.DomainRes.flightSegment_Meal+"</th>\r\n\t\t\t\t\t\t<th style='width: 20px'></th>\r\n\t\t\t\t\t\t<th style='width: 60px'>Coupon Amount</th>\r\n\t\t\t\t\t<tr>";for(var $2=0;$2<this.$6_1A.Segments.length;$2++){var $3=this.$6_1A.Segments[$2];var $4=(!($2%2))?'':"class='alternate'";$1+="\r\n\t\t\t\t\t<tr valign='top' "+$4+'>\r\n\t\t\t\t\t\t<td>'+LxnBase.UI.BasicViewForm.notEmpty(($3.FromAirport!=null)?$3.FromAirport.Name:null)+$0+LxnBase.UI.BasicViewForm.link($3.FromAirport,$3.FromAirportName)+'</td>\r\n\t\t\t\t\t\t<td>'+LxnBase.UI.BasicViewForm.notEmpty(($3.ToAirport!=null)?$3.ToAirport.Name:null)+$0+LxnBase.UI.BasicViewForm.link($3.ToAirport,$3.ToAirportName)+'</td>\r\n\t\t\t\t\t\t<td>'+LxnBase.UI.BasicViewForm.notEmpty($3.CarrierCode)+$0+LxnBase.UI.BasicViewForm.link($3.Carrier)+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.notEmpty($3.FlightNumber)+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.hasValue($3.ServiceClassName,function(){
return $3.ServiceClassName;},$3.ServiceClassCode)+$0+LxnBase.UI.BasicViewForm.notEmpty($3.Seat)+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.hasValue($3.DepartureTime,function(){
return Ext.util.Format.date($3.DepartureTime,'d.m.y H:i');})+$0+LxnBase.UI.BasicViewForm.hasValue($3.CheckInTerminal,function(){
return Luxena.Travel.Res.terminal_Text+' '+$3.CheckInTerminal+((!String.isNullOrEmpty($3.CheckInTime))?', ':'');})+LxnBase.UI.BasicViewForm.notEmpty($3.CheckInTime)+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.hasValue($3.ArrivalTime,function(){
return Ext.util.Format.date($3.ArrivalTime,'d.m.y H:i');})+$0+LxnBase.UI.BasicViewForm.hasValue($3.ArrivalTerminal,function(){
return Luxena.Travel.Res.terminal_Text+' '+$3.ArrivalTerminal;})+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.notEmpty($3.Duration)+$0+LxnBase.UI.BasicViewForm.notEmpty($3.NumberOfStops)+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.notEmpty($3.FareBasis)+"</td>\r\n\t\t\t\t\t\t<td align='center'>"+LxnBase.UI.BasicViewForm.notEmpty($3.Luggage)+$0+LxnBase.UI.BasicViewForm.notEmpty($3.MealString)+"</td>\r\n\t\t\t\t\t\t<td align='center'><div class='"+((!$3.Type)?'ticketed-segment':'unticketed-segment')+"'/></td>\r\n\t\t\t\t\t\t<td align='right'>"+LxnBase.UI.BasicViewForm.notEmpty(Luxena.Travel.MoneyDto.toMoneyFullString($3.CouponAmount))+'</td>\r\n\t\t\t\t\t</tr>';}$1+='</table>';return $1;},$6_B:function(){if(this.$6_1A.PenalizeOperations==null||!this.$6_1A.PenalizeOperations.length){return '';}var $0=new ss.StringBuilder();$0.append("\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tr class='header'>\r\n\t\t\t\t\t\t<td/>\r\n\t\t\t\t\t\t<th>"+Luxena.Travel.Res.aviaTicket_ChangesPenalty+'</th>\r\n\t\t\t\t\t\t<th>'+Luxena.Travel.Res.aviaTicket_RefundPenalty+'</th>\r\n\t\t\t\t\t\t<th>'+Luxena.Travel.Res.aviaTicket_NoShowPenalty+'</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t');$0.append("\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class='caption'>"+Luxena.Travel.Res.aviaTicket_BeforeDeparture+'</td>\r\n\t\t\t\t\t<td>'+this.$6_C(0)+'</td>\r\n\t\t\t\t\t<td>'+this.$6_C(2)+'</td>\r\n\t\t\t\t\t<td>'+this.$6_C(4)+'</td>\r\n\t\t\t\t</tr>');if(this.$6_1A.Segments!=null&&this.$6_1A.Segments.length>1){$0.append("\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<td class='caption'>"+Luxena.Travel.Res.aviaTicket_AfterDeparture+'</td>\r\n\t\t\t\t\t\t<td>'+this.$6_C(1)+'</td>\r\n\t\t\t\t\t\t<td>'+this.$6_C(3)+'</td>\r\n\t\t\t\t\t\t<td>'+this.$6_C(5)+'</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t');}$0.append('</table>');return $0.toString();},$6_C:function($p0){var $0=null;var $enum1=ss.IEnumerator.getEnumerator(this.$6_1A.PenalizeOperations);while($enum1.moveNext()){var $2=$enum1.current;if($2.Type===$p0){$0=$2;break;}}if($0==null){return '';}var $1=LxnBase.EnumUtility.localize(Luxena.Travel.PenalizeOperationStatus,$0.Status,Luxena.Travel.DomainRes);if($0.Status===2&&!String.isNullOrEmpty($0.Description)){$1=String.format('{0} {1}',$1,$0.Description);}return $1;},$6_D:function(){if(this.$6_19.Fees==null||!this.$6_19.Fees.length){return '';}var $0=new ss.StringBuilder();for(var $1=0;$1<this.$6_19.Fees.length;$1++){var $2=this.$6_19.Fees[$1];$0.append(String.format("\r\n\t\t\t\t\t<tr name='{0}' id='{1}' style='display: none' class='feeRow'><td/>\r\n\t\t\t\t\t\t<td class='fieldValue gray rightAlign'>{2}</td>\r\n\t\t\t\t\t\t<td class='fieldValue gray'>{3}</td>\r\n\t\t\t\t\t\t<td class='fieldValue gray'>{4}</td>\r\n\t\t\t\t\t</tr>",'aviaDocumentFee','aviaDocumentFee'+$1,($2.Amount!=null)?$2.Amount.Amount.format('N2'):'0.00',($2.Amount!=null)?$2.Amount.Currency.Name:'',$2.Code));}return $0.toString();},$6_F:function(){Luxena.Travel.Services.AviaService.CanProcess(this._id,this._type,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=new LxnBase.Data.OperationStatus();if(Object.keyExists($1_0.CustomActionPermissions,'CanProcess')){$1_1=$1_0.CustomActionPermissions['CanProcess'];}if(!$1_0.CanUpdate.IsEnabled){LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.error,msg:$1_0.CanUpdate.DisableInfo||LxnBase.BaseRes.autoGrid_ActionNotPermitted_Msg,icon:Ext.MessageBox.ERROR,buttons:Ext.MessageBox.OK});return;}if(!$1_1.IsEnabled){LxnBase.UI.MessageBoxWrap.show({title:LxnBase.BaseRes.warning,msg:$1_1.DisableInfo,icon:Ext.MessageBox.WARNING,buttons:Ext.MessageBox.YESNO,fn:ss.Delegate.create(this,function($p2_0,$p2_1){
if($p2_0==='yes'){this.$6_0();}})});}else{var $1_2=new Luxena.Travel.AviaDocumentProcessForm($1_0.Args);$1_2.add_saved(ss.Delegate.create(this,function($p2_0){
var $2_0=($p2_0)[0];this.$6_19.Customer=$2_0.Customer;this.$6_19.Intermediary=$2_0.Intermediary;this.$6_19.ServiceFee=$2_0.ServiceFee;this.$6_19.Handling=$2_0.Handling;this.$6_19.CommissionDiscount=$2_0.CommissionDiscount;this.$6_19.Discount=$2_0.Discount;this.$6_19.GrandTotal=$2_0.GrandTotal;this.$6_19.PaymentType=$2_0.PaymentType;this.$6_19.RequiresProcessing=$2_0.RequiresProcessing;this.$6_19.Note=$2_0.Note;this.$6_19.Order=$2_0.Order;if(this.$6_1A!=null){var $2_1=$2_0;this.$6_1A.PenalizeOperations=$2_1.PenalizeOperations;this.$6_1A.Passenger=$2_1.Passenger;this.$6_1A.GdsPassport=$2_1.GdsPassport;this.$6_1A.GdsPassportStatus=$2_1.GdsPassportStatus;}if(this.$6_1C!=null){var $2_2=$2_0;this.$6_1C.RefundServiceFee=$2_2.RefundServiceFee;this.$6_1C.ServiceFeePenalty=$2_2.ServiceFeePenalty;}this.$6_2();}));$1_2.open(this._id,this._type);}}),null);},$6_10:function(){var $0={AviaDocuments:[this.$6_19.Id]};$0['SeparateServiceFee']=true;LxnBase.UI.FormsRegistry.editObject('Order',null,$0,ss.Delegate.create(this,function($p1_0){
this.loadInstance();var $1_0=$p1_0;LxnBase.UI.FormsRegistry.viewObject('Order',($1_0.Item).Id);}),null);},$6_11:function(){var $0={};$0[this.$6_19.Id]=this.$6_19.Name;Luxena.Travel.LxnTravel$0.$2($0,true,this.$6_19.Name,ss.Delegate.create(this,this.loadInstance));},$6_12:function(){var $0={};$0['IssueDate']=Date.get_now();LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'AirlinePrefixCode');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Number');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Producer');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Provider');var $1=LxnBase.Data.Reference.create(this._type,Luxena.Travel.AviaDocumentDto.numberToString(this.$6_19.Number),this.$6_19.Id);$0['RefundedDocument']=$1;LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'PassengerName');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Customer');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Intermediary');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Originator');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Order');$0['Seller']=Luxena.Travel.AppManager.get_currentPerson();LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Fare');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'EqualFare');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'FeesTotal');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Total');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Vat');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Commission');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'ServiceFee');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Discount');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'GrandTotal');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'Discount');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'TaxRateOfProduct');LxnBase.UI.BasicViewForm.addValue($0,this.$6_19,'TaxRateOfServiceFee');LxnBase.UI.FormsRegistry.editObject('AviaRefund',null,$0,ss.Delegate.create(this,function($p1_0){
if($p1_0==null){return;}var $1_0=($p1_0).Item;var $1_1=LxnBase.Data.Reference.create('AviaRefund',$1_0.Number.toString(),$1_0.Id);if(this.$6_1A!=null){this.$6_1A.Refund=$1_1;}else if(this.$6_1B!=null){this.$6_1B.Refund=$1_1;}this.load(this.$6_19);LxnBase.UI.FormsRegistry.viewObject('AviaRefund',$1_0.Id);}),null);},$6_13:function(){LxnBase.UI.MessageBoxWrap.confirm(LxnBase.BaseRes.confirmation,(this.$6_19.IsVoid)?Luxena.Travel.Res.document_Restore_Confirmation:Luxena.Travel.Res.document_Void_Confirmation,ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0!=='yes'){return;}Luxena.Travel.Services.AviaService.ChangeVoidStatus([this.$6_19.Id],null,ss.Delegate.create(this,function($p2_0){
var $2_0=($p2_0)[0];this.$6_19.IsVoid=$2_0.IsVoid;this.$6_19.RequiresProcessing=$2_0.RequiresProcessing;this.$6_19.Voidings=$2_0.Voidings;this.$6_19.Order=$2_0.Order;this.$6_22.setDisabled(this.$6_19.IsVoid);this.$6_2();}),null);}));},$6_14:function(){if(Luxena.Travel.AppManager.get_systemConfiguration().Ticket_NoPrintReservations){this.$6_16();return;}Luxena.Travel.Services.AviaService.GetReservationDocumentCount(this.$6_19.Id,ss.Delegate.create(this,function($p1_0){
if($p1_0===1){this.$6_16();return;}LxnBase.UI.MessageBoxWrap.show({msg:String.format(Luxena.Travel.Res.printReservation_Msg,$p1_0),title:Luxena.Travel.Res.printReservation_Msg_Title,buttons:Ext.MessageBox.YESNOCANCEL,icon:Ext.MessageBox.QUESTION,cls:'print-ticket-message-box',fn:ss.Delegate.create(this,function($p2_0,$p2_1){
if($p2_0==='yes'){this.$6_17();}else if($p2_0==='no'){this.$6_16();}})});}),null);},$6_15:function(){LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/blank/Blank_{0}-{1}.pdf',this.$6_1A.AirlinePrefixCode,this.$6_1A.Number),{ticketId:this._id});},$6_16:function(){LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/ticket/Ticket_{0}-{1}.pdf',this.$6_1A.AirlinePrefixCode,this.$6_1A.Number),{tickets:JSON.stringify([this._id])});},$6_17:function(){LxnBase.UI.AutoControls.ReportLoader.load(String.format('print/reservation/Tickets_{0}.pdf',Date.get_now().format('Y-m-d_H-i')),{ticket:this._id});},$6_19:null,$6_1A:null,$6_1B:null,$6_1C:null,$6_1D:null,$6_1E:null,$6_1F:null,$6_20:null,$6_21:null,$6_22:null,$6_23:null,$6_24:null,$6_25:null}
Luxena.Travel.Header=function(config){config['tbar']=[];var $0=new Luxena.Travel.SemanticDomain(null);this.$1(config,'\u041f\u0440\u043e\u0434\u0430\u0436\u0438',[Luxena.Travel.AppActions.quickReceipt,'-',Luxena.Travel.AppActions.newOrder,Luxena.Travel.AppActions.newTask,'-',$0.$3E,$0.$12,$0.$3A,$0.$3D,this.$2(Luxena.Travel.AppActions.consignmentList,'Consignment'),$0.$3C,'-',$0.$35,$0.$36,$0.$37]);this.$1(config,'\u0423\u0441\u043b\u0443\u0433\u0438',[this.$2(Luxena.Travel.AppActions.productList,'Product'),this.$2(Luxena.Travel.AppActions.allAgencyProductList,'AllAgencyProduct'),'-',$0.$23,$0.$40,$0.$18,$0.$1E,$0.$1B,$0.$20,$0.$22,$0.$1A,$0.$21,$0.$1C,$0.$1F,$0.$19,$0.$1D,'-',Luxena.Travel.AppActions.aviaConsoleParser]);this.$1(config,Luxena.Travel.Res.menu_Reports,[this.$2(Luxena.Travel.Header.$4(),'CustomerReport'),this.$2(Luxena.Travel.Header.$5(),'RegistryReport'),'-',this.$2(Luxena.Travel.Header.$6(),'UnbalancedReport')]);this.$1(config,Luxena.Travel.Res.menu_Dictionaries,[$0.$5,$0.$4,$0.$6,'-',$0.$2,$0.$0,'-',$0.$29,$0.$2A,$0.$2B,$0.$41,'-',$0.$28,$0.$2D,$0.$13,$0.$2C,'-',$0.$16,$0.$15,$0.$14]);this.$1(config,Luxena.Travel.Res.menu_Administration,[$0.$2F,$0.$30,$0.$3F,$0.$31.toViewAction(Luxena.Travel.AppManager.get_systemConfiguration().Id),this.$2(Luxena.Travel.AppActions.updateAnalytics,'UpdateAnalytics'),'-',$0.$1,$0.$32,$0.$33,$0.$34,'-',$0.$38,$0.$39,'-',$0.$42]);(config['tbar']).addRange(['->',new Ext.BoxComponent(new Ext.BoxComponentConfig().autoEl({tag:'div'}).cls('icon-filter').toDictionary()),this.$0(),'-',Luxena.Travel.Header.$3(),'-',Luxena.Travel.AppActions.signOutAction]);this.$7=new Ext.Panel(config);}
Luxena.Travel.Header.$3=function(){return new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.AppManager.get_currentUser().Name).handler(function(){
Luxena.Travel.Configuration.ProfileViewForm.viewObject(Luxena.Travel.AppManager.get_currentUser().Id,false);}).toDictionary());}
Luxena.Travel.Header.$4=function(){return new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.customerReport_Text).handler(function(){
var $1_0=new Luxena.Travel.Reports.CustomerReportForm();$1_0.open();}).toDictionary());}
Luxena.Travel.Header.$5=function(){return new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.registryReport_Text).handler(function(){
var $1_0=new Luxena.Travel.Reports.RegistryReportForm();$1_0.open();}).toDictionary());}
Luxena.Travel.Header.$6=function(){return new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.unbalancedReport).handler(function(){
var $1_0=new Luxena.Travel.Reports.UnbalancedReportForm();$1_0.open();}).toDictionary());}
Luxena.Travel.Header.prototype={$0:function(){Luxena.Travel.Header.globalSearch=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().allowCreate(false).setClass('GlobalSearchEntity').selectOnFocus(true).forceSelection(true).autoShow(true).emptyText('\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u043f\u043e\u0438\u0441\u043a').listeners({changeValue:ss.Delegate.create(this,function($p1_0,$p1_1){
if(!ss.isValue($p1_1)){return;}this.viewObject($p1_1[2].toString(),$p1_1[0]);Luxena.Travel.Header.globalSearch.clearValue();})}).width(200).listWidth(200)).get_widget();return Luxena.Travel.Header.globalSearch;},viewObject:function(className,id){var $0=Luxena.Travel.AppManager.get_allowedActions()[className];var $1=($0!=null)?$0.CanList:null;if($1==null||(!$1.Visible&&String.isNullOrEmpty($1.DisableInfo))){return;}LxnBase.UI.FormsRegistry.viewObject(className,id);},get_widget:function(){return this.$7;},$1:function($p0,$p1,$p2){var $0=[];var $enum1=ss.IEnumerator.getEnumerator($p2);while($enum1.moveNext()){var $1=$enum1.current;if($1==null){continue;}if($1.toString()==='-'){if($0.length>0&&ss.isValue($0[$0.length-1])&&$0[$0.length-1].toString()!=='-'){$0.add('-');}continue;}var $2=Type.safeCast($1,Luxena.Travel.SemanticEntity);if($2!=null){var $3=$2.toListAction();if(ss.isValue($3)){$0.add($3);}continue;}$0.add($1);}if($0.length>0&&$0[$0.length-1].toString()==='-'){$0.removeAt($0.length-1);}if($0.length>0){($p0['tbar']).add({text:$p1,menu:$0});}},$2:function($p0,$p1){var $0=Luxena.Travel.AppManager.get_allowedActions()[$p1];var $1=($0!=null)?$0.CanList:null;if($1==null||(!$1.Visible&&String.isNullOrEmpty($1.DisableInfo))){return null;}if(ss.isValue($1.DisableInfo)){$p0.disable();}return $p0;},$7:null}
Luxena.Travel.AviaDocumentProcessForm=function(args){Luxena.Travel.AviaDocumentProcessForm.initializeBase(this);this.$1_2D=args;this.get_window().addClass(' process-document');this.get_window().keys=[{key:13,fn:ss.Delegate.create(this,this.$1_28),scope:this}];this.get_form().labelWidth=160;this.$1_2();if(this.$1_2D.AllowSaveAndContinue){this.$1_4A=this.get_form().addButton(Luxena.Travel.Res.saveAndContinue,ss.Delegate.create(this,function(){
this.$1_4E=true;if(this.$1_4D.isVisible()){this.$1_50=true;}else{this.save();}}));}this.$1_4B=this.get_form().addButton(LxnBase.BaseRes.save,ss.Delegate.create(this,function(){
this.$1_4E=false;if(this.$1_4D.isVisible()){this.$1_50=true;}else{this.save();}}));this.$1_4C=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields([this.$1_39.get_widget(),this.$1_3C,this.$1_5C.get_widget(),this.$1_3E.get_widget(),this.$1_3F.get_widget(),this.$1_58,this.$1_41,this.$1_42,this.$1_43,this.$1_44,this.$1_45,this.$1_46,this.$1_47,this.$1_48,this.$1_49,this.$1_56,this.$1_57,this.$1_54]);var $0=[];$0.addRange([this.$1_39.get_widget(),this.$1_3C,this.$1_5C.get_widget(),this.$1_3E.get_widget(),this.$1_3F.get_widget(),this.$1_58,this.$1_41,this.$1_42,this.$1_43,this.$1_44,this.$1_45,this.$1_46,this.$1_47,this.$1_48,this.$1_49,this.$1_5B,this.$1_54]);if(this.$1_2D.AllowSaveAndContinue){$0.add(this.$1_4A);}$0.add(this.$1_4B);$0.add(this.$1_4C);this.set_componentSequence($0);}
Luxena.Travel.AviaDocumentProcessForm.$1_10=function($p0){return {LastName:$p0.LastName,FirstName:$p0.FirstName,MiddleName:$p0.MiddleName,Citizenship:($p0.Citizenship!=null)?[$p0.Citizenship.Id,$p0.Citizenship.Name,$p0.Citizenship.Type]:null,Birthday:$p0.Birthday,Gender:$p0.Gender,ExpiredOn:$p0.ExpiredOn};}
Luxena.Travel.AviaDocumentProcessForm.$1_13=function($p0,$p1,$p2){if(String.isNullOrEmpty($p2)){return null;}if($p1!=null){for(var $0=0;$0<$p1.length;$0++){var $1=$p1[$0].get('Name');if(String.equals($1,$p2,true)){return null;}}}return [new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPerson_Action_Title).handler(function($p1_0,$p1_1){
Luxena.Travel.AviaDocumentProcessForm.$1_14($p1_0,$p1_1,'Person');}).toDictionary()),new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addOrganization_Action_Title).handler(function($p1_0,$p1_1){
Luxena.Travel.AviaDocumentProcessForm.$1_14($p1_0,$p1_1,'Organization');}).toDictionary())];}
Luxena.Travel.AviaDocumentProcessForm.$1_14=function($p0,$p1,$p2){if(String.isNullOrEmpty($p1)){return;}if(Luxena.Travel.AppManager.get_systemConfiguration().IsOrganizationCodeRequired&&$p2==='Organization'){var $0={Name:$p1,IsCustomer:true};LxnBase.UI.FormsRegistry.editObject($p2,null,$0,function($p1_0){
var $1_0=($p1_0).Item;var $1_1=new LxnBase.Data.Reference();$1_1.Id=$1_0.Id;$1_1.Name=$1_0.Name;$1_1.Type='Organization';$p0.setValue($1_1);},null,null);}else{Luxena.Travel.Services.PartyService.CreateCustomer($p2,$p1,function($p1_0){
var $1_0=$p1_0;var $1_1=new LxnBase.Data.Reference();$1_1.Id=$1_0[LxnBase.Data.ObjectPropertyNames.id];$1_1.Name=$1_0[LxnBase.Data.ObjectPropertyNames.reference];$1_1.Type=$1_0[LxnBase.Data.ObjectPropertyNames.objectClass];$p0.setValue($1_1);var $1_2=null;switch($1_1.Type){case 'Person':$1_2=Luxena.Travel.DomainRes.person_Caption_List;break;case 'Organization':$1_2=Luxena.Travel.DomainRes.organization_Caption_List;break;case 'Department':$1_2=Luxena.Travel.DomainRes.department_Caption_List;break;}LxnBase.MessageRegister.info($1_2,LxnBase.BaseRes.created+' '+$1_1.Name);},null);}}
Luxena.Travel.AviaDocumentProcessForm.$1_2A=function($p0){if(String.isNullOrEmpty($p0)){return null;}var $0=$p0.split('/')[0].toLowerCase();var $1='';if($p0.split('/').length>1){$1=$p0.split('/')[1].toLowerCase();}if(!String.isNullOrEmpty($1)&&($1.length>1)){$0=$0.substring(0,1).toUpperCase()+$0.substring(1,$0.length);$1=$1.substring(0,1).toUpperCase()+$1.substring(1,$1.length);$1=$1.replace(new RegExp('(mr|mrs|mstr|miss)$'),'');}return ($0+' '+$1).trim();}
Luxena.Travel.AviaDocumentProcessForm.prototype={get_saveAndContinue:function(){return this.$1_4E;},set_saveAndContinue:function(value){this.$1_4E=value;return value;},get_$1_0:function(){return this.$1_2E.EqualFare==null&&Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput;},get_$1_1:function(){return Luxena.Travel.AppManager.get_systemConfiguration().UseAviaHandling&&this.$1_37!=='AviaMco';},open:function(ticketId,type){this.$1_37=type;Luxena.Travel.Services.AviaService.GetAviaReservationForProcess(ticketId,this.$1_37,ss.Delegate.create(this,this.$1_3),null);},closeWindow:function(){this.get_window().close();},$1_2:function(){this.$1_38=new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().fieldLabel(Luxena.Travel.DomainRes.aviaDocument_Passenger).cls('passenger-name').toDictionary());this.$1_39=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Person').allowEdit(this.$1_2D.AllowEditParty).customActionsDelegate(ss.Delegate.create(this,this.$1_11)).width(200).selectOnFocus(true).listeners({changeValue:ss.Delegate.create(this,function($p1_0,$p1_1,$p1_2){
if($p1_2==null||$p1_1==null){this.$1_3E.updateTriggerStatus();}})}).hideTrigger(false).selectOnFocus(true));this.applyActions(this.$1_39.get_widget(),ss.Delegate.create(this,this.$1_F));this.$1_3A=new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().cls('passport-error-label').toDictionary());this.$1_3B=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.aviaDocumentProcessForm_CopyPassportGdsString).handler(ss.Delegate.create(this,this.$1_1A)));var $0=new Ext.Panel(new Ext.PanelConfig().items([this.$1_3B]).cls('copy-passport-button').toDictionary());this.$1_3C=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.aviaDocument_GdsPassportStatus).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data([[0,LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus,0,Luxena.Travel.DomainRes)],[1,LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus,1,Luxena.Travel.DomainRes)],[2,LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus,2,Luxena.Travel.DomainRes)],[3,LxnBase.EnumUtility.localize(Luxena.Travel.GdsPassportStatus,3,Luxena.Travel.DomainRes)]]).toDictionary())).listeners({select:ss.Delegate.create(this,function(){
this.$1_8((this.$1_3C.getValue()));this.refreshWindowShadow();})}).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).width(100).toDictionary());this.$1_3D=new Ext.form.DisplayField(new Ext.form.DisplayFieldConfig().cls('passport-error-label').value(Luxena.Travel.Res.aviaTicket_PassengerPassportRequired).toDictionary());var $1=(Luxena.Travel.AppManager.get_systemConfiguration().IsOrderRequiredForProcessedDocument)?'<b>'+Luxena.Travel.DomainRes.order+'</b>':Luxena.Travel.DomainRes.order;this.$1_5C=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Order').valueProperties(['Customer']).fieldLabel($1));this.$1_5C.get_widget().on('changeValue',ss.Delegate.create(this,this.$1_2B));this.$1_3E=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(this.$1_2D.AllowEditParty).allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).customActionsDelegate(ss.Delegate.create(this,this.$1_12)).fieldLabel('<b>'+Luxena.Travel.DomainRes.common_Customer+'</b>').width(200).selectOnFocus(true).forceSelection(true));this.$1_3E.get_widget().on('changeValue',ss.Delegate.create(this,this.$1_2C));this.$1_3F=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(this.$1_2D.AllowEditParty).customActionsDelegate(Luxena.Travel.AviaDocumentProcessForm.$1_13).fieldLabel(Luxena.Travel.DomainRes.common_Intermediary).width(200).selectOnFocus(true).forceSelection(true));this.$1_40=new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('x-form-item total').toDictionary());this.$1_58=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_EqualFare));if(Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput){this.$1_58.labelStyle='font-weight: bold;';}this.$1_5A=new Ext.form.Label(new Ext.form.LabelConfig().cls('fare').toDictionary());this.$1_59=new Ext.Panel(new Ext.PanelConfig().items([this.$1_58,this.$1_5A]).layout('form').itemCls('float-left').toDictionary());this.$1_41=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Commission));this.$1_42=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_ServiceFee));this.$1_42.labelStyle='font-weight: bold;';this.$1_42.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_43=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Handling));this.$1_43.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_44=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_CommissionDiscount));this.$1_44.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_45=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_Discount));this.$1_45.labelStyle='font-weight: bold;';this.$1_45.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_46=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_RefundServiceFee));this.$1_46.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_47=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.common_ServiceFeePenalty));this.$1_47.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_48=new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig(Luxena.Travel.DomainRes.product_GrandTotal));this.$1_48.labelStyle='font-weight: bold;';this.$1_48.get_decimalField().on('change',ss.Delegate.create(this,this.$1_1B));this.$1_49=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.paymentType).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data([[0,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,0)],[1,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,1)],[2,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,2)],[3,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,3)],[4,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,4)],[5,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,5)],[6,Luxena.Travel.DomainRes.paymentType_WithoutPayment]]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).toDictionary());this.$1_56=new Ext.form.TextArea();this.$1_56.fieldLabel=Luxena.Travel.DomainRes.common_Description;this.$1_56.height=48;this.$1_56.width=260;this.$1_57=new Ext.form.TextArea();this.$1_57.fieldLabel=Luxena.Travel.DomainRes.common_Note;this.$1_57.height=48;this.$1_57.width=260;this.$1_5B=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().handler(ss.Delegate.create(this,this.$1_29)).cls('edit-penalties').text(Luxena.Travel.Res.aviaDocumentProcessForm_EditPenalizeOperations));this.$1_51=new Ext.BoxComponent();this.$1_52=new Ext.Panel(new Ext.PanelConfig().cls('document-list').toDictionary());var $2=[];$2.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_GetByNumber).handler(ss.Delegate.create(this,function(){
LxnBase.UI.MessageBoxWrap.prompt(Luxena.Travel.Res.addDocument_Title,Luxena.Travel.Res.enterDocumentNumber_Text,ss.Delegate.create(this,function($p2_0,$p2_1){
if($p2_0==='ok'&&!String.isNullOrEmpty($p2_1)){this.$1_24($p2_1);}}));})).toDictionary()));$2.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_MyUnprocessed).handler(ss.Delegate.create(this,this.$1_25)).toDictionary()));$2.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.menu_AllMyDocuments).handler(ss.Delegate.create(this,this.$1_26)).toDictionary()));if(this.$1_2D.HasAccessToDocumentList){$2.add(new Ext.menu.Item(new Ext.menu.ItemConfig().handler(ss.Delegate.create(this,this.$1_27)).text(Luxena.Travel.Res.menu_FromList).toDictionary()));}var $3=new Ext.menu.Menu(new Ext.menu.MenuConfig().cls('simple-menu').items($2).listeners({beforeshow:function($p1_0){
($p1_0).tryActivate(0);}}).toDictionary());var $4=new Luxena.Travel.Controls.LinkButton(new Ext.ButtonConfig().text(Luxena.Travel.Res.add).menu($3));var $5=new Ext.Panel(new Ext.PanelConfig().items([this.$1_52,$4]).cls('documents-container').toDictionary());$5.setVisible(false);this.$1_54=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.processForm_ApplyToDocuments_Text).handler(ss.Delegate.create(this,function($p1_0,$p1_1){
$5.setVisible($p1_1);if($p1_1){this.$1_52.doLayout();}this.get_window().getEl().enableShadow(true);})).listeners({render:ss.Delegate.create(this,function(){
var $1_0=this.$1_54.wrap;$1_0.addClass('applyDataCheckbox');})}).toDictionary());this.$1_53=new Ext.Panel(new Ext.PanelConfig().cls('documents').items([this.$1_51,this.$1_54,$5]).toDictionary());var $6=new Ext.Panel(new Ext.PanelConfig().cls('main-panel').layout('form').items([this.$1_38,this.$1_39.get_widget(),this.$1_3A,$0,this.$1_3C,this.$1_3D,this.$1_5C.get_widget(),this.$1_3E.get_widget(),this.$1_3F.get_widget(),this.$1_40,this.$1_59,this.$1_41,this.$1_42,this.$1_43,this.$1_44,this.$1_45,this.$1_46,this.$1_47,this.$1_48,this.$1_49,this.$1_56,this.$1_57,this.$1_5B]).toDictionary());this.get_form().add($6);this.get_form().add(this.$1_53);},onSave:function(){if(this.$1_35!=null){this.$1_35.Passenger=this.$1_39.getObjectInfo();if(!ss.isNullOrUndefined(this.$1_3C.getValue())){this.$1_35.GdsPassportStatus=(this.$1_3C.value);}}this.$1_2E.Order=this.$1_5C.getObjectInfo();this.$1_2E.Customer=this.$1_3E.getObjectInfo();this.$1_2E.Intermediary=this.$1_3F.getObjectInfo();if(this.get_$1_0()){this.$1_2E.EqualFare=this.$1_58.getValue();}this.$1_2E.Commission=this.$1_41.getValue();this.$1_2E.ServiceFee=this.$1_42.getValue();this.$1_2E.Discount=this.$1_45.getValue();this.$1_2E.GrandTotal=this.$1_48.getValue();if(this.get_$1_1()){this.$1_2E.Handling=this.$1_43.getValue();this.$1_2E.CommissionDiscount=this.$1_44.getValue();}if(this.$1_34!=null){this.$1_34.RefundServiceFee=this.$1_46.getValue();this.$1_34.ServiceFeePenalty=this.$1_47.getValue();}else if(this.$1_36!=null){this.$1_36.Description=this.$1_56.getValue();}this.$1_2E.PaymentType=this.$1_49.getValue();this.$1_2E.Note=this.$1_57.getValue();var $0=[this.$1_2E];if(this.$1_54.getValue()){var $enum1=ss.IEnumerator.getEnumerator(this.$1_33);while($enum1.moveNext()){var $1=$enum1.current;var $2=$1;$2.Order=this.$1_2E.Order;$2.Customer=this.$1_2E.Customer;$2.Intermediary=this.$1_2E.Intermediary;$2.PaymentType=this.$1_2E.PaymentType;if(this.$1_35!=null){var $3=$2;if($3.PassengerName===this.$1_2E.PassengerName){$3.Passenger=this.$1_35.Passenger;}var $4=[];var $enum2=ss.IEnumerator.getEnumerator(this.$1_35.PenalizeOperations);while($enum2.moveNext()){var $5=$enum2.current;if($3.SegmentCount===1&&($5.Type===1||$5.Type===3||$5.Type===5)){continue;}$4.add($5);}$3.PenalizeOperations=$4;}$0[$0.length]=$2;}}if(this.$1_35!=null){Luxena.Travel.Services.AviaService.ProcessAviaTickets($0,ss.Delegate.create(this,this.completeSave),null);}else if(this.$1_34!=null){Luxena.Travel.Services.AviaService.ProcessAviaRefunds($0,ss.Delegate.create(this,this.completeSave),null);}else{Luxena.Travel.Services.AviaService.ProcessAviaMcos($0,ss.Delegate.create(this,this.completeSave),null);}},onSaved:function(result){if(!this.$1_4E){Luxena.Travel.AviaDocumentProcessForm.callBaseMethod(this, 'onSaved',[result]);}},$1_3:function($p0){this.$1_2F=$p0;this.$1_2E=this.$1_2F[0];this.$1_33=[];this.$1_30=[];this.$1_31=[];this.$1_32=[];this.$1_34=(this.$1_37==='AviaRefund')?this.$1_2E:null;this.$1_35=(this.$1_37==='AviaTicket')?this.$1_2E:null;this.$1_36=(this.$1_37==='AviaMco')?this.$1_2E:null;this.$1_4();this.$1_55=null;if(!this.get_window().rendered){this.get_window().show();}else{this.refreshWindowShadow();if(!this.$1_39.get_widget().hidden){this.$1_39.focus();}else{this.$1_5C.focus();}}},$1_4:function(){this.$1_4F=true;try{this.$1_5();this.$1_6();this.$1_A();this.$1_B();this.$1_C();}finally{this.$1_4F=false;}this.$1_D();},$1_5:function(){var $0;switch(this.$1_37){case 'AviaTicket':$0=Luxena.Travel.Res.aviaTicket_Handle_Title;break;case 'AviaRefund':$0=Luxena.Travel.Res.aviaRefund_Handle_Title;break;default:$0=Luxena.Travel.Res.aviaMco_Handle_Title;break;}this.get_window().setTitle(String.format($0,this.$1_2E.Name));},$1_6:function(){this.$1_38.setValue(this.$1_2E.PassengerName);if(this.$1_35!=null){this.$1_39.setValue(this.$1_35.Passenger);this.$1_39.updateTriggerStatus();this.$1_3C.setValue(this.$1_35.GdsPassportStatus);this.get_form().showItem(this.$1_39.get_widget());this.get_form().showItem(this.$1_3C);this.$1_9(this.$1_35.PassportValidationResult);this.$1_7(this.$1_35.PassportValidationResult);this.$1_8(this.$1_35.GdsPassportStatus);}else{this.get_form().hideItem(this.$1_39.get_widget());this.get_form().hideItem(this.$1_3C);this.get_form().hideItem(this.$1_3A);this.get_form().hideItem(this.$1_3D);this.$1_3B.hide();}if(this.$1_36!=null){this.get_form().showItem(this.$1_56);this.$1_56.setValue(this.$1_36.Description);}else{this.get_form().hideItem(this.$1_56);}this.$1_5C.setValue(this.$1_2E.Order);this.$1_3E.setValue(this.$1_2E.Customer);this.$1_3F.setValue(this.$1_2E.Intermediary);this.$1_49.setValue(this.$1_2E.PaymentType);this.$1_57.setValue(this.$1_2E.Note);},$1_7:function($p0){if(this.$1_39.getObjectInfo()==null||$p0===3){this.get_form().hideItem(this.$1_3A);return;}var $0=null;var $1=false;switch($p0){case 0:if(String.isNullOrEmpty(this.$1_35.GdsPassport)){$0=String.format(Luxena.Travel.Res.passenger_NoPassport_Warning,this.$1_2E.Originator);}else{$0=String.format(Luxena.Travel.Res.passenger_NoGdsPassport_Warning,(!this.$1_2E.Originator)?'GDS':LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator,this.$1_2E.Originator));}break;case 2:$0=Luxena.Travel.Res.passenger_PassportExpired_Warning;break;case 1:var $6=(!this.$1_2E.Originator)?'GDS':LxnBase.EnumUtility.toString(Luxena.Travel.GdsOriginator,this.$1_2E.Originator);$0=String.format(Luxena.Travel.Res.passenger_PassportDataDoesntMatch_Warning,$6);$1=true;break;}var $2='passport-error-label';var $3='passport-warn-label';var $4=($1)?$3:$2;var $5=($1)?$2:$3;if(!this.$1_3A.rendered){this.$1_3A.cls=$5;}else{this.$1_3A.removeClass($4);this.$1_3A.addClass($5);}this.$1_3A.setValue($0);this.get_form().showItem(this.$1_3A);},$1_8:function($p0){if(this.$1_35.PassportRequired&&$p0!==1){this.get_form().showItem(this.$1_3D);}else{this.get_form().hideItem(this.$1_3D);}},$1_9:function($p0){if(this.$1_39.getObjectInfo()!=null&&$p0===3){this.$1_3B.show();}else{this.$1_3B.hide();}},$1_A:function(){var $0=[];$0.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFee_Text).handler(ss.Delegate.create(this,function(){
this.$1_1E(this.$1_42);})).toDictionary()));if(this.get_$1_1()){$0.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateHandling_Text).handler(ss.Delegate.create(this,function(){
this.$1_1E(this.$1_43);})).toDictionary()));$0.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateCommissionDiscount_Text).handler(ss.Delegate.create(this,function(){
this.$1_1E(this.$1_44);})).toDictionary()));}$0.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateDiscount_Text).handler(ss.Delegate.create(this,function(){
this.$1_1E(this.$1_45);})).toDictionary()));if(this.$1_34!=null){$0.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateRefundServiceFee_Text).handler(ss.Delegate.create(this,function(){
this.$1_1E(this.$1_46);})).toDictionary()));$0.add(new Ext.menu.Item(new Ext.menu.ItemConfig().text(Luxena.Travel.Res.calculateServiceFeePenalty_Text).handler(ss.Delegate.create(this,function(){
this.$1_1E(this.$1_47);})).toDictionary()));}this.$1_4D=new Ext.menu.Menu(new Ext.menu.MenuConfig().cls('simple-menu').listeners({beforeshow:ss.Delegate.create(this,function(){
this.$1_4D.tryActivate(0);}),beforehide:ss.Delegate.create(this,function(){
if(!this.$1_4F){this.$1_1E(this.$1_42);}this.$1_4F=false;})}).items($0).toDictionary());},$1_B:function(){if(this.$1_40.rendered){this.$1_40.getEl().update(this.$1_E());}else{this.$1_40.autoEl={html:this.$1_E()};}this.$1_41.setValue(this.$1_2E.Commission||Luxena.Travel.MoneyDto.getZeroMoney());this.$1_42.setValue(this.$1_2E.ServiceFee||Luxena.Travel.MoneyDto.getZeroMoney());this.$1_45.setValue(this.$1_2E.Discount||Luxena.Travel.MoneyDto.getZeroMoney());this.$1_48.setValue(this.$1_2E.GrandTotal||Luxena.Travel.MoneyDto.getZeroMoney());if(this.get_$1_0()){this.$1_59.setVisible(true);this.$1_58.setVisible(true);if(this.$1_2E.Fare!=null){this.$1_5A.setText(String.format(Luxena.Travel.Res.aviaDocumentProcessForm_Fare_Text,Luxena.Travel.MoneyDto.toMoneyFullString(this.$1_2E.Fare)));}}else{this.$1_59.setVisible(false);this.$1_58.setVisible(false);}if(this.get_$1_1()){this.get_form().showItem(this.$1_43);this.$1_43.setValue(this.$1_2E.Handling||Luxena.Travel.MoneyDto.getZeroMoney());this.get_form().showItem(this.$1_44);this.$1_44.setValue(this.$1_2E.CommissionDiscount||Luxena.Travel.MoneyDto.getZeroMoney());}else{this.get_form().hideItem(this.$1_43);(this.$1_43).setValue(null);this.get_form().hideItem(this.$1_44);(this.$1_44).setValue(null);}if(this.$1_34!=null){this.get_form().showItem(this.$1_46);this.get_form().showItem(this.$1_47);this.$1_46.setValue(this.$1_34.RefundServiceFee||Luxena.Travel.MoneyDto.getZeroMoney());this.$1_47.setValue(this.$1_34.ServiceFeePenalty||Luxena.Travel.MoneyDto.getZeroMoney());}else{this.get_form().hideItem(this.$1_46);this.get_form().hideItem(this.$1_47);this.$1_46.setValue(null);this.$1_47.setValue(null);}this.$1_5B.setVisible(this.$1_35!=null);},$1_C:function(){var $0;if(!ss.isNullOrUndefined(this.$1_52.items)){this.$1_52.removeAll(true);}this.$1_54.setValue(false);var $1=0;for(var $2=1;$2<this.$1_2F.length;$2++){this.$1_22(this.$1_2F[$2]);$1+=(this.$1_2F[$2].RequiresProcessing)?1:0;}if(this.$1_35!=null){$0=Luxena.Travel.Res.reservationTicketCount_Text;}else if(this.$1_34!=null){$0=Luxena.Travel.Res.reservationRefundCount_Text;}else{$0=Luxena.Travel.Res.reservationMcoCount_Text;}$0='<div>'+String.format($0,this.$1_2F.length-1)+"&nbsp;<span style='color: gray'>"+String.format(Luxena.Travel.Res.reservationUnprocessedDocCount_Text,$1)+'</span></div>';if(this.$1_51.rendered){this.$1_51.getEl().update($0);}else{this.$1_51.autoEl={html:$0};}},$1_D:function(){if(this.$1_1C()){if(this.$1_2E.GrandTotal==null){this.$1_1F(this.$1_48);}else if(this.$1_2E.ServiceFee==null){this.$1_1F(this.$1_42);}else if(this.get_$1_1()&&this.$1_2E.Handling==null){this.$1_1F(this.$1_43);}else if(this.get_$1_1()&&this.$1_2E.CommissionDiscount==null){this.$1_1F(this.$1_44);}else if(this.$1_34!=null){if(this.$1_34.ServiceFeePenalty==null){this.$1_1F(this.$1_47);}else if(this.$1_34.RefundServiceFee==null){this.$1_1F(this.$1_46);}}else if(this.$1_2E.Discount==null){this.$1_1F(this.$1_45);}}},$1_E:function(){var $0='';if(this.$1_2E.Commission!=null){$0=String.format(' ({0} {1} {2})',Luxena.Travel.DomainRes.common_Commission.toLowerCase(),this.$1_2E.Commission.Amount.format('N2'),this.$1_2E.Commission.Currency.Name);}return String.format("<label class='x-form-item-label'>{0}:</label>"+"<div class='x-form-element'><div class='text'><div class='amount'>{1}</div><div class='currency'>{2}</div><div class='commission'>{3}</div></div></div>"+"<div class='x-form-clear-left'></div>",Luxena.Travel.DomainRes.product_Total,(ss.isValue(this.$1_2E.Total))?this.$1_2E.Total.Amount.format('N2'):'0.00',(ss.isValue(this.$1_2E.Total))?this.$1_2E.Total.Currency.Name:'',$0);},$1_F:function($p0,$p1){var $0=this.$1_39.getObjectInfo();if($0==null){this.$1_9(0);this.$1_7(0);this.refreshWindowShadow();return;}Luxena.Travel.Services.AviaService.ValidatePassengerPassport(this.$1_2E.Id,$0.Id,ss.isNull(this.$1_35.GdsPassport),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=[];switch($1_0.PassportValidationResult){case 0:$1_1.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPassport_Action_Title).handler(ss.Delegate.create(this,this.$1_16)).toDictionary()));break;case 2:$1_1.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPassport_Action_Title).handler(ss.Delegate.create(this,this.$1_16)).toDictionary()));break;case 1:$1_1.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.comparePassports).handler(ss.Delegate.create(this,function(){
var $2_0=new Luxena.Travel.PassportCompareForm($1_0.Passport,this.$1_35.Passport);$2_0.add_saved(ss.Delegate.create(this,function($p3_0){
if($p3_0){this.$1_18();}else{LxnBase.Services.GenericService.Update('Passport',$1_0.Passport.Id,$1_0.Passport.Version,Luxena.Travel.AviaDocumentProcessForm.$1_10(this.$1_35.Passport),null,ss.Delegate.create(this,function(){
this.$1_19();}),null);}}));$2_0.open();})).toDictionary()));break;}this.$1_9($1_0.PassportValidationResult);this.$1_7($1_0.PassportValidationResult);this.refreshWindowShadow();$p1($1_1);}),null);},$1_11:function($p0,$p1,$p2){if(this.$1_35==null){return null;}var $0=Luxena.Travel.AviaDocumentProcessForm.$1_2A(this.$1_2E.PassengerName);var $1=this.$1_35.SuggestPassenger==null;var $2=!$1;var $3=!String.isNullOrEmpty($p2)&&!String.equals($0,$p2,true);if($p1!=null){for(var $5=0;$5<$p1.length;$5++){var $6=$p1[$5].get('Name');if(String.equals($6,$p2,true)){$3=false;}if(String.equals($6,$0,true)){$1=false;$2=false;}}}var $4=[];if($1){$4.add(new Ext.Action(new Ext.ActionConfig().text(String.format(Luxena.Travel.Res.addPassenger_Action_Title,$0)).handler(ss.Delegate.create(this,function(){
this.$1_15($0);})).toDictionary()));}if($2){$4.add(new Ext.Action(new Ext.ActionConfig().text(String.format(Luxena.Travel.Res.setPassenger_Action_Title,this.$1_35.SuggestPassenger.Name)).handler(ss.Delegate.create(this,function(){
this.$1_39.setValue(this.$1_35.SuggestPassenger);})).toDictionary()));}if($3){$4.add(new Ext.Action(new Ext.ActionConfig().text(String.format(Luxena.Travel.Res.addPassenger_Action_Title,$p2)).handler(ss.Delegate.create(this,function(){
this.$1_15($p2);})).toDictionary()));}return (!$4.length)?null:$4;},$1_12:function($p0,$p1,$p2){var $0=[];var $1=this.$1_39.getObjectInfo();var $2=this.$1_3E.getObjectInfo();if($1!=null&&!String.equals($1.Name,$p2,true)){$0.add(new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.setPassengerAsCustomer_Action_Title).handler(ss.Delegate.create(this,function(){
this.$1_3E.setValue($1);})).toDictionary()));}if($2==null||!String.equals($2.Name,$p2,true)){var $3=Luxena.Travel.AviaDocumentProcessForm.$1_13($p0,$p1,$p2);if($3!=null){$0.addRange($3);}}return $0;},$1_15:function($p0){if(String.isNullOrEmpty($p0)){return;}LxnBase.Services.GenericService.Update('Person',null,null,{Name:$p0},null,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;var $1_1=$1_0.Item;var $1_2=new LxnBase.Data.Reference();$1_2.Id=$1_1['Id'];$1_2.Name=$1_1['Name'];$1_2.Type='Person';this.$1_39.setValue($1_2);this.$1_16();LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.person_Caption_List,LxnBase.BaseRes.created+' '+$1_1['Name']);}),null);},$1_16:function(){var $0=null;if(this.$1_35.Passport!=null){$0=this.$1_35.Passport;}else if(!String.isNullOrEmpty(this.$1_35.PassengerName)){var $1=Luxena.Travel.AviaDocumentProcessForm.$1_2A(this.$1_2E.PassengerName).split(' ');$0={LastName:$1[0]};if($1.length>1){$0['FirstName']=$1[1];}}this.$1_17(null,null,$0);},$1_17:function($p0,$p1,$p2){LxnBase.UI.FormsRegistry.editObject('Passport',$p0,$p2,ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0).Item;$1_0.Owner=this.$1_39.getObjectInfo();LxnBase.Services.GenericService.Update('Passport',$p0,$p1,$1_0,null,ss.Delegate.create(this,function(){
LxnBase.MessageRegister.info(Luxena.Travel.DomainRes.passport_Caption_List,(($1_0.Id==null)?LxnBase.BaseRes.created:LxnBase.BaseRes.updated)+' '+$1_0.Number);this.$1_39.focus();this.refreshActions();}),null);}),null,null,LxnBase.UI.LoadMode.local);},$1_18:function(){if(this.$1_35==null){return;}this.$1_35.GdsPassport=null;this.$1_35.GdsPassportStatus=3;this.$1_3C.setValue(3);this.$1_3A.setValue('');this.get_form().hideItem(this.$1_3A);this.$1_8((this.$1_3C.getValue()));this.refreshActions();},$1_19:function(){if(this.$1_35==null){return;}this.$1_35.GdsPassportStatus=1;this.$1_3C.setValue(1);this.$1_3A.setValue('');this.$1_3D.setValue('');this.get_form().hideItem(this.$1_3A);this.get_form().hideItem(this.$1_3D);this.refreshActions();},$1_1A:function(){var $0=this.$1_39.getObjectInfo();if($0==null){return;}var $1=new Luxena.Travel.PassportListForm(this.$1_35.Originator,$0.Id);$1.add_close(ss.Delegate.create(this,function(){
this.$1_3C.focus();}));$1.open();},$1_1B:function($p0,$p1,$p2){if(this.$1_4F){return;}if($p1==null){$p0.value=0;}if(this.$1_4F||!this.$1_1C()){return;}for(var $0=0;$0<this.$1_30.length;$0++){var $1=this.$1_30[$0];if(!this.$1_20($1)){continue;}if($p0===this.$1_42.get_decimalField()){$1.ServiceFee.Amount=$p1;}else if($p0===this.$1_43.get_decimalField()){$1.Handling.Amount=$p1;}else if($p0===this.$1_44.get_decimalField()){$1.CommissionDiscount.Amount=$p1;}else if($p0===this.$1_45.get_decimalField()){$1.Discount.Amount=$p1;}else if($p0===this.$1_46.get_decimalField()){($1).RefundServiceFee.Amount=$p1;}else if($p0===this.$1_47.get_decimalField()){($1).ServiceFeePenalty.Amount=$p1;}else if($p0===this.$1_48.get_decimalField()){$1.GrandTotal.Amount=$p1;}if($p0!==this.$1_48.get_decimalField()){this.$1_21($1,this.$1_48);this.$1_23($0);}}if($p0!==this.$1_48.get_decimalField()){this.$1_1F(this.$1_48);}else{this.$1_4D.show(this.$1_48.getEl());}},$1_1C:function(){var $0=this.$1_42.getValue()!=null&&this.$1_45.getValue()!=null&&this.$1_48.getValue()!=null;if(this.get_$1_1()){$0=$0&&this.$1_43.getValue()!=null&&this.$1_44.getValue()!=null;}if(this.$1_34!=null){$0=$0&&this.$1_47.getValue()!=null&&this.$1_46.getValue()!=null;}return $0&&this.$1_1D();},$1_1D:function(){var $0=this.$1_2E.Total.Currency;var $1=LxnBase.Data.Reference.equals(this.$1_42.get_currency(),$0)&&LxnBase.Data.Reference.equals(this.$1_45.get_currency(),$0)&&LxnBase.Data.Reference.equals(this.$1_48.get_currency(),$0);if(this.get_$1_1()){$1=$1&&LxnBase.Data.Reference.equals(this.$1_43.get_currency(),$0)&&LxnBase.Data.Reference.equals(this.$1_44.get_currency(),$0);}if(this.$1_34!=null){$1=$1&&LxnBase.Data.Reference.equals(this.$1_46.get_currency(),$0)&&LxnBase.Data.Reference.equals(this.$1_47.get_currency(),$0);}return $1;},$1_1E:function($p0){this.$1_1F($p0);for(var $0=0;$0<this.$1_30.length;$0++){var $1=this.$1_30[$0];if(this.$1_20($1)){this.$1_21($1,$p0);this.$1_23($0);}}this.$1_49.focus();this.$1_4F=true;if(this.$1_50){this.$1_50=false;this.save();}},$1_1F:function($p0){this.$1_55=$p0;if($p0===this.$1_42){this.$1_42.set_amount(this.$1_48.get_amount()-this.$1_2E.Total.Amount-this.$1_43.get_amount()+this.$1_45.get_amount()+this.$1_47.get_amount()+this.$1_46.get_amount()+this.$1_44.get_amount());}else if($p0===this.$1_43){this.$1_43.set_amount(this.$1_48.get_amount()-this.$1_2E.Total.Amount-this.$1_42.get_amount()+this.$1_45.get_amount()+this.$1_47.get_amount()+this.$1_46.get_amount()+this.$1_44.get_amount());}else if($p0===this.$1_44){this.$1_44.set_amount(this.$1_2E.Total.Amount+this.$1_42.get_amount()+this.$1_43.get_amount()-this.$1_48.get_amount()-this.$1_47.get_amount()-this.$1_46.get_amount()-this.$1_45.get_amount());}else if($p0===this.$1_45){this.$1_45.set_amount(this.$1_2E.Total.Amount+this.$1_42.get_amount()+this.$1_43.get_amount()-this.$1_48.get_amount()-this.$1_47.get_amount()-this.$1_46.get_amount()-this.$1_44.get_amount());}else if($p0===this.$1_46){this.$1_46.set_amount(this.$1_2E.Total.Amount+this.$1_42.get_amount()+this.$1_43.get_amount()-this.$1_48.get_amount()-this.$1_45.get_amount()-this.$1_47.get_amount()-this.$1_44.get_amount());}else if($p0===this.$1_47){this.$1_47.set_amount(this.$1_2E.Total.Amount+this.$1_42.get_amount()+this.$1_43.get_amount()-this.$1_48.get_amount()-this.$1_45.get_amount()-this.$1_46.get_amount()-this.$1_44.get_amount());}else if($p0===this.$1_48){this.$1_48.set_amount(this.$1_2E.Total.Amount+this.$1_42.get_amount()+this.$1_43.get_amount()-this.$1_45.get_amount()-this.$1_47.get_amount()-this.$1_46.get_amount()-this.$1_44.get_amount());}},$1_20:function($p0){var $0=this.$1_2E.Total.Currency;var $1=LxnBase.Data.Reference.equals($p0.ServiceFee.Currency,$0)&&LxnBase.Data.Reference.equals($p0.Discount.Currency,$0)&&LxnBase.Data.Reference.equals($p0.GrandTotal.Currency,$0);if(this.$1_34!=null){var $2=$p0;$1=$1&&LxnBase.Data.Reference.equals($2.RefundServiceFee.Currency,$0)&&LxnBase.Data.Reference.equals($2.ServiceFeePenalty.Currency,$0);}return $1;},$1_21:function($p0,$p1){var $0=0;var $1=null;if(this.$1_34!=null){$1=$p0;$0=$1.ServiceFeePenalty.Amount+$1.RefundServiceFee.Amount;}var $2=0;var $3=0;if(this.get_$1_1()){$2=$p0.Handling.Amount;$3=$p0.CommissionDiscount.Amount;}if($p1===this.$1_42){$p0.ServiceFee.Amount=$p0.GrandTotal.Amount-$p0.Total.Amount-$2+$3+$p0.Discount.Amount+$0;}if($p1===this.$1_43){$p0.Handling.Amount=$p0.GrandTotal.Amount-$p0.Total.Amount-$p0.ServiceFee.Amount+$3+$p0.Discount.Amount+$0;}if($p1===this.$1_44){$p0.CommissionDiscount.Amount=$p0.GrandTotal.Amount-$p0.Total.Amount-$2-$p0.ServiceFee.Amount+$p0.Discount.Amount+$0;}else if($p1===this.$1_45){$p0.Discount.Amount=$p0.Total.Amount+$p0.ServiceFee.Amount+$2-$3-$p0.GrandTotal.Amount-$0;}else if($1!=null&&$p1===this.$1_46){$1.RefundServiceFee.Amount=$1.Total.Amount+$1.ServiceFee.Amount+$2-$3-$1.GrandTotal.Amount-$1.Discount.Amount-$1.ServiceFeePenalty.Amount;}else if($1!=null&&$p1===this.$1_47){$1.ServiceFeePenalty.Amount=$1.Total.Amount+$1.ServiceFee.Amount+$2-$3-$1.GrandTotal.Amount-$1.Discount.Amount-$1.RefundServiceFee.Amount;}else if($p1===this.$1_48){$p0.GrandTotal.Amount=$p0.Total.Amount+$p0.ServiceFee.Amount+$2-$3-$p0.Discount.Amount-$0;}},$1_22:function($p0){if(this.$1_2E.Id===$p0.Id){return false;}var $0=(this.$1_34!=null)?$p0:null;for(var $7=0;$7<this.$1_30.length;$7++){if(this.$1_30[$7].Id===$p0.Id){return false;}}this.$1_30[this.$1_30.length]=$p0;var $1=$p0.Total.Currency;if(ss.isNullOrUndefined($p0.ServiceFee)){$p0.ServiceFee=Luxena.Travel.MoneyDto.getZeroMoney($1);}if(this.get_$1_1()&&ss.isNullOrUndefined($p0.Handling)){$p0.Handling=Luxena.Travel.MoneyDto.getZeroMoney($1);}if(this.get_$1_1()&&ss.isNullOrUndefined($p0.CommissionDiscount)){$p0.CommissionDiscount=Luxena.Travel.MoneyDto.getZeroMoney($1);}if(ss.isNullOrUndefined($p0.Discount)){$p0.Discount=Luxena.Travel.MoneyDto.getZeroMoney($1);}if($0!=null){if(ss.isNullOrUndefined($0.RefundServiceFee)){$0.RefundServiceFee=Luxena.Travel.MoneyDto.getZeroMoney($1);}if(ss.isNullOrUndefined($0.ServiceFeePenalty)){$0.ServiceFeePenalty=Luxena.Travel.MoneyDto.getZeroMoney($1);}}if(ss.isNullOrUndefined($p0.GrandTotal)){$p0.GrandTotal=Luxena.Travel.MoneyDto.getZeroMoney($1);$p0.GrandTotal.Amount=$p0.Total.Amount;if(this.$1_20($p0)){$p0.GrandTotal.Amount+=$p0.ServiceFee.Amount-$p0.Discount.Amount;if(this.get_$1_1()){$p0.GrandTotal.Amount+=$p0.Handling.Amount;}if($0!=null){$p0.GrandTotal.Amount-=$0.RefundServiceFee.Amount-$0.ServiceFeePenalty.Amount;}}}if(this.$1_55!=null&&this.$1_20($p0)){if(this.$1_42!==this.$1_55){$p0.ServiceFee=this.$1_42.getValue();}if(this.$1_43!==this.$1_55){$p0.Handling=this.$1_43.getValue();}if(this.$1_44!==this.$1_55){$p0.CommissionDiscount=this.$1_44.getValue();}if(this.$1_45!==this.$1_55){$p0.Discount=this.$1_45.getValue();}if(this.$1_48!==this.$1_55){$p0.GrandTotal=this.$1_48.getValue();}if($0!=null){if(this.$1_46!==this.$1_55){$0.RefundServiceFee=this.$1_46.getValue();}if(this.$1_47!==this.$1_55){$0.ServiceFeePenalty=this.$1_47.getValue();}}this.$1_21($p0,this.$1_55);}var $2=($p0.RequiresProcessing)?'textColor-red':(($p0.IsVoid)?'textColor-gray':'');var $3=(ss.isNullOrUndefined($p0.Number))?$p0.Name:String.format('{0}&nbsp;&nbsp;&nbsp;{1}',$p0.Name,$p0.PassengerName);var $4=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel($3).checked_($p0.RequiresProcessing).handler(ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_1){this.$1_33.add($p0);}else{this.$1_33.remove($p0);}})).listeners({render:function($p1_0){
($p1_0).getEl().addClass($2);}}).toDictionary());var $5=new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('totals '+$2).toDictionary());var $6=new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('finance').toDictionary());this.$1_31[this.$1_31.length]=$5;this.$1_32[this.$1_32.length]=$6;this.$1_23(this.$1_30.length-1);this.$1_52.add($4);this.$1_52.add($5);this.$1_52.add($6);if($p0.RequiresProcessing){this.$1_33.add($p0);}return true;},$1_23:function($p0){var $0=this.$1_30[$p0];var $1=this.$1_31[$p0];var $2=String.format('<div>{0}</div>',Luxena.Travel.MoneyDto.toMoneyFullString($0.GrandTotal));if($1.rendered){$1.getEl().update($2);}else{$1.autoEl={html:$2};}$1=this.$1_32[$p0];$2=(this.$1_34==null)?String.format(Luxena.Travel.Res.addedAviaDocumentFinanceData_Format,Luxena.Travel.MoneyDto.toMoneyFullString($0.Total),Luxena.Travel.MoneyDto.toMoneyFullString($0.ServiceFee),Luxena.Travel.MoneyDto.toMoneyFullString($0.Discount)):String.format(Luxena.Travel.Res.addedAviaRefundFinanceData_Format,Luxena.Travel.MoneyDto.toMoneyFullString($0.Total),Luxena.Travel.MoneyDto.toMoneyFullString($0.ServiceFee),Luxena.Travel.MoneyDto.toMoneyFullString($0.Discount),Luxena.Travel.MoneyDto.toMoneyFullString(($0).RefundServiceFee),Luxena.Travel.MoneyDto.toMoneyFullString(($0).ServiceFeePenalty));$2='<div>'+$2+'</div>';if($1.rendered){$1.getEl().update($2);}else{$1.autoEl={html:$2};}},$1_24:function($p0){Luxena.Travel.Services.AviaService.GetAviaDocumentForHandlingByNumber($p0,this.$1_37,ss.Delegate.create(this,function($p1_0){
if($p1_0==null){LxnBase.UI.MessageBoxWrap.show({msg:String.format(Luxena.Travel.Res.noDocumentFound_Text,$p0),buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.WARNING});return;}if(this.$1_22($p1_0)){this.$1_52.doLayout();this.get_window().getEl().enableShadow(true);}}),null);},$1_25:function(){var $0=[];$0.add(LxnBase.UI.PropertyFilterExtention.createFilter('Type',LxnBase.Data.FilterOperator.isIn,[this.$1_2E.Type],false));$0.add(LxnBase.UI.PropertyFilterExtention.createFilter('RequiresProcessing',LxnBase.Data.FilterOperator.equals,true,false));if(Luxena.Travel.AppManager.get_currentPerson().Name!=null){$0.add(LxnBase.UI.PropertyFilterExtention.createFilter('Seller',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false));}var $1=new LxnBase.Data.RangeRequest();$1.sort='IssueDate';$1.dir='DESC';$1.Filters=$0;LxnBase.UI.FormsRegistry.selectObjects('AviaDocument',$1,false,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess($1_0,this.$1_37,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;for(var $2_1=0;$2_1<$2_0.length;$2_1++){this.$1_22($2_0[$2_1]);}this.$1_52.doLayout();this.get_window().getEl().enableShadow(true);}),null);}),null);},$1_26:function(){var $0=[];$0.add(LxnBase.UI.PropertyFilterExtention.createFilter('Type',LxnBase.Data.FilterOperator.isIn,[this.$1_2E.Type],false));if(Luxena.Travel.AppManager.get_currentPerson().Name!=null){$0.add(LxnBase.UI.PropertyFilterExtention.createFilter('Seller',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false));}var $1=new LxnBase.Data.RangeRequest();$1.sort='IssueDate';$1.dir='DESC';$1.Filters=$0;LxnBase.UI.FormsRegistry.selectObjects('AviaDocument',$1,false,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess($1_0,this.$1_37,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;for(var $2_1=0;$2_1<$2_0.length;$2_1++){this.$1_22($2_0[$2_1]);}this.$1_52.doLayout();this.get_window().getEl().enableShadow(true);}),null);}),null);},$1_27:function(){var $0=new LxnBase.Data.RangeRequest();$0.sort='IssueDate';$0.dir='DESC';$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Type',LxnBase.Data.FilterOperator.isIn,[this.$1_2E.Type],false)];LxnBase.UI.FormsRegistry.selectObjects('AviaDocument',$0,false,ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess($1_0,this.$1_37,ss.Delegate.create(this,function($p2_0){
var $2_0=$p2_0;for(var $2_1=0;$2_1<$2_0.length;$2_1++){this.$1_22($2_0[$2_1]);}this.$1_52.doLayout();this.get_window().getEl().enableShadow(true);}),null);}),null);},$1_28:function($p0,$p1){if(!$p1.shiftKey&&$p1.ctrlKey&&!$p1.altKey){$p1.stopEvent();this.$1_4E=false;this.$1_4B.focus();if(this.$1_4D.isVisible()){this.$1_50=true;}else{this.save();}return;}if(!$p1.shiftKey&&!$p1.ctrlKey&&$p1.altKey){$p1.stopEvent();this.$1_4E=true;this.$1_4A.focus();if(this.$1_4D.isVisible()){this.$1_50=true;}else{this.save();}}},$1_29:function(){var $0=new Luxena.Travel.PenalizeOperationEditForm(this.$1_35.PenalizeOperations,this.$1_35.SegmentCount>1);$0.add_saved(ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;this.$1_35.PenalizeOperations=$1_0;}));$0.add_close(ss.Delegate.create(this,function(){
this.$1_54.focus();}));$0.open();},$1_2B:function($p0,$p1,$p2){if(this.$1_4F){return;}var $0=$p1;if($0!=null){var $1=(($p0).store).getById($0[LxnBase.Data.Reference.IdPos]);var $2=$1.get('Customer');this.$1_4F=true;this.$1_3E.setValue($2);this.$1_4F=false;}},$1_2C:function($p0,$p1,$p2){if(this.$1_4F||$p1===$p2||this.$1_5C.getValue()==null){return;}var $0=$p2;var $1=$p1;if($0!=null&&$1!=null&&$0[0]===$1[0]){return;}LxnBase.UI.MessageBoxWrap.confirm(Luxena.Travel.Res.confirmation,Luxena.Travel.Res.aviaDocumentProcessForm_CustomerChanged,ss.Delegate.create(this,function($p1_0,$p1_1){
this.$1_4F=true;if($p1_0==='yes'){this.$1_5C.setValue(null);}else{this.$1_3E.setValue($p2);}this.$1_4F=false;}));},$1_2D:null,$1_2E:null,$1_2F:null,$1_30:null,$1_31:null,$1_32:null,$1_33:null,$1_34:null,$1_35:null,$1_36:null,$1_37:null,$1_38:null,$1_39:null,$1_3A:null,$1_3B:null,$1_3C:null,$1_3D:null,$1_3E:null,$1_3F:null,$1_40:null,$1_41:null,$1_42:null,$1_43:null,$1_44:null,$1_45:null,$1_46:null,$1_47:null,$1_48:null,$1_49:null,$1_4A:null,$1_4B:null,$1_4C:null,$1_4D:null,$1_4E:false,$1_4F:false,$1_50:false,$1_51:null,$1_52:null,$1_53:null,$1_54:null,$1_55:null,$1_56:null,$1_57:null,$1_58:null,$1_59:null,$1_5A:null,$1_5B:null,$1_5C:null}
Luxena.Travel.GdsFileListTab=function(tabId,args){Luxena.Travel.GdsFileListTab.initializeBase(this,[tabId,args]);}
Luxena.Travel.GdsFileListTab.prototype={preInitialize:function(){Luxena.Travel.GdsFileListTab.callBaseMethod(this, 'preInitialize');this.entity=this.se=this.dsm.$39;},se:null,onInitGrid:function(args,config){Luxena.Travel.GdsFileListTab.callBaseMethod(this, 'onInitGrid',[args,config]);if(args.baseRequest==null){args.baseRequest=new LxnBase.Data.RangeRequest();}if(args.baseRequest.sort==null){args.baseRequest.sort='TimeStamp';args.baseRequest.dir='DESC';args.baseRequest.HiddenProperties=['Content'];}},createColumnConfigs:function(){this.addColumns([this.se.TimeStamp,this.se.Name,this.se.FileType,this.se.ImportResult,this.se.ImportOutput,this.se.Content.toColumn(true),this.se.CreatedOn,this.se.CreatedBy,this.se.ModifiedOn,this.se.ModifiedBy]);},onAddToolbarButtons:function(toolbarItems,autoGrid){var $0=this.getOperationStatus('ReimportGdsDocuments');if(!$0.Visible){return;}this.$7_7=new Ext.Button(new Ext.ButtonConfig().text(Luxena.Travel.Res.gdsFile_Reimport_Text).handler(ss.Delegate.create(this,this.$7_6)).disabled($0.IsDisabled).custom('tooltip',$0.DisableInfo).toDictionary());toolbarItems.add(new Ext.Toolbar.Separator());toolbarItems.add(this.$7_7);},$7_6:function(){var $0=this.get_autoGrid().get_selectionModel().getSelections();var $1=[];for(var $2=0;$2<$0.length;$2++){$1.add($0[$2].id);}Luxena.Travel.Services.GdsFileService.Reimport($1,this.get_autoGrid().store.baseParams,ss.Delegate.create(this,function($p1_0){
var $1_0=($p1_0)[1];(this.get_autoGrid().store.proxy).setResponse($1_0);this.get_autoGrid().reload(false);var $1_1=($p1_0)[0];var $1_2=LxnBase.StringUtility.getNumberText($1_1.length,Luxena.Travel.Res.gdsFile_Imported1,Luxena.Travel.Res.gdsFile_Imported2,Luxena.Travel.Res.gdsFile_Imported3);if(ss.isNullOrUndefined($1_0.SelectedRow)){LxnBase.MessageRegister.info(this.get_autoGrid().get_listConfig().Caption,$1_2,LxnBase.BaseRes.autoGrid_NotDisplay_Msg);}else{LxnBase.MessageRegister.info(this.get_autoGrid().get_listConfig().Caption,$1_2);this.get_autoGrid().get_selectionModel().selectRow($1_0.SelectedRow);}}),null);},$7_7:null}
Luxena.Travel.AviaDocumentEditForm=function(){Luxena.Travel.AviaDocumentEditForm.initializeBase(this);}
Luxena.Travel.AviaDocumentEditForm.prototype={open:function(){if(ss.isValue(this._args.idToLoad)){Luxena.Travel.Services.AviaService.GetAviaDocument(this._args.idToLoad,this._args.type,true,ss.Delegate.create(this,this.onLoad),null);}else{this.onLoad(null);}},getNameBy:function(data){var $0=data;return String.format('{0}-{1}',$0.AirlinePrefixCode,$0.Number);}}
Luxena.Travel.OrganizationViewForm=function(tabId,organizationId){Luxena.Travel.OrganizationViewForm.initializeBase(this,[tabId,organizationId,'Organization']);this.listCaption=Luxena.Travel.DomainRes.organization_Caption_List;}
Luxena.Travel.OrganizationViewForm.viewObject=function(type,id,newTab){LxnBase.UI.Tabs.open(newTab,id,function($p1_0){
return new Luxena.Travel.OrganizationViewForm($p1_0,id);});}
Luxena.Travel.OrganizationViewForm.prototype={createModel:function(){return new Luxena.Travel.OrganizationModel();},initModel:function(){Luxena.Travel.OrganizationViewForm.callBaseMethod(this, 'initModel');(this.model).AddEmployee=ss.Delegate.create(this,function(){
this.addDetail('Person','Organization');});(this.model).AddDepartment=ss.Delegate.create(this,function(){
this.addDetail('Department','Organization');});},getParty:function(id){Luxena.Travel.Services.PartyService.getObject1('Organization',id,ss.Delegate.create(this,this.setParty),ss.Delegate.create(this,function(){
this.close();}));}}
Type.registerNamespace('Luxena.Travel.Controls');Luxena.Travel.Controls.PropertyType=function(){};Luxena.Travel.Controls.PropertyType.prototype = {string:0,bool:1,date:2,number:3,money:4,objectInfo:5,enumType:6}
Luxena.Travel.Controls.PropertyType.registerEnum('Luxena.Travel.Controls.PropertyType',false);Luxena.Travel.Controls.$create_MoneyControlArgs=function(){return {};}
Luxena.Travel.Controls.AutoListTabExt2=function(tabId,args){this.columnConfigs=[];this.toolbarActions=[];Luxena.Travel.Controls.AutoListTabExt2.initializeBase(this,[tabId,args]);}
Luxena.Travel.Controls.AutoListTabExt2.registerList=function(className,tabType){LxnBase.UI.FormsRegistry.registerList(className,function($p1_0,$p1_1){
Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType(tabType,$p1_0,$p1_1);});}
Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType=function(type,args,newTab){LxnBase.UI.Tabs.open(newTab,args.type,function($p1_0){
return new type($p1_0,args);},args.baseRequest);}
Luxena.Travel.Controls.AutoListTabExt2.listObjectsOfType2=function(type,tabId_,args,newTab){LxnBase.UI.Tabs.open(newTab,tabId_,function($p1_0){
return new type($p1_0,args);},args.baseRequest);}
Luxena.Travel.Controls.AutoListTabExt2.getDictionaryKeys=function(dictionary){if(dictionary==null){return null;}var $0=[];var $dict1=dictionary;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0.add($1.key);}return $0;}
Luxena.Travel.Controls.AutoListTabExt2.getDictionaryValues=function(dictionary){if(dictionary==null){return null;}var $0=[];var $dict1=dictionary;for(var $key2 in $dict1){var $1={key:$key2,value:$dict1[$key2]};$0.add($1.value);}return $0;}
Luxena.Travel.Controls.AutoListTabExt2.prototype={onLoad:function(){this.get_autoGrid().on('beforerender',ss.Delegate.create(this,this.$7_4));this._baseParams=this.get_autoGrid().store.baseParams;Luxena.Travel.Controls.AutoListTabExt2.callBaseMethod(this, 'onLoad');},$7_4:function($p0){this.get_autoGrid().store.on('load',ss.Delegate.create(this,this.onStoreLoad));},onStoreLoad:function(sender,records,options){},onInitGrid:function(args,config){Luxena.Travel.Controls.AutoListTabExt2.callBaseMethod(this, 'onInitGrid',[args,config]);if(args.baseRequest==null){args.baseRequest=new LxnBase.Data.RangeRequest();}this.preInitialize();this.initialize();this.postInitialize();this.createColumnConfigs();args.columnsConfig=this.columnConfigs;},preInitialize:function(){},initialize:function(){},postInitialize:function(){},addColumns:function(views){var $enum1=ss.IEnumerator.getEnumerator(views);while($enum1.moveNext()){var $0=$enum1.current;var $1=Type.safeCast($0,Luxena.Travel.SemanticMember);this.columnConfigs.add(($1!=null)?$1.toColumn():$0);}},create:function(type){this.get_autoGrid().create(type);},handleKeyEvent:function(keyEvent){var $0=keyEvent.which;var $1=keyEvent.ctrlKey||keyEvent.shiftKey||keyEvent.altKey;var $2=Ext.EventObject;if($0===$2['ENTER']&&!keyEvent.ctrlKey&&!keyEvent.shiftKey&&keyEvent.altKey){keyEvent.preventDefault();keyEvent.stopPropagation();this.handleAltEnterPress();return true;}if($0===$2['INSERT']&&!$1){keyEvent.preventDefault();keyEvent.stopPropagation();this.handleInsertPress();return true;}return Luxena.Travel.Controls.AutoListTabExt2.callBaseMethod(this, 'handleKeyEvent',[keyEvent]);},handleAltEnterPress:function(){},handleInsertPress:function(){},$7_5:function($p0){this.toolbarActions.add($p0);return $p0;},action:function(title_,handler,disabled_,tooltip){var $0=new Ext.ActionConfig().text(title_).handler(handler);if(ss.isValue(disabled_)){$0=$0.disabled(disabled_);}if(ss.isValue(tooltip)){$0=$0.custom('tooltip',tooltip);}return this.$7_5(new Ext.Action($0.toDictionary()));},menuAction:function(title_,items_,disabled_){var $0=new Ext.ActionConfig().text(title_).custom('menu',new Ext.menu.Menu(new Ext.menu.MenuConfig().items(items_).toDictionary()));if(!ss.isNullOrUndefined(disabled_)){$0=$0.disabled(disabled_);}return this.$7_5(new Ext.Action($0.toDictionary()));},menuItem:function(title_,handler){return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(handler).toDictionary());},menuCreateItem:function(title_,type){return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(ss.Delegate.create(this,function(){
this.create(type);})).toDictionary());},menuCreateItem2:function(title_,create,type){return new Ext.menu.Item(new Ext.menu.ItemConfig().text(title_).handler(function(){
create(type);}).toDictionary());},toolbarSeparator:function(){this.toolbarActions.add(new Ext.Toolbar.Separator());},_baseParams:null}
Luxena.Travel.Controls.PropertyListControl=function(config){Luxena.Travel.Controls.PropertyListControl.initializeBase(this,[config.setCssClass('property-list-control').border(false).toDictionary()]);this.$5_3=config.get_propertyListItems();}
Luxena.Travel.Controls.PropertyListControl.$5_1=function($p0,$p1,$p2){var $0='';if(!ss.isNullOrUndefined($p0.renderer)){var $1=$p0.renderer;$1($p0,$p1,$p2);}else{if(ss.isNullOrUndefined($p0.type)){$p0.type=(ss.isNullOrUndefined($p0.enumType))?0:6;}switch($p0.type){case 0:$0=(ss.isNullOrUndefined(($p1).Name))?$p1.toString():($p1).Name;break;case 1:$0=($p1)?"<div class='checkBoxDisabled checked'></div>":"<div class='checkBoxDisabled'></div>";break;case 2:$0=($p1).format($p0.format||'d.m.Y');break;case 3:$0=($p1).format($p0.format||'N2');break;case 4:$0=Luxena.Travel.MoneyDto.toMoneyFullString($p1);break;case 5:$0=Luxena.Travel.Controls.PropertyListControl.$5_2($p1);break;case 6:$0=LxnBase.EnumUtility.localize($p0.enumType,$p1,Luxena.Travel.DomainRes);break;}if(!String.isNullOrEmpty($0)){$p2.html($0);}}}
Luxena.Travel.Controls.PropertyListControl.$5_2=function($p0){if(ss.isNullOrUndefined($p0)){return '';}if(ss.isNullOrUndefined($p0.Id)){return $p0.Name;}return LxnBase.UI.Controls.ObjectLink.renderInfo($p0);}
Luxena.Travel.Controls.PropertyListControl.prototype={loadInstance:function(instance){this.$5_4=instance;for(var $0=this.body.dom.children.length-1;$0>=0;$0--){this.body.dom.removeChild(this.body.dom.children[$0]);}this.body.dom.appendChild(this.$5_0());},$5_0:function(){var $0=$('<table></table>');for(var $2=0;$2<this.$5_3.length;$2++){var $3=this.$5_3[$2];var $4=(String.isNullOrEmpty($3.fieldName))?null:this.$5_4[$3.fieldName];if(!String.isNullOrEmpty($3.fieldName)&&((ss.isNullOrUndefined($4)||Type.canCast($4,Array)&&!($4).length)&&$3.hideIsEmpty)){continue;}var $5=$('<tr></tr>');var $6=$3.getRowCssClass($4);if(!String.isNullOrEmpty($6)){$5.addClass($6);}$5.append(String.format("<td class='fieldLabel'>{0}:</td>",$3.fieldLabel));var $7=$("<td class='fieldValue'></td>");Luxena.Travel.Controls.PropertyListControl.$5_1($3,$4,$7);$5.append($7);$0.append($5);}var $1=$("<div class='item-list'></div>").append($0);return $1.get(0);},$5_3:null,$5_4:null}
Luxena.Travel.Controls.AutoListTabExt=function(tabId,args){Luxena.Travel.Controls.AutoListTabExt.initializeBase(this,[tabId,args]);}
Luxena.Travel.Controls.AutoListTabExt.listObjects=function(args,newTab){LxnBase.UI.Tabs.open(newTab,args.type,function($p1_0){
return new Luxena.Travel.Controls.AutoListTabExt($p1_0,args);},args.baseRequest);}
Luxena.Travel.Controls.AutoListTabExt.prototype={get_listConfig:function(){return this.$7_2;},get_gridArgs:function(){return this.$7_3;},get_selectedRecord:function(){return (this.get_autoGrid().getSelectionModel()).getSelected();},onInitGrid:function(args,config){this.$7_3=args;this.$7_2=args.listConfig;config.stateful(true).stateId(String.format('{0}_{1}_List',Luxena.Travel.AppManager.get_currentUser().Name,this.get_listArgs().type)).listeners({beforestaterestore:ss.Delegate.create(this,this.$7_1)});args.add_createActionToolbar(ss.Delegate.create(this,this.$7_0));},$7_0:function($p0,$p1){var $0=$p0;var $1=$p1;this.onAddToolbarButtons($0,$1);},$7_1:function($p0,$p1){if(ss.isNullOrUndefined($p1)){return;}var $0=$p1.columns;if(ss.isValue($0)){for(var $2=$0.length-1;$2>=0;$2--){var $3=$0[$2];if($3.id!=='checker'&&$3.id!=='Id'&&ss.isNullOrUndefined(this.tryGetColumnConfigByName($3.id))){$0.removeAt($2);}else if(ss.isNullOrUndefined($3.sortable)){$3.sortable=true;}}}var $1=$p1.sort;if(ss.isValue($1)){var $4=$1.field;if(ss.isValue($4)&&ss.isNullOrUndefined(this.tryGetColumnConfigByName($4))){$p1.sort=null;}}},onLoad:function(){this.get_autoGrid().get_selectionModel().on('selectionchange',ss.Delegate.create(this,this.onSelectionChange));},onAddToolbarButtons:function(toolbarItems,autoGrid){},onSelectionChange:function(selectionModel){},getOperationStatus:function(actionName){var $0=this.$7_2.CustomActionPermissions;if(ss.isValue($0)&&Object.keyExists($0,actionName)){return $0[actionName];}var $1=new LxnBase.Data.OperationStatus();$1.Visible=true;$1.IsDisabled=false;return $1;},tryGetColumnConfigByName:function(name){var $0=this.$7_2.Columns;var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.current;if($1.Name===name){return $1;}}return null;},getColumnConfigByName:function(name){var $0=this.tryGetColumnConfigByName(name);if(ss.isNullOrUndefined($0)){throw new Error('Unknown column "'+name+'"');}return $0;},columnCfg:function(name,isHidden,elWidth,renderer,initAction){return this.columnCfg_(name,isHidden,elWidth,renderer,initAction).toDictionary();},columnCfg_:function(name,isHidden,elWidth,renderer,initAction){var $0=this.getColumnConfigByName(name);var $1=new Ext.grid.ColumnConfig().id($0.Name).header((!String.isNullOrEmpty($0.Caption))?$0.Caption:$0.Name).sortable($0.IsPersistent).dataIndex($0.Name).hidden(isHidden);if(ss.isNullOrUndefined(renderer)){renderer=LxnBase.UI.AutoControls.ControlFactory.createRenderer($0);}if(renderer!=null){$1.renderer(renderer);}if(ss.isValue(elWidth)){$1.width(elWidth);}if(ss.isValue(initAction)){initAction($1);}return $1;},createReferenceCfg:function(name,isHidden,elWidth){return this.columnCfg(name,isHidden,elWidth,LxnBase.UI.AutoControls.ControlFactory.createRefrenceRenderer(this.get_gridArgs().type));},$7_2:null,$7_3:null}
Luxena.Travel.Controls.MoneyControlCalculator=function(){this.$0=[];this.$1=[];}
Luxena.Travel.Controls.MoneyControlCalculator.prototype={add:function(control,multiplier){if(control!=null){this.$0.add(control);this.$1.add(multiplier);}return this;},recalculate:function(field){var $0=field;if(!this.has($0)&&!Luxena.Travel.Controls.MoneyControl.canCalculate(this.$0)){return;}var $1=0;var $2=1;for(var $3=0;$3<this.$0.length;$3++){if(this.$0[$3]===$0){$2=this.$1[$3];continue;}$1+=(this.$0[$3]).get_amount()*this.$1[$3];}$1/=-$2;$0.set_amount($1);},has:function(control){var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $0=$enum1.current;if(control===$0){return true;}}return false;}}
Luxena.Travel.Controls.MoneyControlConfig=function(){Luxena.Travel.Controls.MoneyControlConfig.initializeBase(this);this.$5_0=Luxena.Travel.Controls.$create_MoneyControlArgs();this.$5_0.allowBlank=true;this.o['_args']=this.$5_0;}
Luxena.Travel.Controls.MoneyControlConfig.defaultConfig=function(fieldLabel,useDefautZero){var $0=new Luxena.Travel.Controls.MoneyControlConfig().setDefaultCurrency(Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency).fieldLabel(fieldLabel);if(Luxena.Travel.AppManager.get_systemConfiguration().UseDefaultCurrencyForInput){$0.setIsCurrencyReadOnly(true);}if(!ss.isNullOrUndefined(useDefautZero)){$0.setInitValue(Luxena.Travel.MoneyDto.getZeroMoney());}return $0;}
Luxena.Travel.Controls.MoneyControlConfig.prototype={setInitValue:function(money){this.$5_0.initValue=Luxena.Travel.MoneyDto.copyMoney(money);return this;},setDefaultCurrency:function(currency){this.$5_0.defaultCurrency=LxnBase.Data.Reference.copy(currency);return this;},setIsCurrencyReadOnly:function(readOnly){this.$5_0.isCurrencyReadonly=readOnly;return this;},setOnChangeMenu:function(config){this.$5_0.menuConfig=config;return this;},setAmountChangeHandler:function(onChange){this.$5_0.amountChangeHandler=onChange;return this;},setAllowBlank:function(allowBlank){this.$5_0.allowBlank=allowBlank;return this;},$5_0:null}
Luxena.Travel.Controls.MoneyControl=function(config){Luxena.Travel.Controls.MoneyControl.initializeBase(this,[config.toDictionary()]);}
Luxena.Travel.Controls.MoneyControl.canCalculate=function(controls){if(controls==null||!controls.length){return false;}var $0=controls[0].get_currency();for(var $1=1;$1<controls.length;$1++){var $2=controls[$1];if(!LxnBase.Data.Reference.equals($2.get_currency(),$0)){return false;}}return true;}
Luxena.Travel.Controls.MoneyControl.prototype={initComponent:function(){if(!ss.isValue(this._args.defaultCurrency)){if(ss.isValue(this._args.initValue)){this._args.defaultCurrency=LxnBase.Data.Reference.copy(this._args.initValue.Currency);}else{this._args.defaultCurrency=LxnBase.Data.Reference.copy(Luxena.Travel.AppManager.get_systemConfiguration().DefaultCurrency);}}this.$4_2=new LxnBase.UI.Controls.DecimalField(new Ext.form.NumberFieldConfig().cls('money-amount').decimalSeparator(',').baseChars('0123456789.').selectOnFocus(true).value(0).listeners({focus:ss.Delegate.create(this,function(){
this.fireEvent('focus');}),change:ss.Delegate.create(this,this.$4_1)}).allowBlank(this._args.allowBlank).toDictionary());if(this.get_$4_0()){this.$4_5=new Ext.form.Label(new Ext.form.LabelConfig().text(this._args.defaultCurrency.Name).cls('money-currency').toDictionary());}else{this.$4_3=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Currency').hideLabel(true).cls('money-currency').selectOnFocus(true).allowBlank(this._args.allowBlank).forceSelection(true));}if(ss.isValue(this._args.initValue)){this.setValue(this._args.initValue);}else if(!this.get_$4_0()&&this._args.defaultCurrency!=null){this.$4_3.setValue(this._args.defaultCurrency);}if(this._args.menuConfig!=null){this._args.menuConfig.cls('simple-menu').listeners({beforeshow:ss.Delegate.create(this,function(){
this.$4_6.tryActivate(0);})});this.$4_6=new Ext.menu.Menu(this._args.menuConfig.toDictionary());}Luxena.Travel.Controls.MoneyControl.callBaseMethod(this, 'initComponent');},get_decimalField:function(){return this.$4_2;},get_currencySelector:function(){return this.$4_3;},get_amount:function(){var $0=this.getValue();return ($0!=null)?$0.Amount:0;},set_amount:function(value){this.$4_2.setValue(value);return value;},get_currency:function(){var $0=this.getValue();return ($0!=null)?$0.Currency:null;},set_currency:function(value){if(!this.get_$4_0()){this.$4_3.setValue(value);}else{this.$4_7=LxnBase.Data.Reference.copy(value);this.$4_5.setText(value.Name);}return value;},get_$4_0:function(){return this._args.isCurrencyReadonly&&this._args.defaultCurrency!=null;},onRender:function(container,position){var $0=(ss.isUndefined(position))?null:position;if(ss.isNullOrUndefined(this.el)){var $1=[];$1.add(this.$4_2);if(this.get_$4_0()){$1.add(this.$4_5);}else{$1.add(this.$4_3.get_widget());}var $2=new Ext.PanelConfig().id(this.id).renderTo(container).items($1).cls('money-control').layout('column');if(this.get_$4_0()){$2.width(120);}this.$4_4=new Ext.Panel($2.toDictionary());this.el=this.$4_4.getEl();}Luxena.Travel.Controls.MoneyControl.callBaseMethod(this, 'onRender',[container,$0]);},focus:function(){this.$4_2.focus();},setVisible:function(visible){this.$4_2.setVisible(visible);if(!this.get_$4_0()){this.$4_3.get_widget().setVisible(visible);if(this.$4_3.get_widget().rendered){new Ext.Element(this.$4_3.get_widget().getEl().findParent('.x-form-field-trigger-wrap')).setStyle('width','');}}Luxena.Travel.Controls.MoneyControl.callBaseMethod(this, 'setVisible',[visible]);},setValue:function(money){if(ss.isNullOrUndefined(money)){this.$4_2.setValue(null);if(!this.get_$4_0()){this.$4_3.setValue(null);}return;}this.set_amount(money.Amount);this.set_currency(money.Currency);},getValue:function(){var $0=new Luxena.Travel.MoneyDto();if(String.isNullOrEmpty(this.$4_2.getValue().toString())||(!this.get_$4_0()&&this.$4_3.getObjectInfo()==null)){return null;}$0.Amount=this.$4_2.getValue();if(this.get_$4_0()){this.$4_7=this.$4_7||LxnBase.Data.Reference.copy(this._args.defaultCurrency);$0.Currency=this.$4_7;}else{$0.Currency=this.$4_3.getObjectInfo();}return $0;},$4_1:function($p0,$p1,$p2){if(this.$4_6!=null){this.$4_6.show(this.$4_2.getEl());}if(this._args.amountChangeHandler!=null){this._args.amountChangeHandler($p0,$p1,$p2);}},isDirty:function(){return this.$4_2.isDirty()||(!this.get_$4_0()&&this.$4_3.get_widget().isDirty());},_args:null,$4_2:null,$4_3:null,$4_4:null,$4_5:null,$4_6:null,$4_7:null}
Luxena.Travel.Controls.PropertyGridControl=function(config){Luxena.Travel.Controls.PropertyGridControl.initializeBase(this,[config.setCssClass('property-grid-control').border(false).toDictionary()]);this.$5_6=config;}
Luxena.Travel.Controls.PropertyGridControl.$5_2=function($p0,$p1,$p2,$p3,$p4){if(!ss.isNullOrUndefined($p0.renderer)){var $0=$p0.renderer;$0($p1,$p2,$p3,$p4);}else{if(ss.isNullOrUndefined($p0.type)){$p0.type=(!ss.isNullOrUndefined($p0.enumType))?6:0;}var $1;switch($p0.type){case 0:if(!ss.isNullOrUndefined($p2.Name)){$1=$p2.Name.toString();}else{$1=$p2.toString();}break;case 2:$1=($p2).format($p0.format||'d.m.Y');break;case 3:$1=($p2).format($p0.format||'N2');break;case 4:$1=Luxena.Travel.MoneyDto.toMoneyFullString($p2);break;case 5:$1=Luxena.Travel.Controls.PropertyGridControl.$5_3($p2);break;case 6:$1=LxnBase.EnumUtility.localize($p0.enumType,$p2,Luxena.Travel.DomainRes);break;case 1:var $2=LxnBase.UI.AutoControls.ControlFactory.createBooleanRenderer();$1=$2($p2);break;default:$1=$p2.toString();break;}$p4.append($1);}}
Luxena.Travel.Controls.PropertyGridControl.$5_3=function($p0){if(ss.isNullOrUndefined($p0)){return '';}if(ss.isNullOrUndefined($p0.Id)){return $p0.Name;}return LxnBase.UI.Controls.ObjectLink.renderInfo($p0);}
Luxena.Travel.Controls.PropertyGridControl.prototype={loadCollection:function(list){this.$5_5=list;for(var $0=this.body.dom.children.length-1;$0>=0;$0--){this.body.dom.removeChild(this.body.dom.children[$0]);}if(this.$5_5==null||!this.$5_5.length){return;}this.$5_0(this.body.dom);},$5_0:function($p0){var $0=$($p0);if(this.$5_6.get_gridTitle()!=null){$0.append(String.format("<div class='grid-title'>{0}</div>",this.$5_6.get_gridTitle()));}var $1=$("<div class='item-list'></div>");var $2=$("<table style='width: 100%'></table>");var $3=$("<tr class='alternate'></tr>");if(this.$5_6.get_isUseListCountColumn()){$3.append(String.format('<th {1}>{0}</th>',Luxena.Travel.Res.common_ListNumber,20));}for(var $4=0;$4<this.$5_6.get_propertyListItems().length;$4++){var $5=this.$5_6.get_propertyListItems()[$4];var $6='';if(!!$5.width){$6=String.format("style='width:{0}px'",$5.width);}$3.append(String.format('<th {1}>{0}</th>',$5.fieldLabel,$6));}$2.append($3);for(var $7=0;$7<this.$5_5.length;$7++){this.$5_1(this.$5_5[$7],$2,$7);}$0.append($1.append($2));},$5_1:function($p0,$p1,$p2){var $0=$(String.format("<tr class='{0} {1}'></tr> ",($p2%2===1)?'alternate':'',this.$5_6.getRowCssClass($p0)));if(this.$5_6.get_isUseListCountColumn()){$0.append(String.format('<td align="center">{0}</td>',($p2+1)));}for(var $1=0;$1<this.$5_6.get_propertyListItems().length;$1++){var $2=this.$5_6.get_propertyListItems()[$1];var $3=$(String.format("<td class='{0}'></td>",$2.cssClass||''));var $4=$p0[$2.fieldName];if(!ss.isNullOrUndefined($4)){if(($2.type===5)&&ss.isNullOrUndefined(($4).Id)){$4=this.$5_4($p0);}Luxena.Travel.Controls.PropertyGridControl.$5_2($2,$p0,$4,$p2,$3);}$0.append($3);}$p1.append($0);},$5_4:function($p0){var $0=new LxnBase.Data.Reference();$0.Id=$p0.Id;$0.Name=$p0[this.$5_6.get_referenceColumn()].toString();$0.Type=this.$5_6.get_referenceType();return $0;},$5_5:null,$5_6:null}
Luxena.Travel.Controls.PropertyGridControlConfig=function(){Luxena.Travel.Controls.PropertyGridControlConfig.initializeBase(this);}
Luxena.Travel.Controls.PropertyGridControlConfig.prototype={get_propertyListItems:function(){return this.$6_3;},set_propertyListItems:function(value){this.$6_3=value;return value;},get_isUseListCountColumn:function(){return this.$6_2;},set_isUseListCountColumn:function(value){this.$6_2=value;return value;},get_referenceColumn:function(){return this.$6_1;},set_referenceColumn:function(value){this.$6_1=value;return value;},get_referenceType:function(){return this.$6_0;},set_referenceType:function(value){this.$6_0=value;return value;},get_gridTitle:function(){return this.$6_4;},set_gridTitle:function(value){this.$6_4=value;return value;},get_voidColumn:function(){return this.$6_5;},set_voidColumn:function(value){this.$6_5=value;return value;},get_voidClass:function(){return this.$6_6;},set_voidClass:function(value){this.$6_6=value;return value;},get_savedColumn:function(){return this.$6_8;},set_savedColumn:function(value){this.$6_8=value;return value;},get_savedClass:function(){return this.$6_9;},set_savedClass:function(value){this.$6_9=value;return value;},get_postColumn:function(){return this.$6_A;},set_postColumn:function(value){this.$6_A=value;return value;},get_postClass:function(){return this.$6_B;},set_postClass:function(value){this.$6_B=value;return value;},get_notShownIfVoid:function(){return this.$6_7;},set_notShownIfVoid:function(value){this.$6_7=value;return value;},setListItems:function(items){this.$6_3=items;return this;},setVoidClass:function(voidClass){this.$6_6=voidClass;return this;},setVoidColumn:function(voidColumn){this.$6_5=voidColumn;return this;},setReferenceColumn:function(referenceColumn){this.$6_1=referenceColumn;return this;},setReferenceType:function(referenceType){this.$6_0=referenceType;return this;},setGridTitle:function(title){this.$6_4=title;return this;},setCssClass:function(className){var $0=(this.o['cls']||'');$0+=String.format(' {0}',className);this.o['cls']=$0;return this;},setUseListCountColumn:function(isUseListCountColumn){this.$6_2=isUseListCountColumn;return this;},setRowCssClass:function(getCss){this.$6_C=getCss;return this;},getRowCssClass:function(value){var $0='';if(this.$6_C!=null){$0=this.$6_C(value);}return $0;},$6_0:null,$6_1:null,$6_2:false,$6_3:null,$6_4:null,$6_5:null,$6_6:null,$6_7:false,$6_8:null,$6_9:null,$6_A:null,$6_B:null,$6_C:null}
Luxena.Travel.Controls.PropertyItem=function(fieldLabel,fieldName){this.fieldLabel=fieldLabel;if(!ss.isNullOrUndefined(fieldName)){this.fieldName=fieldName;}}
Luxena.Travel.Controls.PropertyItem.prototype={setFiledLabel:function(fieldLabel){this.fieldLabel=fieldLabel;return this;},setFieldName:function(fieldName){this.fieldName=fieldName;return this;},setPropertyType:function(type){this.type=type;return this;},setHideIsEmpty:function(hideIsEmpty){this.hideIsEmpty=hideIsEmpty;return this;},setFormat:function(format){this.format=format;return this;},setEnumType:function(enumType){this.enumType=enumType;return this;},setCssClass:function(cssClass){this.cssClass=cssClass;return this;},setRenderer:function(renderer){this.renderer=renderer;return this;},setRowCssClass:function(getCss){this.getCssClass=getCss;return this;},setWidth:function(width){this.width=width;return this;},getRowCssClass:function(value){var $0=this.cssClass;if(this.getCssClass!=null){$0=this.getCssClass(this,value);}return $0;},fieldLabel:null,fieldName:null,type:0,hideIsEmpty:false,format:null,enumType:null,cssClass:null,renderer:null,labelRenderer:null,getCssClass:null,width:0}
Luxena.Travel.Controls.PropertyListControlConfig=function(){Luxena.Travel.Controls.PropertyListControlConfig.initializeBase(this);}
Luxena.Travel.Controls.PropertyListControlConfig.prototype={get_propertyListItems:function(){return this.$6_0;},set_propertyListItems:function(value){this.$6_0=value;return value;},setListItems:function(items){this.$6_0=items;return this;},setCssClass:function(className){var $0=(this.o['cls']||'');$0+=String.format(' {0}',className);this.o['cls']=$0;return this;},$6_0:null}
Luxena.Travel.Controls.ControlFactoryExt=function(){}
Luxena.Travel.Controls.ControlFactoryExt.init=function(){LxnBase.UI.AutoControls.ControlFactory.registerCustomRenderer('Money',function($p1_0,$p1_1,$p1_2,$p1_3,$p1_4,$p1_5){
if(ss.isNullOrUndefined($p1_0)){return '';}var $1_0;var $1_1=Type.safeCast($p1_0,Array);if($1_1!=null){$1_0=String.format('{0} {1}',($1_1[0]).format('N2'),$1_1[1]);}else{var $1_2=$p1_0;$1_0=String.format('{0} {1}',$1_2.Amount.format('N2'),$1_2.Currency.Name);}return String.format("<div style='text-align: right'>{0}</div>",$1_0);});LxnBase.UI.AutoControls.ControlFactory.registerCustomEditor('Money',function($p1_0,$p1_1){
if($p1_1){return null;}return new Luxena.Travel.Controls.MoneyControl(Luxena.Travel.Controls.MoneyControlConfig.defaultConfig('',true));});}
Luxena.Travel.Controls.ControlFactoryExt.getMoneyRenderer=function(){var $0=new LxnBase.Services.CustomTypeColumnConfig();$0.Type=LxnBase.Services.TypeEnum.custom;$0.TypeName='Money';return LxnBase.UI.AutoControls.ControlFactory.createRenderer($0);}
Luxena.Travel.Controls.ControlFactoryExt.createCustomerConfig=function(fieldName,width,allowBlank){return new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).allowEdit(true).allowCreate(false).customActionsDelegate(Luxena.Travel.Controls.ControlFactoryExt.$0).fieldLabel(fieldName).width(width).allowBlank(allowBlank);}
Luxena.Travel.Controls.ControlFactoryExt.createCustomerControl=function(fieldName,width,allowBlank){return new LxnBase.UI.Controls.ObjectSelector(Luxena.Travel.Controls.ControlFactoryExt.createCustomerConfig(fieldName,width,allowBlank));}
Luxena.Travel.Controls.ControlFactoryExt.createCustomerControlWithText=function(fieldName,width,allowBlank){return new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).allowEdit(true).allowCreate(false).customActionsDelegate(Luxena.Travel.Controls.ControlFactoryExt.$0).forceSelection(false).fieldLabel(fieldName).width(width).allowBlank(allowBlank));}
Luxena.Travel.Controls.ControlFactoryExt.createAssignedToControl=function(fieldName,width,allowBlank){return new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Person').setDataProxy(Luxena.Travel.Services.PartyService.suggestUsersProxy()).allowEdit(false).allowCreate(false).fieldLabel(fieldName).width(width).allowBlank(allowBlank));}
Luxena.Travel.Controls.ControlFactoryExt.createOwnerControl=function(width,allowBlank){var $0=new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().name('Office').store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Name']).data(Luxena.Travel.AppManager.get_departments()).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel(Luxena.Travel.DomainRes.common_Owner).width(width).allowBlank(allowBlank).toDictionary());if(!Luxena.Travel.AppManager.get_allowSetDocumentOwner()){$0.setValue(Luxena.Travel.AppManager.get_departments()[0]);$0.disable();}return $0;}
Luxena.Travel.Controls.ControlFactoryExt.createBankAccountControl=function(width){return new LxnBase.UI.Controls.ComboBox(new Ext.form.ComboBoxConfig().name('Office').store(new Ext.data.JsonStore(new Ext.data.JsonStoreConfig().fields(['Id','Name']).data(Luxena.Travel.AppManager.get_bankAccounts()).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).fieldLabel('\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0439 \u0441\u0447\u0451\u0442').toDictionary());}
Luxena.Travel.Controls.ControlFactoryExt.$0=function($p0,$p1,$p2){if(String.isNullOrEmpty($p2)){return null;}if($p1!=null){var $enum1=ss.IEnumerator.getEnumerator($p1);while($enum1.moveNext()){var $0=$enum1.current;var $1=$0.get('Name');if(String.equals($1,$p2,true)){return null;}}}return [new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addPerson_Action_Title).handler(function($p1_0,$p1_1){
Luxena.Travel.Controls.ControlFactoryExt.$1($p1_0,$p1_1,'Person');}).toDictionary()),new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.addOrganization_Action_Title).handler(function($p1_0,$p1_1){
Luxena.Travel.Controls.ControlFactoryExt.$1($p1_0,$p1_1,'Organization');}).toDictionary())];}
Luxena.Travel.Controls.ControlFactoryExt.$1=function($p0,$p1,$p2){var $0=new LxnBase.Data.Reference();if(Luxena.Travel.AppManager.get_systemConfiguration().IsOrganizationCodeRequired&&$p2==='Organization'){var $1={Name:$p1,IsCustomer:true};LxnBase.UI.FormsRegistry.editObject($p2,null,$1,function($p1_0){
var $1_0=($p1_0).Item;$0.Id=$1_0.Id;$0.Name=$1_0.Name;$0.Type='Organization';$p0.setValue($0);},null,null);return;}Luxena.Travel.Services.PartyService.CreateCustomer($p2,$p1,function($p1_0){
var $1_0=$p1_0;$0.Id=$1_0[LxnBase.Data.ObjectPropertyNames.id];$0.Name=$1_0[LxnBase.Data.ObjectPropertyNames.reference];$0.Type=$1_0[LxnBase.Data.ObjectPropertyNames.objectClass];$p0.setValue($0);var $1_1=($0.Type==='Person')?Luxena.Travel.DomainRes.person_Caption_List:Luxena.Travel.DomainRes.organization_Caption_List;LxnBase.MessageRegister.info($1_1,LxnBase.BaseRes.created+' '+$0.Name);},null);}
Luxena.Travel.Controls.GridFilterPluginExtention=function(){}
Luxena.Travel.Controls.GridFilterPluginExtention.init=function(){var $0=[new LxnBase.UI.AutoControls.GridFilterConfig().setCaption(Luxena.Travel.Res.money_AmountFilter_Text).setFilter(new LxnBase.UI.Controls.ColumnFilters.NumberFilter()).setDataPath('Amount'),new LxnBase.UI.AutoControls.GridFilterConfig().setCaption(Luxena.Travel.Res.money_CurrencyFilter_Text).setFilter(new LxnBase.UI.Controls.ColumnFilters.StringFilter()).setDataPath('Currency')];LxnBase.UI.AutoControls.GridFilterPlugin.registerCustomFilters('Money',$0);}
Luxena.Travel.Controls.LinkButton=function(config){Luxena.Travel.Controls.LinkButton.initializeBase(this,[config.cls('link-button').toDictionary()]);}
Luxena.Travel.Controls.LinkButton.prototype={objectInfo:function(){return [this.id,this.type];}}
Luxena.Travel.Controls.LinkButton2=function(cls,config){Luxena.Travel.Controls.LinkButton2.initializeBase(this,[config.cls('link-button '+cls).toDictionary()]);}
Luxena.Travel.Controls.LinkButton2.prototype={objectInfo:function(){return [this.id,this.type];}}
Type.registerNamespace('Luxena.Travel.Reports');Luxena.Travel.Reports.ReportType=function(){};Luxena.Travel.Reports.ReportType.prototype = {pdf:0,excel:1}
Luxena.Travel.Reports.ReportType.registerEnum('Luxena.Travel.Reports.ReportType',false);Luxena.Travel.Reports.UnbalancedReportForm=function(){Luxena.Travel.Reports.UnbalancedReportForm.initializeBase(this);this.get_window().cls+=' unbalanced-report';this.get_window().setTitle(Luxena.Travel.Res.unbalancedReport);this.$1_0();this.$1_3=this.get_form().addButton(Luxena.Travel.Res.common_CreateReport,ss.Delegate.create(this,this.save));this.$1_4=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields([this.$1_1,this.$1_2]);this.set_componentSequence([this.$1_1,this.$1_2,this.$1_3,this.$1_4]);}
Luxena.Travel.Reports.UnbalancedReportForm.prototype={open:function(){this.get_window().show();},$1_0:function(){this.$1_1=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).format('d.m.Y').toDictionary());this.$1_2=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.unbalancedReportForm_IncludeOrders).toDictionary());this.get_form().add(this.$1_1);this.get_form().add(this.$1_2);},onSave:function(){LxnBase.UI.AutoControls.ReportLoader.load(String.format('reports/unbalanced/Unbalanced_Report_{0}.xls',Date.get_now().format('Y-m-d_H-i')),{to:(!(this.$1_1.getValue()))?null:this.$1_1.getValue().localeFormat('yyyy-MM-dd'),includeOrders:this.$1_2.getValue()});this.completeSave(null);},$1_1:null,$1_2:null,$1_3:null,$1_4:null}
Luxena.Travel.Reports.RegistryReportForm=function(){Luxena.Travel.Reports.RegistryReportForm.initializeBase(this);this.get_window().cls+=' registry-report';this.get_window().setTitle(Luxena.Travel.Res.registryReportForm_Title);this.$1_0();this.$1_9=this.get_form().addButton(Luxena.Travel.Res.common_CreateReport,ss.Delegate.create(this,this.save));this.$1_A=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields([this.$1_2,this.$1_3,this.$1_4,this.$1_5,this.$1_6.get_widget(),this.$1_7,this.$1_8]);this.set_componentSequence([this.$1_2,this.$1_3,this.$1_5,this.$1_6.get_widget(),this.$1_7,this.$1_8,this.$1_9,this.$1_A]);}
Luxena.Travel.Reports.RegistryReportForm.$1_1=function($p0){if(!($p0).getValue()){return null;}var $0=$p0.getValue();return (ss.isNullOrUndefined($0))?null:$0.format('Y-m-d');}
Luxena.Travel.Reports.RegistryReportForm.prototype={open:function(){this.get_window().show();},$1_0:function(){this.$1_2=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.fromDate_Text).format('d.m.Y').toDictionary());this.$1_3=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).format('d.m.Y').toDictionary());this.$1_4=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.paymentType).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data([[1,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,1)],[2,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,2)],[3,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,3)],[4,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,4)],[5,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,5)],[6,Luxena.Travel.DomainRes.paymentType_WithoutPayment],[0,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,0)]]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).width(180).toDictionary());this.$1_5=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel('\u0424\u043e\u0440\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b').store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data([[0,'\u041f\u041a\u041e'],[4,'\u0420\u041a\u041e'],[1,LxnBase.EnumUtility.localize(Luxena.Travel.PaymentForm,1,Luxena.Travel.DomainRes)],[2,LxnBase.EnumUtility.localize(Luxena.Travel.PaymentForm,2,Luxena.Travel.DomainRes)],[3,LxnBase.EnumUtility.localize(Luxena.Travel.PaymentForm,3,Luxena.Travel.DomainRes)]]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).width(180).toDictionary());this.$1_6=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Airline').allowEdit(false).allowCreate(false).allowBlank(true).fieldLabel(Luxena.Travel.DomainRes.airline).width(180).selectOnFocus(true).forceSelection(true));this.$1_7=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.Res.reportType_Text).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data([[1,LxnBase.EnumUtility.toString(Luxena.Travel.Reports.ReportType,1)],[0,LxnBase.EnumUtility.toString(Luxena.Travel.Reports.ReportType,0)]]).toDictionary())).mode('local').width(60).editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).value(1).toDictionary());this.$1_8=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().hideLabel(true).boxLabel('\u0412\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0441\u043e \u0441\u0447\u0435\u0442\u0430\u043c\u0438 / \u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u044f\u043c\u0438').toDictionary());this.get_form().add(this.$1_2);this.get_form().add(this.$1_3);this.get_form().add(this.$1_4);this.get_form().add(this.$1_5);this.get_form().add(this.$1_6.get_widget());this.get_form().add(this.$1_7);this.get_form().add(this.$1_8);},onSave:function(){var $0={};$0['from']=Luxena.Travel.Reports.RegistryReportForm.$1_1(this.$1_2);$0['to']=Luxena.Travel.Reports.RegistryReportForm.$1_1(this.$1_3);$0['paymentType']=this.$1_4.getValue();$0['paymentForm']=this.$1_5.getValue();$0['onlyWithInvoices']=this.$1_8.getValue();var $1=(this.$1_6.getObjectInfo()!=null)?this.$1_6.getObjectInfo().Id:null;if($1!=null){$0['airline']=$1;}var $2=this.$1_7.getValue();$0['reportType']=$2;var $3=(!$2)?'pdf':'xls';var $4=String.format('reports/registry/Registry_report_{0}.{1}',Date.get_now().format('Y-m-d_H-i'),$3);LxnBase.UI.AutoControls.ReportLoader.load($4,$0);this.completeSave(null);},$1_2:null,$1_3:null,$1_4:null,$1_5:null,$1_6:null,$1_7:null,$1_8:null,$1_9:null,$1_A:null}
Luxena.Travel.Reports.CustomerReportForm=function(){Luxena.Travel.Reports.CustomerReportForm.initializeBase(this);this.get_window().cls+=' customer-report';this.get_window().setTitle(Luxena.Travel.Res.customerReportForm_Title);this.$1_0();this.$1_A=this.get_form().addButton(Luxena.Travel.Res.common_CreateReport,ss.Delegate.create(this,this.save));this.$1_B=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.set_fields([this.$1_3.get_widget(),this.$1_4.get_widget(),this.$1_7,this.$1_8.get_widget(),this.$1_9,this.$1_5,this.$1_6,this.$1_D,this.$1_C]);this.set_componentSequence([this.$1_3.get_widget(),this.$1_4.get_widget(),this.$1_7,this.$1_8.get_widget(),this.$1_9,this.$1_5,this.$1_6,this.$1_D,this.$1_C,this.$1_A,this.$1_B]);}
Luxena.Travel.Reports.CustomerReportForm.prototype={open:function(){this.get_window().show();},$1_0:function(){this.$1_3=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(false).allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.common_Customer).width(200).listeners({changeValue:ss.Delegate.create(this,this.$1_1)}).selectOnFocus(true).forceSelection(true));this.$1_4=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Party').allowEdit(false).allowCreate(false).setDataProxy(Luxena.Travel.Services.PartyService.suggestCustomersProxy()).fieldLabel(Luxena.Travel.DomainRes.common_BillTo).width(200).listeners({changeValue:ss.Delegate.create(this,this.$1_1)}).selectOnFocus(true).forceSelection(true));this.$1_8=new LxnBase.UI.Controls.ObjectSelector(new LxnBase.UI.Controls.ObjectSelectorConfig().setClass('Airline').allowEdit(false).allowCreate(false).allowBlank(true).fieldLabel(Luxena.Travel.DomainRes.airline).width(200).listeners({changeValue:ss.Delegate.create(this,this.$1_1)}).selectOnFocus(true).forceSelection(true));this.$1_7=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.DomainRes.common_PassengerName).listeners({change:ss.Delegate.create(this,this.$1_1)}).width(200).toDictionary());this.$1_9=new Ext.form.ComboBox(new Ext.form.ComboBoxConfig().fieldLabel(Luxena.Travel.DomainRes.paymentType).store(new Ext.data.ArrayStore(new Ext.data.ArrayStoreConfig().fields(['Id','Name']).data([[1,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,1)],[2,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,2)],[3,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,3)],[4,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,4)],[5,LxnBase.EnumUtility.toString(Luxena.Travel.PaymentType,5)]]).toDictionary())).mode('local').editable(false).displayField('Name').valueField('Id').triggerAction('all').selectOnFocus(true).listeners({change:ss.Delegate.create(this,this.$1_1)}).toDictionary());this.$1_5=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.fromDate_Text).format('d.m.Y').listeners({change:ss.Delegate.create(this,this.$1_1)}).toDictionary());this.$1_6=new Ext.form.DateField(new Ext.form.DateFieldConfig().fieldLabel(Luxena.Travel.Res.toDate_Text).format('d.m.Y').listeners({change:ss.Delegate.create(this,this.$1_1)}).toDictionary());this.$1_D=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().boxLabel(Luxena.Travel.Res.customerReportForm_IncludeUnpayedDocumentOnly).handler(ss.Delegate.create(this,this.$1_1)).toDictionary());this.$1_C=new Ext.form.Checkbox(new Ext.form.CheckboxConfig().handler(ss.Delegate.create(this,this.$1_2)).listeners({render:ss.Delegate.create(this,function(){
var $1_0=this.$1_C.wrap;$1_0.addClass('include-departments');})}).toDictionary());this.$1_C.setDisabled(true);this.$1_E=new Ext.BoxComponent(new Ext.BoxComponentConfig().cls('total-count').toDictionary());this.$1_2();var $0=new Ext.Panel(new Ext.PanelConfig().items([this.$1_C,this.$1_E]).toDictionary());this.get_form().add(this.$1_3.get_widget());this.get_form().add(this.$1_4.get_widget());this.get_form().add(this.$1_7);this.get_form().add(this.$1_8.get_widget());this.get_form().add(this.$1_9);this.get_form().add(this.$1_5);this.get_form().add(this.$1_6);this.get_form().add(this.$1_D);this.get_form().add($0);},$1_1:function(){var $0=this.$1_3.getObjectInfo();var $1=this.$1_4.getObjectInfo();if(ss.isNullOrUndefined($0)&&ss.isNullOrUndefined($1)){this.$1_2();return;}var $2=this.$1_7.getValue();var $3=this.$1_8.getObjectId();var $4=null;var $5=null;var $6=null;var $7=this.$1_9.getValue();if(!ss.isNullOrUndefined($7)&&!String.isNullOrEmpty($7.toString())){$4=$7;}$7=this.$1_5.getValue();if(!ss.isNullOrUndefined($7)&&!String.isNullOrEmpty($7.toString())){$5=$7;}$7=this.$1_6.getValue();if(!ss.isNullOrUndefined($7)&&!String.isNullOrEmpty($7.toString())){$6=$7;}Luxena.Travel.Services.ReportService.GetCustomerDocumentCount(($0!=null)?$0.Id:null,($1!=null)?$1.Id:null,$2,$3,$4,$5,$6,this.$1_D.getValue(),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;this.$1_10=$1_0[0];this.$1_F=$1_0[1]-$1_0[0];this.$1_2();}),null);},$1_2:function(){var $0=this.$1_F;var $1=this.$1_10;if(this.$1_C.getValue()){$1+=this.$1_F;}var $2=LxnBase.StringUtility.getNumberText($0,Luxena.Travel.Res.customerReportForm_IncludeDepartments1,Luxena.Travel.Res.customerReportForm_IncludeDepartments2,Luxena.Travel.Res.customerReportForm_IncludeDepartments3);if(this.$1_C.rendered){var $4=this.$1_C.wrap;var $5=$4.child('label');$5.dom.innerHTML=$2;}else{this.$1_C.boxLabel=$2;}var $3=this.$1_3.getObjectInfo();if(ss.isNullOrUndefined($3)||$3.Type!=='Organization'||!this.$1_F){this.$1_C.disable();}else{this.$1_C.enable();}$2=String.format(Luxena.Travel.Res.customerReportForm_DocumentCount_Text,$1);if(this.$1_E.rendered){this.$1_E.getEl().update($2);}else{this.$1_E.autoEl={html:$2};}},onSave:function(){var $0=String.format('reports/customer/Customer_report_{0}.pdf',Date.get_now().format('Y-m-d_H-i'));var $1={};var $2=this.$1_3.getObjectId();if($2!=null){$1['customer']=$2;}$2=this.$1_4.getObjectId();if($2!=null){$1['billTo']=$2;}$2=this.$1_7.getValue();if(!ss.isNullOrUndefined($2)&&!!$2){$1['passenger']=$2;}$2=this.$1_8.getObjectId();if($2!=null){$1['airline']=$2;}$2=this.$1_9.getValue();if(!ss.isNullOrUndefined($2)&&!String.isNullOrEmpty($2.toString())){$1['paymentType']=$2;}$2=this.$1_5.getValue();if(!ss.isNullOrUndefined($2)&&!String.isNullOrEmpty($2.toString())){$1['from']=($2).format('Y-m-d');}$2=this.$1_6.getValue();if(!ss.isNullOrUndefined($2)&&!String.isNullOrEmpty($2.toString())){$1['to']=($2).format('Y-m-d');}if(!this.$1_C.disabled&&this.$1_C.getValue()){$1['includeDepartments']='true';}if(this.$1_D.getValue()){$1['unpayedDocumentsOnly']='true';}LxnBase.UI.AutoControls.ReportLoader.load($0,$1);this.completeSave(null);},$1_3:null,$1_4:null,$1_5:null,$1_6:null,$1_7:null,$1_8:null,$1_9:null,$1_A:null,$1_B:null,$1_C:null,$1_D:null,$1_E:null,$1_F:0,$1_10:0}
Type.registerNamespace('Luxena.Travel.Configuration');Luxena.Travel.Configuration.PasswordEditForm=function(){Luxena.Travel.Configuration.PasswordEditForm.initializeBase(this);this.get_window().setTitle(Luxena.Travel.Res.profile_Change_Password);this.get_window().cls+=' password-edit-form';this.$1_2=this.get_form().addButton(LxnBase.BaseRes.save,ss.Delegate.create(this,this.save));this.$1_3=this.get_form().addButton(LxnBase.BaseRes.cancel,ss.Delegate.create(this,this.cancel));this.$1_0();this.set_fields([this.$1_4,this.$1_5,this.$1_6]);var $0=[];$0.addRange(this.get_fields());$0.add(this.$1_2);$0.add(this.$1_3);this.set_componentSequence($0);}
Luxena.Travel.Configuration.PasswordEditForm.$1_1=function($p0,$p1){if(!$p1.isSpecialKey()){$p0.isFieldDirty=true;}}
Luxena.Travel.Configuration.PasswordEditForm.prototype={$1_0:function(){var $0=new LxnBase.Services.ColumnConfig();$0.Type=LxnBase.Services.TypeEnum.string;$0.IsRequired=true;$0.Caption=Luxena.Travel.Res.password;this.$1_4=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.password_OldPassword).inputType('password').name('OldPassword').selectOnFocus(true).width(190).enableKeyEvents(true).listeners({keydown:Luxena.Travel.Configuration.PasswordEditForm.$1_1}).toDictionary());this.$1_5=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.password_NewPassword).inputType('password').width(190).selectOnFocus(true).enableKeyEvents(true).listeners({keydown:Luxena.Travel.Configuration.PasswordEditForm.$1_1}).toDictionary());this.$1_6=new Ext.form.TextField(new Ext.form.TextFieldConfig().fieldLabel(Luxena.Travel.Res.password_ConfirmPassword).inputType('password').width(190).selectOnFocus(true).validator(ss.Delegate.create(this,function($p1_0){
var $1_0=true;var $1_1=this.$1_6.initialPwdField;if(ss.isNullOrUndefined($1_1)){$1_0=false;}else{var $1_2=$1_1.isFieldDirty;var $1_3=this.$1_6.isFieldDirty;if(!ss.isNullOrUndefined($1_2)&&ss.isNullOrUndefined($1_3)||ss.isNullOrUndefined($1_2)&&!ss.isNullOrUndefined($1_3)){$1_0=false;}}$1_0=($1_0&($p1_0===$1_1.getValue()))===1;if($1_0){return true;}return Luxena.Travel.Res.password_Error_Msg;})).enableKeyEvents(true).listeners({keydown:Luxena.Travel.Configuration.PasswordEditForm.$1_1}).custom('initialPwdField',this.$1_5).toDictionary());var $1=new Ext.Panel(new Ext.PanelConfig().items([this.$1_4,this.$1_5,this.$1_6]).layout('form').toDictionary());this.get_form().layout='column';this.get_form().add($1);},onSave:function(){Luxena.Travel.Services.UserService.ChangeUserPassword(this.$1_4.getValue().toString(),this.$1_5.getValue().toString(),ss.Delegate.create(this,function($p1_0){
var $1_0=$p1_0;if($1_0){LxnBase.MessageRegister.info(Luxena.Travel.Res.profile_Item,Luxena.Travel.Res.password_Updated_Successfully);this.completeSave($p1_0);}else{this.$1_4.markInvalid();}}),null);},open:function(){this.get_window().show();},$1_2:null,$1_3:null,$1_4:null,$1_5:null,$1_6:null}
Luxena.Travel.Configuration.ProfileViewForm=function(tabId,id){Luxena.Travel.Configuration.ProfileViewForm.initializeBase(this,[new Ext.PanelConfig().closable(true).autoScroll(true).title(LxnBase.BaseRes.loading).cls('profile-view').bodyStyle('padding: 20px').toDictionary(),tabId]);Luxena.Travel.Services.UserService.GetUserProfile(id,ss.Delegate.create(this,function($p1_0){
this.$6_6=$p1_0;this.$6_0();}),null);}
Luxena.Travel.Configuration.ProfileViewForm.viewObject=function(id,newTab){LxnBase.UI.Tabs.open(newTab,'myProfileForm',function($p1_0){
return new Luxena.Travel.Configuration.ProfileViewForm($p1_0,id);});}
Luxena.Travel.Configuration.ProfileViewForm.$6_5=function(){var $0=new Luxena.Travel.Configuration.PasswordEditForm();$0.open();}
Luxena.Travel.Configuration.ProfileViewForm.prototype={initComponent:function(){var $0=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.password_Edit).handler(Luxena.Travel.Configuration.ProfileViewForm.$6_5).toDictionary());this.tbar=new Ext.Toolbar([$0]);Luxena.Travel.Configuration.ProfileViewForm.callBaseMethod(this, 'initComponent');},$6_0:function(){this.setTitle(Luxena.Travel.Res.profile_Item);this.$6_2();this.$6_1();var $0=new Ext.Panel(new Ext.PanelConfig().items([this.$6_7,this.$6_9]).border(false).toDictionary());this.add($0);this.doLayout();},$6_1:function(){this.$6_9=new Ext.Panel(new Ext.PanelConfig().border(false).cls('gds-panel').listeners({render:ss.Delegate.create(this,this.$6_4)}).toDictionary());},$6_2:function(){this.$6_8=new Ext.Panel(new Ext.PanelConfig().border(false).listeners({render:ss.Delegate.create(this,this.$6_3)}).toDictionary());this.$6_7=new Ext.Panel(new Ext.PanelConfig().items([this.$6_8]).border(false).toDictionary());},$6_3:function(){var $0=new ss.StringBuilder();$0.append("<div class='viewItem'>");$0.append(String.format("<div class='itemCaption'>{0}:</div>",Luxena.Travel.DomainRes.person));$0.append(String.format("<div class='itemValue'>{0}</div>",this.$6_6.Person.Name));$0.append('</div>');$0.append("<div class='viewItem'>");$0.append(String.format("<div class='itemCaption'>{0}:</div>",Luxena.Travel.DomainRes.user_Name));$0.append(String.format("<div class='itemValue'>{0}</div>",this.$6_6.Login));$0.append('</div>');$0.append("<div class='viewItem'>");$0.append(String.format("<div class='itemCaption'>{0}:</div>",Luxena.Travel.DomainRes.user_Roles));$0.append(String.format("<div class='itemValue'>{0}</div>",this.$6_6.Roles));$0.append('</div>');new Ext.Template($0.toString()).overwrite(this.$6_8.body);},$6_4:function(){var $0=new ss.StringBuilder();if(this.$6_6.GdsAgents!=null&&this.$6_6.GdsAgents.length>0){$0.append(String.format("<div class='gdsAgentsCaption'>{0}</div>\r\n\t\t\t\t\t\t\t<table cellspacing='0' cellpadding='0'>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th style='width:200px'>{1}</th>\r\n\t\t\t\t\t\t\t\t\t<th style='width:85px'>{2}</th>\r\n\t\t\t\t\t\t\t\t\t<th style='width:115px'>{3}</th>\r\n\t\t\t\t\t\t\t\t</tr><tpl for=\"GdsAgents\">\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td align='right'>\r\n\t\t\t\t\t\t\t\t\t\t\t{Origin}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='left'>\r\n\t\t\t\t\t\t\t\t\t\t\t{OfficeCode}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td align='center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{AgentCode}\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</tpl>\r\n\t\t\t\t\t\t\t</table>",Luxena.Travel.DomainRes.gdsAgent_Caption_List,Luxena.Travel.DomainRes.gdsAgent_Origin,Luxena.Travel.DomainRes.gdsAgent_Office,Luxena.Travel.DomainRes.gdsAgent_Agent));}else{$0.append(String.format(" <div class='noData'>{0}</div>",Luxena.Travel.Res.gdsAgents_NotAssigned));}new Ext.XTemplate($0.toString()).overwrite(this.$6_9.body,this.$6_6);},$6_6:null,$6_7:null,$6_8:null,$6_9:null}
Luxena.Travel.Configuration.SystemConfigurationViewForm=function(tabId,id,type){Luxena.Travel.Configuration.SystemConfigurationViewForm.initializeBase(this,[tabId,id,type]);}
Luxena.Travel.Configuration.SystemConfigurationViewForm.$8_0=function($p0,$p1,$p2){LxnBase.UI.Tabs.open($p2,$p1,function($p1_0){
return new Luxena.Travel.Configuration.SystemConfigurationViewForm($p1_0,$p1,$p0);});}
Luxena.Travel.Configuration.SystemConfigurationViewForm.prototype={onLoadConfig:function(){var $enum1=ss.IEnumerator.getEnumerator(this.get_itemConfig().Columns);while($enum1.moveNext()){var $0=$enum1.current;if($0.Name==='CompanyName'){$0.Hidden=true;break;}}}}
Type.registerNamespace('Luxena.Travel.Cfg');Luxena.Travel.Cfg.AviaOrderItemGenerationOption=function(){};Luxena.Travel.Cfg.AviaOrderItemGenerationOption.prototype = {alwaysOneOrderItem:0,separateServiceFee:1,manualSetting:2}
Luxena.Travel.Cfg.AviaOrderItemGenerationOption.registerEnum('Luxena.Travel.Cfg.AviaOrderItemGenerationOption',false);Type.registerNamespace('Luxena.Travel.Services');Luxena.Travel.Services.ConsignmentService=function(){}
Luxena.Travel.Services.ConsignmentService.GetConsignmentFile=function(issuedConsignmentId,onSuccess,onError){Luxena.Travel.Services.ConsignmentService.service.invoke('GetConsignmentFile',{issuedConsignmentId:issuedConsignmentId},false,null,onSuccess,onError);}
Luxena.Travel.Services.ConsignmentService.GetLastIssuedConsignment=function(consignmentId,onSuccess,onError){Luxena.Travel.Services.ConsignmentService.service.invoke('GetLastIssuedConsignment',{consignmentId:consignmentId},false,null,onSuccess,onError);}
Luxena.Travel.Services.ConsignmentService.GetConsignment=function(id,onSuccess,onError){Luxena.Travel.Services.ConsignmentService.service.invoke('GetConsignment',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.ConsignmentService.UpdateConsignment=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.ConsignmentService.service.invoke('UpdateConsignment',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.ConsignmentService.GetConsignmentItems=function(orderIds,onSuccess,onError){Luxena.Travel.Services.ConsignmentService.service.invoke('GetConsignmentItems',{orderIds:orderIds},false,null,onSuccess,onError);}
Luxena.Travel.Services.ClosedPeriodService=function(){}
Luxena.Travel.Services.ClosedPeriodService.GetLastClosedPeriod=function(onSuccess,onError){Luxena.Travel.Services.ClosedPeriodService.service.invoke('GetLastClosedPeriod',{},false,null,onSuccess,onError);}
Luxena.Travel.Services.ClosedPeriodService.CanUpdate=function(dto,onSuccess,onError){Luxena.Travel.Services.ClosedPeriodService.service.invoke('CanUpdate',{dto:dto},false,null,onSuccess,onError);}
Luxena.Travel.Services.ClosedPeriodService.UpdateClosedPeriod=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.ClosedPeriodService.service.invoke('UpdateClosedPeriod',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.HomeModel=function(){}
Luxena.Travel.Services.HomeModel.prototype={MyTasks:null,MyTasksTotal:0,MetricsFromDate:null,MyDocuments:null,ShowOfficeBlocks:false,OfficeTasks:null,OfficeTasksTotal:0,OfficeDocuments:null}
Luxena.Travel.Services.DocumentStatsModel=function(){}
Luxena.Travel.Services.DocumentStatsModel.prototype={UnprocessedDocuments:0,DocumentsWithoutOwners:0,UnpaidDocuments:0,PassportRequirements:null,UrgentPassportRequirements:null,IncorrectPassports:null,OrdersToPay:0,OrdersToExecute:0,OrdersWithDebt:0,DayStats:null}
Luxena.Travel.Services.AppService=function(){}
Luxena.Travel.Services.AppService.GetAppParameters=function(onSuccess,onError){Luxena.Travel.Services.AppService.service.invoke('GetAppParameters',{},false,null,onSuccess,onError);}
Luxena.Travel.Services.AppService.GetHomeModel=function(statsFrom,statsTo,onSuccess,onError){Luxena.Travel.Services.AppService.service.invoke('GetHomeModel',{statsFrom:statsFrom,statsTo:statsTo},false,null,onSuccess,onError);}
Luxena.Travel.Services.AppService.CloseTask=function(id,onSuccess,onError){Luxena.Travel.Services.AppService.service.invoke('CloseTask',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.AppService.GetAppStateChanges=function(request,onSuccess,onError){Luxena.Travel.Services.AppService.service.invoke('GetAppStateChanges',{request:request},false,null,onSuccess,onError);}
Luxena.Travel.Services.AppService.GetDocumentOwners=function(onSuccess,onError){Luxena.Travel.Services.AppService.service.invoke('GetDocumentOwners',{},false,null,onSuccess,onError);}
Luxena.Travel.Services.AppService.UpdateAnalytics=function(onSuccess,onError){Luxena.Travel.Services.AppService.service.invoke('UpdateAnalytics',{},false,null,onSuccess,onError);}
Luxena.Travel.Services.DomainService=function(){}
Luxena.Travel.Services.DomainService.get=function(className,id,onSuccess,onError){if(ss.isValue(id)){Luxena.Travel.Services.DomainService.service.invoke('Get'+className,{id:id},false,null,onSuccess,onError);}else{onSuccess(null);}}
Luxena.Travel.Services.DomainService.update=function(className,dto,prms,onSuccess,onError){Luxena.Travel.Services.DomainService.service.invoke('Update'+className,{dto:dto,params:prms},false,null,onSuccess,onError);}
Luxena.Travel.Services.ProductService=function(){}
Luxena.Travel.Services.ProductService.CanUpdate=function(ids,onSuccess,onError){Luxena.Travel.Services.ProductService.service.invoke('CanUpdate',{ids:ids},false,null,onSuccess,onError);}
Luxena.Travel.Services.ProductService.getObject1=function(className,id,onSuccess,onError){if(ss.isValue(id)){Luxena.Travel.Services.ProductService.service.invoke('Get'+className,{id:id},false,null,onSuccess,onError);}else{onSuccess(null);}}
Luxena.Travel.Services.ProductService.updateObject1=function(className,dto,prms,onSuccess,onError){Luxena.Travel.Services.ProductService.service.invoke('Update'+className,{dto:dto,params:prms},false,null,onSuccess,onError);}
Luxena.Travel.Services.ProductService.ChangeVoidStatus=function(ids,pparams,onSuccess,onError){Luxena.Travel.Services.ProductService.service.invoke('ChangeVoidStatus',{ids:ids,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.ProductService.getProducers=function(className,onSuccess,onError){Luxena.Travel.Services.ProductService.service.invoke('GetProducers',{className:className},false,null,onSuccess,onError);}
Luxena.Travel.Services.ProductService.getProviders=function(className,onSuccess,onError){Luxena.Travel.Services.ProductService.service.invoke('GetProviders',{className:className},false,null,onSuccess,onError);}
Luxena.Travel.Services.ProductService.getGenericProductTypes=function(onSuccess,onError){Luxena.Travel.Services.ProductService.service.invoke('GetGenericProductTypes',{},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService=function(){}
Luxena.Travel.Services.AviaService.GetAviaDocument=function(id,type,editMode,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('GetAviaDocument',{id:id,type:type,editMode:editMode},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.GetAviaReservationForProcess=function(documentId,className,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('GetAviaReservationForProcess',{documentId:documentId,className:className},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.CanProcess=function(documentId,className,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('CanProcess',{documentId:documentId,className:className},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.ProcessAviaTickets=function(dtos,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('ProcessAviaTickets',{dtos:dtos},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.ProcessAviaRefunds=function(dtos,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('ProcessAviaRefunds',{dtos:dtos},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.ProcessAviaMcos=function(dtos,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('ProcessAviaMcos',{dtos:dtos},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.GetAviaDocumentForHandlingByNumber=function(number,className,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('GetAviaDocumentForHandlingByNumber',{number:number,className:className},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.GetAviaDocumentsForProcess=function(ids,className,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('GetAviaDocumentsForProcess',{ids:ids,className:className},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.ChangeVoidStatus=function(ids,pparams,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('ChangeVoidStatus',{ids:ids,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.UpdateAviaTicket=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('UpdateAviaTicket',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.UpdateAviaMco=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('UpdateAviaMco',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.UpdateAviaRefund=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('UpdateAviaRefund',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.FindAirlineByPrefixCode=function(code,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('FindAirlineByPrefixCode',{code:code},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.FindAirportNameById=function(id,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('FindAirportNameById',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.GetReservationDocumentCount=function(id,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('GetReservationDocumentCount',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.SuggestNotRefundedDocuments=function(pparams,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('SuggestNotRefundedDocuments',{params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.suggestNotRefundedDocumentsProxy=function(){var $0=new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.AviaService.service,'SuggestNotRefundedDocuments');$0.arguments={};return $0;}
Luxena.Travel.Services.AviaService.CanUpdate=function(ids,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('CanUpdate',{ids:ids},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.GetDocumentCountForUpdate=function(className,ids,dateFrom,dateTo,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('GetDocumentCountForUpdate',{className:className,ids:ids,dateFrom:dateFrom,dateTo:dateTo},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.ApplyDataToDocuments=function(className,ids,dateFrom,dateTo,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('ApplyDataToDocuments',{className:className,ids:ids,dateFrom:dateFrom,dateTo:dateTo},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.ValidatePassengerPassport=function(ticketId,passengerId,isGdsPassportNull,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('ValidatePassengerPassport',{ticketId:ticketId,passengerId:passengerId,isGdsPassportNull:isGdsPassportNull},false,null,onSuccess,onError);}
Luxena.Travel.Services.AviaService.AddDocumentsByConsoleContent=function(content,sellerId,ownerId,onSuccess,onError){Luxena.Travel.Services.AviaService.service.invoke('AddDocumentsByConsoleContent',{content:content,sellerId:sellerId,ownerId:ownerId},false,null,onSuccess,onError);}
Luxena.Travel.Services.GdsFileService=function(){}
Luxena.Travel.Services.GdsFileService.Reimport=function(ids,pparams,onSuccess,onError){Luxena.Travel.Services.GdsFileService.service.invoke('Reimport',{ids:ids,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService=function(){}
Luxena.Travel.Services.OrderService.ForceRefreshOrder=function(orderId,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('ForceRefreshOrder',{orderId:orderId},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.GetOrdersByAviaDocuments=function(aviaDocumentIds,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('GetOrdersByAviaDocuments',{aviaDocumentIds:aviaDocumentIds},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.FindAviaDocumentByNumer=function(number,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('FindAviaDocumentByNumer',{number:number},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.AddAviaDocuments=function(orderId,documentIds,separateServiceFee,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('AddAviaDocuments',{orderId:orderId,documentIds:documentIds,separateServiceFee:separateServiceFee},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.GenerateOrderItems=function(documentIds,separateServiceFee,orderId,bankAccountId,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('GenerateOrderItems',{documentIds:documentIds,separateServiceFee:separateServiceFee,orderId:orderId,bankAccountId:bankAccountId},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.GetOrder=function(id,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('GetOrder',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.UpdateOrder=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('UpdateOrder',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.IssueInvoice=function(id,number,issueDate,issuedById,ownerId,bankAccountId,formNumber,showPaid,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('IssueInvoice',{id:id,number:number,issueDate:issueDate,issuedById:issuedById,ownerId:ownerId,bankAccountId:bankAccountId,formNumber:formNumber,showPaid:showPaid},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.IssueCompletionCertificate=function(id,number,issueDate,issuedById,ownerId,bankAccountId,showPaid,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('IssueCompletionCertificate',{id:id,number:number,issueDate:issueDate,issuedById:issuedById,ownerId:ownerId,bankAccountId:bankAccountId,showPaid:showPaid},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.GetInvoiceFile=function(invoiceId,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('GetInvoiceFile',{invoiceId:invoiceId},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.DeleteInvoice=function(id,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('DeleteInvoice',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.GetOrderItemsByNumber=function(number,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('GetOrderItemsByNumber',{number:number},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.GetOrders=function(ids,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('GetOrders',{ids:ids},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.IssueReceipt=function(id,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('IssueReceipt',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.CreateQuickReceipt=function(request,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('CreateQuickReceipt',{request:request},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.SuggestInvoices=function(pparams,paymentType,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('SuggestInvoices',{params:pparams,paymentType:paymentType},false,null,onSuccess,onError);}
Luxena.Travel.Services.OrderService.suggestInvoicesProxy=function(paymentType){var $0=new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.OrderService.service,'SuggestInvoices');$0.arguments={paymentType:paymentType};return $0;}
Luxena.Travel.Services.OrderService.SetIsVoid=function(orderId,value,onSuccess,onError){Luxena.Travel.Services.OrderService.service.invoke('SetIsVoid',{orderId:orderId,value:value},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService=function(){}
Luxena.Travel.Services.PartyService.getObject1=function(className,id,onSuccess,onError){if(ss.isValue(id)){Luxena.Travel.Services.PartyService.service.invoke('Get'+className,{id:id},false,null,onSuccess,onError);}else{onSuccess(null);}}
Luxena.Travel.Services.PartyService.updateObject1=function(className,dto,prms,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('Update'+className,{dto:dto,params:prms},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.SuggestCustomers=function(pparams,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('SuggestCustomers',{params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.suggestCustomersProxy=function(){var $0=new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.PartyService.service,'SuggestCustomers');$0.arguments={};return $0;}
Luxena.Travel.Services.PartyService.SuggestUsers=function(pparams,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('SuggestUsers',{params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.suggestUsersProxy=function(){var $0=new LxnBase.Data.WebServiceProxy(Luxena.Travel.Services.PartyService.service,'SuggestUsers');$0.arguments={};return $0;}
Luxena.Travel.Services.PartyService.CreateCustomer=function(type,name,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('CreateCustomer',{type:type,name:name},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.Replace=function(fromId,toId,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('Replace',{fromId:fromId,toId:toId},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.GetPerson=function(id,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('GetPerson',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.UpdatePerson=function(dto,pparams,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('UpdatePerson',{dto:dto,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.GetDepartment=function(id,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('GetDepartment',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.UploadFile=function(partyId,fileName,content,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('UploadFile',{partyId:partyId,fileName:fileName,content:content},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.DeleteFile=function(id,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('DeleteFile',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.PartyService.GetFile=function(id,onSuccess,onError){Luxena.Travel.Services.PartyService.service.invoke('GetFile',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService=function(){}
Luxena.Travel.Services.PaymentService.ChangeVoidStatus=function(ids,pparams,onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('ChangeVoidStatus',{ids:ids,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService.CanUpdate=function(ids,onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('CanUpdate',{ids:ids},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService.CanCreatePayment=function(aviaDocumentIds,onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('CanCreatePayment',{aviaDocumentIds:aviaDocumentIds},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService.CreateCashPayment=function(request,onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('CreateCashPayment',{request:request},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService.PostPayments=function(ids,pparams,onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('PostPayments',{ids:ids,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService.GetCashOrderFile=function(paymentId,onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('GetCashOrderFile',{paymentId:paymentId},false,null,onSuccess,onError);}
Luxena.Travel.Services.PaymentService.GetPaymentSystems=function(onSuccess,onError){Luxena.Travel.Services.PaymentService.service.invoke('GetPaymentSystems',{},false,null,onSuccess,onError);}
Luxena.Travel.Services.ReportService=function(){}
Luxena.Travel.Services.ReportService.GetCustomerDocumentCount=function(customerId,billToId,passenger,airlineId,paymentType,dateFrom,dateTo,unpayedDocumentsOnly,onSuccess,onError){Luxena.Travel.Services.ReportService.service.invoke('GetCustomerDocumentCount',{customerId:customerId,billToId:billToId,passenger:passenger,airlineId:airlineId,paymentType:paymentType,dateFrom:dateFrom,dateTo:dateTo,unpayedDocumentsOnly:unpayedDocumentsOnly},false,null,onSuccess,onError);}
Luxena.Travel.Services.ReportService.PrintTickets=function(ids,onSuccess,onError){Luxena.Travel.Services.ReportService.service.invoke('PrintTickets',{ids:ids},false,null,onSuccess,onError);}
Luxena.Travel.Services.TaskService=function(){}
Luxena.Travel.Services.TaskService.ChangeStatus=function(ids,status,pparams,onSuccess,onError){Luxena.Travel.Services.TaskService.service.invoke('ChangeStatus',{ids:ids,status:status,params:pparams},false,null,onSuccess,onError);}
Luxena.Travel.Services.UserService=function(){}
Luxena.Travel.Services.UserService.GetUserProfile=function(id,onSuccess,onError){Luxena.Travel.Services.UserService.service.invoke('GetUserProfile',{id:id},false,null,onSuccess,onError);}
Luxena.Travel.Services.UserService.ChangeUserPassword=function(oldPassword,newPassword,onSuccess,onError){Luxena.Travel.Services.UserService.service.invoke('ChangeUserPassword',{oldPassword:oldPassword,newPassword:newPassword},false,null,onSuccess,onError);}
Type.registerNamespace('LxnTravel');LxnTravel.PartyTemplates=function(){}
Type.registerNamespace('LxnTravel.App');LxnTravel.App.HomeViewModel=function(){LxnTravel.App.HomeViewModel.initializeBase(this);this.MyDocuments=new LxnTravel.App.DocumentStatsViewModel(this,true);this.OfficeDocuments=new LxnTravel.App.DocumentStatsViewModel(this,false);}
LxnTravel.App.DocumentStatsViewModel=function(homeModel,mine){LxnTravel.App.DocumentStatsViewModel.initializeBase(this);this.$3=homeModel;this.$4=mine;this.openUnprocessedDayDocuments=ss.Delegate.create(this,function($p1_0){
this.$0($p1_0,true,false,false);});this.openAllDayDocuments=ss.Delegate.create(this,function($p1_0){
this.$0($p1_0,false,false,false);});}
LxnTravel.App.DocumentStatsViewModel.prototype={openUnprocessedDocuments:function(){this.$0(null,true,false,false);},openDocumentsWithoutOwners:function(){this.$0(null,false,false,true);},openUnpaidDocuments:function(){this.$0(null,false,true,false);},openPassportRequirements:function(){this.$1(this.PassportRequirements);},openUrgentPassportRequirements:function(){this.$1(this.UrgentPassportRequirements);},openIncorrectPassports:function(){this.$1(this.IncorrectPassports);},openOrdersToPay:function(){var $0=new LxnBase.Data.PropertyFilter();$0.Property='TotalDue';$0.InternalPath='Amount';var $1=new LxnBase.Data.PropertyFilterCondition();$1.Operator=LxnBase.Data.FilterOperator.greater;$1.Value=0;$0.Conditions=[$1];this.$2($0);},openOrdersToExecute:function(){this.$2(LxnBase.UI.PropertyFilterExtention.createFilter('DeliveryBalance',LxnBase.Data.FilterOperator.greater,0,false));},openOrdersWithDebt:function(){this.$2(LxnBase.UI.PropertyFilterExtention.createFilter('DeliveryBalance',LxnBase.Data.FilterOperator.less,0,false));},openUnprocessedDayDocuments:null,openAllDayDocuments:null,showDocuments:function(){return !!this.UnprocessedDocuments||!!this.UnpaidDocuments||this.showPassportRequirements();},showPassportRequirements:function(){return !!this.PassportRequirements.length||!!this.UrgentPassportRequirements.length||!!this.IncorrectPassports.length;},$0:function($p0,$p1,$p2,$p3){var $0=new LxnBase.Data.RangeRequest();var $1=[];if($p0!=null){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IssueDate',LxnBase.Data.FilterOperator.equals,$p0.Date,false));}else if(this.$3.MetricsFromDate!=null){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IssueDate',LxnBase.Data.FilterOperator.greaterOrEquals,this.$3.MetricsFromDate,false));}if(this.$4){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('Seller',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false));}if($p1){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('RequiresProcessing',LxnBase.Data.FilterOperator.equals,true,false));}if($p2){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid',LxnBase.Data.FilterOperator.equals,false,false));$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsPaid',LxnBase.Data.FilterOperator.equals,false,false));}if($p2||!(this.$4||Luxena.Travel.AppManager.get_systemConfiguration().ReservationsInOfficeMetrics)){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('Name',LxnBase.Data.FilterOperator.isNull,true,true));}if($p3){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('Owner',LxnBase.Data.FilterOperator.isNull,false,false));$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid',LxnBase.Data.FilterOperator.equals,false,false));$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('RequiresProcessing',LxnBase.Data.FilterOperator.equals,true,false));}$0.Filters=$1;LxnBase.UI.FormsRegistry.listObjects('Product',$0,false);},$1:function($p0){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Id',LxnBase.Data.FilterOperator.isIdIn,$p0,false)];LxnBase.UI.FormsRegistry.listObjects('AviaDocument',$0,false);},$2:function($p0){var $0=new LxnBase.Data.RangeRequest();var $1=[$p0];$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IsVoid',LxnBase.Data.FilterOperator.equals,false,false));if(this.$3.MetricsFromDate!=null){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('IssueDate',LxnBase.Data.FilterOperator.greaterOrEquals,this.$3.MetricsFromDate,false));}if(this.$4){$1.add(LxnBase.UI.PropertyFilterExtention.createFilter('AssignedTo',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false));}$0.Filters=$1;LxnBase.UI.FormsRegistry.listObjects('Order',$0,false);},$3:null,$4:false}
LxnTravel.App.HomeTab=function(tabId){LxnTravel.App.HomeTab.initializeBase(this,[new Ext.PanelConfig().title(Luxena.Travel.Res.home).cls('homeTab').autoScroll(true).toDictionary(),tabId]);this.editSettings=ss.Delegate.create(this,function(){
var $1_0=new Luxena.Travel.HomeSettingsForm();$1_0.set_from(this.$6_5);$1_0.set_to(this.$6_6);$1_0.add_saved(ss.Delegate.create(this,function(){
this.$6_5=$1_0.get_from();this.$6_6=$1_0.get_to();this.$6_3();}));$1_0.open();});this.closeTask=ss.Delegate.create(this,function($p1_0,$p1_1){
this.$6_0();Luxena.Travel.Services.AppService.CloseTask($p1_0.Id,ss.Delegate.create(this,function(){
$($p1_1.target).closest('li.task').fadeTo(500,0).promise().done(ss.Delegate.create(this,function(){
this.$6_3();}));}),null);return true;});}
LxnTravel.App.HomeTab.init=function(){LxnBase.UI.Tabs.open(false,'homeTab',function($p1_0){
return new LxnTravel.App.HomeTab($p1_0);});}
LxnTravel.App.HomeTab.prototype={model:null,showMyTasksTotal:false,showOfficeTasksTotal:false,editSettings:null,closeTask:null,onActivate:function(isFirst){this.$6_3();},onDeactivate:function(){this.$6_0();},openAllMyTasks:function(){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('AssignedTo',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false)];LxnBase.UI.FormsRegistry.listObjects('Task',$0,false);},openMyActiveTasks:function(){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('AssignedTo',LxnBase.Data.FilterOperator.equals,Luxena.Travel.AppManager.get_currentPerson().Name,false),LxnBase.UI.PropertyFilterExtention.createFilter('Status',LxnBase.Data.FilterOperator.equals,3,true)];LxnBase.UI.FormsRegistry.listObjects('Task',$0,false);},openAllTasks:function(){LxnBase.UI.FormsRegistry.listObjects('Task',new LxnBase.Data.RangeRequest(),false);},openActiveTasks:function(){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Status',LxnBase.Data.FilterOperator.equals,3,true)];LxnBase.UI.FormsRegistry.listObjects('Task',$0,false);},openDocuments:function(ids){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Id',LxnBase.Data.FilterOperator.isIdIn,ids,false)];LxnBase.UI.FormsRegistry.listObjects('AviaDocument',$0,false);},openOrders:function(ids){var $0=new LxnBase.Data.RangeRequest();$0.Filters=[LxnBase.UI.PropertyFilterExtention.createFilter('Id',LxnBase.Data.FilterOperator.isIdIn,ids,false)];LxnBase.UI.FormsRegistry.listObjects('Order',$0,false);},$6_0:function(){if(!this.$6_4){return;}window.clearTimeout(this.$6_4);this.$6_4=0;},$6_1:function(){Luxena.Travel.Services.AppService.GetHomeModel(this.$6_5,this.$6_6,ss.Delegate.create(this,this.$6_2),ss.Delegate.create(this,function($p1_0){
$p1_0.set_handled(true);this.$6_4=window.setTimeout(ss.Delegate.create(this,this.$6_1),60000);}));},$6_2:function($p0){this.model=new LxnTravel.App.HomeViewModel();LxnBase.ObjectUtility.merge(this.model,$p0);this.showMyTasksTotal=this.model.MyTasks.length<this.model.MyTasksTotal;if(this.model.ShowOfficeBlocks){this.showOfficeTasksTotal=this.model.OfficeTasks!=null&&this.model.OfficeTasks.length<this.model.OfficeTasksTotal;}var $0=$('<div class="home"></div>');LxnTravel.App.HomeTab.main.renderTo($0.get(0),this);$(this.body.dom).html($0);this.$6_4=window.setTimeout(ss.Delegate.create(this,this.$6_1),30000);},$6_3:function(){this.$6_0();this.$6_1();},$6_4:0,$6_5:null,$6_6:null}
Type.registerNamespace('LxnTravel.Accounting.Order');LxnTravel.Accounting.Order.Order=function(){}
Type.registerNamespace('LxnTravel.Parties');LxnTravel.Parties.Party=function(){}
LxnTravel.Parties.SystemConfiguration=function(){}
LxnBase.UI.BasicViewForm.registerClass('LxnBase.UI.BasicViewForm',LxnBase.UI.Tab);Luxena.Travel.Controls.AutoListTabExt.registerClass('Luxena.Travel.Controls.AutoListTabExt',LxnBase.UI.AutoForms.AutoListTab);Luxena.Travel.Controls.AutoListTabExt2.registerClass('Luxena.Travel.Controls.AutoListTabExt2',Luxena.Travel.Controls.AutoListTabExt,Luxena.Travel.IGridForm);Luxena.Travel.EntityListTab.registerClass('Luxena.Travel.EntityListTab',Luxena.Travel.Controls.AutoListTabExt2);Luxena.Travel.ClosedPeriodListTab.registerClass('Luxena.Travel.ClosedPeriodListTab',Luxena.Travel.EntityListTab);Luxena.Travel.BaseEditForm2.registerClass('Luxena.Travel.BaseEditForm2',LxnBase.UI.BaseEditForm,Luxena.Travel.IEditForm);Luxena.Travel.EntityEditForm.registerClass('Luxena.Travel.EntityEditForm',Luxena.Travel.BaseEditForm2);Luxena.Travel.ClosedPeriodEditForm.registerClass('Luxena.Travel.ClosedPeriodEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.LxnTravel$2.registerClass('Luxena.Travel.LxnTravel$2',Luxena.Travel.EntityEditForm);Luxena.Travel.LxnTravel$5.registerClass('Luxena.Travel.LxnTravel$5',Luxena.Travel.EntityListTab);Luxena.Travel.CurrencyDailyRateEditForm.registerClass('Luxena.Travel.CurrencyDailyRateEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.CurrencyDailyRateListTab.registerClass('Luxena.Travel.CurrencyDailyRateListTab',Luxena.Travel.EntityListTab);Luxena.Travel.Entity3DListTab.registerClass('Luxena.Travel.Entity3DListTab',Luxena.Travel.EntityListTab);Luxena.Travel.BankAccountListTab.registerClass('Luxena.Travel.BankAccountListTab',Luxena.Travel.Entity3DListTab);Luxena.Travel.InternalTransferListTab.registerClass('Luxena.Travel.InternalTransferListTab',Luxena.Travel.EntityListTab);Luxena.Travel.InternalTransferEditForm.registerClass('Luxena.Travel.InternalTransferEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.LxnTravel$1.registerClass('Luxena.Travel.LxnTravel$1',Luxena.Travel.EntityEditForm);Luxena.Travel.OpeningBalanceListTab.registerClass('Luxena.Travel.OpeningBalanceListTab',Luxena.Travel.EntityListTab);Luxena.Travel.OpeningBalanceEditForm.registerClass('Luxena.Travel.OpeningBalanceEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.LxnTravel$4.registerClass('Luxena.Travel.LxnTravel$4',Luxena.Travel.EntityListTab);Luxena.Travel.ModificationListTab.registerClass('Luxena.Travel.ModificationListTab',Luxena.Travel.EntityListTab);Luxena.Travel.ModificationEditForm.registerClass('Luxena.Travel.ModificationEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.IdentityListTab.registerClass('Luxena.Travel.IdentityListTab',Luxena.Travel.Entity3DListTab);Luxena.Travel.Entity3DEditForm.registerClass('Luxena.Travel.Entity3DEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.IdentityEditForm.registerClass('Luxena.Travel.IdentityEditForm',Luxena.Travel.Entity3DEditForm);Luxena.Travel.UserVisitListTab.registerClass('Luxena.Travel.UserVisitListTab',Luxena.Travel.EntityListTab);Luxena.Travel.UserVisitEditForm.registerClass('Luxena.Travel.UserVisitEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.UserListTab.registerClass('Luxena.Travel.UserListTab',Luxena.Travel.IdentityListTab);Luxena.Travel.UserEditForm.registerClass('Luxena.Travel.UserEditForm',Luxena.Travel.IdentityEditForm);Luxena.Travel.CellRenderers.registerClass('Luxena.Travel.CellRenderers');Luxena.Travel.ReferenceSelectorConfig.registerClass('Luxena.Travel.ReferenceSelectorConfig',Ext.form.ComboBoxConfig);Luxena.Travel.Entity3EditForm.registerClass('Luxena.Travel.Entity3EditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.Entity3ListTab.registerClass('Luxena.Travel.Entity3ListTab',Luxena.Travel.EntityListTab);Luxena.Travel.SemanticType.registerClass('Luxena.Travel.SemanticType');Luxena.Travel.BoolSemanticType.registerClass('Luxena.Travel.BoolSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.ViewTypes.registerClass('Luxena.Travel.ViewTypes');Luxena.Travel.SemanticEntity.registerClass('Luxena.Travel.SemanticEntity');Luxena.Travel.SemanticMember.registerClass('Luxena.Travel.SemanticMember',Luxena.Travel.SemanticEntity);Luxena.Travel.ReferenceSemanticType.registerClass('Luxena.Travel.ReferenceSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.LocalReferenceSemanticType.registerClass('Luxena.Travel.LocalReferenceSemanticType',Luxena.Travel.ReferenceSemanticType);Luxena.Travel.MoneySemanticType.registerClass('Luxena.Travel.MoneySemanticType',Luxena.Travel.SemanticType);Luxena.Travel.EnumSemanticType.registerClass('Luxena.Travel.EnumSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.EnumsSemanticType.registerClass('Luxena.Travel.EnumsSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.NumericSemanticType.registerClass('Luxena.Travel.NumericSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.DateSemanticType.registerClass('Luxena.Travel.DateSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.FormMember.registerClass('Luxena.Travel.FormMember');Luxena.Travel.FormMembers.registerClass('Luxena.Travel.FormMembers');Luxena.Travel.StringSemanticType.registerClass('Luxena.Travel.StringSemanticType',Luxena.Travel.SemanticType);Luxena.Travel.PasswordSemanticType.registerClass('Luxena.Travel.PasswordSemanticType',Luxena.Travel.StringSemanticType);Luxena.Travel.ConfirmPasswordSemanticType.registerClass('Luxena.Travel.ConfirmPasswordSemanticType',Luxena.Travel.PasswordSemanticType);Luxena.Travel.SemanticDomain.registerClass('Luxena.Travel.SemanticDomain');Luxena.Travel.InvoiceGridView.registerClass('Luxena.Travel.InvoiceGridView',LxnBase.UI.AutoControls.AutoGridView);Luxena.Travel.InvoiceIssueForm.registerClass('Luxena.Travel.InvoiceIssueForm',LxnBase.UI.BaseEditForm);Luxena.Travel.LxnTravel$3.registerClass('Luxena.Travel.LxnTravel$3',Luxena.Travel.EntityListTab);Luxena.Travel.OrderEditForm.registerClass('Luxena.Travel.OrderEditForm',LxnBase.UI.BaseClassEditForm);Luxena.Travel.OrderItemEditForm.registerClass('Luxena.Travel.OrderItemEditForm',LxnBase.UI.BaseClassEditForm);Luxena.Travel.OrderItemGridControl.registerClass('Luxena.Travel.OrderItemGridControl',Ext.grid.EditorGridPanel);Luxena.Travel.OrderViewForm.registerClass('Luxena.Travel.OrderViewForm',LxnBase.UI.BaseClassViewForm);Luxena.Travel.ConsignmentViewForm.registerClass('Luxena.Travel.ConsignmentViewForm',LxnBase.UI.AutoForms.AutoViewForm);Luxena.Travel.ConsignmentEditForm.registerClass('Luxena.Travel.ConsignmentEditForm',LxnBase.UI.BaseClassEditForm);Luxena.Travel.ConsignmentItemGridControl.registerClass('Luxena.Travel.ConsignmentItemGridControl',Ext.grid.EditorGridPanel);Luxena.Travel.QuickReceiptEditForm.registerClass('Luxena.Travel.QuickReceiptEditForm',LxnBase.UI.BaseEditForm);Luxena.Travel.PaymentGridView.registerClass('Luxena.Travel.PaymentGridView',LxnBase.UI.AutoControls.AutoGridView);Luxena.Travel.EntitySemantic.registerClass('Luxena.Travel.EntitySemantic',Luxena.Travel.SemanticEntity);Luxena.Travel.Entity2Semantic.registerClass('Luxena.Travel.Entity2Semantic',Luxena.Travel.EntitySemantic);Luxena.Travel.Entity3Semantic.registerClass('Luxena.Travel.Entity3Semantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.Entity3DSemantic.registerClass('Luxena.Travel.Entity3DSemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.PassportSemantic.registerClass('Luxena.Travel.PassportSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.PassportListTab.registerClass('Luxena.Travel.PassportListTab',Luxena.Travel.EntityListTab);Luxena.Travel.PassportEditForm.registerClass('Luxena.Travel.PassportEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.BankAccountSemantic.registerClass('Luxena.Travel.BankAccountSemantic',Luxena.Travel.Entity3DSemantic);Luxena.Travel.BankAccountEditForm.registerClass('Luxena.Travel.BankAccountEditForm',Luxena.Travel.Entity3DEditForm);Luxena.Travel.MilesCardSemantic.registerClass('Luxena.Travel.MilesCardSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.MilesCardListTab.registerClass('Luxena.Travel.MilesCardListTab',Luxena.Travel.EntityListTab);Luxena.Travel.MilesCardEditForm.registerClass('Luxena.Travel.MilesCardEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.PartySemantic.registerClass('Luxena.Travel.PartySemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.OrganizationSemantic.registerClass('Luxena.Travel.OrganizationSemantic',Luxena.Travel.PartySemantic);Luxena.Travel.PartyListTab.registerClass('Luxena.Travel.PartyListTab',Luxena.Travel.EntityListTab);Luxena.Travel.OrganizationListTab.registerClass('Luxena.Travel.OrganizationListTab',Luxena.Travel.PartyListTab);Luxena.Travel.PartyEditForm.registerClass('Luxena.Travel.PartyEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.OrganizationEditForm.registerClass('Luxena.Travel.OrganizationEditForm',Luxena.Travel.PartyEditForm);Luxena.Travel.PersonSemantic.registerClass('Luxena.Travel.PersonSemantic',Luxena.Travel.PartySemantic);Luxena.Travel.PersonListTab.registerClass('Luxena.Travel.PersonListTab',Luxena.Travel.PartyListTab);Luxena.Travel.PersonEditForm.registerClass('Luxena.Travel.PersonEditForm',Luxena.Travel.PartyEditForm);Luxena.Travel.DepartmentSemantic.registerClass('Luxena.Travel.DepartmentSemantic',Luxena.Travel.PartySemantic);Luxena.Travel.DepartmentListTab.registerClass('Luxena.Travel.DepartmentListTab',Luxena.Travel.PartyListTab);Luxena.Travel.DepartmentEditForm.registerClass('Luxena.Travel.DepartmentEditForm',Luxena.Travel.PartyEditForm);Luxena.Travel.AccommodationProviderSemantic.registerClass('Luxena.Travel.AccommodationProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.BusTicketProviderSemantic.registerClass('Luxena.Travel.BusTicketProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.PasteboardProviderSemantic.registerClass('Luxena.Travel.PasteboardProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.TransferProviderSemantic.registerClass('Luxena.Travel.TransferProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.GenericProductProviderSemantic.registerClass('Luxena.Travel.GenericProductProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.CarRentalProviderSemantic.registerClass('Luxena.Travel.CarRentalProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.TourProviderSemantic.registerClass('Luxena.Travel.TourProviderSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.RoamingOperatorSemantic.registerClass('Luxena.Travel.RoamingOperatorSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.InsuranceCompanySemantic.registerClass('Luxena.Travel.InsuranceCompanySemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.AirlineSemantic.registerClass('Luxena.Travel.AirlineSemantic',Luxena.Travel.OrganizationSemantic);Luxena.Travel.CustomerSemantic.registerClass('Luxena.Travel.CustomerSemantic',Luxena.Travel.PartySemantic);Luxena.Travel.OrderSemantic.registerClass('Luxena.Travel.OrderSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.CurrencyDailyRateSemantic.registerClass('Luxena.Travel.CurrencyDailyRateSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.CateringTypeSemantic.registerClass('Luxena.Travel.CateringTypeSemantic',Luxena.Travel.Entity3DSemantic);Luxena.Travel.CateringTypeListTab.registerClass('Luxena.Travel.CateringTypeListTab',Luxena.Travel.Entity3DListTab);Luxena.Travel.CateringTypeEditForm.registerClass('Luxena.Travel.CateringTypeEditForm',Luxena.Travel.Entity3DEditForm);Luxena.Travel.AccommodationTypeSemantic.registerClass('Luxena.Travel.AccommodationTypeSemantic',Luxena.Travel.Entity3DSemantic);Luxena.Travel.AccommodationTypeListTab.registerClass('Luxena.Travel.AccommodationTypeListTab',Luxena.Travel.Entity3DListTab);Luxena.Travel.AccommodationTypeEditForm.registerClass('Luxena.Travel.AccommodationTypeEditForm',Luxena.Travel.Entity3DEditForm);Luxena.Travel.GenericProductTypeSemantic.registerClass('Luxena.Travel.GenericProductTypeSemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.GenericProductTypeListTab.registerClass('Luxena.Travel.GenericProductTypeListTab',Luxena.Travel.Entity3ListTab);Luxena.Travel.GenericProductTypeEditForm.registerClass('Luxena.Travel.GenericProductTypeEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.ProductPassengerSemantic.registerClass('Luxena.Travel.ProductPassengerSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.ProductPassengerListTab.registerClass('Luxena.Travel.ProductPassengerListTab',Luxena.Travel.EntityListTab);Luxena.Travel.ProductPassengerEditForm.registerClass('Luxena.Travel.ProductPassengerEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.ProductSemantic.registerClass('Luxena.Travel.ProductSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.BusTicketSemantic.registerClass('Luxena.Travel.BusTicketSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.ProductListTab.registerClass('Luxena.Travel.ProductListTab',Luxena.Travel.EntityListTab);Luxena.Travel.BusTicketListTab.registerClass('Luxena.Travel.BusTicketListTab',Luxena.Travel.ProductListTab);Luxena.Travel.ProductEditForm.registerClass('Luxena.Travel.ProductEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.BusTicketEditForm.registerClass('Luxena.Travel.BusTicketEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.ExcursionSemantic.registerClass('Luxena.Travel.ExcursionSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.ExcursionListTab.registerClass('Luxena.Travel.ExcursionListTab',Luxena.Travel.ProductListTab);Luxena.Travel.ExcursionEditForm.registerClass('Luxena.Travel.ExcursionEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.IsicSemantic.registerClass('Luxena.Travel.IsicSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.IsicListTab.registerClass('Luxena.Travel.IsicListTab',Luxena.Travel.ProductListTab);Luxena.Travel.IsicEditForm.registerClass('Luxena.Travel.IsicEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.PasteboardSemantic.registerClass('Luxena.Travel.PasteboardSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.PasteboardListTab.registerClass('Luxena.Travel.PasteboardListTab',Luxena.Travel.ProductListTab);Luxena.Travel.PasteboardEditForm.registerClass('Luxena.Travel.PasteboardEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.TransferSemantic.registerClass('Luxena.Travel.TransferSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.TransferListTab.registerClass('Luxena.Travel.TransferListTab',Luxena.Travel.ProductListTab);Luxena.Travel.TransferEditForm.registerClass('Luxena.Travel.TransferEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.GenericProductSemantic.registerClass('Luxena.Travel.GenericProductSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.GenericProductListTab.registerClass('Luxena.Travel.GenericProductListTab',Luxena.Travel.ProductListTab);Luxena.Travel.GenericProductEditForm.registerClass('Luxena.Travel.GenericProductEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.CarRentalSemantic.registerClass('Luxena.Travel.CarRentalSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.CarRentalListTab.registerClass('Luxena.Travel.CarRentalListTab',Luxena.Travel.ProductListTab);Luxena.Travel.CarRentalEditForm.registerClass('Luxena.Travel.CarRentalEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.TourSemantic.registerClass('Luxena.Travel.TourSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.TourListTab.registerClass('Luxena.Travel.TourListTab',Luxena.Travel.ProductListTab);Luxena.Travel.TourEditForm.registerClass('Luxena.Travel.TourEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.AccommodationSemantic.registerClass('Luxena.Travel.AccommodationSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.AccommodationListTab.registerClass('Luxena.Travel.AccommodationListTab',Luxena.Travel.ProductListTab);Luxena.Travel.AccommodationEditForm.registerClass('Luxena.Travel.AccommodationEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.SimCardSemantic.registerClass('Luxena.Travel.SimCardSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.SimCardListTab.registerClass('Luxena.Travel.SimCardListTab',Luxena.Travel.ProductListTab);Luxena.Travel.SimCardEditForm.registerClass('Luxena.Travel.SimCardEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.InsuranceSemantic.registerClass('Luxena.Travel.InsuranceSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.InsuranceListTab.registerClass('Luxena.Travel.InsuranceListTab',Luxena.Travel.ProductListTab);Luxena.Travel.InsuranceEditForm.registerClass('Luxena.Travel.InsuranceEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.AviaDocumentSemantic.registerClass('Luxena.Travel.AviaDocumentSemantic',Luxena.Travel.ProductSemantic);Luxena.Travel.AviaTicketSemantic.registerClass('Luxena.Travel.AviaTicketSemantic',Luxena.Travel.AviaDocumentSemantic);Luxena.Travel.AviaDocumentListTab.registerClass('Luxena.Travel.AviaDocumentListTab',Luxena.Travel.ProductListTab);Luxena.Travel.AviaTicketListTab.registerClass('Luxena.Travel.AviaTicketListTab',Luxena.Travel.AviaDocumentListTab);Luxena.Travel.AviaDocumentEditForm.registerClass('Luxena.Travel.AviaDocumentEditForm',Luxena.Travel.ProductEditForm);Luxena.Travel.AviaTicketEditForm.registerClass('Luxena.Travel.AviaTicketEditForm',Luxena.Travel.AviaDocumentEditForm);Luxena.Travel.AviaMcoSemantic.registerClass('Luxena.Travel.AviaMcoSemantic',Luxena.Travel.AviaDocumentSemantic);Luxena.Travel.AviaMcoListTab.registerClass('Luxena.Travel.AviaMcoListTab',Luxena.Travel.AviaDocumentListTab);Luxena.Travel.AviaMcoEditForm.registerClass('Luxena.Travel.AviaMcoEditForm',Luxena.Travel.AviaDocumentEditForm);Luxena.Travel.AviaRefundSemantic.registerClass('Luxena.Travel.AviaRefundSemantic',Luxena.Travel.AviaDocumentSemantic);Luxena.Travel.AviaRefundListTab.registerClass('Luxena.Travel.AviaRefundListTab',Luxena.Travel.AviaDocumentListTab);Luxena.Travel.AviaRefundEditForm.registerClass('Luxena.Travel.AviaRefundEditForm',Luxena.Travel.AviaDocumentEditForm);Luxena.Travel.CountrySemantic.registerClass('Luxena.Travel.CountrySemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.CountryListTab.registerClass('Luxena.Travel.CountryListTab',Luxena.Travel.Entity3ListTab);Luxena.Travel.CountryEditForm.registerClass('Luxena.Travel.CountryEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.AirlineServiceClassSemantic.registerClass('Luxena.Travel.AirlineServiceClassSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.AirlineServiceClassListTab.registerClass('Luxena.Travel.AirlineServiceClassListTab',Luxena.Travel.EntityListTab);Luxena.Travel.AirlineServiceClassEditForm.registerClass('Luxena.Travel.AirlineServiceClassEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.AirlineMonthCommissionSemantic.registerClass('Luxena.Travel.AirlineMonthCommissionSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.AirlineMonthCommissionListTab.registerClass('Luxena.Travel.AirlineMonthCommissionListTab',Luxena.Travel.EntityListTab);Luxena.Travel.AirlineMonthCommissionEditForm.registerClass('Luxena.Travel.AirlineMonthCommissionEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.AirportSemantic.registerClass('Luxena.Travel.AirportSemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.AirportListTab.registerClass('Luxena.Travel.AirportListTab',Luxena.Travel.Entity3ListTab);Luxena.Travel.AirportEditForm.registerClass('Luxena.Travel.AirportEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.PaymentSystemSemantic.registerClass('Luxena.Travel.PaymentSystemSemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.PaymentSystemListTab.registerClass('Luxena.Travel.PaymentSystemListTab',Luxena.Travel.Entity3ListTab);Luxena.Travel.PaymentSystemEditForm.registerClass('Luxena.Travel.PaymentSystemEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.CurrencySemantic.registerClass('Luxena.Travel.CurrencySemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.CurrencyListTab.registerClass('Luxena.Travel.CurrencyListTab',Luxena.Travel.Entity3ListTab);Luxena.Travel.CurrencyEditForm.registerClass('Luxena.Travel.CurrencyEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.IdentitySemantic.registerClass('Luxena.Travel.IdentitySemantic',Luxena.Travel.Entity3DSemantic);Luxena.Travel.UserSemantic.registerClass('Luxena.Travel.UserSemantic',Luxena.Travel.IdentitySemantic);Luxena.Travel.UserVisitSemantic.registerClass('Luxena.Travel.UserVisitSemantic',Luxena.Travel.EntitySemantic);Luxena.Travel.SystemConfigurationSemantic.registerClass('Luxena.Travel.SystemConfigurationSemantic',Luxena.Travel.EntitySemantic);Luxena.Travel.SystemConfigurationEditForm.registerClass('Luxena.Travel.SystemConfigurationEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.AirlineCommissionPercentsSemantic.registerClass('Luxena.Travel.AirlineCommissionPercentsSemantic',Luxena.Travel.EntitySemantic);Luxena.Travel.AirlineCommissionPercentsListTab.registerClass('Luxena.Travel.AirlineCommissionPercentsListTab',Luxena.Travel.EntityListTab);Luxena.Travel.AirlineCommissionPercentsEditForm.registerClass('Luxena.Travel.AirlineCommissionPercentsEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.DocumentOwnerSemantic.registerClass('Luxena.Travel.DocumentOwnerSemantic',Luxena.Travel.EntitySemantic);Luxena.Travel.DocumentOwnerListTab.registerClass('Luxena.Travel.DocumentOwnerListTab',Luxena.Travel.EntityListTab);Luxena.Travel.DocumentOwnerEditForm.registerClass('Luxena.Travel.DocumentOwnerEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.DocumentAccessSemantic.registerClass('Luxena.Travel.DocumentAccessSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.DocumentAccessListTab.registerClass('Luxena.Travel.DocumentAccessListTab',Luxena.Travel.EntityListTab);Luxena.Travel.DocumentAccessEditForm.registerClass('Luxena.Travel.DocumentAccessEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.ClosedPeriodSemantic.registerClass('Luxena.Travel.ClosedPeriodSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.OpeningBalanceSemantic.registerClass('Luxena.Travel.OpeningBalanceSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.InternalTransferSemantic.registerClass('Luxena.Travel.InternalTransferSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.GdsAgentSemantic.registerClass('Luxena.Travel.GdsAgentSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.GdsAgentListTab.registerClass('Luxena.Travel.GdsAgentListTab',Luxena.Travel.EntityListTab);Luxena.Travel.GdsAgentEditForm.registerClass('Luxena.Travel.GdsAgentEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.GdsFileSemantic.registerClass('Luxena.Travel.GdsFileSemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.InvoiceSemantic.registerClass('Luxena.Travel.InvoiceSemantic',Luxena.Travel.EntitySemantic);Luxena.Travel.ReceiptSemantic.registerClass('Luxena.Travel.ReceiptSemantic',Luxena.Travel.InvoiceSemantic);Luxena.Travel.TaskSemantic.registerClass('Luxena.Travel.TaskSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.TaskListTab.registerClass('Luxena.Travel.TaskListTab',Luxena.Travel.EntityListTab);Luxena.Travel.TaskEditForm.registerClass('Luxena.Travel.TaskEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.PaymentSemantic.registerClass('Luxena.Travel.PaymentSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.ContractSemantic.registerClass('Luxena.Travel.ContractSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.ModificationSemantic.registerClass('Luxena.Travel.ModificationSemantic',Luxena.Travel.EntitySemantic);Luxena.Travel.FlightSegmentSemantic.registerClass('Luxena.Travel.FlightSegmentSemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.FlightSegmentListTab.registerClass('Luxena.Travel.FlightSegmentListTab',Luxena.Travel.EntityListTab);Luxena.Travel.FlightSegmentEditForm.registerClass('Luxena.Travel.FlightSegmentEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.AirplaneModelSemantic.registerClass('Luxena.Travel.AirplaneModelSemantic',Luxena.Travel.Entity3Semantic);Luxena.Travel.AirplaneModelListTab.registerClass('Luxena.Travel.AirplaneModelListTab',Luxena.Travel.Entity3ListTab);Luxena.Travel.AirplaneModelEditForm.registerClass('Luxena.Travel.AirplaneModelEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.AmadeusAviaSftpRsaKeySemantic.registerClass('Luxena.Travel.AmadeusAviaSftpRsaKeySemantic',Luxena.Travel.Entity2Semantic);Luxena.Travel.AmadeusAviaSftpRsaKeyListTab.registerClass('Luxena.Travel.AmadeusAviaSftpRsaKeyListTab',Luxena.Travel.EntityListTab);Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm.registerClass('Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm',Luxena.Travel.EntityEditForm);Luxena.Travel.PartyReplaceForm.registerClass('Luxena.Travel.PartyReplaceForm',Luxena.Travel.EntityEditForm);Luxena.Travel.PartyReplaceParams.registerClass('Luxena.Travel.PartyReplaceParams',Luxena.Travel.EntitySemantic);Luxena.Travel.ProductViewForm.registerClass('Luxena.Travel.ProductViewForm',LxnBase.UI.BasicViewForm);Luxena.Travel.AccommodationViewForm.registerClass('Luxena.Travel.AccommodationViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.FlightSegmentGridControl.registerClass('Luxena.Travel.FlightSegmentGridControl',null,Luxena.Travel.IGridControl);Luxena.Travel.GdsFileEditForm.registerClass('Luxena.Travel.GdsFileEditForm',Luxena.Travel.Entity3EditForm);Luxena.Travel.CarRentalViewForm.registerClass('Luxena.Travel.CarRentalViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.BusTicketRefundEditForm.registerClass('Luxena.Travel.BusTicketRefundEditForm',Luxena.Travel.BusTicketEditForm);Luxena.Travel.BusTicketViewForm.registerClass('Luxena.Travel.BusTicketViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.BusTicketRefundViewForm.registerClass('Luxena.Travel.BusTicketRefundViewForm',Luxena.Travel.BusTicketViewForm);Luxena.Travel.GenericProductViewForm.registerClass('Luxena.Travel.GenericProductViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.InsuranceRefundEditForm.registerClass('Luxena.Travel.InsuranceRefundEditForm',Luxena.Travel.InsuranceEditForm);Luxena.Travel.InsuranceViewForm.registerClass('Luxena.Travel.InsuranceViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.InsuranceRefundViewForm.registerClass('Luxena.Travel.InsuranceRefundViewForm',Luxena.Travel.InsuranceViewForm);Luxena.Travel.AllProductListTab.registerClass('Luxena.Travel.AllProductListTab',Luxena.Travel.ProductListTab);Luxena.Travel.AllAgencyProductListTab.registerClass('Luxena.Travel.AllAgencyProductListTab',Luxena.Travel.EntityListTab);Luxena.Travel.TransferViewForm.registerClass('Luxena.Travel.TransferViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.TourViewForm.registerClass('Luxena.Travel.TourViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.ExcursionViewForm.registerClass('Luxena.Travel.ExcursionViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.IsicViewForm.registerClass('Luxena.Travel.IsicViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.ProductPassengerGridControl.registerClass('Luxena.Travel.ProductPassengerGridControl',Ext.grid.EditorGridPanel);Luxena.Travel.SimCardViewForm.registerClass('Luxena.Travel.SimCardViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.PasteboardViewForm.registerClass('Luxena.Travel.PasteboardViewForm',Luxena.Travel.ProductViewForm);Luxena.Travel.PasteboardRefundViewForm.registerClass('Luxena.Travel.PasteboardRefundViewForm',Luxena.Travel.PasteboardViewForm);Luxena.Travel.PasteboardRefundEditForm.registerClass('Luxena.Travel.PasteboardRefundEditForm',Luxena.Travel.PasteboardEditForm);Luxena.Travel.AviaDocument_FullNumberEditor.registerClass('Luxena.Travel.AviaDocument_FullNumberEditor');Luxena.Travel.LxnTravel$0.registerClass('Luxena.Travel.LxnTravel$0');Luxena.Travel.AviaDocumentDto.registerClass('Luxena.Travel.AviaDocumentDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.Product_CustomerAndOrderEditor.registerClass('Luxena.Travel.Product_CustomerAndOrderEditor');Luxena.Travel.Product_FinanceEditor.registerClass('Luxena.Travel.Product_FinanceEditor');Luxena.Travel.PassportCompareForm.registerClass('Luxena.Travel.PassportCompareForm',LxnBase.UI.BaseEditForm);Luxena.Travel.PassportListForm.registerClass('Luxena.Travel.PassportListForm',LxnBase.UI.BaseEditForm);Luxena.Travel.AviaConsoleParserForm.registerClass('Luxena.Travel.AviaConsoleParserForm',LxnBase.UI.BaseEditForm);Luxena.Travel.PartyModel.registerClass('Luxena.Travel.PartyModel');Luxena.Travel.DepartmentModel.registerClass('Luxena.Travel.DepartmentModel',Luxena.Travel.PartyModel);Luxena.Travel.FileModel.registerClass('Luxena.Travel.FileModel');Luxena.Travel.OrganizationModel.registerClass('Luxena.Travel.OrganizationModel',Luxena.Travel.PartyModel);Luxena.Travel.PartyViewForm.registerClass('Luxena.Travel.PartyViewForm',LxnBase.UI.Tab);Luxena.Travel.DepartmentViewForm.registerClass('Luxena.Travel.DepartmentViewForm',Luxena.Travel.PartyViewForm);Luxena.Travel.PartyFile.registerClass('Luxena.Travel.PartyFile');Luxena.Travel.FileUploadForm.registerClass('Luxena.Travel.FileUploadForm');Luxena.Travel.OrderGridView.registerClass('Luxena.Travel.OrderGridView',LxnBase.UI.AutoControls.AutoGridView);Luxena.Travel.ReportPrinter.registerClass('Luxena.Travel.ReportPrinter');Luxena.Travel.PaymentEditForm.registerClass('Luxena.Travel.PaymentEditForm',LxnBase.UI.BaseClassEditForm);Luxena.Travel.PaymentListTab.registerClass('Luxena.Travel.PaymentListTab',Luxena.Travel.Controls.AutoListTabExt);Luxena.Travel.PaymentViewForm.registerClass('Luxena.Travel.PaymentViewForm',LxnBase.UI.BaseClassViewForm);Luxena.Travel.CashPaymentRegisterFormArgs.registerClass('Luxena.Travel.CashPaymentRegisterFormArgs');Luxena.Travel.CashPaymentRegisterForm.registerClass('Luxena.Travel.CashPaymentRegisterForm',LxnBase.UI.BaseEditForm);Luxena.Travel.ServerEvents.registerClass('Luxena.Travel.ServerEvents');Luxena.Travel.AppManager.registerClass('Luxena.Travel.AppManager');Luxena.Travel.AirlineListTab.registerClass('Luxena.Travel.AirlineListTab',Luxena.Travel.Controls.AutoListTabExt);Luxena.Travel.AviaDocumentSelectForm.registerClass('Luxena.Travel.AviaDocumentSelectForm',LxnBase.UI.AutoForms.AutoSelectForm);Luxena.Travel.PenalizeOperationEditForm.registerClass('Luxena.Travel.PenalizeOperationEditForm',LxnBase.UI.BaseEditForm);Luxena.Travel.HomeSettingsForm.registerClass('Luxena.Travel.HomeSettingsForm',LxnBase.UI.BaseEditForm);Luxena.Travel.SetDataToDocumentsForm.registerClass('Luxena.Travel.SetDataToDocumentsForm',LxnBase.UI.BaseEditForm);Luxena.Travel.GdsFileViewForm.registerClass('Luxena.Travel.GdsFileViewForm',LxnBase.UI.AutoForms.AutoViewForm);Luxena.Travel.OrderTransferDto.registerClass('Luxena.Travel.OrderTransferDto');Luxena.Travel.QuickReceiptRequest.registerClass('Luxena.Travel.QuickReceiptRequest');Luxena.Travel.QuickReceiptResponse.registerClass('Luxena.Travel.QuickReceiptResponse');Luxena.Travel.AviaPaymentResponse.registerClass('Luxena.Travel.AviaPaymentResponse');Luxena.Travel.CashInOrderPaymentRequest.registerClass('Luxena.Travel.CashInOrderPaymentRequest');Luxena.Travel.ConsignmentItemsDto.registerClass('Luxena.Travel.ConsignmentItemsDto');Luxena.Travel.GenerateOrderItemsResponse.registerClass('Luxena.Travel.GenerateOrderItemsResponse');Luxena.Travel.ClosedPeriodDto.registerClass('Luxena.Travel.ClosedPeriodDto');Luxena.Travel.CashPaymentResponse.registerClass('Luxena.Travel.CashPaymentResponse');Luxena.Travel.ConsignmentDto.registerClass('Luxena.Travel.ConsignmentDto');Luxena.Travel.IssuedConsignmentDto.registerClass('Luxena.Travel.IssuedConsignmentDto');Luxena.Travel.OrderItemDto.registerClass('Luxena.Travel.OrderItemDto');Luxena.Travel.PaymentDto.registerClass('Luxena.Travel.PaymentDto');Luxena.Travel.InvoiceDto.registerClass('Luxena.Travel.InvoiceDto');Luxena.Travel.OrderDto.registerClass('Luxena.Travel.OrderDto');Luxena.Travel.ProductProviderDto.registerClass('Luxena.Travel.ProductProviderDto');Luxena.Travel.ProductPassengerDto.registerClass('Luxena.Travel.ProductPassengerDto');Luxena.Travel.GenericProductTypeDto.registerClass('Luxena.Travel.GenericProductTypeDto');Luxena.Travel.GenericProductDto.registerClass('Luxena.Travel.GenericProductDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.PasteboardDto.registerClass('Luxena.Travel.PasteboardDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.SimCardDto.registerClass('Luxena.Travel.SimCardDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.IsicDto.registerClass('Luxena.Travel.IsicDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.BusTicketDto.registerClass('Luxena.Travel.BusTicketDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.ExcursionDto.registerClass('Luxena.Travel.ExcursionDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.TourDto.registerClass('Luxena.Travel.TourDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.AccommodationDto.registerClass('Luxena.Travel.AccommodationDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.TransferDto.registerClass('Luxena.Travel.TransferDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.InsuranceDto.registerClass('Luxena.Travel.InsuranceDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.CarRentalDto.registerClass('Luxena.Travel.CarRentalDto',Luxena.Travel.LxnTravel$0);Luxena.Travel.AviaDocumentProcessDto.registerClass('Luxena.Travel.AviaDocumentProcessDto');Luxena.Travel.AviaMcoProcessDto.registerClass('Luxena.Travel.AviaMcoProcessDto',Luxena.Travel.AviaDocumentProcessDto);Luxena.Travel.AviaDocumentProcessArgs.registerClass('Luxena.Travel.AviaDocumentProcessArgs');Luxena.Travel.AviaTicketProcessDto.registerClass('Luxena.Travel.AviaTicketProcessDto',Luxena.Travel.AviaDocumentProcessDto);Luxena.Travel.PassportValidationResponse.registerClass('Luxena.Travel.PassportValidationResponse');Luxena.Travel.PenalizeOperationDto.registerClass('Luxena.Travel.PenalizeOperationDto');Luxena.Travel.ProcessOperationPermissionsResponse.registerClass('Luxena.Travel.ProcessOperationPermissionsResponse',LxnBase.Data.OperationPermissions);Luxena.Travel.GdsAgentDto.registerClass('Luxena.Travel.GdsAgentDto');Luxena.Travel.AviaMcoDto.registerClass('Luxena.Travel.AviaMcoDto',Luxena.Travel.AviaDocumentDto);Luxena.Travel.AviaRefundDto.registerClass('Luxena.Travel.AviaRefundDto',Luxena.Travel.AviaDocumentDto);Luxena.Travel.AviaRefundProcessDto.registerClass('Luxena.Travel.AviaRefundProcessDto',Luxena.Travel.AviaDocumentProcessDto);Luxena.Travel.AviaDocumentFeeDto.registerClass('Luxena.Travel.AviaDocumentFeeDto');Luxena.Travel.AviaTicketDto.registerClass('Luxena.Travel.AviaTicketDto',Luxena.Travel.AviaDocumentDto);Luxena.Travel.FlightSegmentDto.registerClass('Luxena.Travel.FlightSegmentDto');Luxena.Travel.DayStats.registerClass('Luxena.Travel.DayStats');Luxena.Travel.ItemListResponse.registerClass('Luxena.Travel.ItemListResponse');Luxena.Travel.SystemConfigurationDto.registerClass('Luxena.Travel.SystemConfigurationDto');Luxena.Travel.AppParameters.registerClass('Luxena.Travel.AppParameters');Luxena.Travel.AppStateResponse.registerClass('Luxena.Travel.AppStateResponse');Luxena.Travel.AppStateRequest.registerClass('Luxena.Travel.AppStateRequest');Luxena.Travel.ObjectStateInfo.registerClass('Luxena.Travel.ObjectStateInfo',LxnBase.Data.Reference);Luxena.Travel.ProfileDto.registerClass('Luxena.Travel.ProfileDto');Luxena.Travel.MoneyDto.registerClass('Luxena.Travel.MoneyDto');Luxena.Travel.FileDto.registerClass('Luxena.Travel.FileDto');Luxena.Travel.PartyDto.registerClass('Luxena.Travel.PartyDto');Luxena.Travel.DepartmentDto.registerClass('Luxena.Travel.DepartmentDto',Luxena.Travel.PartyDto);Luxena.Travel.OpeningBalanceDto.registerClass('Luxena.Travel.OpeningBalanceDto');Luxena.Travel.OrderBalance.registerClass('Luxena.Travel.OrderBalance');Luxena.Travel.PartyBalance.registerClass('Luxena.Travel.PartyBalance');Luxena.Travel.TaskDto.registerClass('Luxena.Travel.TaskDto');Luxena.Travel.UploadFileResponse.registerClass('Luxena.Travel.UploadFileResponse');Luxena.Travel.MilesCardDto.registerClass('Luxena.Travel.MilesCardDto');Luxena.Travel.PassportDto.registerClass('Luxena.Travel.PassportDto');Luxena.Travel.PersonDto.registerClass('Luxena.Travel.PersonDto',Luxena.Travel.PartyDto);Luxena.Travel.OrganizationDto.registerClass('Luxena.Travel.OrganizationDto',Luxena.Travel.PartyDto);Luxena.Travel.AppActions.registerClass('Luxena.Travel.AppActions');Luxena.Travel.LocalStorageProvider.registerClass('Luxena.Travel.LocalStorageProvider',Ext.state.Provider);Luxena.Travel.MessageFactory.registerClass('Luxena.Travel.MessageFactory');Luxena.Travel.PersonModel.registerClass('Luxena.Travel.PersonModel',Luxena.Travel.PartyModel);Luxena.Travel.PassportGridControl.registerClass('Luxena.Travel.PassportGridControl',null,Luxena.Travel.IGridControl);Luxena.Travel.MilesCardGridControl.registerClass('Luxena.Travel.MilesCardGridControl',null,Luxena.Travel.IGridControl);Luxena.Travel.PersonViewForm.registerClass('Luxena.Travel.PersonViewForm',Luxena.Travel.PartyViewForm);Luxena.Travel.TaskViewForm.registerClass('Luxena.Travel.TaskViewForm',LxnBase.UI.AutoForms.AutoViewForm);Luxena.Travel.ReportProvider.registerClass('Luxena.Travel.ReportProvider',null,LxnBase.UI.AutoControls.IReportProvider);Luxena.Travel.Application.registerClass('Luxena.Travel.Application');Luxena.Travel.ProductGridView.registerClass('Luxena.Travel.ProductGridView',LxnBase.UI.AutoControls.AutoGridView);Luxena.Travel.AviaDocumentViewForm.registerClass('Luxena.Travel.AviaDocumentViewForm',LxnBase.UI.BasicViewForm);Luxena.Travel.Header.registerClass('Luxena.Travel.Header');Luxena.Travel.AviaDocumentProcessForm.registerClass('Luxena.Travel.AviaDocumentProcessForm',LxnBase.UI.BaseEditForm);Luxena.Travel.GdsFileListTab.registerClass('Luxena.Travel.GdsFileListTab',Luxena.Travel.EntityListTab);Luxena.Travel.OrganizationViewForm.registerClass('Luxena.Travel.OrganizationViewForm',Luxena.Travel.PartyViewForm);Luxena.Travel.Controls.PropertyListControl.registerClass('Luxena.Travel.Controls.PropertyListControl',Ext.Panel);Luxena.Travel.Controls.MoneyControlCalculator.registerClass('Luxena.Travel.Controls.MoneyControlCalculator');Luxena.Travel.Controls.MoneyControlConfig.registerClass('Luxena.Travel.Controls.MoneyControlConfig',Ext.form.FieldConfig);Luxena.Travel.Controls.MoneyControl.registerClass('Luxena.Travel.Controls.MoneyControl',Ext.form.Field);Luxena.Travel.Controls.PropertyGridControl.registerClass('Luxena.Travel.Controls.PropertyGridControl',Ext.Panel);Luxena.Travel.Controls.PropertyGridControlConfig.registerClass('Luxena.Travel.Controls.PropertyGridControlConfig',Ext.PanelConfig);Luxena.Travel.Controls.PropertyItem.registerClass('Luxena.Travel.Controls.PropertyItem');Luxena.Travel.Controls.PropertyListControlConfig.registerClass('Luxena.Travel.Controls.PropertyListControlConfig',Ext.PanelConfig);Luxena.Travel.Controls.ControlFactoryExt.registerClass('Luxena.Travel.Controls.ControlFactoryExt');Luxena.Travel.Controls.GridFilterPluginExtention.registerClass('Luxena.Travel.Controls.GridFilterPluginExtention');Luxena.Travel.Controls.LinkButton.registerClass('Luxena.Travel.Controls.LinkButton',Ext.Button);Luxena.Travel.Controls.LinkButton2.registerClass('Luxena.Travel.Controls.LinkButton2',Ext.Button);Luxena.Travel.Reports.UnbalancedReportForm.registerClass('Luxena.Travel.Reports.UnbalancedReportForm',LxnBase.UI.BaseEditForm);Luxena.Travel.Reports.RegistryReportForm.registerClass('Luxena.Travel.Reports.RegistryReportForm',LxnBase.UI.BaseEditForm);Luxena.Travel.Reports.CustomerReportForm.registerClass('Luxena.Travel.Reports.CustomerReportForm',LxnBase.UI.BaseEditForm);Luxena.Travel.Configuration.PasswordEditForm.registerClass('Luxena.Travel.Configuration.PasswordEditForm',LxnBase.UI.BaseEditForm);Luxena.Travel.Configuration.ProfileViewForm.registerClass('Luxena.Travel.Configuration.ProfileViewForm',LxnBase.UI.Tab);Luxena.Travel.Configuration.SystemConfigurationViewForm.registerClass('Luxena.Travel.Configuration.SystemConfigurationViewForm',LxnBase.UI.AutoForms.AutoViewForm);Luxena.Travel.Services.ConsignmentService.registerClass('Luxena.Travel.Services.ConsignmentService');Luxena.Travel.Services.ClosedPeriodService.registerClass('Luxena.Travel.Services.ClosedPeriodService');Luxena.Travel.Services.HomeModel.registerClass('Luxena.Travel.Services.HomeModel');Luxena.Travel.Services.DocumentStatsModel.registerClass('Luxena.Travel.Services.DocumentStatsModel');Luxena.Travel.Services.AppService.registerClass('Luxena.Travel.Services.AppService');Luxena.Travel.Services.DomainService.registerClass('Luxena.Travel.Services.DomainService');Luxena.Travel.Services.ProductService.registerClass('Luxena.Travel.Services.ProductService');Luxena.Travel.Services.AviaService.registerClass('Luxena.Travel.Services.AviaService');Luxena.Travel.Services.GdsFileService.registerClass('Luxena.Travel.Services.GdsFileService');Luxena.Travel.Services.OrderService.registerClass('Luxena.Travel.Services.OrderService');Luxena.Travel.Services.PartyService.registerClass('Luxena.Travel.Services.PartyService');Luxena.Travel.Services.PaymentService.registerClass('Luxena.Travel.Services.PaymentService');Luxena.Travel.Services.ReportService.registerClass('Luxena.Travel.Services.ReportService');Luxena.Travel.Services.TaskService.registerClass('Luxena.Travel.Services.TaskService');Luxena.Travel.Services.UserService.registerClass('Luxena.Travel.Services.UserService');LxnTravel.PartyTemplates.registerClass('LxnTravel.PartyTemplates');LxnTravel.App.HomeViewModel.registerClass('LxnTravel.App.HomeViewModel',Luxena.Travel.Services.HomeModel);LxnTravel.App.DocumentStatsViewModel.registerClass('LxnTravel.App.DocumentStatsViewModel',Luxena.Travel.Services.DocumentStatsModel);LxnTravel.App.HomeTab.registerClass('LxnTravel.App.HomeTab',LxnBase.UI.Tab);LxnTravel.Accounting.Order.Order.registerClass('LxnTravel.Accounting.Order.Order');LxnTravel.Parties.Party.registerClass('LxnTravel.Parties.Party');LxnTravel.Parties.SystemConfiguration.registerClass('LxnTravel.Parties.SystemConfiguration');(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('ClosedPeriod',Luxena.Travel.ClosedPeriodListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('ClosedPeriod',Luxena.Travel.ClosedPeriodEditForm);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Contract',Luxena.Travel.LxnTravel$2);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Contract',Luxena.Travel.LxnTravel$5);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('CurrencyDailyRate',Luxena.Travel.CurrencyDailyRateEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('CurrencyDailyRate',Luxena.Travel.CurrencyDailyRateListTab);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('BankAccount',Luxena.Travel.BankAccountListTab);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('InternalTransfer',Luxena.Travel.InternalTransferListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('InternalTransfer',Luxena.Travel.InternalTransferEditForm);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Invoice',Luxena.Travel.LxnTravel$1);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('OpeningBalance',Luxena.Travel.OpeningBalanceListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('OpeningBalance',Luxena.Travel.OpeningBalanceEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Order',Luxena.Travel.LxnTravel$4);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Modification',Luxena.Travel.ModificationListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Modification',Luxena.Travel.ModificationEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Identity',Luxena.Travel.IdentityListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Identity',Luxena.Travel.IdentityEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('UserVisit',Luxena.Travel.UserVisitListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('UserVisit',Luxena.Travel.UserVisitEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('User',Luxena.Travel.UserListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('User',Luxena.Travel.UserEditForm);})();
Luxena.Travel.ViewTypes.bool=new Luxena.Travel.BoolSemanticType();Luxena.Travel.ViewTypes.localReference=new Luxena.Travel.LocalReferenceSemanticType();Luxena.Travel.ViewTypes.money=new Luxena.Travel.MoneySemanticType(false,false);Luxena.Travel.ViewTypes.defaultMoney=new Luxena.Travel.MoneySemanticType(true,false);Luxena.Travel.ViewTypes.defaultOnlyMoney=new Luxena.Travel.MoneySemanticType(true,true);Luxena.Travel.ViewTypes.enumeration=new Luxena.Travel.EnumSemanticType();Luxena.Travel.ViewTypes.enumerations=new Luxena.Travel.EnumsSemanticType();Luxena.Travel.ViewTypes.reference=new Luxena.Travel.ReferenceSemanticType();Luxena.Travel.ViewTypes.int32=new Luxena.Travel.NumericSemanticType(0);Luxena.Travel.ViewTypes.float2=new Luxena.Travel.NumericSemanticType(2);Luxena.Travel.ViewTypes.float4=new Luxena.Travel.NumericSemanticType(4);Luxena.Travel.ViewTypes.date=new Luxena.Travel.DateSemanticType('d.m.Y');Luxena.Travel.ViewTypes.dateTime=new Luxena.Travel.DateSemanticType('d.m.Y G:i');Luxena.Travel.ViewTypes.dateTime2=new Luxena.Travel.DateSemanticType('d.m.Y G:i:s');Luxena.Travel.ViewTypes.time=new Luxena.Travel.DateSemanticType('G:i');Luxena.Travel.ViewTypes.time2=new Luxena.Travel.DateSemanticType('G:i:s');Luxena.Travel.ViewTypes.string=new Luxena.Travel.StringSemanticType();Luxena.Travel.ViewTypes.password=new Luxena.Travel.PasswordSemanticType();Luxena.Travel.ViewTypes.confirmPassword=new Luxena.Travel.ConfirmPasswordSemanticType();Luxena.Travel.SemanticType.minWidth=104;Luxena.Travel.SemanticType.maxWidth=336;(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Invoice',Luxena.Travel.LxnTravel$3);})();
(function(){LxnBase.UI.FormsRegistry.registerEdit('Order',Luxena.Travel.OrderEditForm.editObject);})();
(function(){LxnBase.UI.FormsRegistry.registerEdit('OrderItem',Luxena.Travel.OrderItemEditForm.editObject);})();
(function(){LxnBase.UI.FormsRegistry.registerView('Order',Luxena.Travel.OrderViewForm.viewObject);})();
(function(){LxnBase.UI.FormsRegistry.registerView('Consignment',Luxena.Travel.ConsignmentViewForm.viewObject);})();
(function(){LxnBase.UI.FormsRegistry.registerEdit('Consignment',Luxena.Travel.ConsignmentEditForm.$2_1);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Passport',Luxena.Travel.PassportListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Passport',Luxena.Travel.PassportEditForm);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('BankAccount',Luxena.Travel.BankAccountEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('MilesCard',Luxena.Travel.MilesCardListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('MilesCard',Luxena.Travel.MilesCardEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Organization',Luxena.Travel.OrganizationListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Organization',Luxena.Travel.OrganizationEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Person',Luxena.Travel.PersonListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Person',Luxena.Travel.PersonEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Department',Luxena.Travel.DepartmentListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Department',Luxena.Travel.DepartmentEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('CateringType',Luxena.Travel.CateringTypeListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('CateringType',Luxena.Travel.CateringTypeEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AccommodationType',Luxena.Travel.AccommodationTypeListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('AccommodationType',Luxena.Travel.AccommodationTypeEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('GenericProductType',Luxena.Travel.GenericProductTypeListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('GenericProductType',Luxena.Travel.GenericProductTypeEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('ProductPassenger',Luxena.Travel.ProductPassengerListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('ProductPassenger',Luxena.Travel.ProductPassengerEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('BusTicket',Luxena.Travel.BusTicketListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('BusTicket',Luxena.Travel.BusTicketEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Excursion',Luxena.Travel.ExcursionListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Excursion',Luxena.Travel.ExcursionEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Isic',Luxena.Travel.IsicListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Isic',Luxena.Travel.IsicEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Pasteboard',Luxena.Travel.PasteboardListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Pasteboard',Luxena.Travel.PasteboardEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Transfer',Luxena.Travel.TransferListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Transfer',Luxena.Travel.TransferEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('GenericProduct',Luxena.Travel.GenericProductListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('GenericProduct',Luxena.Travel.GenericProductEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('CarRental',Luxena.Travel.CarRentalListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('CarRental',Luxena.Travel.CarRentalEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Tour',Luxena.Travel.TourListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Tour',Luxena.Travel.TourEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Accommodation',Luxena.Travel.AccommodationListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Accommodation',Luxena.Travel.AccommodationEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('SimCard',Luxena.Travel.SimCardListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('SimCard',Luxena.Travel.SimCardEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Insurance',Luxena.Travel.InsuranceListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('Insurance',Luxena.Travel.InsuranceEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AviaTicket',Luxena.Travel.AviaTicketListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('AviaTicket',Luxena.Travel.AviaTicketEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AviaMco',Luxena.Travel.AviaMcoListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('AviaMco',Luxena.Travel.AviaMcoEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AviaRefund',Luxena.Travel.AviaRefundListTab);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('AviaRefund',Luxena.Travel.AviaRefundEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Country',Luxena.Travel.CountryListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Country',Luxena.Travel.CountryEditForm);})();
Luxena.Travel.AirlineServiceClassListTab.applyServiceClassActionName='ApplyServiceClassToDocuments';(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AirlineServiceClass',Luxena.Travel.AirlineServiceClassListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('AirlineServiceClass',Luxena.Travel.AirlineServiceClassEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AirlineMonthCommission',Luxena.Travel.AirlineMonthCommissionListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('AirlineMonthCommission',Luxena.Travel.AirlineMonthCommissionEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Airport',Luxena.Travel.AirportListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Airport',Luxena.Travel.AirportEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('PaymentSystem',Luxena.Travel.PaymentSystemListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('PaymentSystem',Luxena.Travel.PaymentSystemEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Currency',Luxena.Travel.CurrencyListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Currency',Luxena.Travel.CurrencyEditForm);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('SystemConfiguration',Luxena.Travel.SystemConfigurationEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AirlineCommissionPercents',Luxena.Travel.AirlineCommissionPercentsListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('AirlineCommissionPercents',Luxena.Travel.AirlineCommissionPercentsEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('DocumentOwner',Luxena.Travel.DocumentOwnerListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('DocumentOwner',Luxena.Travel.DocumentOwnerEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('DocumentAccess',Luxena.Travel.DocumentAccessListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('DocumentAccess',Luxena.Travel.DocumentAccessEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('GdsAgent',Luxena.Travel.GdsAgentListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('GdsAgent',Luxena.Travel.GdsAgentEditForm);})();
Luxena.Travel.TaskListTab.$7_9='ChangeTaskStatus';(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('Task',Luxena.Travel.TaskListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('Task',Luxena.Travel.TaskEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('FlightSegment',Luxena.Travel.FlightSegmentListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('FlightSegment',Luxena.Travel.FlightSegmentEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AirplaneModel',Luxena.Travel.AirplaneModelListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('AirplaneModel',Luxena.Travel.AirplaneModelEditForm);})();
(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('AmadeusAviaSftpRsaKey',Luxena.Travel.AmadeusAviaSftpRsaKeyListTab);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('AmadeusAviaSftpRsaKey',Luxena.Travel.AmadeusAviaSftpRsaKeyEditForm);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('PartyReplace',Luxena.Travel.PartyReplaceForm);})();
(function(){Luxena.Travel.BaseEditForm2.registerEdit('GdsFile',Luxena.Travel.GdsFileEditForm);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('BusTicketRefund',Luxena.Travel.BusTicketRefundEditForm);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('InsuranceRefund',Luxena.Travel.InsuranceRefundEditForm);})();
(function(){Luxena.Travel.ProductEditForm.registerEdit('PasteboardRefund',Luxena.Travel.PasteboardRefundEditForm);})();
(function(){LxnBase.UI.FormsRegistry.registerEdit('CashInOrderPayment',Luxena.Travel.PaymentEditForm.editObject);LxnBase.UI.FormsRegistry.registerEdit('CashOutOrderPayment',Luxena.Travel.PaymentEditForm.editObject);LxnBase.UI.FormsRegistry.registerEdit('WireTransfer',Luxena.Travel.PaymentEditForm.editObject);LxnBase.UI.FormsRegistry.registerEdit('CheckPayment',Luxena.Travel.PaymentEditForm.editObject);LxnBase.UI.FormsRegistry.registerEdit('ElectronicPayment',Luxena.Travel.PaymentEditForm.editObject);})();
(function(){LxnBase.UI.FormsRegistry.registerList('Payment',function($p1_0,$p1_1){
LxnBase.UI.Tabs.open($p1_1,$p1_0.type,function($p2_0){
return new Luxena.Travel.PaymentListTab($p2_0,$p1_0);},$p1_0.baseRequest);});})();
(function(){LxnBase.UI.FormsRegistry.registerView('CashInOrderPayment',Luxena.Travel.PaymentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('CashOutOrderPayment',Luxena.Travel.PaymentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('WireTransfer',Luxena.Travel.PaymentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('CheckPayment',Luxena.Travel.PaymentViewForm.viewObject);LxnBase.UI.FormsRegistry.registerView('ElectronicPayment',Luxena.Travel.PaymentViewForm.viewObject);})();
Luxena.Travel.ServerEvents.instance=new Luxena.Travel.ServerEvents();Luxena.Travel.AppManager.$0=null;Luxena.Travel.AirlineListTab.applyAirlineActionName='ApplyAirlineToDocuments';(function(){LxnBase.UI.FormsRegistry.registerSelect('AviaDocument',Luxena.Travel.AviaDocumentSelectForm.$1_0);})();
Luxena.Travel.HomeSettingsForm.$1_1=1000*60*60*24;Luxena.Travel.AppActions.productList=LxnBase.UI.ActionFactory.createListAction('Product',Luxena.Travel.DomainRes.allProduct_Caption_List);Luxena.Travel.AppActions.allAgencyProductTitle='\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430';Luxena.Travel.AppActions.allAgencyProductList=LxnBase.UI.ActionFactory.createListAction('AllAgencyProduct','\u0412\u0441\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u0430');Luxena.Travel.AppActions.updateAnalytics=null;Luxena.Travel.AppActions.consignmentList=null;Luxena.Travel.AppActions.newOrder=null;Luxena.Travel.AppActions.quickReceipt=null;Luxena.Travel.AppActions.newPayment=null;Luxena.Travel.AppActions.newTask=null;Luxena.Travel.AppActions.aviaConsoleParser=null;Luxena.Travel.AppActions.signOutAction=new Ext.Action(new Ext.ActionConfig().text(Luxena.Travel.Res.signOut_Text).handler(Luxena.Travel.AppActions.signOut).toDictionary());Luxena.Travel.LocalStorageProvider.$2_0=window.localStorage;(function(){LxnBase.Net.WebService.root='Services/';LxnBase.Net.WebService.add_failure(function($p1_0){
if($p1_0.get_error().StatusCode===401){$p1_0.set_handled(true);$(window).unbind('beforeunload');Luxena.Travel.AppActions.signOut();}});Ext.onReady(function(){
Luxena.Travel.Services.AppService.GetAppParameters(function($p2_0){
new Luxena.Travel.Application($p2_0);},null);});})();
Luxena.Travel.Header.globalSearch=null;Luxena.Travel.GdsFileListTab.reimportActionName='ReimportGdsDocuments';(function(){Luxena.Travel.Controls.AutoListTabExt2.registerList('GdsFile',Luxena.Travel.GdsFileListTab);})();
(function(){LxnBase.UI.FormsRegistry.registerView('SystemConfiguration',Luxena.Travel.Configuration.SystemConfigurationViewForm.$8_0);})();
Luxena.Travel.Services.ConsignmentService.service=null;(function(){Luxena.Travel.Services.ConsignmentService.service=new LxnBase.Net.WebService('ConsignmentService.asmx');})();
Luxena.Travel.Services.ClosedPeriodService.service=null;(function(){Luxena.Travel.Services.ClosedPeriodService.service=new LxnBase.Net.WebService('ClosedPeriodService.asmx');})();
Luxena.Travel.Services.AppService.service=null;(function(){Luxena.Travel.Services.AppService.service=new LxnBase.Net.WebService('AppService.asmx');})();
Luxena.Travel.Services.DomainService.service=null;(function(){Luxena.Travel.Services.DomainService.service=new LxnBase.Net.WebService('DomainService.asmx');})();
Luxena.Travel.Services.ProductService.service=null;(function(){Luxena.Travel.Services.ProductService.service=new LxnBase.Net.WebService('ProductService.asmx');})();
Luxena.Travel.Services.AviaService.service=null;(function(){Luxena.Travel.Services.AviaService.service=new LxnBase.Net.WebService('AviaService.asmx');})();
Luxena.Travel.Services.GdsFileService.service=null;(function(){Luxena.Travel.Services.GdsFileService.service=new LxnBase.Net.WebService('GdsFileService.asmx');})();
Luxena.Travel.Services.OrderService.service=null;(function(){Luxena.Travel.Services.OrderService.service=new LxnBase.Net.WebService('OrderService.asmx');})();
Luxena.Travel.Services.PartyService.service=null;(function(){Luxena.Travel.Services.PartyService.service=new LxnBase.Net.WebService('PartyService.asmx');})();
Luxena.Travel.Services.PaymentService.service=null;(function(){Luxena.Travel.Services.PaymentService.service=new LxnBase.Net.WebService('PaymentService.asmx');})();
Luxena.Travel.Services.ReportService.service=null;(function(){Luxena.Travel.Services.ReportService.service=new LxnBase.Net.WebService('ReportService.asmx');})();
Luxena.Travel.Services.TaskService.service=null;(function(){Luxena.Travel.Services.TaskService.service=new LxnBase.Net.WebService('TaskService.asmx');})();
Luxena.Travel.Services.UserService.service=null;(function(){Luxena.Travel.Services.UserService.service=new LxnBase.Net.WebService('UserService.asmx');})();
LxnTravel.PartyTemplates.$0=new RegExp('^.+://');(function(){})();
LxnTravel.App.HomeTab.documents=new LxnBase.Knockout.StringTemplate('HomeTab.Documents',"<div class=\"block documents\">\r\n\t<div class=\"header\">\r\n\t\t<div class=\"title\" data-bind=\"text: title\"></div>\r\n\t\t<div class=\"actions\">&nbsp;</div>\r\n\t</div>\r\n\t<div class=\"content\" data-bind=\"with: documents\">\r\n\t\t<!-- ko if: showDocuments() -->\r\n\t\t<ul class=\"section\">\r\n\t\t\t<!-- ko if: UnprocessedDocuments !== 0 || UnpaidDocuments !== 0 -->\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openUnprocessedDocuments, text: '\u041d\u0435\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b (' + UnprocessedDocuments + ')', css: { red: UnprocessedDocuments !== 0, pale: UnprocessedDocuments === 0 }\"></a>,\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openUnpaidDocuments, text: '\u043d\u0435\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 (' + UnpaidDocuments + ')', css: { red: UnpaidDocuments !== 0, pale: UnpaidDocuments === 0 }\"></a>\r\n\t\t\t</li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: DocumentsWithoutOwners !== 0 -->\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openDocumentsWithoutOwners, text: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u0431\u0435\u0437 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 (' + DocumentsWithoutOwners + ')', css: { red: DocumentsWithoutOwners !== 0, pale: DocumentsWithoutOwners === 0 }\"></a>,\r\n\t\t\t</li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: showPassportRequirements() -->\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openPassportRequirements, text: '\u0422\u0440\u0435\u0431\u0443\u044e\u0442\u0441\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 (' + PassportRequirements.length + ')', css: { pale: PassportRequirements.length === 0 }\"></a>,\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openUrgentPassportRequirements, text: '\u0441\u0440\u043e\u0447\u043d\u043e (' + UrgentPassportRequirements.length + ')', css: { red: UrgentPassportRequirements.length !== 0, pale: UrgentPassportRequirements.length === 0 }\"></a>,\r\n\t\t\t\t<a href=\"#\" data-bind=\"click: openIncorrectPassports, text: '\u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 (' + IncorrectPassports.length + ')', css: { red: IncorrectPassports.length !== 0, pale: IncorrectPassports.length === 0 }\"></a>\r\n\t\t\t</li>\r\n\t\t\t<!-- /ko -->\r\n\t\t</ul>\r\n\t\t<!-- /ko -->\r\n\t\t<!-- ko if: OrdersToPay !== 0 || OrdersToExecute !== 0 || OrdersWithDebt !== 0 -->\r\n\t\t<ul class=\"section\">\r\n\t\t\t<!-- ko if: OrdersToPay !== 0 -->\r\n\t\t\t<li><a href=\"#\" class=\"orange\" data-bind=\"click: openOrdersToPay, text: '\u0417\u0430\u043a\u0430\u0437\u044b \u043a \u043e\u043f\u043b\u0430\u0442\u0435 (' + OrdersToPay + ')'\"></a></li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: OrdersToExecute !== 0 -->\r\n\t\t\t<li><a href=\"#\" class=\"green\" data-bind=\"click: openOrdersToExecute, text: '\u0417\u0430\u043a\u0430\u0437\u044b \u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e (' + OrdersToExecute + ')'\"></a></li>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: OrdersWithDebt !== 0 -->\r\n\t\t\t<li><a href=\"#\" class=\"red\" data-bind=\"click: openOrdersWithDebt, text: '\u0417\u0430\u043a\u0430\u0437\u044b \u0441 \u0434\u043e\u043b\u0433\u0430\u043c\u0438 (' + OrdersWithDebt + ')'\"></a></li>\r\n\t\t\t<!-- /ko -->\r\n\t\t</ul>\r\n\t\t<!-- /ko -->\r\n\t\t<!-- ko if: DayStats.length !== 0 -->\r\n\t\t<table class=\"section agent-reports\">\r\n\t\t\t<thead><tr><th>\u0412\u044b\u043f\u0443\u0441\u043a \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432</th><th>\u041a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435</th><th>\u0412\u0441\u0435\u0433\u043e</th></tr></thead>\r\n\t\t\t<tbody data-bind=\"foreach: DayStats\"><tr>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<!-- ko if: ReportUrl -->\r\n\t\t\t\t\t<a data-bind=\"attr: { href: ReportUrl }, text: (DateText ? DateText + ' - ' : '') + Date.format('d.m.Y')\" target=\"_blank\"></a>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko ifnot: ReportUrl -->\r\n\t\t\t\t\t<span data-bind=\"text: (DateText ? DateText + ' - ' : '') + Date.format('d.m.Y')\"></span>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</td>\r\n\t\t\t\t<td><a href=\"#\" data-bind=\"click: $parent.openUnprocessedDayDocuments, text: Unprocessed, css: { red: Unprocessed !== 0, pale: Unprocessed === 0 }\"></a></td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t<a href=\"#\" data-bind=\"click: $parent.openAllDayDocuments\">\r\n\t\t\t\t\t\t<span data-bind=\"text: Total, css: { pale: Total === 0 }\"></span> <span data-bind=\"text: '(' + Void + ')'\" class=\"pale\"></span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</td>\r\n\t\t\t</tr></tbody>\r\n\t\t</table>\r\n\t\t<!-- /ko -->\r\n\t</div>\r\n</div>\r\n");LxnTravel.App.HomeTab.main=new LxnBase.Knockout.StringTemplate('HomeTab',"<div onclick=\"Luxena.Travel.Header.globalSearch.focus()\">\r\n\t<div class=\"settings\">\r\n\t\t<a href=\"#\" class=\"no-decoration icon-settings\" data-bind=\"click: editSettings\"></a>\r\n\t</div>\r\n\t<div class=\"wrapper\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"block tasks\">\r\n\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t<div class=\"title\">\u041c\u043e\u0438 \u0437\u0430\u0434\u0430\u0447\u0438</div>\r\n\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openAllMyTasks\">&gt;&gt;&gt;</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<!-- ko ifnot: model.MyTasksTotal -->\r\n\t\t\t\t\t<div class=\"no-tasks\">\r\n\t\t\t\t\t\t\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: model.MyTasksTotal -->\r\n\t\t\t\t\t<ul data-bind=\"foreach: model.MyTasks\">\r\n\t\t\t\t\t\t<li class=\"task\" data-bind=\"css: { red: Overdue }\">\r\n\t\t\t\t\t\t\t<div class=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" data-bind=\"click: $root.closeTask\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t<!-- ko if: DueDate -->\r\n\t\t\t\t\t\t\t\t<div class=\"due-date\" data-bind=\"text: DueDate.format('d.m.Y')\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data, text: Subject\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"related-to\">\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t\t<!-- ko if: Order -->\r\n\t\t\t\t\t\t\t\t| <a data-bind=\"view: Order\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<!-- ko if: RelatedTo -->\r\n\t\t\t\t\t\t\t\t| <a data-bind=\"view: RelatedTo\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- ko if: showMyTasksTotal -->\r\n\t\t\t\t\t<div class=\"total\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openMyActiveTasks, text: '\u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 (' + model.MyTasksTotal + ')'\"></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- ko template: { name: \"HomeTab.Documents\", data: { title: '\u041c\u043e\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b', documents: model.MyDocuments } } --><!-- /ko -->\r\n\t\t</div>\r\n\r\n\t\t<!-- ko if: model.ShowOfficeBlocks -->\r\n\t\t<div class=\"row\">\r\n\t\t\t<div class=\"block tasks\">\r\n\t\t\t\t<div class=\"header\">\r\n\t\t\t\t\t<div class=\"title\">\u0417\u0430\u0434\u0430\u0447\u0438 \u043f\u043e \u043e\u0444\u0438\u0441\u0443</div>\r\n\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openAllTasks\">&gt;&gt;&gt;</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<!-- ko ifnot: model.OfficeTasksTotal -->\r\n\t\t\t\t\t<div class=\"no-tasks\">\r\n\t\t\t\t\t\t\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0437\u0430\u0434\u0430\u0447\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: model.OfficeTasksTotal -->\r\n\t\t\t\t\t<ul data-bind=\"foreach: model.OfficeTasks\">\r\n\t\t\t\t\t\t<li class=\"task\" data-bind=\"css: { red: Overdue }\">\r\n\t\t\t\t\t\t\t<div class=\"checkbox\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" data-bind=\"click: $root.closeTask\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"subject\">\r\n\t\t\t\t\t\t\t\t<!-- ko if: DueDate -->\r\n\t\t\t\t\t\t\t\t<div class=\"due-date\" data-bind=\"text: DueDate.format('d.m.Y')\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data, text: Subject\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"related-to\">\r\n\t\t\t\t\t\t\t\t<!-- ko if: Order -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: Order\" />\r\n\t\t\t\t\t\t\t\t<!-- ko if: RelatedTo -->|<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t<!-- ko if: RelatedTo -->\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: RelatedTo\" />\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"assignment\">\r\n\t\t\t\t\t\t\t\t<a data-bind=\"view: $data\" /><!-- ko if: AssignedTo --> (<a data-bind=\"view: AssignedTo\" />)<!-- /ko -->\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<!-- ko if: showOfficeTasksTotal -->\r\n\t\t\t\t\t<div class=\"total\">\r\n\t\t\t\t\t\t<a href=\"#\" data-bind=\"click: openActiveTasks, text: '\u0432\u0441\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 (' + model.OfficeTasksTotal + ')'\"></a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- ko template: { name: \"HomeTab.Documents\", data: { title: '\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b \u043f\u043e \u043e\u0444\u0438\u0441\u0443', documents: model.OfficeDocuments } } --><!-- /ko -->\r\n\t\t</div>\r\n\t\t<!-- /ko -->\r\n\t</div>\r\n</div>");LxnTravel.Accounting.Order.Order.tasks=new LxnBase.Knockout.StringTemplate('Order.Tasks',"<div class=\"order-tasks\" data-bind=\"foreach: tasks\">\r\n\t<div data-bind=\"css: { closed: Status == Luxena.Travel.TaskStatus.closed, overdue: Overdue }\">\r\n\t\t<div class=\"checkbox\">\r\n\t\t\t<input type=\"checkbox\" data-bind=\"click: $parent.taskClick, checked: Status == Luxena.Travel.TaskStatus.closed, enable: CanModify\" />\r\n\t\t</div>\r\n\t\t<div class=\"main\">\r\n\t\t\t<a data-bind=\"view: $data, text: Number + ' - ' + Subject\" /><span class=\"related-to\" data-bind=\"if: RelatedTo\">, \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u0441 <a class=\"related-to\" data-bind=\"view: RelatedTo\" /></span>\r\n\t\t</div>\r\n\t\t<div class=\"details\">\r\n\t\t\t<!-- ko if: AssignedTo -->\r\n\t\t\t\t<a data-bind=\"view: AssignedTo\" /><span data-bind=\"if: DueDate\">,</span>\r\n\t\t\t<!-- /ko -->\r\n\t\t\t<!-- ko if: DueDate -->\r\n\t\t\t\t\u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e <span data-bind=\"text: DueDate.format('d.m.Y')\" />\r\n\t\t\t<!-- /ko -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n");LxnTravel.Parties.Party.contacts=new LxnBase.Knockout.StringTemplate('Party.Contacts',"<h1>Contacts</h1>\r\n<!-- ko if: Phone1 || Phone2 -->\r\n<p class=\"phone\"><span data-bind=\"text: Phone1\" /><!-- ko if: Phone2 --><br/><span data-bind=\"text: Phone2\" /><!-- /ko --></p>\r\n<!-- /ko -->\r\n<!-- ko if: Fax -->\r\n<p class=\"fax\" data-bind=\"text: Fax\" />\r\n<!-- /ko -->\r\n<!-- ko if: Email1 || Email2 -->\r\n<p class=\"email\"><a data-bind=\"email: Email1\" target=\"_blank\" /><!-- ko if: Email2 --><br/><a data-bind=\"email: Email2\" target=\"_blank\" /><!-- /ko --></p>\r\n<!-- /ko -->\r\n<!-- ko if: WebAddress -->\r\n<p class=\"http\"><a data-bind=\"link: WebAddress\" target=\"_blank\" /></p>\r\n<!-- /ko -->\r\n<!-- ko if: ActualAddress -->\r\n<div class=\"address\">\r\n\t<div class=\"label\" data-bind=\"res: 'party_ActualAddress'\" />\r\n\t<span class=\"address-text\" data-bind=\"text: ActualAddress\" />&nbsp;\r\n\t<span class=\"links\">\r\n\t\t<a class=\"yandex\" data-bind=\"attr: { href: 'http://maps.yandex.ru/?text=' + encodeURI(ActualAddress()) }\" target=\"_blank\" title=\"Yandex Maps\"></a>\r\n\t\t<a class=\"google\" data-bind=\"attr: { href: 'http://maps.google.com/maps?q=' + encodeURI(ActualAddress()) }\" target=\"_blank\" title=\"Google Maps\"></a>\r\n\t</span>\r\n</div>\r\n<!-- /ko -->\r\n<!-- ko if: LegalAddress -->\r\n<div class=\"address\">\r\n\t<div class=\"label\" data-bind=\"res: 'party_LegalAddress'\" />\r\n\t<span class=\"address-text\" data-bind=\"text: LegalAddress\" />&nbsp;\r\n\t<span class=\"links\">\r\n\t\t<a class=\"yandex\" data-bind=\"attr: { href: 'http://maps.yandex.ru/?text=' + encodeURI(LegalAddress()) }\" target=\"_blank\" title=\"Yandex Maps\"></a>\r\n\t\t<a class=\"google\" data-bind=\"attr: { href: 'http://maps.google.com/maps?q=' + encodeURI(LegalAddress()) }\" target=\"_blank\" title=\"Google Maps\"></a>\r\n\t</span>\r\n</div>\r\n<!-- /ko -->\r\n");LxnTravel.Parties.Party.main=new LxnBase.Knockout.StringTemplate('Party',"<div class=\"band-wrap\">\r\n\t<table class=\"band-table\">\r\n\t\t<tr>\r\n\t\t\t<td class=\"band-left\">\r\n\t\t\t\t<div class=\"party-header\">\r\n\t\t\t\t\t<h1 class=\"party-name\" data-bind=\"text: Name\" />\r\n\t\t\t\t\t<!-- ko if: LegalName --><div class=\"party-legalname\" data-bind=\"text: LegalName\" /><!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: Signature --><div class=\"party-legalname\" data-bind=\"text: Signature\" /><!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsCustomer || IsSupplier -->\r\n\t\t\t\t\t<div class=\"party-roles\">\r\n\t\t\t\t\t\t<!-- ko if: IsCustomer --><span>\u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: IsSupplier --><span>\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<div class=\"person-employment\">\r\n\t\t\t\t\t<!-- ko if: Title -->\r\n\t\t\t\t\t<span data-bind=\"text: Title\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t\t<!-- ko ifnot: Title -->\r\n\t\t\t\t\t<span>\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a</span>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: ReportsTo -->\r\n\t\t\t\t<div class=\"party-reportsto\">\r\n\t\t\t\t\t<span data-bind=\"res: 'party_ReportsTo'\" /> <a data-bind=\"view: ReportsTo\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: Note --><div class=\"party-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\r\n\t\t\t\t<div class=\"tabs-menu\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'party_Files'\" /> (<span data-bind=\"text: Files().length\" />)</li>\r\n\t\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'organization_Employees'\" /> (<span data-bind=\"text: Employees().length\" />)</li>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'department_Caption_List'\" /> (<span data-bind=\"text: Departments().length\" />)</li>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<li data-bind=\"css: { positive: !!(Products().length || Orders().length || Invoices().length)}\">\u041f\u043e\u043a\u0443\u043f\u043a\u0438</li>\r\n\t\t\t\t\t\t<li data-bind=\"css: { negative: Balance().Overall() < 0 }\">\u0412\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u044b</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"tabs-content\">\r\n\t\t\t\t\t<div class=\"party-files\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddFile\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Files -->\r\n\t\t\t\t\t\t<div class=\"file\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"text: FileName, click: $parent.DownloadFile\" /> <a href=\"javascript:void(0)\" class=\"delete-action\" data-bind=\"click: $parent.DeleteFile\" />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: TimeStamp().format('d.m.Y H:i')\" /> - <a data-bind=\"view: UploadedBy\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddEmployee\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Employees -->\r\n\t\t\t\t\t\t<div class=\"employee\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" /><!-- ko if: Title --><span class=\"employee-title\" data-bind=\"text: ' - ' + Title()\" /><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddDepartment\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Departments -->\r\n\t\t\t\t\t\t<div class=\"department\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddOrder\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437</a> &nbsp; &nbsp; \r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: OpenAllProducts\">\u0412\u0441\u0435 \u0443\u0441\u043b\u0443\u0433\u0438 (<span data-bind=\"text: ProductCount\" />)</a>\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: OpenAllOrders\">\u0412\u0441\u0435 \u0437\u0430\u043a\u0430\u0437\u044b (<span data-bind=\"text: OrderCount\" />)</a>\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: OpenAllInvoices\">\u0412\u0441\u0435 \u0441\u0447\u0435\u0442\u0430 (<span data-bind=\"text: InvoiceCount\" />)</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko if: Products().length -->\r\n\t\t\t\t\t\t<div class=\"property-grid-control\" style=\"font-size: 12px; font-family: Arial\">\r\n\t\t\t\t\t\t\t<div class=\"grid-title\">\u0423\u0441\u043b\u0443\u0433\u0438</div>\r\n\t\t\t\t\t\t\t<div class=\"item-list\">\r\n\t\t\t\t\t\t\t\t<table style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t<tr class=\"alternate\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u0414\u0430\u0442\u0430</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u041c\u0430\u0440\u0448\u0440\u0443\u0442</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u0422\u0430\u0440\u0438\u0444</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<!--<th class=\"right-align\">\u0418\u0442\u043e\u0433\u043e \u043f\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0443</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0441\u0431\u043e\u0440</th>-->\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u041a \u043e\u043f\u043b\u0430\u0442\u0435</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0417\u0430\u043a\u0430\u0437</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko foreach: Products -->\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"text: Name(), click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, Type(), Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: IssueDate\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"text: Itinerary\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Fare\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<!--<td data-bind=\"fixed: Total && Total.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: ServiceFee && ServiceFee.MoneyString\" class=\"right-align\"></td>-->\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: GrandTotal\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"text: Order && Order.Name, click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, 'Order', Order && Order.Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t\t\t<!-- ko if: Orders().length -->\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div class=\"property-grid-control\" style=\"font-size: 12px; font-family: Arial\">\r\n\t\t\t\t\t\t\t<div class=\"grid-title\">\u0417\u0430\u043a\u0430\u0437\u044b</div>\r\n\t\t\t\t\t\t\t<div class=\"item-list\">\r\n\t\t\t\t\t\t\t\t<table style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t<tr class=\"alternate\">\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u041d\u043e\u043c\u0435\u0440</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>\u0414\u0430\u0442\u0430</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0418\u0442\u043e\u0433\u043e</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u041a \u043e\u043f\u043b\u0430\u0442\u0435</th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko foreach: Orders -->\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t   data-bind=\"text: Number, click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, 'Order', Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: IssueDate\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Total && Total.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Paid && Paid.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: TotalDue && TotalDue.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: Invoices().length -->\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<div class=\"property-grid-control\" style=\"font-size: 12px; font-family: Arial\">\r\n\t\t\t\t\t\t\t<div class=\"grid-title\">\u0421\u0447\u0435\u0442\u0430/\u043a\u0432\u0438\u0442\u0430\u043d\u0446\u0438\u0438</div>\r\n\t\t\t\t\t\t\t<div class=\"item-list\">\r\n\t\t\t\t\t\t\t\t<table style=\"width: 100%\">\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t<tr class=\"alternate\">\r\n\t\t\t\t\t\t\t\t\t\t<th>\u041d\u043e\u043c\u0435\u0440</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>\u0414\u0430\u0442\u0430</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>\u0422\u0438\u043f</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>\u0417\u0430\u043a\u0430\u0437</th>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0418\u0442\u043e\u0433\u043e</th>\r\n\t\t\t\t\t\t\t\t\t\t<th class=\"right-align\">\u0412 \u0442.\u0447. \u041d\u0414\u0421</th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<!-- ko foreach: Invoices -->\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"text: Number\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: IssueDate\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"date: Type\" class=\"center-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td class=\"center-align\">\r\n\t\t\t\t\t\t\t\t\t\t\t<a class=\"object-link\" href=\"#\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-bind=\"text: Order ? Order.Name : '', click: function(data, event) { LxnBase.UI.Controls.ObjectLink.viewObject(event, 'Order', Order.Id()) }\"></a>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Total && Total.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t\t<td data-bind=\"fixed: Vat && Vat.MoneyString\" class=\"right-align\"></td>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"party-balance\">\r\n\t\t\t\t\t\t<!-- ko with: Balance -->\r\n\t\t\t\t\t\t<!-- ko if: OpeningBalance -->\r\n\t\t\t\t\t\t<!-- ko with: OpeningBalance -->\r\n\t\t\t\t\t\t<div class=\"opening quite\">\r\n\t\t\t\t\t\t\t\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0441\u0442\u0430\u0442\u043e\u043a:\r\n\t\t\t\t\t\t\t<span data-bind=\"fixed: Balance\" /> (<a data-bind=\"view: $data\" /> \u043e\u0442 <span data-bind=\"text: Date().format('d.m.Y')\" />)\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<div class=\"overall\">\u041e\u0431\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441 \u0432\u0437\u0430\u0438\u043c\u043e\u0440\u0430\u0441\u0447\u0435\u0442\u043e\u0432: <span data-bind=\"fixed: Overall\" /></div>\r\n\t\t\t\t\t\t<!-- ko if: ByOrders() && ByOrders().length -->\r\n\t\t\t\t\t\t<table class=\"by-orders\">\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<th colspan=\"2\">\u041e\u043a\u0430\u0437\u0430\u043d\u043e \u0443\u0441\u043b\u0443\u0433 \u043d\u0430 \u0441\u0443\u043c\u043c\u0443</th>\r\n\t\t\t\t\t\t\t\t\t<th>\u041e\u043f\u043b\u0430\u0447\u0435\u043d\u043e</th>\r\n\t\t\t\t\t\t\t\t\t<th>\u0411\u0430\u043b\u0430\u043d\u0441</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t<!-- ko foreach: ByOrders -->\r\n\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko if: Order --><a data-bind=\"view: Order\" /><!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t\t<!-- ko ifnot: Order -->\u0411\u0435\u0437 \u0437\u0430\u043a\u0430\u0437\u0430<!-- /ko -->\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t<td><span data-bind=\"fixed: Delivered\" /></td>\r\n\t\t\t\t\t\t\t\t\t<td><span data-bind=\"fixed: Paid\" /></td>\r\n\t\t\t\t\t\t\t\t\t<td><span data-bind=\"fixed: Balance\" /></td>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"band-right\">\r\n\t\t\t\t<div class=\"block-header\" data-bind=\"text: InfoTitle\" />\r\n\r\n\t\t\t\t<!-- ko if: IsPerson && Birthday -->\r\n\t\t\t\t<p class=\"birthday\" data-bind=\"text: Birthday().format('d.m.Y')\" />\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko template: \"Party.Contacts\" --><!-- /ko -->\r\n\t\t\t\t<!-- ko if: IsOrganization && Code -->\r\n\t\t\t\t<div class=\"organization-code\">\r\n\t\t\t\t\t<div class=\"label\" data-bind=\"res: 'organization_Code'\" />\r\n\t\t\t\t\t<span data-bind=\"text: Code\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<!-- ko if: MilesCards() && MilesCards().length -->\r\n\t\t\t\t<div class=\"miles-cards\" data-bind=\"foreach: MilesCards\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<!-- ko if: Organization --><div data-bind=\"text: Organization.Name\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div data-bind=\"text: Number\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: Passports() && Passports().length -->\r\n\t\t\t\t<div class=\"person-passports\" data-bind=\"foreach: Passports\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"pass-number\"><!-- ko if: IssuedByCode --><span data-bind=\"text: IssuedByCode\" /><!-- /ko --> <span data-bind=\"text: Number\" /></div>\r\n\t\t\t\t\t\t<!-- ko if: ExpiredOn --><div class=\"pass-expiredon\">\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e <span data-bind=\"text: ExpiredOn().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: Note --><div class=\"pass-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div class=\"pass-details\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: FirstName\" /> <span data-bind=\"text: MiddleName\" /> <span data-bind=\"text: LastName\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- ko if: Birthday --><div><span data-bind=\"res: 'passport_Birthday'\" />: <span data-bind=\"text: Birthday().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: GenderString --><div><span data-bind=\"res: 'passport_Gender'\" />: <span data-bind=\"text: GenderString\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: Citizenship --><div><span data-bind=\"res: 'passport_Citizenship'\" />: <span data-bind=\"text: Citizenship.Text\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pass-copy\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Amadeus</a><input readonly=\"readonly\" data-bind=\"value: AmadeusString\" />\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Galileo</a><input readonly=\"readonly\" data-bind=\"value: GalileoString\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko if: ExpiredDays() <= 200 --><div class=\"pass-validate\">\r\n\t\t\t\t\t\t\t<!-- ko if: ExpiredDays() > 0 && ExpiredDays() <= 200  --><div class=\"text-warning\">\u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 <b data-bind=\"text: ExpiredDays\" /> \u0434\u043d\u0435\u0439</div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: ExpiredDays() == 0 --><div class=\"text-error\">\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f!</div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: ExpiredDays() < 0 --><div class=\"text-error\">\u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415! \u0421\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f <b data-bind=\"text: -ExpiredDays()\" /> \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434!</div><!-- /ko -->\r\n\t\t\t\t\t\t</div><!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: InfoPrompt -->\r\n\t\t\t\t<div class=\"party-info-prompt\">\r\n\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: Edit\">\u0423\u043a\u0430\u0436\u0438\u0442\u0435</a>\r\n\t\t\t\t\t<!-- ko if: IsPerson -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b, \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsDepartment -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430<!-- /ko -->\r\n\t\t\t\t\t\u0438 \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0437\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko if: BonusCardNumber -->\r\n\t\t\t\t<div class=\"organization-code\">\r\n\t\t\t\t\t<div class=\"label\" data-bind=\"res: 'common_BonusCardNumber'\" />\r\n\t\t\t\t\t<span data-bind=\"text: BonusCardNumber\" />\r\n\t\t\t\t\t<div class=\"label\">\u041d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u043e \u0431\u043e\u043d\u0443\u0441\u043e\u0432</div>\r\n\t\t\t\t\t<span data-bind=\"text: BonusAmount\" />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t<br />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- ko ifnot: IsOrganization -->\r\n\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t<div class=\"block-header party-organization\" data-bind=\"res: 'organizationView_Info'\" />\r\n\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t<!-- ko template: { name: \"Party.Contacts\", data: Organization } --><!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>");LxnTravel.Parties.Party.listDetail=new LxnBase.Knockout.StringTemplate('Party.ListDetail',"<!-- ko if: Phone1 || Email1 -->\r\n<div class='detail'>\r\n<!-- ko if: Phone1 --><span data-bind=\"text: Phone1\" /><!-- /ko -->\r\n<!-- ko if: Email1 --><a data-bind=\"email: Email1\" target=\"_blank\" /><!-- /ko -->\r\n</div>\r\n<!-- /ko -->");LxnTravel.Parties.SystemConfiguration.main=new LxnBase.Knockout.StringTemplate('SystemConfiguration',"<div class=\"band-wrap\">\r\n\t<table class=\"band-table\">\r\n\t\t<tr>\r\n\t\t\t<td class=\"band-left\">\r\n\t\t\t\t<div class=\"party-header\">\r\n\t\t\t\t\t<h1 class=\"party-name\" data-bind=\"text: Name\" />\r\n\t\t\t\t\t<!-- ko if: LegalName --><div class=\"party-legalname\" data-bind=\"text: LegalName\" /><!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsCustomer || IsSupplier -->\r\n\t\t\t\t\t<div class=\"party-roles\">\r\n\t\t\t\t\t\t<!-- ko if: IsCustomer --><span>\u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: IsSupplier --><span>\u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a</span><!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<div class=\"person-employment\">\r\n\t\t\t\t\t<!-- ko if: Title -->\r\n\t\t\t\t\t<span data-bind=\"text: Title\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t\t<!-- ko ifnot: Title -->\r\n\t\t\t\t\t<span>\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a</span>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: ReportsTo -->\r\n\t\t\t\t<div class=\"party-reportsto\">\r\n\t\t\t\t\t<span data-bind=\"res: 'party_ReportsTo'\" /> <a data-bind=\"view: ReportsTo\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: Note --><div class=\"party-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\r\n\t\t\t\t<div class=\"tabs-menu\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'balance'\" /></li>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'party_Files'\" /> (<span data-bind=\"text: Files().length\" />)</li>\r\n\t\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'organization_Employees'\" /> (<span data-bind=\"text: Employees().length\" />)</li>\r\n\t\t\t\t\t\t<li><span data-bind=\"res: 'department_Caption_List'\" /> (<span data-bind=\"text: Departments().length\" />)</li>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div></div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"tabs-content\">\r\n\t\t\t\t\t<div class=\"party-overview\">\r\n\t\t\t\t\t\t<div><span data-bind=\"text: TotalBalance\" /></div>\r\n\t\t\t\t\t\t<!-- ko foreach: UnbalancedOrders -->\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t<span data-bind=\"text: Total.Amount\" />\r\n\t\t\t\t\t\t\t<span data-bind=\"text: Paid.Amount\" />\r\n\t\t\t\t\t\t\t<span data-bind=\"text: TotalDue.Amount\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"party-files\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddFile\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Files -->\r\n\t\t\t\t\t\t<div class=\"file\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"text: FileName, click: $parent.DownloadFile\" /> <a href=\"javascript:void(0)\" class=\"delete-action\" data-bind=\"click: $parent.DeleteFile\" />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: TimeStamp().format('d.m.Y H:i')\" /> - <a data-bind=\"view: UploadedBy\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddEmployee\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Employees -->\r\n\t\t\t\t\t\t<div class=\"employee\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" /><!-- ko if: Title --><span class=\"employee-title\" data-bind=\"text: ' - ' + Title()\" /><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<div class=\"actions\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: AddDepartment\">\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- ko foreach: Departments -->\r\n\t\t\t\t\t\t<div class=\"department\">\r\n\t\t\t\t\t\t\t<a data-bind=\"view: $data\" />\r\n\t\t\t\t\t\t\t<!-- ko template: { name: \"Party.ListDetail\" } --><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- /ko -->\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t\t<td class=\"band-right\">\r\n\t\t\t\t<div class=\"block-header\" data-bind=\"text: InfoTitle\" />\r\n\r\n\t\t\t\t<!-- ko if: IsPerson && Birthday -->\r\n\t\t\t\t<p class=\"birthday\" data-bind=\"text: Birthday().format('d.m.Y')\" />\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko template: \"Party.Contacts\" --><!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: IsOrganization && Code -->\r\n\t\t\t\t<div class=\"organization-code\">\r\n\t\t\t\t\t<div class=\"label\" data-bind=\"res: 'organization_Code'\" />\r\n\t\t\t\t\t<span data-bind=\"text: Code\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: IsPerson -->\r\n\t\t\t\t<!-- ko if: MilesCards() && MilesCards().length -->\r\n\t\t\t\t<div class=\"miles-cards\" data-bind=\"foreach: MilesCards\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<!-- ko if: Organization --><div data-bind=\"text: Organization.Text\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div data-bind=\"text: Number\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: Passports() && Passports().length -->\r\n\t\t\t\t<div class=\"person-passports\" data-bind=\"foreach: Passports\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"pass-number\"><!-- ko if: IssuedByCode --><span data-bind=\"text: IssuedByCode\" /><!-- /ko --> <span data-bind=\"text: Number\" /></div>\r\n\t\t\t\t\t\t<!-- ko if: ExpiredOn --><div class=\"pass-expiredon\">\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e <span data-bind=\"text: ExpiredOn().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t<!-- ko if: Note --><div class=\"pass-note\" data-bind=\"text: Note\" /><!-- /ko -->\r\n\t\t\t\t\t\t<div class=\"pass-details\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span data-bind=\"text: FirstName\" /> <span data-bind=\"text: MiddleName\" /> <span data-bind=\"text: LastName\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- ko if: Birthday --><div><span data-bind=\"res: 'passport_Birthday'\" />: <span data-bind=\"text: Birthday().format('d.m.Y')\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: GenderString --><div><span data-bind=\"res: 'passport_Gender'\" />: <span data-bind=\"text: GenderString\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t\t<!-- ko if: Citizenship --><div><span data-bind=\"res: 'passport_Citizenship'\" />: <span data-bind=\"text: Citizenship.Text\" /></div><!-- /ko -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"pass-copy\">\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Amadeus</a><input readonly=\"readonly\" data-bind=\"value: AmadeusString\" />\r\n\t\t\t\t\t\t\t<a href=\"javascript:void(0)\">Galileo</a><input readonly=\"readonly\" data-bind=\"value: GalileoString\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko if: InfoPrompt -->\r\n\t\t\t\t<div class=\"party-info-prompt\">\r\n\t\t\t\t\t<a href=\"javascript:void(0)\" data-bind=\"click: Edit\">\u0423\u043a\u0430\u0436\u0438\u0442\u0435</a>\r\n\t\t\t\t\t<!-- ko if: IsPerson -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043c\u0438\u043b\u044c\u043d\u044b\u0435 \u043a\u0430\u0440\u0442\u044b, \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsOrganization -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430, \u043a\u043e\u0434 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f<!-- /ko -->\r\n\t\t\t\t\t<!-- ko if: IsDepartment -->\u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u0432, \u0430\u0434\u0440\u0435\u0441\u0430<!-- /ko -->\r\n\t\t\t\t\t\u0438 \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0437\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f\r\n\t\t\t\t</div>\r\n\t\t\t\t<!-- /ko -->\r\n\r\n\t\t\t\t<!-- ko ifnot: IsOrganization -->\r\n\t\t\t\t<!-- ko if: Organization -->\r\n\t\t\t\t<div class=\"block-header party-organization\" data-bind=\"res: 'organizationView_Info'\" />\r\n\t\t\t\t<a data-bind=\"view: Organization\" />\r\n\t\t\t\t<!-- ko template: { name: \"Party.Contacts\", data: Organization } --><!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t\t<!-- /ko -->\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</table>\r\n</div>");